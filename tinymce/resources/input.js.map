{"version":3,"sources":["webpack:///input.js","webpack:///webpack/bootstrap 05ab12644ad0f4a3f6fa","webpack:///./src/main.js","webpack:///external \"jQuery\"","webpack:///external \"Craft\"","webpack:///external \"tinymce\""],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","showModalFactory","elementType","settings","arguments","length","undefined","modal","show","_craft2","createElementSelectorModal","assign","resizable","multiSelect","disableOnSelect","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","value","err","Array","isArray","TypeError","_jquery","_jquery2","_craft","_tinymce","_tinymce2","window","initTinyMCE","setup","editor","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","linkOptions","_ref","optionTitle","sources","elementTypeHandle","replace","match","toLowerCase","command","showModal","criteria","locale","onSelect","_ref3","_ref4","element","selectedContent","selection","getContent","url","id","title","label","execCommand","addButton","icon","storageKey","tooltip","onclick","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","mediaOptions","_ref2","transforms","kind","_ref5","_ref6","transform","init","$element","container","on","e","addClass","removeClass","editorConfig","console","log","skin","plugins","menubar","statusbar","toolbar","allow_conditional_comments","element_format","fix_list_elements","relative_urls","remove_script_host","anchor_top","anchor_bottom","autoresize_bottom_margin","selector","language","directionality","direction","init_instance_callback","configInit","apply","this","jQuery","Craft","tinymce"],"mappings":"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","file":"input.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _jquery = __webpack_require__(1);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _craft = __webpack_require__(2);\n\nvar _craft2 = _interopRequireDefault(_craft);\n\nvar _tinymce = __webpack_require__(3);\n\nvar _tinymce2 = _interopRequireDefault(_tinymce);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction showModalFactory(elementType) {\n\tvar settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\tvar modal = void 0;\n\treturn function showModal() {\n\t\tif (!modal) {\n\t\t\tmodal = _craft2.default.createElementSelectorModal(elementType, Object.assign({\n\t\t\t\tresizable: true,\n\t\t\t\tmultiSelect: false,\n\t\t\t\tdisableOnSelect: true\n\t\t\t}, settings));\n\t\t} else {\n\t\t\tmodal.show();\n\t\t}\n\t};\n}\n\nwindow.initTinyMCE = function (settings) {\n\tvar editorConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\tconsole.log(settings);\n\tfunction setup(editor) {\n\t\tvar _loop = function _loop(elementType, optionTitle, sources) {\n\t\t\tvar elementTypeHandle = elementType.replace(/^\\w|_\\w/g, function (match) {\n\t\t\t\treturn match.toLowerCase();\n\t\t\t});\n\t\t\tvar command = elementTypeHandle + 'Link';\n\n\t\t\tvar showModal = showModalFactory(elementType, {\n\t\t\t\tsources: sources,\n\t\t\t\tcriteria: { locale: settings.locale },\n\t\t\t\tonSelect: function onSelect(_ref3) {\n\t\t\t\t\tvar _ref4 = _slicedToArray(_ref3, 1),\n\t\t\t\t\t    element = _ref4[0];\n\n\t\t\t\t\tvar selectedContent = editor.selection.getContent();\n\n\t\t\t\t\tvar url = element.url + '#' + elementTypeHandle + ':' + element.id;\n\t\t\t\t\tvar title = element.label;\n\t\t\t\t\tvar label = selectedContent || element.label;\n\t\t\t\t\tvar command = selectedContent ? 'mceReplaceContent' : 'mceInsertContent';\n\n\t\t\t\t\teditor.execCommand(command, false, '<a href=\"' + url + '\" title=\"' + title + '\">' + label + '</a>');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\teditor.addButton(command, {\n\t\t\t\ticon: 'link',\n\t\t\t\tstorageKey: 'tinymce.' + command,\n\t\t\t\ttooltip: optionTitle,\n\t\t\t\tonclick: function onclick() {\n\t\t\t\t\treturn showModal();\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tvar _iteratorNormalCompletion = true;\n\t\tvar _didIteratorError = false;\n\t\tvar _iteratorError = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator = settings.linkOptions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\tvar _ref = _step.value;\n\t\t\t\tvar elementType = _ref.elementType;\n\t\t\t\tvar optionTitle = _ref.optionTitle;\n\t\t\t\tvar sources = _ref.sources;\n\n\t\t\t\t_loop(elementType, optionTitle, sources);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError = true;\n\t\t\t_iteratorError = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t_iterator.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar _loop2 = function _loop2(elementType, optionTitle, sources) {\n\t\t\tvar elementTypeHandle = elementType.replace(/^\\w|_\\w/g, function (match) {\n\t\t\t\treturn match.toLowerCase();\n\t\t\t});\n\t\t\tvar command = elementTypeHandle + 'Media';\n\n\t\t\tvar showModal = showModalFactory(elementType, {\n\t\t\t\tsources: sources,\n\t\t\t\ttransforms: settings.transforms,\n\t\t\t\tstorageKey: 'RichTextFieldType.ChooseImage',\n\t\t\t\tcriteria: {\n\t\t\t\t\tlocale: settings.locale,\n\t\t\t\t\tkind: 'image'\n\t\t\t\t},\n\t\t\t\tonSelect: function onSelect(_ref5) {\n\t\t\t\t\tvar _ref6 = _slicedToArray(_ref5, 1),\n\t\t\t\t\t    element = _ref6[0];\n\n\t\t\t\t\tvar transform = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\t\t\t\t\tvar selectedContent = editor.selection.getContent();\n\n\t\t\t\t\tvar url = element.url + '#' + elementTypeHandle + ':' + element.id + (transform ? ':' + transform : '');\n\t\t\t\t\tvar title = element.label;\n\t\t\t\t\tvar width = '';\n\t\t\t\t\tvar height = '';\n\t\t\t\t\tvar command = selectedContent ? 'mceReplaceContent' : 'mceInsertContent';\n\n\t\t\t\t\teditor.execCommand(command, false, '<img src=\"' + url + '\" alt=\"' + title + '\" width=\"' + width + '\" height=\"' + height + '\">');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\teditor.addButton(command, {\n\t\t\t\ticon: 'image',\n\t\t\t\tstorageKey: 'tinymce.' + command,\n\t\t\t\ttooltip: optionTitle,\n\t\t\t\tonclick: function onclick() {\n\t\t\t\t\treturn showModal();\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = settings.mediaOptions[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar _ref2 = _step2.value;\n\t\t\t\tvar elementType = _ref2.elementType;\n\t\t\t\tvar optionTitle = _ref2.optionTitle;\n\t\t\t\tvar sources = _ref2.sources;\n\n\t\t\t\t_loop2(elementType, optionTitle, sources);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction init(editor) {\n\t\tvar $element = (0, _jquery2.default)(editor.container);\n\n\t\teditor.on('focus', function (e) {\n\t\t\treturn $element.addClass('mce-focused');\n\t\t});\n\t\teditor.on('blur', function (e) {\n\t\t\treturn $element.removeClass('mce-focused');\n\t\t});\n\t}\n\n\t_tinymce2.default.init(Object.assign({\n\t\tskin: 'craft',\n\t\tplugins: 'autoresize hr lists link image code',\n\n\t\t// Toolbars\n\t\tmenubar: false,\n\t\tstatusbar: false,\n\t\ttoolbar: 'formatselect | bold italic strikethrough | bullist numlist | link entryLink assetLink | image assetMedia | hr | code',\n\n\t\t// Formatting\n\t\tallow_conditional_comments: false,\n\t\telement_format: 'html',\n\t\tfix_list_elements: true,\n\n\t\t// Links\n\t\trelative_urls: false,\n\t\tremove_script_host: false,\n\t\tanchor_top: false,\n\t\tanchor_bottom: false,\n\n\t\t// Auto-resize\n\t\tautoresize_bottom_margin: 0\n\t}, editorConfig, {\n\t\tselector: '#' + settings.id,\n\t\tlanguage: settings.language,\n\t\tdirectionality: settings.direction,\n\n\t\tsetup: setup,\n\n\t\tinit_instance_callback: function init_instance_callback(editor) {\n\t\t\tinit(editor);\n\n\t\t\tvar configInit = editorConfig.init_instance_callback;\n\t\t\tif (typeof configInit === 'function') {\n\t\t\t\tconfigInit.apply(this, arguments);\n\t\t\t}\n\t\t}\n\t}));\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = jQuery;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = Craft;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = tinymce;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// input.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 05ab12644ad0f4a3f6fa","import $ from 'jquery'\nimport Craft from 'craft'\nimport tinymce from 'tinymce'\n\nfunction showModalFactory(elementType, settings={})\n{\n\tlet modal\n\treturn function showModal()\n\t{\n\t\tif(!modal)\n\t\t{\n\t\t\tmodal = Craft.createElementSelectorModal(elementType, Object.assign({\n\t\t\t\tresizable: true,\n\t\t\t\tmultiSelect: false,\n\t\t\t\tdisableOnSelect: true,\n\t\t\t}, settings))\n\t\t}\n\t\telse\n\t\t{\n\t\t\tmodal.show()\n\t\t}\n\t}\n}\n\nwindow.initTinyMCE = function(settings, editorConfig={})\n{\n\tconsole.log(settings)\n\tfunction setup(editor)\n\t{\n\t\tfor(let { elementType, optionTitle, sources } of settings.linkOptions)\n\t\t{\n\t\t\tconst elementTypeHandle = elementType.replace(/^\\w|_\\w/g, (match) => match.toLowerCase())\n\t\t\tconst command = elementTypeHandle + 'Link'\n\n\t\t\tconst showModal = showModalFactory(elementType, {\n\t\t\t\tsources,\n\t\t\t\tcriteria: { locale: settings.locale },\n\t\t\t\tonSelect([ element ])\n\t\t\t\t{\n\t\t\t\t\tconst selectedContent = editor.selection.getContent()\n\n\t\t\t\t\tconst url = `${element.url}#${elementTypeHandle}:${element.id}`\n\t\t\t\t\tconst title = element.label\n\t\t\t\t\tconst label = (selectedContent || element.label)\n\t\t\t\t\tconst command = (selectedContent ? 'mceReplaceContent' : 'mceInsertContent')\n\n\t\t\t\t\teditor.execCommand(command, false, `<a href=\"${url}\" title=\"${title}\">${label}</a>`)\n\t\t\t\t},\n\t\t\t})\n\n\t\t\teditor.addButton(command, {\n\t\t\t\ticon: 'link',\n\t\t\t\tstorageKey: 'tinymce.' + command,\n\t\t\t\ttooltip: optionTitle,\n\t\t\t\tonclick: () => showModal(),\n\t\t\t})\n\t\t}\n\n\t\tfor(let { elementType, optionTitle, sources } of settings.mediaOptions)\n\t\t{\n\t\t\tconst elementTypeHandle = elementType.replace(/^\\w|_\\w/g, (match) => match.toLowerCase())\n\t\t\tconst command = elementTypeHandle + 'Media'\n\n\t\t\tconst showModal = showModalFactory(elementType, {\n\t\t\t\tsources,\n\t\t\t\ttransforms: settings.transforms,\n\t\t\t\tstorageKey: 'RichTextFieldType.ChooseImage',\n\t\t\t\tcriteria: {\n\t\t\t\t\tlocale: settings.locale,\n\t\t\t\t\tkind: 'image',\n\t\t\t\t},\n\t\t\t\tonSelect([ element ], transform=null)\n\t\t\t\t{\n\t\t\t\t\tconst selectedContent = editor.selection.getContent()\n\n\t\t\t\t\tconst url = `${element.url}#${elementTypeHandle}:${element.id}` + (transform ? `:${transform}` : '')\n\t\t\t\t\tconst title = element.label\n\t\t\t\t\tconst width = ''\n\t\t\t\t\tconst height = ''\n\t\t\t\t\tconst command = (selectedContent ? 'mceReplaceContent' : 'mceInsertContent')\n\n\t\t\t\t\teditor.execCommand(command, false, `<img src=\"${url}\" alt=\"${title}\" width=\"${width}\" height=\"${height}\">`)\n\t\t\t\t},\n\t\t\t})\n\n\t\t\teditor.addButton(command, {\n\t\t\t\ticon: 'image',\n\t\t\t\tstorageKey: 'tinymce.' + command,\n\t\t\t\ttooltip: optionTitle,\n\t\t\t\tonclick: () => showModal(),\n\t\t\t})\n\t\t}\n\t}\n\n\tfunction init(editor)\n\t{\n\t\tconst $element = $(editor.container)\n\n\t\teditor.on('focus', e => $element.addClass('mce-focused'))\n\t\teditor.on('blur', e => $element.removeClass('mce-focused'))\n\t}\n\n\ttinymce.init(Object.assign(\n\t\t{\n\t\t\tskin: 'craft',\n\t\t\tplugins: 'autoresize hr lists link image code',\n\n\t\t\t// Toolbars\n\t\t\tmenubar: false,\n\t\t\tstatusbar: false,\n\t\t\ttoolbar: 'formatselect | bold italic strikethrough | bullist numlist | link entryLink assetLink | image assetMedia | hr | code',\n\n\t\t\t// Formatting\n\t\t\tallow_conditional_comments: false,\n\t\t\telement_format: 'html',\n\t\t\tfix_list_elements: true,\n\n\t\t\t// Links\n\t\t\trelative_urls: false,\n\t\t\tremove_script_host: false,\n\t\t\tanchor_top: false,\n\t\t\tanchor_bottom: false,\n\n\t\t\t// Auto-resize\n\t\t\tautoresize_bottom_margin: 0,\n\t\t},\n\t\teditorConfig,\n\t\t{\n\t\t\tselector: '#' + settings.id,\n\t\t\tlanguage: settings.language,\n\t\t\tdirectionality: settings.direction,\n\n\t\t\tsetup,\n\n\t\t\tinit_instance_callback(editor)\n\t\t\t{\n\t\t\t\tinit(editor)\n\t\t\t\t\n\t\t\t\tconst configInit = editorConfig.init_instance_callback\n\t\t\t\tif(typeof configInit === 'function')\n\t\t\t\t{\n\t\t\t\t\tconfigInit.apply(this, arguments)\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\t))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 1\n// module chunks = 0","module.exports = Craft;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Craft\"\n// module id = 2\n// module chunks = 0","module.exports = tinymce;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"tinymce\"\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}