(()=>{"use strict";var e={144:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TinyMCEField=void 0;const n=i(311),s=(e,t={})=>{let i;return()=>{void 0===i?i=Craft.createElementSelectorModal(e,Object.assign({resizable:!0,multiSelect:!1,disableOnSelect:!0},t)):i.show()}};t.TinyMCEField=class{constructor(e,t={}){this._settings=e,console.log(this._settings);const i=this._init.bind(this),n=this._setup.bind(this),s=Object.assign({plugins:"autoresize lists link image code",content_css:!1,menubar:!1,statusbar:!1,toolbar:"undo redo | blocks | bold italic strikethrough | bullist numlist | link entryLink assetLink | image assetMedia | hr | code",allow_conditional_comments:!1,element_format:"html",fix_list_elements:!0,relative_urls:!1,remove_script_host:!1,anchor_top:!1,anchor_bottom:!1,autoresize_bottom_margin:0},t,{selector:`#${this._settings.id}`,language:this._settings.language,directionality:this._settings.direction,setup:n,init_instance_callback(e){i(e);const n=t.init_instance_callback;"function"==typeof n&&n.apply(this,arguments)}});tinymce.init(s).then((()=>{}),(()=>{}))}_setup(e){for(const{elementType:t,optionTitle:i,sources:n}of this._settings.linkOptions){const o=t.replace(/^\w|_\w/g,(e=>e.toLowerCase())),l=`${o}Link`,a=s(t,{sources:n,criteria:{locale:this._settings.locale},onSelect([t]){const i=e.selection.getContent(),n=`${t.url}#${o}:${t.id}`,s=t.label,l=null!=i?i:t.label,a=i.length>0?"mceReplaceContent":"mceInsertContent";e.execCommand(a,!1,`<a href="${n}" title="${s}">${l}</a>`)}});e.addButton(l,{icon:"link",storageKey:"tinymce."+l,tooltip:i,onclick:()=>a()})}for(const{elementType:t,optionTitle:i,sources:n}of this._settings.mediaOptions){const o=t.replace(/^\w|_\w/g,(e=>e.toLowerCase())),l=`${o}Media`,a=s(t,{sources:n,transforms:this._settings.transforms,storageKey:"RichTextFieldType.ChooseImage",criteria:{locale:this._settings.locale,kind:"image"},onSelect:([t],i=null)=>{const n=e.selection.getContent(),s=`${t.url}#${o}:${t.id}`+(null!==i?`:${i}`:""),l=t.label,a=n.length>0?"mceReplaceContent":"mceInsertContent";e.execCommand(a,!1,`<img src="${s}" alt="${l}" width="" height="">`)}});e.addButton(l,{icon:"image",storageKey:"tinymce."+l,tooltip:i,onclick:()=>a()})}}_init(e){const t=n(e.container),i=n(e.formElement);e.on("focus",(e=>t.addClass("mce-focused"))),e.on("blur",(e=>t.removeClass("mce-focused")));const s=i.data("elementEditor");new window.MutationObserver((()=>{n(e.targetElm).val(e.getContent());(s.isFullPage?Garnish.$bod:i).trigger("change")})).observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}}},311:e=>{e.exports=jQuery}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}(()=>{const e=i(144);window.initTinyMCE=t=>new e.TinyMCEField(t)})()})();
//# sourceMappingURL=input.js.map