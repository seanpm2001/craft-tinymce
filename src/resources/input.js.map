{"version":3,"file":"input.js","mappings":"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U,CAE1B,GADA99K,EAAU5gD,EAAK6uO,GACXjuL,EACF,OAAOA,EAET,IAAKh+C,EAAS5C,EAAK6C,WAAYD,GAAUA,IAAWxK,KAAKsmO,SAAU97N,EAASA,EAAOC,WAEjF,GADA+9C,EAAUh+C,EAAOisO,GACbjuL,EACF,OAAOA,CAGb,CACF,CACF,CACA+tL,iBAAiB3uO,EAAMoF,GACrB,IAAIw7C,EAASh+C,EAAQsF,EACrB,GAAIlI,EAAM,CAER,GADA4gD,EAAU5gD,EAAKqD,gBACXjL,KAAKsmO,UAAY99K,IAAYxoD,KAAKsmO,SACpC,OAEF,GAAI99K,EAAS,CACX,IAAKx7C,EACH,IAAK8C,EAAQ04C,EAAQ87B,UAAWx0E,EAAOA,EAAQA,EAAMw0E,UACnD,IAAKx0E,EAAMw0E,UACT,OAAOx0E,EAIb,OAAO04C,CACT,CAEA,GADAh+C,EAAS5C,EAAK6C,WACVD,GAAUA,IAAWxK,KAAKsmO,SAC5B,OAAO97N,CAEX,CACF,EAGF,MA6GMksO,GAAoB,CAAC,OAAOl3O,OAxBjB,CACf,KACA,KACA,KACA,KACA,KACA,OAmBIm3O,GAAa/2L,IACjB,IAAItsC,EACJ,OAAO1L,IACL0L,EAASA,GAAkBnP,GAAYy7C,EAAO//C,GACvC+1F,GAAMtiF,EAAQpV,GAAK0J,IAC3B,EAEGgvO,GAAYD,GArHH,CACb,UACA,QACA,UACA,MACA,KACA,aACA,SACA,OACA,WACA,SACA,SACA,OACA,OACA,MACA,UACA,UACA,OACA,IACA,KACA,WACA,KACA,SACA,UACA,SACA,aACA,KACA,KACA,KACA,KACA,KACA,KACA,UACA,MACA,MACA,YACA,OACA,MACA,KACA,KACA,KACA,KACA,QACA,QACA,QACA,QACA,KACA,KACA,KACA,YAsEIE,GAAajvO,GAAQwpO,GAAYxpO,KAAUgvO,GAAUhvO,GACrDkvO,GAASlvO,GAAQwpO,GAAYxpO,IAAwB,OAAf1J,GAAK0J,GAC3CmvO,GAAgBJ,GA7DH,CACjB,KACA,KACA,KACA,KACA,KACA,KACA,IACA,MACA,UACA,MACA,OACA,aACA,SACA,MA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M,CACR,GAAIA,EAAK3gN,IACP,OAAOolR,GAAQzkE,EAAK3gN,KAEtB,GAA0B,mBAAf2gN,EAAK/9N,MACd,OAAOwiS,GAAQzkE,EAAK/9N,MAExB,CACAwjS,EAAS33N,GAAe23N,EAC1B,CAKA,OAJA,SAAuBh7R,GAErB,OADAc,QAAQ8gG,KAAK,qBAAsB5hG,GAC5B,IACT,CAEF,CACA,IAAIm7R,GAAS3oM,GAAO,CAClB,IACA,OACA,UACA,UACA,OACA,UACA,QACA,QACA,IACA,MACA,MACA,MACA,QACA,aACA,OACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,UACA,OACA,WACA,KACA,YACA,MACA,UACA,MACA,SACA,MACA,MACA,KACA,KACA,UACA,KACA,WACA,aACA,SACA,OACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,MACA,OACA,UACA,OACA,WACA,QACA,MACA,OACA,KACA,WACA,SACA,SACA,IACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,QAEE4oM,GAAQ5oM,GAAO,CACjB,MACA,IACA,WACA,cACA,eACA,eACA,gBACA,mBACA,SACA,WACA,OACA,OACA,UACA,SACA,OACA,IACA,QACA,WACA,QACA,QACA,OACA,iBACA,SACA,OACA,WACA,QACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,QACA,SACA,SACA,OACA,WACA,QACA,OACA,QACA,OACA,UAEE6oM,GAAa7oM,GAAO,CACtB,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,iBAEE8oM,GAAgB9oM,GAAO,CACzB,UACA,gBACA,SACA,UACA,eACA,YACA,mBACA,iBACA,gBACA,gBACA,gBACA,QACA,YACA,OACA,eACA,YACA,UACA,gBACA,SACA,MACA,aACA,UACA,QAEE+oM,GAAW/oM,GAAO,CACpB,OACA,WACA,SACA,UACA,QACA,SACA,KACA,aACA,gBACA,KACA,KACA,QACA,UACA,WACA,QACA,OACA,KACA,SACA,QACA,SACA,OACA,OACA,UACA,SACA,MACA,QACA,MACA,SACA,eAEEgpM,GAAmBhpM,GAAO,CAC5B,UACA,cACA,aACA,WACA,YACA,UACA,UACA,SACA,SACA,QACA,YACA,aACA,iBACA,cACA,SAEE5vF,GAAO4vF,GAAO,CAAC,UACftwF,GAAOswF,GAAO,CAChB,SACA,SACA,QACA,MACA,iBACA,eACA,uBACA,WACA,aACA,UACA,SACA,UACA,cACA,cACA,UACA,OACA,QACA,QACA,QACA,OACA,UACA,WACA,eACA,SACA,cACA,WACA,WACA,UACA,MACA,WACA,0BACA,wBACA,WACA,YACA,UACA,eACA,OACA,MACA,UACA,SACA,SACA,OACA,OACA,WACA,KACA,YACA,YACA,QACA,OACA,QACA,OACA,OACA,UACA,OACA,MACA,MACA,YACA,QACA,SACA,MACA,YACA,WACA,QACA,OACA,QACA,UACA,aACA,SACA,OACA,UACA,UACA,cACA,cACA,SACA,UACA,UACA,aACA,WACA,MACA,WACA,MACA,WACA,OACA,OACA,UACA,aACA,QACA,WACA,QACA,OACA,QACA,OACA,UACA,QACA,MACA,SACA,OACA,QACA,UACA,WACA,QACA,YACA,OACA,SACA,SACA,QACA,QACA,QACA,SAEE8iD,GAAM9iD,GAAO,CACf,gBACA,aACA,WACA,qBACA,SACA,gBACA,gBACA,UACA,gBACA,iBACA,QACA,OACA,KACA,QACA,OACA,gBACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,KACA,KACA,IACA,KACA,KACA,kBACA,YACA,UACA,UACA,MACA,WACA,YACA,MACA,OACA,eACA,YACA,SACA,cACA,cACA,gBACA,cACA,YACA,mBACA,eACA,aACA,eACA,cACA,KACA,KACA,KACA,KACA,aACA,WACA,gBACA,oBACA,SACA,OACA,KACA,kBACA,KACA,MACA,IACA,KACA,KACA,KACA,KACA,UACA,YACA,aACA,WACA,OACA,eACA,iBACA,eACA,mBACA,iBACA,QACA,aACA,aACA,eACA,eACA,cACA,cACA,mBACA,YACA,MACA,OACA,QACA,SACA,OACA,MACA,OACA,aACA,SACA,WACA,UACA,QACA,SACA,cACA,SACA,WACA,cACA,OACA,aACA,sBACA,mBACA,eACA,SACA,gBACA,sBACA,iBACA,IACA,KACA,KACA,SACA,OACA,OACA,cACA,YACA,UACA,SACA,SACA,QACA,OACA,kBACA,mBACA,mBACA,eACA,cACA,eACA,cACA,aACA,eACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,SACA,eACA,QACA,eACA,iBACA,WACA,UACA,UACA,YACA,mBACA,cACA,kBACA,iBACA,aACA,OACA,KACA,KACA,UACA,SACA,UACA,aACA,UACA,aACA,gBACA,gBACA,QACA,eACA,OACA,eACA,mBACA,mBACA,IACA,KACA,KACA,QACA,IACA,KACA,KACA,IACA,eAEEipM,GAASjpM,GAAO,CAClB,SACA,cACA,QACA,WACA,QACA,eACA,cACA,aACA,aACA,QACA,MACA,UACA,eACA,WACA,QACA,QACA,SACA,OACA,KACA,UACA,SACA,gBACA,SACA,SACA,iBACA,YACA,WACA,cACA,UACA,UACA,gBACA,WACA,WACA,OACA,WACA,WACA,aACA,UACA,SACA,SACA,cACA,gBACA,uBACA,YACA,YACA,aACA,WACA,iBACA,iBACA,YACA,UACA,QACA,UAEEkpM,GAAMlpM,GAAO,CACf,aACA,SACA,cACA,YACA,gBAEEmpM,GAAgB78C,GAAK,6BACrB88C,GAAW98C,GAAK,yBAChB+8C,GAA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","sources":["webpack://craft-tinymce/./node_modules/tinymce/icons/default/icons.js","webpack://craft-tinymce/./node_modules/tinymce/icons/default/index.js","webpack://craft-tinymce/./node_modules/tinymce/models/dom/index.js","webpack://craft-tinymce/./node_modules/tinymce/models/dom/model.js","webpack://craft-tinymce/./node_modules/tinymce/plugins/autoresize/index.js","webpack://craft-tinymce/./node_modules/tinymce/plugins/autoresize/plugin.js","webpack://craft-tinymce/./node_modules/tinymce/plugins/code/index.js","webpack://craft-tinymce/./node_modules/tinymce/plugins/code/plugin.js","webpack://craft-tinymce/./node_modules/tinymce/plugins/image/index.js","webpack://craft-tinymce/./node_modules/tinymce/plugins/image/plugin.js","webpack://craft-tinymce/./node_modules/tinymce/plugins/link/index.js","webpack://craft-tinymce/./node_modules/tinymce/plugins/link/plugin.js","webpack://craft-tinymce/./node_modules/tinymce/plugins/lists/index.js","webpack://craft-tinymce/./node_modules/tinymce/plugins/lists/plugin.js","webpack://craft-tinymce/./node_modules/tinymce/themes/silver/index.js","webpack://craft-tinymce/./node_modules/tinymce/themes/silver/theme.js","webpack://craft-tinymce/./node_modules/tinymce/tinymce.js","webpack://craft-tinymce/webpack/bootstrap","webpack://craft-tinymce/webpack/runtime/compat get default export","webpack://craft-tinymce/webpack/runtime/define property getters","webpack://craft-tinymce/webpack/runtime/hasOwnProperty shorthand","webpack://craft-tinymce/external var \"jQuery\"","webpack://craft-tinymce/external var \"Craft\"","webpack://craft-tinymce/./client/src/main.js"],"sourcesContent":["tinymce.IconManager.add('default', {\n  icons: {\n    'accessibility-check': '<svg width=\"24\" height=\"24\"><path d=\"M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z\" fill-rule=\"nonzero\"/></svg>',\n    'action-next': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z\"/></svg>',\n    'action-prev': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z\"/></svg>',\n    'align-center': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-justify': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-left': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-none': '<svg width=\"24\" height=\"24\"><path d=\"M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-right': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-left': '<svg width=\"24\" height=\"24\"><path d=\"m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-right': '<svg width=\"24\" height=\"24\"><path d=\"m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'bold': '<svg width=\"24\" height=\"24\"><path d=\"M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z\" fill-rule=\"evenodd\"/></svg>',\n    'bookmark': '<svg width=\"24\" height=\"24\"><path d=\"M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z\" fill-rule=\"nonzero\"/></svg>',\n    'border-style': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"6\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"3\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"6.8\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"10.6\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"14.4\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"18.2\" y=\"16\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"13\" y=\"11\" rx=\"1\"/></g></svg>',\n    'border-width': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"5\" x=\"3\" y=\"5\" rx=\"1\"/><rect width=\"18\" height=\"3.5\" x=\"3\" y=\"11.5\" rx=\"1\"/><rect width=\"18\" height=\"2\" x=\"3\" y=\"17\" rx=\"1\"/></g></svg>',\n    'brightness': '<svg width=\"24\" height=\"24\"><path d=\"M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z\" fill-rule=\"evenodd\"/></svg>',\n    'browse': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z\" fill-rule=\"nonzero\"/></svg>',\n    'cancel': '<svg width=\"24\" height=\"24\"><path d=\"M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z\" fill-rule=\"nonzero\"/></svg>',\n    'cell-background-color': '<svg width=\"24\" height=\"24\"><path d=\"m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z\"/></svg>',\n    'cell-border-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z\" opacity=\".2\"/><path fill-rule=\"nonzero\" d=\"M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z\"/><path d=\"m13 11-2 2H5v-2h6V6h2z\"/><path fill-rule=\"nonzero\" d=\"m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z\"/></g></svg>',\n    'change-case': '<svg width=\"24\" height=\"24\"><path d=\"M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z\" fill-rule=\"evenodd\"/></svg>',\n    'character-count': '<svg width=\"24\" height=\"24\"><path d=\"M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist': '<svg width=\"24\" height=\"24\"><path d=\"M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'checkmark': '<svg width=\"24\" height=\"24\"><path d=\"M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-down': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-left': '<svg width=\"10\" height=\"10\"><path d=\"M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-right': '<svg width=\"10\" height=\"10\"><path d=\"M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-up': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z\" fill-rule=\"nonzero\"/></svg>',\n    'close': '<svg width=\"24\" height=\"24\"><path d=\"M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'code-sample': '<svg width=\"24\" height=\"26\"><path d=\"M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'color-levels': '<svg width=\"24\" height=\"24\"><path d=\"M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'color-picker': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z\" fill-rule=\"nonzero\"/></svg>',\n    'color-swatch-remove-color': '<svg width=\"24\" height=\"24\"><path stroke=\"#000\" stroke-width=\"2\" d=\"M21 3 3 21\" fill-rule=\"evenodd\"/></svg>',\n    'color-swatch': '<svg width=\"24\" height=\"24\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"1\" fill-rule=\"evenodd\"/></svg>',\n    'comment-add': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z\"/><path d=\"M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z\"/></g></svg>',\n    'comment': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z\"/></svg>',\n    'contrast': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z\" fill-rule=\"evenodd\"/></svg>',\n    'copy': '<svg width=\"24\" height=\"24\"><path d=\"M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z\" fill-rule=\"nonzero\"/></svg>',\n    'crop': '<svg width=\"24\" height=\"24\"><path d=\"M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z\" fill-rule=\"evenodd\"/></svg>',\n    'cut-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z\"/></svg>',\n    'cut-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z\"/></svg>',\n    'cut': '<svg width=\"24\" height=\"24\"><path d=\"M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'document-properties': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z\" fill-rule=\"nonzero\"/></svg>',\n    'drag': '<svg width=\"24\" height=\"24\"><path d=\"M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z\" fill-rule=\"evenodd\"/></svg>',\n    'duplicate-column': '<svg width=\"24\" height=\"24\"><path d=\"M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z\"/></svg>',\n    'duplicate-row': '<svg width=\"24\" height=\"24\"><path d=\"M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z\"/></svg>',\n    'duplicate': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z\"/><path d=\"M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z\"/></g></svg>',\n    'edit-block': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z\"/></svg>',\n    'edit-image': '<svg width=\"24\" height=\"24\"><path d=\"M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'embed-page': '<svg width=\"24\" height=\"24\"><path d=\"M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z\" fill-rule=\"nonzero\"/></svg>',\n    'embed': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z\" fill-rule=\"nonzero\"/></svg>',\n    'emoji': '<svg width=\"24\" height=\"24\"><path d=\"M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z\" fill-rule=\"nonzero\"/></svg>',\n    'export': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z\"/><path d=\"M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z\"/><path d=\"M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z\"/></g></svg>',\n    'fill': '<svg width=\"24\" height=\"26\"><path d=\"m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-horizontally': '<svg width=\"24\" height=\"24\"><path d=\"M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-vertically': '<svg width=\"24\" height=\"24\"><path d=\"M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z\" fill-rule=\"nonzero\"/></svg>',\n    'format-painter': '<svg width=\"24\" height=\"24\"><path d=\"M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z\" fill-rule=\"nonzero\"/></svg>',\n    'format': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z\"/></svg>',\n    'fullscreen': '<svg width=\"24\" height=\"24\"><path d=\"m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z\" fill-rule=\"nonzero\"/></svg>',\n    'gallery': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z\"/></svg>',\n    'gamma': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z\" fill-rule=\"nonzero\"/></svg>',\n    'help': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z\"/><path d=\"M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z\" fill-rule=\"nonzero\"/><circle cx=\"12\" cy=\"16\" r=\"1\"/></g></svg>',\n    'highlight-bg-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-highlight-bg-color__color\" d=\"M3 18h18v3H3z\"/><path fill-rule=\"nonzero\" d=\"M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6\"/></g></svg>',\n    'home': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/></svg>',\n    'horizontal-rule': '<svg width=\"24\" height=\"24\"><path d=\"M4 11h16v2H4z\" fill-rule=\"evenodd\"/></svg>',\n    'image-options': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z\" fill-rule=\"nonzero\"/></svg>',\n    'image': '<svg width=\"24\" height=\"24\"><path d=\"m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\" fill-rule=\"nonzero\"/></svg>',\n    'indent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z\" fill-rule=\"evenodd\"/></svg>',\n    'info': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-character': '<svg width=\"24\" height=\"24\"><path d=\"M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-time': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z\"/><path d=\"M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z\"/></g></svg>',\n    'invert': '<svg width=\"24\" height=\"24\"><path d=\"M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z\" fill-rule=\"evenodd\"/></svg>',\n    'italic': '<svg width=\"24\" height=\"24\"><path d=\"m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'language': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z\"/></svg>',\n    'line-height': '<svg width=\"24\" height=\"24\"><path d=\"M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z\"/></svg>',\n    'line': '<svg width=\"24\" height=\"24\"><path d=\"m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'link': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z\" fill-rule=\"nonzero\"/></svg>',\n    'list-bull-circle': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z\" fill-rule=\"nonzero\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><circle cx=\"11\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"24\" r=\"3\"/><circle cx=\"11\" cy=\"34\" r=\"3\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-square': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-num-default-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z\"/></g></svg>',\n    'list-num-lower-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-lower-greek-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-lower-greek': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-lower-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z\"/><path fill-rule=\"nonzero\" d=\"M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z\"/></g></svg>',\n    'list-num-lower-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z\"/><path fill-rule=\"nonzero\" d=\"M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z\"/></g></svg>',\n    'list-num-upper-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-upper-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-upper-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z\"/><path fill-rule=\"nonzero\" d=\"M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z\"/></g></svg>',\n    'list-num-upper-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z\"/><path fill-rule=\"nonzero\" d=\"M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z\"/></g></svg>',\n    'lock': '<svg width=\"24\" height=\"24\"><path d=\"M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z\" fill-rule=\"evenodd\"/></svg>',\n    'ltr': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z\" fill-rule=\"evenodd\"/></svg>',\n    'more-drawer': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z\" fill-rule=\"nonzero\"/></svg>',\n    'new-document': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z\" fill-rule=\"nonzero\"/></svg>',\n    'new-tab': '<svg width=\"24\" height=\"24\"><path d=\"m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z\" fill-rule=\"evenodd\"/></svg>',\n    'non-breaking': '<svg width=\"24\" height=\"24\"><path d=\"M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'notice': '<svg width=\"24\" height=\"24\"><path d=\"M17.8 9.8 15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8Zm0 0 2.2 5.7-2.3-5.8ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'orientation': '<svg width=\"24\" height=\"24\"><path d=\"M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z\" fill-rule=\"nonzero\"/></svg>',\n    'outdent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'page-break': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z\"/></g></svg>',\n    'paragraph': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z\"/></svg>',\n    'paste-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-row-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-text': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z\" fill-rule=\"nonzero\"/></svg>',\n    'paste': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z\" fill-rule=\"nonzero\"/></svg>',\n    'permanent-pen': '<svg width=\"24\" height=\"24\"><path d=\"M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z\" fill-rule=\"nonzero\"/></svg>',\n    'plus': '<svg width=\"24\" height=\"24\"><path d=\"M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z\"/></svg>',\n    'preferences': '<svg width=\"24\" height=\"24\"><path d=\"m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z\" fill-rule=\"evenodd\"/></svg>',\n    'preview': '<svg width=\"24\" height=\"24\"><path d=\"M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z\" fill-rule=\"nonzero\"/></svg>',\n    'print': '<svg width=\"24\" height=\"24\"><path d=\"M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z\" fill-rule=\"nonzero\"/></svg>',\n    'quote': '<svg width=\"24\" height=\"24\"><path d=\"M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'redo': '<svg width=\"24\" height=\"24\"><path d=\"M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'reload': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z\"/></g></svg>',\n    'remove-formatting': '<svg width=\"24\" height=\"24\"><path d=\"M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'remove': '<svg width=\"24\" height=\"24\"><path d=\"M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z\" fill-rule=\"nonzero\"/></svg>',\n    'resize-handle': '<svg width=\"10\" height=\"10\"><g fill-rule=\"nonzero\"><path d=\"M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z\"/></g></svg>',\n    'resize': '<svg width=\"24\" height=\"24\"><path d=\"M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z\" fill-rule=\"evenodd\"/></svg>',\n    'restore-draft': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z\"/><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z\" fill-rule=\"nonzero\"/></g></svg>',\n    'rotate-left': '<svg width=\"24\" height=\"24\"><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z\" fill-rule=\"nonzero\"/></svg>',\n    'rotate-right': '<svg width=\"24\" height=\"24\"><path d=\"M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z\" fill-rule=\"nonzero\"/></svg>',\n    'rtl': '<svg width=\"24\" height=\"24\"><path d=\"M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'save': '<svg width=\"24\" height=\"24\"><path d=\"M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z\" fill-rule=\"nonzero\"/></svg>',\n    'search': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z\" fill-rule=\"nonzero\"/></svg>',\n    'select-all': '<svg width=\"24\" height=\"24\"><path d=\"M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z\" fill-rule=\"nonzero\"/></svg>',\n    'selected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z\"/></svg>',\n    'settings': '<svg width=\"24\" height=\"24\"><path d=\"M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z\" fill-rule=\"evenodd\"/></svg>',\n    'sharpen': '<svg width=\"24\" height=\"24\"><path d=\"m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'sourcecode': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z\"/></g></svg>',\n    'spell-check': '<svg width=\"24\" height=\"24\"><path d=\"M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z\" fill-rule=\"evenodd\"/></svg>',\n    'strike-through': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z\"/><path d=\"M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z\" fill-rule=\"nonzero\"/></g></svg>',\n    'subscript': '<svg width=\"24\" height=\"24\"><path d=\"m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z\" fill-rule=\"nonzero\"/></svg>',\n    'superscript': '<svg width=\"24\" height=\"24\"><path d=\"M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z\" fill-rule=\"nonzero\"/></svg>',\n    'table-caption': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"12\" height=\"2\" x=\"3\" y=\"4\" rx=\"1\"/><path d=\"M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z\"/></g></svg>',\n    'table-cell-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z\"/><path fill-rule=\"nonzero\" d=\"M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z\" opacity=\".2\"/><path d=\"m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z\"/><path fill-rule=\"nonzero\" d=\"M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z\" opacity=\".2\"/></g></svg>',\n    'table-cell-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z\"/></svg>',\n    'table-cell-select-all': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z\" opacity=\".2\"/></g></svg>',\n    'table-cell-select-inner': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z\" opacity=\".2\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z\"/></g></svg>',\n    'table-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z\"/><path d=\"m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z\"/></g></svg>',\n    'table-delete-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z\"/></svg>',\n    'table-delete-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z\"/></svg>',\n    'table-delete-table': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z\"/><path d=\"m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z\"/></g></svg>',\n    'table-insert-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z\"/></svg>',\n    'table-insert-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z\"/></svg>',\n    'table-insert-row-above': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z\"/></svg>',\n    'table-insert-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z\"/></svg>',\n    'table-left-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z\"/></svg>',\n    'table-merge-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z\"/></svg>',\n    'table-row-numbering-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z\"/></svg>',\n    'table-row-numbering': '<svg width=\"24\" height=\"24\"><path d=\"M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z\"/></svg>',\n    'table-row-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z\"/></svg>',\n    'table-split-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z\"/></svg>',\n    'table-top-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z\"/></svg>',\n    'table': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z\"/></svg>',\n    'template': '<svg width=\"24\" height=\"24\"><path d=\"M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z\" fill-rule=\"nonzero\"/></svg>',\n    'temporary-placeholder': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z\"/><circle cx=\"14\" cy=\"4\" r=\"1\"/><circle cx=\"12\" cy=\"2\" r=\"1\"/><circle cx=\"10\" cy=\"4\" r=\"1\"/></g></svg>',\n    'text-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-text-color__color\" d=\"M3 18h18v3H3z\"/><path d=\"M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z\"/></g></svg>',\n    'toc': '<svg width=\"24\" height=\"24\"><path d=\"M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'translate': '<svg width=\"24\" height=\"24\"><path d=\"m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'underline': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'undo': '<svg width=\"24\" height=\"24\"><path d=\"M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z\" fill-rule=\"nonzero\"/></svg>',\n    'unlink': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z\" fill-rule=\"nonzero\"/></svg>',\n    'unlock': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z\" fill-rule=\"evenodd\"/></svg>',\n    'unordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z\" fill-rule=\"evenodd\"/></svg>',\n    'unselected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z\"/></svg>',\n    'upload': '<svg width=\"24\" height=\"24\"><path d=\"M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z\" fill-rule=\"nonzero\"/></svg>',\n    'user': '<svg width=\"24\" height=\"24\"><path d=\"M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z\" fill-rule=\"nonzero\"/></svg>',\n    'vertical-align': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><path d=\"M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z\"/></g></svg>',\n    'visualblocks': '<svg width=\"24\" height=\"24\"><path d=\"M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z\" fill-rule=\"evenodd\"/></svg>',\n    'visualchars': '<svg width=\"24\" height=\"24\"><path d=\"M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z\" fill-rule=\"evenodd\"/></svg>',\n    'warning': '<svg width=\"24\" height=\"24\"><path d=\"M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z\" fill-rule=\"evenodd\"/></svg>',\n    'zoom-in': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z\" fill-rule=\"nonzero\"/></svg>',\n    'zoom-out': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z\" fill-rule=\"nonzero\"/></svg>',\n  }\n});","// Exports the \"default\" icons for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/icons/default')\n//   ES2015:\n//     import 'tinymce/icons/default'\nrequire('./icons.js');","// Exports the \"dom\" model for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/models/dom')\n//   ES2015:\n//     import 'tinymce/models/dom'\nrequire('./model.js');","/**\n * TinyMCE version 6.1.2 (2022-07-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.ModelManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$2 = t => a => t === a;\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isArray = isType$1('array');\n    const isNull = eq$2(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply = f => {\n      return f();\n    };\n    const never = constant(false);\n    const always = constant(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range$1 = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const map$1 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$2 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$2 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$2(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$1 = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const findIndex = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$2 = (xs, f) => flatten(map$1(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const sort$1 = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$d = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$d(xs, 0);\n    const last$2 = xs => get$d(xs, xs.length - 1);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each$1 = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each$1(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      const r = {};\n      each$1(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each$1(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$c = (obj, key) => {\n      return has$1(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$1 = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$1(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    const isEmpty = r => {\n      for (const x in r) {\n        if (hasOwnProperty.call(r, x)) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const COMMENT = 8;\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isComment = element => type(element) === COMMENT || name(element) === '#comment';\n    const isElement = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement(e) && name(e) === tag;\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$2 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each$1(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const setOptions = (element, attrs) => {\n      each$1(attrs, (v, k) => {\n        v.fold(() => {\n          remove$7(element, k);\n        }, value => {\n          rawSet(element.dom, k, value);\n        });\n      });\n    };\n    const get$b = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$b(element, key));\n    const remove$7 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone$2 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    const fromDom$1 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint$1 = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    const SugarElement = {\n      fromHtml: fromHtml$1,\n      fromTag,\n      fromText,\n      fromDom: fromDom$1,\n      fromPoint: fromPoint$1\n    };\n\n    const is$2 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$1 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$1(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq$1 = (e1, e2) => e1.dom === e2.dom;\n    const contains$1 = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    const is$1 = is$2;\n\n    const owner = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const prevSibling = element => Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children$2 = element => map$1(element.dom.childNodes, SugarElement.fromDom);\n    const child$2 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$2(element, 0);\n\n    const before$3 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$5 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before$3(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const appendAt = (parent, element, index) => {\n      child$2(parent, index).fold(() => {\n        append$1(parent, element);\n      }, v => {\n        before$3(v, element);\n      });\n    };\n    const wrap = (element, wrapper) => {\n      before$3(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    const after$4 = (marker, elements) => {\n      each$2(elements, (x, i) => {\n        const e = i === 0 ? marker : elements[i - 1];\n        after$5(e, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each$2(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$2(children$2(element), rogue => {\n        remove$6(rogue);\n      });\n    };\n    const remove$6 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    const unwrap = wrapper => {\n      const children = children$2(wrapper);\n      if (children.length > 0) {\n        after$4(wrapper, children);\n      }\n      remove$6(wrapper);\n    };\n\n    const clone$1 = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow = original => clone$1(original, false);\n    const deep = original => clone$1(original, true);\n    const shallowAs = (original, tag) => {\n      const nu = SugarElement.fromTag(tag);\n      const attributes = clone$2(original);\n      setAll$1(nu, attributes);\n      return nu;\n    };\n    const copy$2 = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      const cloneChildren = children$2(deep(original));\n      append(nu, cloneChildren);\n      return nu;\n    };\n    const mutate$1 = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      after$5(original, nu);\n      const children = children$2(original);\n      append(nu, children);\n      remove$6(original);\n      return nu;\n    };\n\n    const validSectionList = [\n      'tfoot',\n      'thead',\n      'tbody',\n      'colgroup'\n    ];\n    const isValidSection = parentName => contains$2(validSectionList, parentName);\n    const grid = (rows, columns) => ({\n      rows,\n      columns\n    });\n    const address = (row, column) => ({\n      row,\n      column\n    });\n    const detail = (element, rowspan, colspan) => ({\n      element,\n      rowspan,\n      colspan\n    });\n    const detailnew = (element, rowspan, colspan, isNew) => ({\n      element,\n      rowspan,\n      colspan,\n      isNew\n    });\n    const extended = (element, rowspan, colspan, row, column, isLocked) => ({\n      element,\n      rowspan,\n      colspan,\n      row,\n      column,\n      isLocked\n    });\n    const rowdetail = (element, cells, section) => ({\n      element,\n      cells,\n      section\n    });\n    const rowdetailnew = (element, cells, section, isNew) => ({\n      element,\n      cells,\n      section,\n      isNew\n    });\n    const elementnew = (element, isNew, isLocked) => ({\n      element,\n      isNew,\n      isLocked\n    });\n    const rowcells = (element, cells, section, isNew) => ({\n      element,\n      cells,\n      section,\n      isNew\n    });\n    const bounds = (startRow, startCol, finishRow, finishCol) => ({\n      startRow,\n      startCol,\n      finishRow,\n      finishCol\n    });\n    const columnext = (element, colspan, column) => ({\n      element,\n      colspan,\n      column\n    });\n    const colgroup = (element, columns) => ({\n      element,\n      columns\n    });\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const isSupported$1 = constant(supported);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isSupported$1() && isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n    const body$1 = () => getBody$1(SugarElement.fromDom(document));\n    const getBody$1 = doc => {\n      const b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const ancestors$4 = (scope, predicate, isRoot) => filter$2(parents(scope, isRoot), predicate);\n    const children$1 = (scope, predicate) => filter$2(children$2(scope), predicate);\n    const descendants$1 = (scope, predicate) => {\n      let result = [];\n      each$2(children$2(scope), x => {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    const ancestors$3 = (scope, selector, isRoot) => ancestors$4(scope, e => is$2(e, selector), isRoot);\n    const children = (scope, selector) => children$1(scope, e => is$2(e, selector));\n    const descendants = (scope, selector) => all$1(selector, scope);\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$2 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$2 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$2, scope, predicate, isRoot);\n    };\n    const child$1 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$1(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const ancestor$1 = (scope, selector, isRoot) => ancestor$2(scope, e => is$2(e, selector), isRoot);\n    const child = (scope, selector) => child$1(scope, e => is$2(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$2(element, selector);\n      return ClosestOrAncestor(is, ancestor$1, scope, selector, isRoot);\n    };\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const bindFrom = (a, f) => a !== undefined && a !== null ? f(a) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const contains = (str, substr) => {\n      return str.indexOf(substr) !== -1;\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const toFloat = value => {\n      const num = parseFloat(value);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$1 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each$1(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const get$a = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw$2 = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const remove$5 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is(getOpt(element, 'style').map(trim), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    const copy$1 = (source, target) => {\n      const sourceDom = source.dom;\n      const targetDom = target.dom;\n      if (isSupported(sourceDom) && isSupported(targetDom)) {\n        targetDom.style.cssText = sourceDom.style.cssText;\n      }\n    };\n\n    const getAttrValue = (cell, name, fallback = 0) => getOpt(cell, name).map(value => parseInt(value, 10)).getOr(fallback);\n    const getSpan = (cell, type) => getAttrValue(cell, type, 1);\n    const hasColspan = cellOrCol => {\n      if (isTag('col')(cellOrCol)) {\n        return getAttrValue(cellOrCol, 'span', 1) > 1;\n      } else {\n        return getSpan(cellOrCol, 'colspan') > 1;\n      }\n    };\n    const hasRowspan = cell => getSpan(cell, 'rowspan') > 1;\n    const getCssValue = (element, property) => parseInt(get$a(element, property), 10);\n    const minWidth = constant(10);\n    const minHeight = constant(10);\n\n    const firstLayer = (scope, selector) => {\n      return filterFirstLayer(scope, selector, always);\n    };\n    const filterFirstLayer = (scope, selector, predicate) => {\n      return bind$2(children$2(scope), x => {\n        if (is$2(x, selector)) {\n          return predicate(x) ? [x] : [];\n        } else {\n          return filterFirstLayer(x, selector, predicate);\n        }\n      });\n    };\n\n    const lookup = (tags, element, isRoot = never) => {\n      if (isRoot(element)) {\n        return Optional.none();\n      }\n      if (contains$2(tags, name(element))) {\n        return Optional.some(element);\n      }\n      const isRootOrUpperTable = elm => is$2(elm, 'table') || isRoot(elm);\n      return ancestor$1(element, tags.join(','), isRootOrUpperTable);\n    };\n    const cell = (element, isRoot) => lookup([\n      'td',\n      'th'\n    ], element, isRoot);\n    const cells$1 = ancestor => firstLayer(ancestor, 'th,td');\n    const columns$1 = ancestor => {\n      if (is$2(ancestor, 'colgroup')) {\n        return children(ancestor, 'col');\n      } else {\n        return bind$2(columnGroups(ancestor), columnGroup => children(columnGroup, 'col'));\n      }\n    };\n    const table = (element, isRoot) => closest$1(element, 'table', isRoot);\n    const rows$1 = ancestor => firstLayer(ancestor, 'tr');\n    const columnGroups = ancestor => table(ancestor).fold(constant([]), table => children(table, 'colgroup'));\n\n    const fromRowsOrColGroups = (elems, getSection) => map$1(elems, row => {\n      if (name(row) === 'colgroup') {\n        const cells = map$1(columns$1(row), column => {\n          const colspan = getAttrValue(column, 'span', 1);\n          return detail(column, 1, colspan);\n        });\n        return rowdetail(row, cells, 'colgroup');\n      } else {\n        const cells = map$1(cells$1(row), cell => {\n          const rowspan = getAttrValue(cell, 'rowspan', 1);\n          const colspan = getAttrValue(cell, 'colspan', 1);\n          return detail(cell, rowspan, colspan);\n        });\n        return rowdetail(row, cells, getSection(row));\n      }\n    });\n    const getParentSection = group => parent(group).map(parent => {\n      const parentName = name(parent);\n      return isValidSection(parentName) ? parentName : 'tbody';\n    }).getOr('tbody');\n    const fromTable$1 = table => {\n      const rows = rows$1(table);\n      const columnGroups$1 = columnGroups(table);\n      const elems = [\n        ...columnGroups$1,\n        ...rows\n      ];\n      return fromRowsOrColGroups(elems, getParentSection);\n    };\n    const fromPastedRows = (elems, section) => fromRowsOrColGroups(elems, () => section);\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$2(group(1), group(2));\n    };\n    const detect$5 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find(versionRegexes, cleanedAgent);\n    };\n    const unknown$2 = () => {\n      return nu$2(0, 0);\n    };\n    const nu$2 = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$2,\n      detect: detect$5,\n      unknown: unknown$2\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$1(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$4 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$1(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$4(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$4(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains(uastring, 'edge/') && contains(uastring, 'chrome') && contains(uastring, 'safari') && contains(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains(uastring, 'chrome') && !contains(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains(uastring, 'msie') || contains(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains(uastring, 'safari') || contains(uastring, 'mobile/')) && contains(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains(uastring, 'iphone') || contains(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$1 = () => {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$1 = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chromium: constant(chromium),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown = () => {\n      return nu({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown,\n      nu,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      macos: constant(macos),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    const detect$3 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$3 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform = cached(() => PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch));\n    const detect$2 = () => platform();\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$a(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$a(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const toNumber = (px, fallback) => toFloat(px).getOr(fallback);\n    const getProp = (element, name, fallback) => toNumber(get$a(element, name), fallback);\n    const calcContentBoxSize = (element, size, upper, lower) => {\n      const paddingUpper = getProp(element, `padding-${ upper }`, 0);\n      const paddingLower = getProp(element, `padding-${ lower }`, 0);\n      const borderUpper = getProp(element, `border-${ upper }-width`, 0);\n      const borderLower = getProp(element, `border-${ lower }-width`, 0);\n      return size - paddingUpper - paddingLower - borderUpper - borderLower;\n    };\n    const getCalculatedWidth = (element, boxSizing) => {\n      const dom = element.dom;\n      const width = dom.getBoundingClientRect().width || dom.offsetWidth;\n      return boxSizing === 'border-box' ? width : calcContentBoxSize(element, width, 'left', 'right');\n    };\n    const getHeight$1 = element => getProp(element, 'height', element.dom.offsetHeight);\n    const getWidth = element => getProp(element, 'width', element.dom.offsetWidth);\n    const getInnerWidth = element => getCalculatedWidth(element, 'content-box');\n\n    const api$2 = Dimension('width', element => element.dom.offsetWidth);\n    const get$9 = element => api$2.get(element);\n    const getOuter$2 = element => api$2.getOuter(element);\n    const getInner = getInnerWidth;\n    const getRuntime$1 = getWidth;\n\n    const addCells = (gridRow, index, cells) => {\n      const existingCells = gridRow.cells;\n      const before = existingCells.slice(0, index);\n      const after = existingCells.slice(index);\n      const newCells = before.concat(cells).concat(after);\n      return setCells(gridRow, newCells);\n    };\n    const addCell = (gridRow, index, cell) => addCells(gridRow, index, [cell]);\n    const mutateCell = (gridRow, index, cell) => {\n      const cells = gridRow.cells;\n      cells[index] = cell;\n    };\n    const setCells = (gridRow, cells) => rowcells(gridRow.element, cells, gridRow.section, gridRow.isNew);\n    const mapCells = (gridRow, f) => {\n      const cells = gridRow.cells;\n      const r = map$1(cells, f);\n      return rowcells(gridRow.element, r, gridRow.section, gridRow.isNew);\n    };\n    const getCell = (gridRow, index) => gridRow.cells[index];\n    const getCellElement = (gridRow, index) => getCell(gridRow, index).element;\n    const cellLength = gridRow => gridRow.cells.length;\n    const extractGridDetails = grid => {\n      const result = partition(grid, row => row.section === 'colgroup');\n      return {\n        rows: result.fail,\n        cols: result.pass\n      };\n    };\n    const clone = (gridRow, cloneRow, cloneCell) => {\n      const newCells = map$1(gridRow.cells, cloneCell);\n      return rowcells(cloneRow(gridRow.element), newCells, gridRow.section, true);\n    };\n\n    const LOCKED_COL_ATTR = 'data-snooker-locked-cols';\n    const getLockedColumnsFromTable = table => getOpt(table, LOCKED_COL_ATTR).bind(lockedColStr => Optional.from(lockedColStr.match(/\\d+/g))).map(lockedCols => mapToObject(lockedCols, always));\n    const getLockedColumnsFromGrid = grid => {\n      const locked = foldl(extractGridDetails(grid).rows, (acc, row) => {\n        each$2(row.cells, (cell, idx) => {\n          if (cell.isLocked) {\n            acc[idx] = true;\n          }\n        });\n        return acc;\n      }, {});\n      const lockedArr = mapToArray(locked, (_val, key) => parseInt(key, 10));\n      return sort$1(lockedArr);\n    };\n\n    const key = (row, column) => {\n      return row + ',' + column;\n    };\n    const getAt = (warehouse, row, column) => Optional.from(warehouse.access[key(row, column)]);\n    const findItem = (warehouse, item, comparator) => {\n      const filtered = filterItems(warehouse, detail => {\n        return comparator(item, detail.element);\n      });\n      return filtered.length > 0 ? Optional.some(filtered[0]) : Optional.none();\n    };\n    const filterItems = (warehouse, predicate) => {\n      const all = bind$2(warehouse.all, r => {\n        return r.cells;\n      });\n      return filter$2(all, predicate);\n    };\n    const generateColumns = rowData => {\n      const columnsGroup = {};\n      let index = 0;\n      each$2(rowData.cells, column => {\n        const colspan = column.colspan;\n        range$1(colspan, columnIndex => {\n          const colIndex = index + columnIndex;\n          columnsGroup[colIndex] = columnext(column.element, colspan, colIndex);\n        });\n        index += colspan;\n      });\n      return columnsGroup;\n    };\n    const generate$1 = list => {\n      const access = {};\n      const cells = [];\n      const tableOpt = head(list).map(rowData => rowData.element).bind(table);\n      const lockedColumns = tableOpt.bind(getLockedColumnsFromTable).getOr({});\n      let maxRows = 0;\n      let maxColumns = 0;\n      let rowCount = 0;\n      const {\n        pass: colgroupRows,\n        fail: rows\n      } = partition(list, rowData => rowData.section === 'colgroup');\n      each$2(rows, rowData => {\n        const currentRow = [];\n        each$2(rowData.cells, rowCell => {\n          let start = 0;\n          while (access[key(rowCount, start)] !== undefined) {\n            start++;\n          }\n          const isLocked = hasNonNullableKey(lockedColumns, start.toString());\n          const current = extended(rowCell.element, rowCell.rowspan, rowCell.colspan, rowCount, start, isLocked);\n          for (let occupiedColumnPosition = 0; occupiedColumnPosition < rowCell.colspan; occupiedColumnPosition++) {\n            for (let occupiedRowPosition = 0; occupiedRowPosition < rowCell.rowspan; occupiedRowPosition++) {\n              const rowPosition = rowCount + occupiedRowPosition;\n              const columnPosition = start + occupiedColumnPosition;\n              const newpos = key(rowPosition, columnPosition);\n              access[newpos] = current;\n              maxColumns = Math.max(maxColumns, columnPosition + 1);\n            }\n          }\n          currentRow.push(current);\n        });\n        maxRows++;\n        cells.push(rowdetail(rowData.element, currentRow, rowData.section));\n        rowCount++;\n      });\n      const {columns, colgroups} = last$2(colgroupRows).map(rowData => {\n        const columns = generateColumns(rowData);\n        const colgroup$1 = colgroup(rowData.element, values(columns));\n        return {\n          colgroups: [colgroup$1],\n          columns\n        };\n      }).getOrThunk(() => ({\n        colgroups: [],\n        columns: {}\n      }));\n      const grid$1 = grid(maxRows, maxColumns);\n      return {\n        grid: grid$1,\n        access,\n        all: cells,\n        columns,\n        colgroups\n      };\n    };\n    const fromTable = table => {\n      const list = fromTable$1(table);\n      return generate$1(list);\n    };\n    const justCells = warehouse => bind$2(warehouse.all, w => w.cells);\n    const justColumns = warehouse => values(warehouse.columns);\n    const hasColumns = warehouse => keys(warehouse.columns).length > 0;\n    const getColumnAt = (warehouse, columnIndex) => Optional.from(warehouse.columns[columnIndex]);\n    const Warehouse = {\n      fromTable,\n      generate: generate$1,\n      getAt,\n      findItem,\n      filterItems,\n      justCells,\n      justColumns,\n      hasColumns,\n      getColumnAt\n    };\n\n    const columns = (warehouse, isValidCell = always) => {\n      const grid = warehouse.grid;\n      const cols = range$1(grid.columns, identity);\n      const rowsArr = range$1(grid.rows, identity);\n      return map$1(cols, col => {\n        const getBlock = () => bind$2(rowsArr, r => Warehouse.getAt(warehouse, r, col).filter(detail => detail.column === col).toArray());\n        const isValid = detail => detail.colspan === 1 && isValidCell(detail.element);\n        const getFallback = () => Warehouse.getAt(warehouse, 0, col);\n        return decide(getBlock, isValid, getFallback);\n      });\n    };\n    const decide = (getBlock, isValid, getFallback) => {\n      const inBlock = getBlock();\n      const validInBlock = find$1(inBlock, isValid);\n      const detailOption = validInBlock.orThunk(() => Optional.from(inBlock[0]).orThunk(getFallback));\n      return detailOption.map(detail => detail.element);\n    };\n    const rows = warehouse => {\n      const grid = warehouse.grid;\n      const rowsArr = range$1(grid.rows, identity);\n      const cols = range$1(grid.columns, identity);\n      return map$1(rowsArr, row => {\n        const getBlock = () => bind$2(cols, c => Warehouse.getAt(warehouse, row, c).filter(detail => detail.row === row).fold(constant([]), detail => [detail]));\n        const isSingle = detail => detail.rowspan === 1;\n        const getFallback = () => Warehouse.getAt(warehouse, row, 0);\n        return decide(getBlock, isSingle, getFallback);\n      });\n    };\n\n    const deduce = (xs, index) => {\n      if (index < 0 || index >= xs.length - 1) {\n        return Optional.none();\n      }\n      const current = xs[index].fold(() => {\n        const rest = reverse(xs.slice(0, index));\n        return findMap(rest, (a, i) => a.map(aa => ({\n          value: aa,\n          delta: i + 1\n        })));\n      }, c => Optional.some({\n        value: c,\n        delta: 0\n      }));\n      const next = xs[index + 1].fold(() => {\n        const rest = xs.slice(index + 1);\n        return findMap(rest, (a, i) => a.map(aa => ({\n          value: aa,\n          delta: i + 1\n        })));\n      }, n => Optional.some({\n        value: n,\n        delta: 1\n      }));\n      return current.bind(c => next.map(n => {\n        const extras = n.delta + c.delta;\n        return Math.abs(n.value - c.value) / extras;\n      }));\n    };\n\n    const onDirection = (isLtr, isRtl) => element => getDirection(element) === 'rtl' ? isRtl : isLtr;\n    const getDirection = element => get$a(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n\n    const api$1 = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$8 = element => api$1.get(element);\n    const getOuter$1 = element => api$1.getOuter(element);\n    const getRuntime = getHeight$1;\n\n    const r = (left, top) => {\n      const translate = (x, y) => r(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const rowInfo = (row, y) => ({\n      row,\n      y\n    });\n    const colInfo = (col, x) => ({\n      col,\n      x\n    });\n    const rtlEdge = cell => {\n      const pos = absolute(cell);\n      return pos.left + getOuter$2(cell);\n    };\n    const ltrEdge = cell => {\n      return absolute(cell).left;\n    };\n    const getLeftEdge = (index, cell) => {\n      return colInfo(index, ltrEdge(cell));\n    };\n    const getRightEdge = (index, cell) => {\n      return colInfo(index, rtlEdge(cell));\n    };\n    const getTop$1 = cell => {\n      return absolute(cell).top;\n    };\n    const getTopEdge = (index, cell) => {\n      return rowInfo(index, getTop$1(cell));\n    };\n    const getBottomEdge = (index, cell) => {\n      return rowInfo(index, getTop$1(cell) + getOuter$1(cell));\n    };\n    const findPositions = (getInnerEdge, getOuterEdge, array) => {\n      if (array.length === 0) {\n        return [];\n      }\n      const lines = map$1(array.slice(1), (cellOption, index) => {\n        return cellOption.map(cell => {\n          return getInnerEdge(index, cell);\n        });\n      });\n      const lastLine = array[array.length - 1].map(cell => {\n        return getOuterEdge(array.length - 1, cell);\n      });\n      return lines.concat([lastLine]);\n    };\n    const negate = step => {\n      return -step;\n    };\n    const height = {\n      delta: identity,\n      positions: optElements => findPositions(getTopEdge, getBottomEdge, optElements),\n      edge: getTop$1\n    };\n    const ltr$1 = {\n      delta: identity,\n      edge: ltrEdge,\n      positions: optElements => findPositions(getLeftEdge, getRightEdge, optElements)\n    };\n    const rtl$1 = {\n      delta: negate,\n      edge: rtlEdge,\n      positions: optElements => findPositions(getRightEdge, getLeftEdge, optElements)\n    };\n    const detect$1 = onDirection(ltr$1, rtl$1);\n    const width = {\n      delta: (amount, table) => detect$1(table).delta(amount, table),\n      positions: (cols, table) => detect$1(table).positions(cols, table),\n      edge: cell => detect$1(cell).edge(cell)\n    };\n\n    const units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    const pattern = (() => {\n      const decimalDigits = '[0-9]+';\n      const signedInteger = '[+-]?' + decimalDigits;\n      const exponentPart = '[eE]' + signedInteger;\n      const dot = '\\\\.';\n      const opt = input => `(?:${ input })?`;\n      const unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      const float = `[+-]?(?:${ unsignedDecimalLiteral })`;\n      return new RegExp(`^(${ float })(.*)$`);\n    })();\n    const isUnit = (unit, accepted) => exists(accepted, acc => exists(units[acc], check => unit === check));\n    const parse = (input, accepted) => {\n      const match = Optional.from(pattern.exec(input));\n      return match.bind(array => {\n        const value = Number(array[1]);\n        const unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n\n    const rPercentageBasedSizeRegex = /(\\d+(\\.\\d+)?)%/;\n    const rPixelBasedSizeRegex = /(\\d+(\\.\\d+)?)px|em/;\n    const isCol$2 = isTag('col');\n    const getPercentSize = (elm, outerGetter, innerGetter) => {\n      const relativeParent = parentElement(elm).getOrThunk(() => getBody$1(owner(elm)));\n      return outerGetter(elm) / innerGetter(relativeParent) * 100;\n    };\n    const setPixelWidth = (cell, amount) => {\n      set$1(cell, 'width', amount + 'px');\n    };\n    const setPercentageWidth = (cell, amount) => {\n      set$1(cell, 'width', amount + '%');\n    };\n    const setHeight = (cell, amount) => {\n      set$1(cell, 'height', amount + 'px');\n    };\n    const getHeightValue = cell => getRuntime(cell) + 'px';\n    const convert = (cell, number, getter, setter) => {\n      const newSize = table(cell).map(table => {\n        const total = getter(table);\n        return Math.floor(number / 100 * total);\n      }).getOr(number);\n      setter(cell, newSize);\n      return newSize;\n    };\n    const normalizePixelSize = (value, cell, getter, setter) => {\n      const number = parseFloat(value);\n      return endsWith(value, '%') && name(cell) !== 'table' ? convert(cell, number, getter, setter) : number;\n    };\n    const getTotalHeight = cell => {\n      const value = getHeightValue(cell);\n      if (!value) {\n        return get$8(cell);\n      }\n      return normalizePixelSize(value, cell, get$8, setHeight);\n    };\n    const get$7 = (cell, type, f) => {\n      const v = f(cell);\n      const span = getSpan(cell, type);\n      return v / span;\n    };\n    const getRaw$1 = (element, prop) => {\n      return getRaw$2(element, prop).orThunk(() => {\n        return getOpt(element, prop).map(val => val + 'px');\n      });\n    };\n    const getRawWidth$1 = element => getRaw$1(element, 'width');\n    const getRawHeight = element => getRaw$1(element, 'height');\n    const getPercentageWidth = cell => getPercentSize(cell, get$9, getInner);\n    const getPixelWidth$1 = cell => isCol$2(cell) ? get$9(cell) : getRuntime$1(cell);\n    const getHeight = cell => {\n      return get$7(cell, 'rowspan', getTotalHeight);\n    };\n    const getGenericWidth = cell => {\n      const width = getRawWidth$1(cell);\n      return width.bind(w => parse(w, [\n        'fixed',\n        'relative',\n        'empty'\n      ]));\n    };\n    const setGenericWidth = (cell, amount, unit) => {\n      set$1(cell, 'width', amount + unit);\n    };\n    const getPixelTableWidth = table => get$9(table) + 'px';\n    const getPercentTableWidth = table => getPercentSize(table, get$9, getInner) + '%';\n    const isPercentSizing$1 = table => getRawWidth$1(table).exists(size => rPercentageBasedSizeRegex.test(size));\n    const isPixelSizing$1 = table => getRawWidth$1(table).exists(size => rPixelBasedSizeRegex.test(size));\n    const isNoneSizing$1 = table => getRawWidth$1(table).isNone();\n    const percentageBasedSizeRegex = constant(rPercentageBasedSizeRegex);\n\n    const isCol$1 = isTag('col');\n    const getRawW = cell => {\n      return getRawWidth$1(cell).getOrThunk(() => getPixelWidth$1(cell) + 'px');\n    };\n    const getRawH = cell => {\n      return getRawHeight(cell).getOrThunk(() => getHeight(cell) + 'px');\n    };\n    const justCols = warehouse => map$1(Warehouse.justColumns(warehouse), column => Optional.from(column.element));\n    const isValidColumn = cell => {\n      const browser = detect$2().browser;\n      const supportsColWidths = browser.isChromium() || browser.isFirefox();\n      return isCol$1(cell) ? supportsColWidths : true;\n    };\n    const getDimension = (cellOpt, index, backups, filter, getter, fallback) => cellOpt.filter(filter).fold(() => fallback(deduce(backups, index)), cell => getter(cell));\n    const getWidthFrom = (warehouse, table, getWidth, fallback) => {\n      const columnCells = columns(warehouse);\n      const columns$1 = Warehouse.hasColumns(warehouse) ? justCols(warehouse) : columnCells;\n      const backups = [Optional.some(width.edge(table))].concat(map$1(width.positions(columnCells, table), pos => pos.map(p => p.x)));\n      const colFilter = not(hasColspan);\n      return map$1(columns$1, (cellOption, c) => {\n        return getDimension(cellOption, c, backups, colFilter, column => {\n          if (isValidColumn(column)) {\n            return getWidth(column);\n          } else {\n            const cell = bindFrom(columnCells[c], identity);\n            return getDimension(cell, c, backups, colFilter, cell => fallback(Optional.some(get$9(cell))), fallback);\n          }\n        }, fallback);\n      });\n    };\n    const getDeduced = deduced => {\n      return deduced.map(d => {\n        return d + 'px';\n      }).getOr('');\n    };\n    const getRawWidths = (warehouse, table) => {\n      return getWidthFrom(warehouse, table, getRawW, getDeduced);\n    };\n    const getPercentageWidths = (warehouse, table, tableSize) => {\n      return getWidthFrom(warehouse, table, getPercentageWidth, deduced => {\n        return deduced.fold(() => {\n          return tableSize.minCellWidth();\n        }, cellWidth => {\n          return cellWidth / tableSize.pixelWidth() * 100;\n        });\n      });\n    };\n    const getPixelWidths = (warehouse, table, tableSize) => {\n      return getWidthFrom(warehouse, table, getPixelWidth$1, deduced => {\n        return deduced.getOrThunk(tableSize.minCellWidth);\n      });\n    };\n    const getHeightFrom = (warehouse, table, direction, getHeight, fallback) => {\n      const rows$1 = rows(warehouse);\n      const backups = [Optional.some(direction.edge(table))].concat(map$1(direction.positions(rows$1, table), pos => pos.map(p => p.y)));\n      return map$1(rows$1, (cellOption, c) => {\n        return getDimension(cellOption, c, backups, not(hasRowspan), getHeight, fallback);\n      });\n    };\n    const getPixelHeights = (warehouse, table, direction) => {\n      return getHeightFrom(warehouse, table, direction, getHeight, deduced => {\n        return deduced.getOrThunk(minHeight);\n      });\n    };\n    const getRawHeights = (warehouse, table, direction) => {\n      return getHeightFrom(warehouse, table, direction, getRawH, getDeduced);\n    };\n\n    const widthLookup = (table, getter) => () => {\n      if (inBody(table)) {\n        return getter(table);\n      } else {\n        return parseFloat(getRaw$2(table, 'width').getOr('0'));\n      }\n    };\n    const noneSize = table => {\n      const getWidth = widthLookup(table, get$9);\n      const zero = constant(0);\n      const getWidths = (warehouse, tableSize) => getPixelWidths(warehouse, table, tableSize);\n      return {\n        width: getWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta: zero,\n        singleColumnWidth: constant([0]),\n        minCellWidth: zero,\n        setElementWidth: noop,\n        adjustTableWidth: noop,\n        isRelative: true,\n        label: 'none'\n      };\n    };\n    const percentageSize = table => {\n      const getFloatWidth = widthLookup(table, elem => parseFloat(getPercentTableWidth(elem)));\n      const getWidth = widthLookup(table, get$9);\n      const getCellDelta = delta => delta / getWidth() * 100;\n      const singleColumnWidth = (w, _delta) => [100 - w];\n      const minCellWidth = () => minWidth() / getWidth() * 100;\n      const adjustTableWidth = delta => {\n        const currentWidth = getFloatWidth();\n        const change = delta / 100 * currentWidth;\n        const newWidth = currentWidth + change;\n        setPercentageWidth(table, newWidth);\n      };\n      const getWidths = (warehouse, tableSize) => getPercentageWidths(warehouse, table, tableSize);\n      return {\n        width: getFloatWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta,\n        singleColumnWidth,\n        minCellWidth,\n        setElementWidth: setPercentageWidth,\n        adjustTableWidth,\n        isRelative: true,\n        label: 'percent'\n      };\n    };\n    const pixelSize = table => {\n      const getWidth = widthLookup(table, get$9);\n      const getCellDelta = identity;\n      const singleColumnWidth = (w, delta) => {\n        const newNext = Math.max(minWidth(), w + delta);\n        return [newNext - w];\n      };\n      const adjustTableWidth = delta => {\n        const newWidth = getWidth() + delta;\n        setPixelWidth(table, newWidth);\n      };\n      const getWidths = (warehouse, tableSize) => getPixelWidths(warehouse, table, tableSize);\n      return {\n        width: getWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta,\n        singleColumnWidth,\n        minCellWidth: minWidth,\n        setElementWidth: setPixelWidth,\n        adjustTableWidth,\n        isRelative: false,\n        label: 'pixel'\n      };\n    };\n    const chooseSize = (element, width) => {\n      const percentMatch = percentageBasedSizeRegex().exec(width);\n      if (percentMatch !== null) {\n        return percentageSize(element);\n      } else {\n        return pixelSize(element);\n      }\n    };\n    const getTableSize = table => {\n      const width = getRawWidth$1(table);\n      return width.fold(() => noneSize(table), w => chooseSize(table, w));\n    };\n    const TableSize = {\n      getTableSize,\n      pixelSize,\n      percentageSize,\n      noneSize\n    };\n\n    const statsStruct = (minRow, minCol, maxRow, maxCol, allCells, selectedCells) => ({\n      minRow,\n      minCol,\n      maxRow,\n      maxCol,\n      allCells,\n      selectedCells\n    });\n    const findSelectedStats = (house, isSelected) => {\n      const totalColumns = house.grid.columns;\n      const totalRows = house.grid.rows;\n      let minRow = totalRows;\n      let minCol = totalColumns;\n      let maxRow = 0;\n      let maxCol = 0;\n      const allCells = [];\n      const selectedCells = [];\n      each$1(house.access, detail => {\n        allCells.push(detail);\n        if (isSelected(detail)) {\n          selectedCells.push(detail);\n          const startRow = detail.row;\n          const endRow = startRow + detail.rowspan - 1;\n          const startCol = detail.column;\n          const endCol = startCol + detail.colspan - 1;\n          if (startRow < minRow) {\n            minRow = startRow;\n          } else if (endRow > maxRow) {\n            maxRow = endRow;\n          }\n          if (startCol < minCol) {\n            minCol = startCol;\n          } else if (endCol > maxCol) {\n            maxCol = endCol;\n          }\n        }\n      });\n      return statsStruct(minRow, minCol, maxRow, maxCol, allCells, selectedCells);\n    };\n    const makeCell = (list, seenSelected, rowIndex) => {\n      const row = list[rowIndex].element;\n      const td = SugarElement.fromTag('td');\n      append$1(td, SugarElement.fromTag('br'));\n      const f = seenSelected ? append$1 : prepend;\n      f(row, td);\n    };\n    const fillInGaps = (list, house, stats, isSelected) => {\n      const rows = filter$2(list, row => row.section !== 'colgroup');\n      const totalColumns = house.grid.columns;\n      const totalRows = house.grid.rows;\n      for (let i = 0; i < totalRows; i++) {\n        let seenSelected = false;\n        for (let j = 0; j < totalColumns; j++) {\n          if (!(i < stats.minRow || i > stats.maxRow || j < stats.minCol || j > stats.maxCol)) {\n            const needCell = Warehouse.getAt(house, i, j).filter(isSelected).isNone();\n            if (needCell) {\n              makeCell(rows, seenSelected, i);\n            } else {\n              seenSelected = true;\n            }\n          }\n        }\n      }\n    };\n    const clean = (replica, stats, house, widthDelta) => {\n      each$1(house.columns, col => {\n        if (col.column < stats.minCol || col.column > stats.maxCol) {\n          remove$6(col.element);\n        }\n      });\n      const emptyRows = filter$2(firstLayer(replica, 'tr'), row => row.dom.childElementCount === 0);\n      each$2(emptyRows, remove$6);\n      if (stats.minCol === stats.maxCol || stats.minRow === stats.maxRow) {\n        each$2(firstLayer(replica, 'th,td'), cell => {\n          remove$7(cell, 'rowspan');\n          remove$7(cell, 'colspan');\n        });\n      }\n      remove$7(replica, LOCKED_COL_ATTR);\n      remove$7(replica, 'data-snooker-col-series');\n      const tableSize = TableSize.getTableSize(replica);\n      tableSize.adjustTableWidth(widthDelta);\n    };\n    const getTableWidthDelta = (table, warehouse, tableSize, stats) => {\n      if (stats.minCol === 0 && warehouse.grid.columns === stats.maxCol + 1) {\n        return 0;\n      }\n      const colWidths = getPixelWidths(warehouse, table, tableSize);\n      const allColsWidth = foldl(colWidths, (acc, width) => acc + width, 0);\n      const selectedColsWidth = foldl(colWidths.slice(stats.minCol, stats.maxCol + 1), (acc, width) => acc + width, 0);\n      const newWidth = selectedColsWidth / allColsWidth * tableSize.pixelWidth();\n      const delta = newWidth - tableSize.pixelWidth();\n      return tableSize.getCellDelta(delta);\n    };\n    const extract$1 = (table, selectedSelector) => {\n      const isSelected = detail => is$2(detail.element, selectedSelector);\n      const replica = deep(table);\n      const list = fromTable$1(replica);\n      const tableSize = TableSize.getTableSize(table);\n      const replicaHouse = Warehouse.generate(list);\n      const replicaStats = findSelectedStats(replicaHouse, isSelected);\n      const selector = 'th:not(' + selectedSelector + ')' + ',td:not(' + selectedSelector + ')';\n      const unselectedCells = filterFirstLayer(replica, 'th,td', cell => is$2(cell, selector));\n      each$2(unselectedCells, remove$6);\n      fillInGaps(list, replicaHouse, replicaStats, isSelected);\n      const house = Warehouse.fromTable(table);\n      const widthDelta = getTableWidthDelta(table, house, tableSize, replicaStats);\n      clean(replica, replicaStats, replicaHouse, widthDelta);\n      return replica;\n    };\n\n    const nbsp = '\\xA0';\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get$6 = element => api.get(element);\n    const getOption = element => api.getOption(element);\n    const set = (element, value) => api.set(element, value);\n\n    const getEnd = element => name(element) === 'img' ? 1 : getOption(element).fold(() => children$2(element).length, v => v.length);\n    const isTextNodeWithCursorPosition = el => getOption(el).filter(text => text.trim().length !== 0 || text.indexOf(nbsp) > -1).isSome();\n    const elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    const isCursorPosition = elem => {\n      const hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains$2(elementsWithCursorPosition, name(elem));\n    };\n\n    const first = element => descendant$1(element, isCursorPosition);\n    const last$1 = element => descendantRtl(element, isCursorPosition);\n    const descendantRtl = (scope, predicate) => {\n      const descend = element => {\n        const children = children$2(element);\n        for (let i = children.length - 1; i >= 0; i--) {\n          const child = children[i];\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope);\n    };\n\n    const transferableAttributes = {\n      scope: [\n        'row',\n        'col'\n      ]\n    };\n    const createCell = doc => () => {\n      const td = SugarElement.fromTag('td', doc.dom);\n      append$1(td, SugarElement.fromTag('br', doc.dom));\n      return td;\n    };\n    const createCol = doc => () => {\n      return SugarElement.fromTag('col', doc.dom);\n    };\n    const createColgroup = doc => () => {\n      return SugarElement.fromTag('colgroup', doc.dom);\n    };\n    const createRow$1 = doc => () => {\n      return SugarElement.fromTag('tr', doc.dom);\n    };\n    const replace$1 = (cell, tag, attrs) => {\n      const replica = copy$2(cell, tag);\n      each$1(attrs, (v, k) => {\n        if (v === null) {\n          remove$7(replica, k);\n        } else {\n          set$2(replica, k, v);\n        }\n      });\n      return replica;\n    };\n    const pasteReplace = cell => {\n      return cell;\n    };\n    const cloneFormats = (oldCell, newCell, formats) => {\n      const first$1 = first(oldCell);\n      return first$1.map(firstText => {\n        const formatSelector = formats.join(',');\n        const parents = ancestors$3(firstText, formatSelector, element => {\n          return eq$1(element, oldCell);\n        });\n        return foldr(parents, (last, parent) => {\n          const clonedFormat = shallow(parent);\n          remove$7(clonedFormat, 'contenteditable');\n          append$1(last, clonedFormat);\n          return clonedFormat;\n        }, newCell);\n      }).getOr(newCell);\n    };\n    const cloneAppropriateAttributes = (original, clone) => {\n      each$1(transferableAttributes, (validAttributes, attributeName) => getOpt(original, attributeName).filter(attribute => contains$2(validAttributes, attribute)).each(attribute => set$2(clone, attributeName, attribute)));\n    };\n    const cellOperations = (mutate, doc, formatsToClone) => {\n      const cloneCss = (prev, clone) => {\n        copy$1(prev.element, clone);\n        remove$5(clone, 'height');\n        if (prev.colspan !== 1) {\n          remove$5(clone, 'width');\n        }\n      };\n      const newCell = prev => {\n        const td = SugarElement.fromTag(name(prev.element), doc.dom);\n        const formats = formatsToClone.getOr([\n          'strong',\n          'em',\n          'b',\n          'i',\n          'span',\n          'font',\n          'h1',\n          'h2',\n          'h3',\n          'h4',\n          'h5',\n          'h6',\n          'p',\n          'div'\n        ]);\n        const lastNode = formats.length > 0 ? cloneFormats(prev.element, td, formats) : td;\n        append$1(lastNode, SugarElement.fromTag('br'));\n        cloneCss(prev, td);\n        cloneAppropriateAttributes(prev.element, td);\n        mutate(prev.element, td);\n        return td;\n      };\n      const newCol = prev => {\n        const col = SugarElement.fromTag(name(prev.element), doc.dom);\n        cloneCss(prev, col);\n        mutate(prev.element, col);\n        return col;\n      };\n      return {\n        col: newCol,\n        colgroup: createColgroup(doc),\n        row: createRow$1(doc),\n        cell: newCell,\n        replace: replace$1,\n        colGap: createCol(doc),\n        gap: createCell(doc)\n      };\n    };\n    const paste$1 = doc => {\n      return {\n        col: createCol(doc),\n        colgroup: createColgroup(doc),\n        row: createRow$1(doc),\n        cell: createCell(doc),\n        replace: pasteReplace,\n        colGap: createCol(doc),\n        gap: createCell(doc)\n      };\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children$2(SugarElement.fromDom(div));\n    };\n    const fromDom = nodes => map$1(nodes, SugarElement.fromDom);\n\n    const getBody = editor => SugarElement.fromDom(editor.getBody());\n    const getIsRoot = editor => element => eq$1(element, getBody(editor));\n    const removeDataStyle = table => {\n      remove$7(table, 'data-mce-style');\n      const removeStyleAttribute = element => remove$7(element, 'data-mce-style');\n      each$2(cells$1(table), removeStyleAttribute);\n      each$2(columns$1(table), removeStyleAttribute);\n      each$2(rows$1(table), removeStyleAttribute);\n    };\n    const getSelectionStart = editor => SugarElement.fromDom(editor.selection.getStart());\n    const getPixelWidth = elm => elm.getBoundingClientRect().width;\n    const getPixelHeight = elm => elm.getBoundingClientRect().height;\n    const getRawWidth = (editor, elm) => {\n      const raw = editor.dom.getStyle(elm, 'width') || editor.dom.getAttrib(elm, 'width');\n      return Optional.from(raw).filter(isNotEmpty);\n    };\n    const isPercentage$1 = value => /^(\\d+(\\.\\d+)?)%$/.test(value);\n    const isPixel = value => /^(\\d+(\\.\\d+)?)px$/.test(value);\n\n    const inSelection = (bounds, detail) => {\n      const leftEdge = detail.column;\n      const rightEdge = detail.column + detail.colspan - 1;\n      const topEdge = detail.row;\n      const bottomEdge = detail.row + detail.rowspan - 1;\n      return leftEdge <= bounds.finishCol && rightEdge >= bounds.startCol && (topEdge <= bounds.finishRow && bottomEdge >= bounds.startRow);\n    };\n    const isWithin = (bounds, detail) => {\n      return detail.column >= bounds.startCol && detail.column + detail.colspan - 1 <= bounds.finishCol && detail.row >= bounds.startRow && detail.row + detail.rowspan - 1 <= bounds.finishRow;\n    };\n    const isRectangular = (warehouse, bounds) => {\n      let isRect = true;\n      const detailIsWithin = curry(isWithin, bounds);\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          isRect = isRect && Warehouse.getAt(warehouse, i, j).exists(detailIsWithin);\n        }\n      }\n      return isRect ? Optional.some(bounds) : Optional.none();\n    };\n\n    const getBounds = (detailA, detailB) => {\n      return bounds(Math.min(detailA.row, detailB.row), Math.min(detailA.column, detailB.column), Math.max(detailA.row + detailA.rowspan - 1, detailB.row + detailB.rowspan - 1), Math.max(detailA.column + detailA.colspan - 1, detailB.column + detailB.colspan - 1));\n    };\n    const getAnyBox = (warehouse, startCell, finishCell) => {\n      const startCoords = Warehouse.findItem(warehouse, startCell, eq$1);\n      const finishCoords = Warehouse.findItem(warehouse, finishCell, eq$1);\n      return startCoords.bind(sc => {\n        return finishCoords.map(fc => {\n          return getBounds(sc, fc);\n        });\n      });\n    };\n    const getBox$1 = (warehouse, startCell, finishCell) => {\n      return getAnyBox(warehouse, startCell, finishCell).bind(bounds => {\n        return isRectangular(warehouse, bounds);\n      });\n    };\n\n    const moveBy$1 = (warehouse, cell, row, column) => {\n      return Warehouse.findItem(warehouse, cell, eq$1).bind(detail => {\n        const startRow = row > 0 ? detail.row + detail.rowspan - 1 : detail.row;\n        const startCol = column > 0 ? detail.column + detail.colspan - 1 : detail.column;\n        const dest = Warehouse.getAt(warehouse, startRow + row, startCol + column);\n        return dest.map(d => {\n          return d.element;\n        });\n      });\n    };\n    const intercepts$1 = (warehouse, start, finish) => {\n      return getAnyBox(warehouse, start, finish).map(bounds => {\n        const inside = Warehouse.filterItems(warehouse, curry(inSelection, bounds));\n        return map$1(inside, detail => {\n          return detail.element;\n        });\n      });\n    };\n    const parentCell = (warehouse, innerCell) => {\n      const isContainedBy = (c1, c2) => {\n        return contains$1(c2, c1);\n      };\n      return Warehouse.findItem(warehouse, innerCell, isContainedBy).map(detail => {\n        return detail.element;\n      });\n    };\n\n    const moveBy = (cell, deltaRow, deltaColumn) => {\n      return table(cell).bind(table => {\n        const warehouse = getWarehouse(table);\n        return moveBy$1(warehouse, cell, deltaRow, deltaColumn);\n      });\n    };\n    const intercepts = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return intercepts$1(warehouse, first, last);\n    };\n    const nestedIntercepts = (table, first, firstTable, last, lastTable) => {\n      const warehouse = getWarehouse(table);\n      const optStartCell = eq$1(table, firstTable) ? Optional.some(first) : parentCell(warehouse, first);\n      const optLastCell = eq$1(table, lastTable) ? Optional.some(last) : parentCell(warehouse, last);\n      return optStartCell.bind(startCell => optLastCell.bind(lastCell => intercepts$1(warehouse, startCell, lastCell)));\n    };\n    const getBox = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return getBox$1(warehouse, first, last);\n    };\n    const getWarehouse = Warehouse.fromTable;\n\n    var TagBoundaries = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'li',\n      'table',\n      'thead',\n      'tbody',\n      'tfoot',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n\n    var DomUniverse = () => {\n      const clone = element => {\n        return SugarElement.fromDom(element.dom.cloneNode(false));\n      };\n      const document = element => documentOrOwner(element).dom;\n      const isBoundary = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        if (name(element) === 'body') {\n          return true;\n        }\n        return contains$2(TagBoundaries, name(element));\n      };\n      const isEmptyTag = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        return contains$2([\n          'br',\n          'img',\n          'hr',\n          'input'\n        ], name(element));\n      };\n      const isNonEditable = element => isElement(element) && get$b(element, 'contenteditable') === 'false';\n      const comparePosition = (element, other) => {\n        return element.dom.compareDocumentPosition(other.dom);\n      };\n      const copyAttributesTo = (source, destination) => {\n        const as = clone$2(source);\n        setAll$1(destination, as);\n      };\n      const isSpecial = element => {\n        const tag = name(element);\n        return contains$2([\n          'script',\n          'noscript',\n          'iframe',\n          'noframes',\n          'noembed',\n          'title',\n          'style',\n          'textarea',\n          'xmp'\n        ], tag);\n      };\n      const getLanguage = element => isElement(element) ? getOpt(element, 'lang') : Optional.none();\n      return {\n        up: constant({\n          selector: ancestor$1,\n          closest: closest$1,\n          predicate: ancestor$2,\n          all: parents\n        }),\n        down: constant({\n          selector: descendants,\n          predicate: descendants$1\n        }),\n        styles: constant({\n          get: get$a,\n          getRaw: getRaw$2,\n          set: set$1,\n          remove: remove$5\n        }),\n        attrs: constant({\n          get: get$b,\n          set: set$2,\n          remove: remove$7,\n          copyTo: copyAttributesTo\n        }),\n        insert: constant({\n          before: before$3,\n          after: after$5,\n          afterAll: after$4,\n          append: append$1,\n          appendAll: append,\n          prepend: prepend,\n          wrap: wrap\n        }),\n        remove: constant({\n          unwrap: unwrap,\n          remove: remove$6\n        }),\n        create: constant({\n          nu: SugarElement.fromTag,\n          clone,\n          text: SugarElement.fromText\n        }),\n        query: constant({\n          comparePosition,\n          prevSibling: prevSibling,\n          nextSibling: nextSibling\n        }),\n        property: constant({\n          children: children$2,\n          name: name,\n          parent: parent,\n          document,\n          isText: isText,\n          isComment: isComment,\n          isElement: isElement,\n          isSpecial,\n          getLanguage,\n          getText: get$6,\n          setText: set,\n          isBoundary,\n          isEmptyTag,\n          isNonEditable\n        }),\n        eq: eq$1,\n        is: is$1\n      };\n    };\n\n    const all = (universe, look, elements, f) => {\n      const head = elements[0];\n      const tail = elements.slice(1);\n      return f(universe, look, head, tail);\n    };\n    const oneAll = (universe, look, elements) => {\n      return elements.length > 0 ? all(universe, look, elements, unsafeOne) : Optional.none();\n    };\n    const unsafeOne = (universe, look, head, tail) => {\n      const start = look(universe, head);\n      return foldr(tail, (b, a) => {\n        const current = look(universe, a);\n        return commonElement(universe, b, current);\n      }, start);\n    };\n    const commonElement = (universe, start, end) => {\n      return start.bind(s => {\n        return end.filter(curry(universe.eq, s));\n      });\n    };\n\n    const eq = (universe, item) => {\n      return curry(universe.eq, item);\n    };\n    const ancestors$2 = (universe, start, end, isRoot = never) => {\n      const ps1 = [start].concat(universe.up().all(start));\n      const ps2 = [end].concat(universe.up().all(end));\n      const prune = path => {\n        const index = findIndex(path, isRoot);\n        return index.fold(() => {\n          return path;\n        }, ind => {\n          return path.slice(0, ind + 1);\n        });\n      };\n      const pruned1 = prune(ps1);\n      const pruned2 = prune(ps2);\n      const shared = find$1(pruned1, x => {\n        return exists(pruned2, eq(universe, x));\n      });\n      return {\n        firstpath: pruned1,\n        secondpath: pruned2,\n        shared\n      };\n    };\n\n    const sharedOne$1 = oneAll;\n    const ancestors$1 = ancestors$2;\n\n    const universe$3 = DomUniverse();\n    const sharedOne = (look, elements) => {\n      return sharedOne$1(universe$3, (_universe, element) => {\n        return look(element);\n      }, elements);\n    };\n    const ancestors = (start, finish, isRoot) => {\n      return ancestors$1(universe$3, start, finish, isRoot);\n    };\n\n    const lookupTable = container => {\n      return ancestor$1(container, 'table');\n    };\n    const identify = (start, finish, isRoot) => {\n      const getIsRoot = rootTable => {\n        return element => {\n          return isRoot !== undefined && isRoot(element) || eq$1(element, rootTable);\n        };\n      };\n      if (eq$1(start, finish)) {\n        return Optional.some({\n          boxes: Optional.some([start]),\n          start,\n          finish\n        });\n      } else {\n        return lookupTable(start).bind(startTable => {\n          return lookupTable(finish).bind(finishTable => {\n            if (eq$1(startTable, finishTable)) {\n              return Optional.some({\n                boxes: intercepts(startTable, start, finish),\n                start,\n                finish\n              });\n            } else if (contains$1(startTable, finishTable)) {\n              const ancestorCells = ancestors$3(finish, 'td,th', getIsRoot(startTable));\n              const finishCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : finish;\n              return Optional.some({\n                boxes: nestedIntercepts(startTable, start, startTable, finish, finishTable),\n                start,\n                finish: finishCell\n              });\n            } else if (contains$1(finishTable, startTable)) {\n              const ancestorCells = ancestors$3(start, 'td,th', getIsRoot(finishTable));\n              const startCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : start;\n              return Optional.some({\n                boxes: nestedIntercepts(finishTable, start, startTable, finish, finishTable),\n                start,\n                finish: startCell\n              });\n            } else {\n              return ancestors(start, finish).shared.bind(lca => {\n                return closest$1(lca, 'table', isRoot).bind(lcaTable => {\n                  const finishAncestorCells = ancestors$3(finish, 'td,th', getIsRoot(lcaTable));\n                  const finishCell = finishAncestorCells.length > 0 ? finishAncestorCells[finishAncestorCells.length - 1] : finish;\n                  const startAncestorCells = ancestors$3(start, 'td,th', getIsRoot(lcaTable));\n                  const startCell = startAncestorCells.length > 0 ? startAncestorCells[startAncestorCells.length - 1] : start;\n                  return Optional.some({\n                    boxes: nestedIntercepts(lcaTable, start, startTable, finish, finishTable),\n                    start: startCell,\n                    finish: finishCell\n                  });\n                });\n              });\n            }\n          });\n        });\n      }\n    };\n    const retrieve$1 = (container, selector) => {\n      const sels = descendants(container, selector);\n      return sels.length > 0 ? Optional.some(sels) : Optional.none();\n    };\n    const getLast = (boxes, lastSelectedSelector) => {\n      return find$1(boxes, box => {\n        return is$2(box, lastSelectedSelector);\n      });\n    };\n    const getEdges = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return descendant(container, firstSelectedSelector).bind(first => {\n        return descendant(container, lastSelectedSelector).bind(last => {\n          return sharedOne(lookupTable, [\n            first,\n            last\n          ]).map(table => {\n            return {\n              first,\n              last,\n              table\n            };\n          });\n        });\n      });\n    };\n    const expandTo = (finish, firstSelectedSelector) => {\n      return ancestor$1(finish, 'table').bind(table => {\n        return descendant(table, firstSelectedSelector).bind(start => {\n          return identify(start, finish).bind(identified => {\n            return identified.boxes.map(boxes => {\n              return {\n                boxes,\n                start: identified.start,\n                finish: identified.finish\n              };\n            });\n          });\n        });\n      });\n    };\n    const shiftSelection = (boxes, deltaRow, deltaColumn, firstSelectedSelector, lastSelectedSelector) => {\n      return getLast(boxes, lastSelectedSelector).bind(last => {\n        return moveBy(last, deltaRow, deltaColumn).bind(finish => {\n          return expandTo(finish, firstSelectedSelector);\n        });\n      });\n    };\n\n    const retrieve = (container, selector) => {\n      return retrieve$1(container, selector);\n    };\n    const retrieveBox = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return getEdges(container, firstSelectedSelector, lastSelectedSelector).bind(edges => {\n        const isRoot = ancestor => {\n          return eq$1(container, ancestor);\n        };\n        const sectionSelector = 'thead,tfoot,tbody,table';\n        const firstAncestor = ancestor$1(edges.first, sectionSelector, isRoot);\n        const lastAncestor = ancestor$1(edges.last, sectionSelector, isRoot);\n        return firstAncestor.bind(fA => {\n          return lastAncestor.bind(lA => {\n            return eq$1(fA, lA) ? getBox(edges.table, edges.first, edges.last) : Optional.none();\n          });\n        });\n      });\n    };\n\n    const selection = identity;\n    const unmergable = selectedCells => {\n      const hasSpan = (elem, type) => getOpt(elem, type).exists(span => parseInt(span, 10) > 1);\n      const hasRowOrColSpan = elem => hasSpan(elem, 'rowspan') || hasSpan(elem, 'colspan');\n      return selectedCells.length > 0 && forall(selectedCells, hasRowOrColSpan) ? Optional.some(selectedCells) : Optional.none();\n    };\n    const mergable = (table, selectedCells, ephemera) => {\n      if (selectedCells.length <= 1) {\n        return Optional.none();\n      } else {\n        return retrieveBox(table, ephemera.firstSelectedSelector, ephemera.lastSelectedSelector).map(bounds => ({\n          bounds,\n          cells: selectedCells\n        }));\n      }\n    };\n\n    const strSelected = 'data-mce-selected';\n    const strSelectedSelector = 'td[' + strSelected + '],th[' + strSelected + ']';\n    const strAttributeSelector = '[' + strSelected + ']';\n    const strFirstSelected = 'data-mce-first-selected';\n    const strFirstSelectedSelector = 'td[' + strFirstSelected + '],th[' + strFirstSelected + ']';\n    const strLastSelected = 'data-mce-last-selected';\n    const strLastSelectedSelector = 'td[' + strLastSelected + '],th[' + strLastSelected + ']';\n    const attributeSelector = strAttributeSelector;\n    const ephemera = {\n      selected: strSelected,\n      selectedSelector: strSelectedSelector,\n      firstSelected: strFirstSelected,\n      firstSelectedSelector: strFirstSelectedSelector,\n      lastSelected: strLastSelected,\n      lastSelectedSelector: strLastSelectedSelector\n    };\n\n    const forMenu = (selectedCells, table, cell) => ({\n      element: cell,\n      mergable: mergable(table, selectedCells, ephemera),\n      unmergable: unmergable(selectedCells),\n      selection: selection(selectedCells)\n    });\n    const paste = (element, clipboard, generators) => ({\n      element,\n      clipboard,\n      generators\n    });\n    const pasteRows = (selectedCells, _cell, clipboard, generators) => ({\n      selection: selection(selectedCells),\n      clipboard,\n      generators\n    });\n\n    const getSelectionCellFallback = element => table(element).bind(table => retrieve(table, ephemera.firstSelectedSelector)).fold(constant(element), cells => cells[0]);\n    const getSelectionFromSelector = selector => (initCell, isRoot) => {\n      const cellName = name(initCell);\n      const cell = cellName === 'col' || cellName === 'colgroup' ? getSelectionCellFallback(initCell) : initCell;\n      return closest$1(cell, selector, isRoot);\n    };\n    const getSelectionCellOrCaption = getSelectionFromSelector('th,td,caption');\n    const getSelectionCell = getSelectionFromSelector('th,td');\n    const getCellsFromSelection = editor => fromDom(editor.model.table.getSelectedCells());\n    const getCellsFromFakeSelection = editor => filter$2(getCellsFromSelection(editor), cell => is$2(cell, ephemera.selectedSelector));\n\n    const extractSelected = cells => {\n      return table(cells[0]).map(table => {\n        const replica = extract$1(table, attributeSelector);\n        removeDataStyle(replica);\n        return [replica];\n      });\n    };\n    const serializeElements = (editor, elements) => map$1(elements, elm => editor.selection.serializer.serialize(elm.dom, {})).join('');\n    const getTextContent = elements => map$1(elements, element => element.dom.innerText).join('');\n    const registerEvents = (editor, actions) => {\n      editor.on('BeforeGetContent', e => {\n        const multiCellContext = cells => {\n          e.preventDefault();\n          extractSelected(cells).each(elements => {\n            e.content = e.format === 'text' ? getTextContent(elements) : serializeElements(editor, elements);\n          });\n        };\n        if (e.selection === true) {\n          const cells = getCellsFromFakeSelection(editor);\n          if (cells.length >= 1) {\n            multiCellContext(cells);\n          }\n        }\n      });\n      editor.on('BeforeSetContent', e => {\n        if (e.selection === true && e.paste === true) {\n          const selectedCells = getCellsFromSelection(editor);\n          head(selectedCells).each(cell => {\n            table(cell).each(table => {\n              const elements = filter$2(fromHtml(e.content), content => {\n                return name(content) !== 'meta';\n              });\n              const isTable = isTag('table');\n              if (elements.length === 1 && isTable(elements[0])) {\n                e.preventDefault();\n                const doc = SugarElement.fromDom(editor.getDoc());\n                const generators = paste$1(doc);\n                const targets = paste(cell, elements[0], generators);\n                actions.pasteCells(table, targets).each(() => {\n                  editor.focus();\n                });\n              }\n            });\n          });\n        }\n      });\n    };\n\n    const point = (element, offset) => ({\n      element,\n      offset\n    });\n\n    const scan$1 = (universe, element, direction) => {\n      if (universe.property().isText(element) && universe.property().getText(element).trim().length === 0 || universe.property().isComment(element)) {\n        return direction(element).bind(elem => {\n          return scan$1(universe, elem, direction).orThunk(() => {\n            return Optional.some(elem);\n          });\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const toEnd = (universe, element) => {\n      if (universe.property().isText(element)) {\n        return universe.property().getText(element).length;\n      }\n      const children = universe.property().children(element);\n      return children.length;\n    };\n    const freefallRtl$2 = (universe, element) => {\n      const candidate = scan$1(universe, element, universe.query().prevSibling).getOr(element);\n      if (universe.property().isText(candidate)) {\n        return point(candidate, toEnd(universe, candidate));\n      }\n      const children = universe.property().children(candidate);\n      return children.length > 0 ? freefallRtl$2(universe, children[children.length - 1]) : point(candidate, toEnd(universe, candidate));\n    };\n\n    const freefallRtl$1 = freefallRtl$2;\n\n    const universe$2 = DomUniverse();\n    const freefallRtl = element => {\n      return freefallRtl$1(universe$2, element);\n    };\n\n    const halve = (main, other) => {\n      if (!hasColspan(main)) {\n        const width = getGenericWidth(main);\n        width.each(w => {\n          const newWidth = w.value / 2;\n          setGenericWidth(main, newWidth, w.unit);\n          setGenericWidth(other, newWidth, w.unit);\n        });\n      }\n    };\n\n    const zero = array => map$1(array, constant(0));\n    const surround = (sizes, startIndex, endIndex, results, f) => f(sizes.slice(0, startIndex)).concat(results).concat(f(sizes.slice(endIndex)));\n    const clampDeltaHelper = predicate => (sizes, index, delta, minCellSize) => {\n      if (!predicate(delta)) {\n        return delta;\n      } else {\n        const newSize = Math.max(minCellSize, sizes[index] - Math.abs(delta));\n        const diff = Math.abs(newSize - sizes[index]);\n        return delta >= 0 ? diff : -diff;\n      }\n    };\n    const clampNegativeDelta = clampDeltaHelper(delta => delta < 0);\n    const clampDelta = clampDeltaHelper(always);\n    const resizeTable = () => {\n      const calcFixedDeltas = (sizes, index, next, delta, minCellSize) => {\n        const clampedDelta = clampNegativeDelta(sizes, index, delta, minCellSize);\n        return surround(sizes, index, next + 1, [\n          clampedDelta,\n          0\n        ], zero);\n      };\n      const calcRelativeDeltas = (sizes, index, delta, minCellSize) => {\n        const ratio = (100 + delta) / 100;\n        const newThis = Math.max(minCellSize, (sizes[index] + delta) / ratio);\n        return map$1(sizes, (size, idx) => {\n          const newSize = idx === index ? newThis : size / ratio;\n          return newSize - size;\n        });\n      };\n      const calcLeftEdgeDeltas = (sizes, index, next, delta, minCellSize, isRelative) => {\n        if (isRelative) {\n          return calcRelativeDeltas(sizes, index, delta, minCellSize);\n        } else {\n          return calcFixedDeltas(sizes, index, next, delta, minCellSize);\n        }\n      };\n      const calcMiddleDeltas = (sizes, _prev, index, next, delta, minCellSize, isRelative) => calcLeftEdgeDeltas(sizes, index, next, delta, minCellSize, isRelative);\n      const resizeTable = (resizer, delta) => resizer(delta);\n      const calcRightEdgeDeltas = (sizes, _prev, index, delta, minCellSize, isRelative) => {\n        if (isRelative) {\n          return calcRelativeDeltas(sizes, index, delta, minCellSize);\n        } else {\n          const clampedDelta = clampNegativeDelta(sizes, index, delta, minCellSize);\n          return zero(sizes.slice(0, index)).concat([clampedDelta]);\n        }\n      };\n      const calcRedestributedWidths = (sizes, totalWidth, pixelDelta, isRelative) => {\n        if (isRelative) {\n          const tableWidth = totalWidth + pixelDelta;\n          const ratio = tableWidth / totalWidth;\n          const newSizes = map$1(sizes, size => size / ratio);\n          return {\n            delta: ratio * 100 - 100,\n            newSizes\n          };\n        } else {\n          return {\n            delta: pixelDelta,\n            newSizes: sizes\n          };\n        }\n      };\n      return {\n        resizeTable,\n        clampTableDelta: clampNegativeDelta,\n        calcLeftEdgeDeltas,\n        calcMiddleDeltas,\n        calcRightEdgeDeltas,\n        calcRedestributedWidths\n      };\n    };\n    const preserveTable = () => {\n      const calcLeftEdgeDeltas = (sizes, index, next, delta, minCellSize) => {\n        const idx = delta >= 0 ? next : index;\n        const clampedDelta = clampDelta(sizes, idx, delta, minCellSize);\n        return surround(sizes, index, next + 1, [\n          clampedDelta,\n          -clampedDelta\n        ], zero);\n      };\n      const calcMiddleDeltas = (sizes, _prev, index, next, delta, minCellSize) => calcLeftEdgeDeltas(sizes, index, next, delta, minCellSize);\n      const resizeTable = (resizer, delta, isLastColumn) => {\n        if (isLastColumn) {\n          resizer(delta);\n        }\n      };\n      const calcRightEdgeDeltas = (sizes, _prev, _index, delta, _minCellSize, isRelative) => {\n        if (isRelative) {\n          return zero(sizes);\n        } else {\n          const diff = delta / sizes.length;\n          return map$1(sizes, constant(diff));\n        }\n      };\n      const clampTableDelta = (sizes, index, delta, minCellSize, isLastColumn) => {\n        if (isLastColumn) {\n          if (delta >= 0) {\n            return delta;\n          } else {\n            const maxDelta = foldl(sizes, (a, b) => a + b - minCellSize, 0);\n            return Math.max(-maxDelta, delta);\n          }\n        } else {\n          return clampNegativeDelta(sizes, index, delta, minCellSize);\n        }\n      };\n      const calcRedestributedWidths = (sizes, _totalWidth, _pixelDelta, _isRelative) => ({\n        delta: 0,\n        newSizes: sizes\n      });\n      return {\n        resizeTable,\n        clampTableDelta,\n        calcLeftEdgeDeltas,\n        calcMiddleDeltas,\n        calcRightEdgeDeltas,\n        calcRedestributedWidths\n      };\n    };\n\n    const getGridSize = table => {\n      const warehouse = Warehouse.fromTable(table);\n      return warehouse.grid;\n    };\n\n    const isHeaderCell = isTag('th');\n    const isHeaderCells = cells => forall(cells, cell => isHeaderCell(cell.element));\n    const getRowHeaderType = (isHeaderRow, isHeaderCells) => {\n      if (isHeaderRow && isHeaderCells) {\n        return 'sectionCells';\n      } else if (isHeaderRow) {\n        return 'section';\n      } else {\n        return 'cells';\n      }\n    };\n    const getRowType = row => {\n      const isHeaderRow = row.section === 'thead';\n      const isHeaderCells = is(findCommonCellType(row.cells), 'th');\n      if (row.section === 'tfoot') {\n        return { type: 'footer' };\n      } else if (isHeaderRow || isHeaderCells) {\n        return {\n          type: 'header',\n          subType: getRowHeaderType(isHeaderRow, isHeaderCells)\n        };\n      } else {\n        return { type: 'body' };\n      }\n    };\n    const findCommonCellType = cells => {\n      const headerCells = filter$2(cells, cell => isHeaderCell(cell.element));\n      if (headerCells.length === 0) {\n        return Optional.some('td');\n      } else if (headerCells.length === cells.length) {\n        return Optional.some('th');\n      } else {\n        return Optional.none();\n      }\n    };\n    const findCommonRowType = rows => {\n      const rowTypes = map$1(rows, row => getRowType(row).type);\n      const hasHeader = contains$2(rowTypes, 'header');\n      const hasFooter = contains$2(rowTypes, 'footer');\n      if (!hasHeader && !hasFooter) {\n        return Optional.some('body');\n      } else {\n        const hasBody = contains$2(rowTypes, 'body');\n        if (hasHeader && !hasBody && !hasFooter) {\n          return Optional.some('header');\n        } else if (!hasHeader && !hasBody && hasFooter) {\n          return Optional.some('footer');\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    const findTableRowHeaderType = warehouse => findMap(warehouse.all, row => {\n      const rowType = getRowType(row);\n      return rowType.type === 'header' ? Optional.from(rowType.subType) : Optional.none();\n    });\n\n    const transformCell = (cell, comparator, substitution) => elementnew(substitution(cell.element, comparator), true, cell.isLocked);\n    const transformRow = (row, section) => row.section !== section ? rowcells(row.element, row.cells, section, row.isNew) : row;\n    const section = () => ({\n      transformRow,\n      transformCell: (cell, comparator, substitution) => {\n        const newCell = substitution(cell.element, comparator);\n        const fixedCell = name(newCell) !== 'td' ? mutate$1(newCell, 'td') : newCell;\n        return elementnew(fixedCell, cell.isNew, cell.isLocked);\n      }\n    });\n    const sectionCells = () => ({\n      transformRow,\n      transformCell\n    });\n    const cells = () => ({\n      transformRow: (row, section) => {\n        const newSection = section === 'thead' ? 'tbody' : section;\n        return transformRow(row, newSection);\n      },\n      transformCell\n    });\n    const fallback = () => ({\n      transformRow: identity,\n      transformCell\n    });\n    const getTableSectionType = (table, fallback) => {\n      const warehouse = Warehouse.fromTable(table);\n      const type = findTableRowHeaderType(warehouse).getOr(fallback);\n      switch (type) {\n      case 'section':\n        return section();\n      case 'sectionCells':\n        return sectionCells();\n      case 'cells':\n        return cells();\n      }\n    };\n    const TableSection = {\n      getTableSectionType,\n      section,\n      sectionCells,\n      cells,\n      fallback\n    };\n\n    const closest = target => closest$1(target, '[contenteditable]');\n    const isEditable$1 = (element, assumeEditable = false) => {\n      if (inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest(element).fold(constant(assumeEditable), editable => getRaw(editable) === 'true');\n      }\n    };\n    const getRaw = element => element.dom.contentEditable;\n\n    const setIfNot = (element, property, value, ignore) => {\n      if (value === ignore) {\n        remove$7(element, property);\n      } else {\n        set$2(element, property, value);\n      }\n    };\n    const insert$1 = (table, selector, element) => {\n      last$2(children(table, selector)).fold(() => prepend(table, element), child => after$5(child, element));\n    };\n    const generateSection = (table, sectionName) => {\n      const section = child(table, sectionName).getOrThunk(() => {\n        const newSection = SugarElement.fromTag(sectionName, owner(table).dom);\n        if (sectionName === 'thead') {\n          insert$1(table, 'caption,colgroup', newSection);\n        } else if (sectionName === 'colgroup') {\n          insert$1(table, 'caption', newSection);\n        } else {\n          append$1(table, newSection);\n        }\n        return newSection;\n      });\n      empty(section);\n      return section;\n    };\n    const render$1 = (table, grid) => {\n      const newRows = [];\n      const newCells = [];\n      const syncRows = gridSection => map$1(gridSection, row => {\n        if (row.isNew) {\n          newRows.push(row.element);\n        }\n        const tr = row.element;\n        empty(tr);\n        each$2(row.cells, cell => {\n          if (cell.isNew) {\n            newCells.push(cell.element);\n          }\n          setIfNot(cell.element, 'colspan', cell.colspan, 1);\n          setIfNot(cell.element, 'rowspan', cell.rowspan, 1);\n          append$1(tr, cell.element);\n        });\n        return tr;\n      });\n      const syncColGroup = gridSection => bind$2(gridSection, colGroup => map$1(colGroup.cells, col => {\n        setIfNot(col.element, 'span', col.colspan, 1);\n        return col.element;\n      }));\n      const renderSection = (gridSection, sectionName) => {\n        const section = generateSection(table, sectionName);\n        const sync = sectionName === 'colgroup' ? syncColGroup : syncRows;\n        const sectionElems = sync(gridSection);\n        append(section, sectionElems);\n      };\n      const removeSection = sectionName => {\n        child(table, sectionName).each(remove$6);\n      };\n      const renderOrRemoveSection = (gridSection, sectionName) => {\n        if (gridSection.length > 0) {\n          renderSection(gridSection, sectionName);\n        } else {\n          removeSection(sectionName);\n        }\n      };\n      const headSection = [];\n      const bodySection = [];\n      const footSection = [];\n      const columnGroupsSection = [];\n      each$2(grid, row => {\n        switch (row.section) {\n        case 'thead':\n          headSection.push(row);\n          break;\n        case 'tbody':\n          bodySection.push(row);\n          break;\n        case 'tfoot':\n          footSection.push(row);\n          break;\n        case 'colgroup':\n          columnGroupsSection.push(row);\n          break;\n        }\n      });\n      renderOrRemoveSection(columnGroupsSection, 'colgroup');\n      renderOrRemoveSection(headSection, 'thead');\n      renderOrRemoveSection(bodySection, 'tbody');\n      renderOrRemoveSection(footSection, 'tfoot');\n      return {\n        newRows,\n        newCells\n      };\n    };\n    const copy = grid => map$1(grid, row => {\n      const tr = shallow(row.element);\n      each$2(row.cells, cell => {\n        const clonedCell = deep(cell.element);\n        setIfNot(clonedCell, 'colspan', cell.colspan, 1);\n        setIfNot(clonedCell, 'rowspan', cell.rowspan, 1);\n        append$1(tr, clonedCell);\n      });\n      return tr;\n    });\n\n    const getColumn = (grid, index) => {\n      return map$1(grid, row => {\n        return getCell(row, index);\n      });\n    };\n    const getRow = (grid, index) => {\n      return grid[index];\n    };\n    const findDiff = (xs, comp) => {\n      if (xs.length === 0) {\n        return 0;\n      }\n      const first = xs[0];\n      const index = findIndex(xs, x => {\n        return !comp(first.element, x.element);\n      });\n      return index.getOr(xs.length);\n    };\n    const subgrid = (grid, row, column, comparator) => {\n      const gridRow = getRow(grid, row);\n      const isColRow = gridRow.section === 'colgroup';\n      const colspan = findDiff(gridRow.cells.slice(column), comparator);\n      const rowspan = isColRow ? 1 : findDiff(getColumn(grid.slice(row), column), comparator);\n      return {\n        colspan,\n        rowspan\n      };\n    };\n\n    const toDetails = (grid, comparator) => {\n      const seen = map$1(grid, row => map$1(row.cells, never));\n      const updateSeen = (rowIndex, columnIndex, rowspan, colspan) => {\n        for (let row = rowIndex; row < rowIndex + rowspan; row++) {\n          for (let column = columnIndex; column < columnIndex + colspan; column++) {\n            seen[row][column] = true;\n          }\n        }\n      };\n      return map$1(grid, (row, rowIndex) => {\n        const details = bind$2(row.cells, (cell, columnIndex) => {\n          if (seen[rowIndex][columnIndex] === false) {\n            const result = subgrid(grid, rowIndex, columnIndex, comparator);\n            updateSeen(rowIndex, columnIndex, result.rowspan, result.colspan);\n            return [detailnew(cell.element, result.rowspan, result.colspan, cell.isNew)];\n          } else {\n            return [];\n          }\n        });\n        return rowdetailnew(row.element, details, row.section, row.isNew);\n      });\n    };\n    const toGrid = (warehouse, generators, isNew) => {\n      const grid = [];\n      each$2(warehouse.colgroups, colgroup => {\n        const colgroupCols = [];\n        for (let columnIndex = 0; columnIndex < warehouse.grid.columns; columnIndex++) {\n          const element = Warehouse.getColumnAt(warehouse, columnIndex).map(column => elementnew(column.element, isNew, false)).getOrThunk(() => elementnew(generators.colGap(), true, false));\n          colgroupCols.push(element);\n        }\n        grid.push(rowcells(colgroup.element, colgroupCols, 'colgroup', isNew));\n      });\n      for (let rowIndex = 0; rowIndex < warehouse.grid.rows; rowIndex++) {\n        const rowCells = [];\n        for (let columnIndex = 0; columnIndex < warehouse.grid.columns; columnIndex++) {\n          const element = Warehouse.getAt(warehouse, rowIndex, columnIndex).map(item => elementnew(item.element, isNew, item.isLocked)).getOrThunk(() => elementnew(generators.gap(), true, false));\n          rowCells.push(element);\n        }\n        const rowDetail = warehouse.all[rowIndex];\n        const row = rowcells(rowDetail.element, rowCells, rowDetail.section, isNew);\n        grid.push(row);\n      }\n      return grid;\n    };\n\n    const fromWarehouse = (warehouse, generators) => toGrid(warehouse, generators, false);\n    const toDetailList = grid => toDetails(grid, eq$1);\n    const findInWarehouse = (warehouse, element) => findMap(warehouse.all, r => find$1(r.cells, e => eq$1(element, e.element)));\n    const extractCells = (warehouse, target, predicate) => {\n      const details = map$1(target.selection, cell$1 => {\n        return cell(cell$1).bind(lc => findInWarehouse(warehouse, lc)).filter(predicate);\n      });\n      const cells = cat(details);\n      return someIf(cells.length > 0, cells);\n    };\n    const run = (operation, extract, adjustment, postAction, genWrappers) => (table, target, generators, behaviours) => {\n      const warehouse = Warehouse.fromTable(table);\n      const tableSection = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.section).getOrThunk(TableSection.fallback);\n      const output = extract(warehouse, target).map(info => {\n        const model = fromWarehouse(warehouse, generators);\n        const result = operation(model, info, eq$1, genWrappers(generators), tableSection);\n        const lockedColumns = getLockedColumnsFromGrid(result.grid);\n        const grid = toDetailList(result.grid);\n        return {\n          info,\n          grid,\n          cursor: result.cursor,\n          lockedColumns\n        };\n      });\n      return output.bind(out => {\n        const newElements = render$1(table, out.grid);\n        const tableSizing = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.sizing).getOrThunk(() => TableSize.getTableSize(table));\n        const resizing = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.resize).getOrThunk(preserveTable);\n        adjustment(table, out.grid, out.info, {\n          sizing: tableSizing,\n          resize: resizing,\n          section: tableSection\n        });\n        postAction(table);\n        remove$7(table, LOCKED_COL_ATTR);\n        if (out.lockedColumns.length > 0) {\n          set$2(table, LOCKED_COL_ATTR, out.lockedColumns.join(','));\n        }\n        return Optional.some({\n          cursor: out.cursor,\n          newRows: newElements.newRows,\n          newCells: newElements.newCells\n        });\n      });\n    };\n    const onPaste = (warehouse, target) => cell(target.element).bind(cell => findInWarehouse(warehouse, cell).map(details => {\n      const value = {\n        ...details,\n        generators: target.generators,\n        clipboard: target.clipboard\n      };\n      return value;\n    }));\n    const onPasteByEditor = (warehouse, target) => extractCells(warehouse, target, always).map(cells => ({\n      cells,\n      generators: target.generators,\n      clipboard: target.clipboard\n    }));\n    const onMergable = (_warehouse, target) => target.mergable;\n    const onUnmergable = (_warehouse, target) => target.unmergable;\n    const onCells = (warehouse, target) => extractCells(warehouse, target, always);\n    const onUnlockedCells = (warehouse, target) => extractCells(warehouse, target, detail => !detail.isLocked);\n    const isUnlockedTableCell = (warehouse, cell) => findInWarehouse(warehouse, cell).exists(detail => !detail.isLocked);\n    const allUnlocked = (warehouse, cells) => forall(cells, cell => isUnlockedTableCell(warehouse, cell));\n    const onUnlockedMergable = (warehouse, target) => onMergable(warehouse, target).filter(mergeable => allUnlocked(warehouse, mergeable.cells));\n    const onUnlockedUnmergable = (warehouse, target) => onUnmergable(warehouse, target).filter(cells => allUnlocked(warehouse, cells));\n\n    const merge$2 = (grid, bounds, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      if (rows.length === 0) {\n        return grid;\n      }\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          const row = rows[i];\n          const isLocked = getCell(row, j).isLocked;\n          mutateCell(row, j, elementnew(substitution(), false, isLocked));\n        }\n      }\n      return grid;\n    };\n    const unmerge = (grid, target, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      let first = true;\n      for (let i = 0; i < rows.length; i++) {\n        for (let j = 0; j < cellLength(rows[0]); j++) {\n          const row = rows[i];\n          const currentCell = getCell(row, j);\n          const currentCellElm = currentCell.element;\n          const isToReplace = comparator(currentCellElm, target);\n          if (isToReplace && !first) {\n            mutateCell(row, j, elementnew(substitution(), true, currentCell.isLocked));\n          } else if (isToReplace) {\n            first = false;\n          }\n        }\n      }\n      return grid;\n    };\n    const uniqueCells = (row, comparator) => {\n      return foldl(row, (rest, cell) => {\n        return exists(rest, currentCell => {\n          return comparator(currentCell.element, cell.element);\n        }) ? rest : rest.concat([cell]);\n      }, []);\n    };\n    const splitCols = (grid, index, comparator, substitution) => {\n      if (index > 0 && index < grid[0].cells.length) {\n        each$2(grid, row => {\n          const prevCell = row.cells[index - 1];\n          let offset = 0;\n          const substitute = substitution();\n          while (row.cells.length > index + offset && comparator(prevCell.element, row.cells[index + offset].element)) {\n            mutateCell(row, index + offset, elementnew(substitute, true, row.cells[index + offset].isLocked));\n            offset++;\n          }\n        });\n      }\n      return grid;\n    };\n    const splitRows = (grid, index, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      if (index > 0 && index < rows.length) {\n        const rowPrevCells = rows[index - 1].cells;\n        const cells = uniqueCells(rowPrevCells, comparator);\n        each$2(cells, cell => {\n          let replacement = Optional.none();\n          for (let i = index; i < rows.length; i++) {\n            for (let j = 0; j < cellLength(rows[0]); j++) {\n              const row = rows[i];\n              const current = getCell(row, j);\n              const isToReplace = comparator(current.element, cell.element);\n              if (isToReplace) {\n                if (replacement.isNone()) {\n                  replacement = Optional.some(substitution());\n                }\n                replacement.each(sub => {\n                  mutateCell(row, j, elementnew(sub, true, current.isLocked));\n                });\n              }\n            }\n          }\n        });\n      }\n      return grid;\n    };\n\n    const value$1 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply,\n        orThunk: apply,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error(err), value$1);\n    const Result = {\n      value: value$1,\n      error,\n      fromOption\n    };\n\n    const measure = (startAddress, gridA, gridB) => {\n      if (startAddress.row >= gridA.length || startAddress.column > cellLength(gridA[0])) {\n        return Result.error('invalid start address out of table bounds, row: ' + startAddress.row + ', column: ' + startAddress.column);\n      }\n      const rowRemainder = gridA.slice(startAddress.row);\n      const colRemainder = rowRemainder[0].cells.slice(startAddress.column);\n      const colRequired = cellLength(gridB[0]);\n      const rowRequired = gridB.length;\n      return Result.value({\n        rowDelta: rowRemainder.length - rowRequired,\n        colDelta: colRemainder.length - colRequired\n      });\n    };\n    const measureWidth = (gridA, gridB) => {\n      const colLengthA = cellLength(gridA[0]);\n      const colLengthB = cellLength(gridB[0]);\n      return {\n        rowDelta: 0,\n        colDelta: colLengthA - colLengthB\n      };\n    };\n    const measureHeight = (gridA, gridB) => {\n      const rowLengthA = gridA.length;\n      const rowLengthB = gridB.length;\n      return {\n        rowDelta: rowLengthA - rowLengthB,\n        colDelta: 0\n      };\n    };\n    const generateElements = (amount, row, generators, isLocked) => {\n      const generator = row.section === 'colgroup' ? generators.col : generators.cell;\n      return range$1(amount, idx => elementnew(generator(), true, isLocked(idx)));\n    };\n    const rowFill = (grid, amount, generators, lockedColumns) => {\n      const exampleRow = grid[grid.length - 1];\n      return grid.concat(range$1(amount, () => {\n        const generator = exampleRow.section === 'colgroup' ? generators.colgroup : generators.row;\n        const row = clone(exampleRow, generator, identity);\n        const elements = generateElements(row.cells.length, row, generators, idx => has$1(lockedColumns, idx.toString()));\n        return setCells(row, elements);\n      }));\n    };\n    const colFill = (grid, amount, generators, startIndex) => map$1(grid, row => {\n      const newChildren = generateElements(amount, row, generators, never);\n      return addCells(row, startIndex, newChildren);\n    });\n    const lockedColFill = (grid, generators, lockedColumns) => map$1(grid, row => {\n      return foldl(lockedColumns, (acc, colNum) => {\n        const newChild = generateElements(1, row, generators, always)[0];\n        return addCell(acc, colNum, newChild);\n      }, row);\n    });\n    const tailor = (gridA, delta, generators) => {\n      const fillCols = delta.colDelta < 0 ? colFill : identity;\n      const fillRows = delta.rowDelta < 0 ? rowFill : identity;\n      const lockedColumns = getLockedColumnsFromGrid(gridA);\n      const gridWidth = cellLength(gridA[0]);\n      const isLastColLocked = exists(lockedColumns, locked => locked === gridWidth - 1);\n      const modifiedCols = fillCols(gridA, Math.abs(delta.colDelta), generators, isLastColLocked ? gridWidth - 1 : gridWidth);\n      const newLockedColumns = getLockedColumnsFromGrid(modifiedCols);\n      return fillRows(modifiedCols, Math.abs(delta.rowDelta), generators, mapToObject(newLockedColumns, always));\n    };\n\n    const isSpanning = (grid, row, col, comparator) => {\n      const candidate = getCell(grid[row], col);\n      const matching = curry(comparator, candidate.element);\n      const currentRow = grid[row];\n      return grid.length > 1 && cellLength(currentRow) > 1 && (col > 0 && matching(getCellElement(currentRow, col - 1)) || col < currentRow.cells.length - 1 && matching(getCellElement(currentRow, col + 1)) || row > 0 && matching(getCellElement(grid[row - 1], col)) || row < grid.length - 1 && matching(getCellElement(grid[row + 1], col)));\n    };\n    const mergeTables = (startAddress, gridA, gridBRows, generator, comparator, lockedColumns) => {\n      const startRow = startAddress.row;\n      const startCol = startAddress.column;\n      const mergeHeight = gridBRows.length;\n      const mergeWidth = cellLength(gridBRows[0]);\n      const endRow = startRow + mergeHeight;\n      const endCol = startCol + mergeWidth + lockedColumns.length;\n      const lockedColumnObj = mapToObject(lockedColumns, always);\n      for (let r = startRow; r < endRow; r++) {\n        let skippedCol = 0;\n        for (let c = startCol; c < endCol; c++) {\n          if (lockedColumnObj[c]) {\n            skippedCol++;\n            continue;\n          }\n          if (isSpanning(gridA, r, c, comparator)) {\n            unmerge(gridA, getCellElement(gridA[r], c), comparator, generator.cell);\n          }\n          const gridBColIndex = c - startCol - skippedCol;\n          const newCell = getCell(gridBRows[r - startRow], gridBColIndex);\n          const newCellElm = newCell.element;\n          const replacement = generator.replace(newCellElm);\n          mutateCell(gridA[r], c, elementnew(replacement, true, newCell.isLocked));\n        }\n      }\n      return gridA;\n    };\n    const getValidStartAddress = (currentStartAddress, grid, lockedColumns) => {\n      const gridColLength = cellLength(grid[0]);\n      const adjustedRowAddress = extractGridDetails(grid).cols.length + currentStartAddress.row;\n      const possibleColAddresses = range$1(gridColLength - currentStartAddress.column, num => num + currentStartAddress.column);\n      const validColAddress = find$1(possibleColAddresses, num => forall(lockedColumns, col => col !== num)).getOr(gridColLength - 1);\n      return {\n        row: adjustedRowAddress,\n        column: validColAddress\n      };\n    };\n    const getLockedColumnsWithinBounds = (startAddress, rows, lockedColumns) => filter$2(lockedColumns, colNum => colNum >= startAddress.column && colNum <= cellLength(rows[0]) + startAddress.column);\n    const merge$1 = (startAddress, gridA, gridB, generator, comparator) => {\n      const lockedColumns = getLockedColumnsFromGrid(gridA);\n      const validStartAddress = getValidStartAddress(startAddress, gridA, lockedColumns);\n      const gridBRows = extractGridDetails(gridB).rows;\n      const lockedColumnsWithinBounds = getLockedColumnsWithinBounds(validStartAddress, gridBRows, lockedColumns);\n      const result = measure(validStartAddress, gridA, gridBRows);\n      return result.map(diff => {\n        const delta = {\n          ...diff,\n          colDelta: diff.colDelta - lockedColumnsWithinBounds.length\n        };\n        const fittedGrid = tailor(gridA, delta, generator);\n        const newLockedColumns = getLockedColumnsFromGrid(fittedGrid);\n        const newLockedColumnsWithinBounds = getLockedColumnsWithinBounds(validStartAddress, gridBRows, newLockedColumns);\n        return mergeTables(validStartAddress, fittedGrid, gridBRows, generator, comparator, newLockedColumnsWithinBounds);\n      });\n    };\n    const insertCols = (index, gridA, gridB, generator, comparator) => {\n      splitCols(gridA, index, comparator, generator.cell);\n      const delta = measureHeight(gridB, gridA);\n      const fittedNewGrid = tailor(gridB, delta, generator);\n      const secondDelta = measureHeight(gridA, fittedNewGrid);\n      const fittedOldGrid = tailor(gridA, secondDelta, generator);\n      return map$1(fittedOldGrid, (gridRow, i) => {\n        return addCells(gridRow, index, fittedNewGrid[i].cells);\n      });\n    };\n    const insertRows = (index, gridA, gridB, generator, comparator) => {\n      splitRows(gridA, index, comparator, generator.cell);\n      const locked = getLockedColumnsFromGrid(gridA);\n      const diff = measureWidth(gridA, gridB);\n      const delta = {\n        ...diff,\n        colDelta: diff.colDelta - locked.length\n      };\n      const fittedOldGrid = tailor(gridA, delta, generator);\n      const {\n        cols: oldCols,\n        rows: oldRows\n      } = extractGridDetails(fittedOldGrid);\n      const newLocked = getLockedColumnsFromGrid(fittedOldGrid);\n      const secondDiff = measureWidth(gridB, gridA);\n      const secondDelta = {\n        ...secondDiff,\n        colDelta: secondDiff.colDelta + newLocked.length\n      };\n      const fittedGridB = lockedColFill(gridB, generator, newLocked);\n      const fittedNewGrid = tailor(fittedGridB, secondDelta, generator);\n      return [\n        ...oldCols,\n        ...oldRows.slice(0, index),\n        ...fittedNewGrid,\n        ...oldRows.slice(index, oldRows.length)\n      ];\n    };\n\n    const cloneRow = (row, cloneCell, comparator, substitution) => clone(row, elem => substitution(elem, comparator), cloneCell);\n    const insertRowAt = (grid, index, example, comparator, substitution) => {\n      const {rows, cols} = extractGridDetails(grid);\n      const before = rows.slice(0, index);\n      const after = rows.slice(index);\n      const newRow = cloneRow(rows[example], (ex, c) => {\n        const withinSpan = index > 0 && index < rows.length && comparator(getCellElement(rows[index - 1], c), getCellElement(rows[index], c));\n        const ret = withinSpan ? getCell(rows[index], c) : elementnew(substitution(ex.element, comparator), true, ex.isLocked);\n        return ret;\n      }, comparator, substitution);\n      return [\n        ...cols,\n        ...before,\n        newRow,\n        ...after\n      ];\n    };\n    const getElementFor = (row, column, section, withinSpan, example, comparator, substitution) => {\n      if (section === 'colgroup' || !withinSpan) {\n        const cell = getCell(row, example);\n        return elementnew(substitution(cell.element, comparator), true, false);\n      } else {\n        return getCell(row, column);\n      }\n    };\n    const insertColumnAt = (grid, index, example, comparator, substitution) => map$1(grid, row => {\n      const withinSpan = index > 0 && index < cellLength(row) && comparator(getCellElement(row, index - 1), getCellElement(row, index));\n      const sub = getElementFor(row, index, row.section, withinSpan, example, comparator, substitution);\n      return addCell(row, index, sub);\n    });\n    const deleteColumnsAt = (grid, columns) => bind$2(grid, row => {\n      const existingCells = row.cells;\n      const cells = foldr(columns, (acc, column) => column >= 0 && column < acc.length ? acc.slice(0, column).concat(acc.slice(column + 1)) : acc, existingCells);\n      return cells.length > 0 ? [rowcells(row.element, cells, row.section, row.isNew)] : [];\n    });\n    const deleteRowsAt = (grid, start, finish) => {\n      const {rows, cols} = extractGridDetails(grid);\n      return [\n        ...cols,\n        ...rows.slice(0, start),\n        ...rows.slice(finish + 1)\n      ];\n    };\n\n    const notInStartRow = (grid, rowIndex, colIndex, comparator) => getCellElement(grid[rowIndex], colIndex) !== undefined && (rowIndex > 0 && comparator(getCellElement(grid[rowIndex - 1], colIndex), getCellElement(grid[rowIndex], colIndex)));\n    const notInStartColumn = (row, index, comparator) => index > 0 && comparator(getCellElement(row, index - 1), getCellElement(row, index));\n    const isDuplicatedCell = (grid, rowIndex, colIndex, comparator) => notInStartRow(grid, rowIndex, colIndex, comparator) || notInStartColumn(grid[rowIndex], colIndex, comparator);\n    const rowReplacerPredicate = (targetRow, columnHeaders) => {\n      const entireTableIsHeader = forall(columnHeaders, identity) && isHeaderCells(targetRow.cells);\n      return entireTableIsHeader ? always : (cell, _rowIndex, colIndex) => {\n        const type = name(cell.element);\n        return !(type === 'th' && columnHeaders[colIndex]);\n      };\n    };\n    const columnReplacePredicate = (targetColumn, rowHeaders) => {\n      const entireTableIsHeader = forall(rowHeaders, identity) && isHeaderCells(targetColumn);\n      return entireTableIsHeader ? always : (cell, rowIndex, _colIndex) => {\n        const type = name(cell.element);\n        return !(type === 'th' && rowHeaders[rowIndex]);\n      };\n    };\n    const determineScope = (applyScope, cell, newScope, isInHeader) => {\n      const hasSpan = scope => scope === 'row' ? hasRowspan(cell) : hasColspan(cell);\n      const getScope = scope => hasSpan(scope) ? `${ scope }group` : scope;\n      if (applyScope) {\n        return isHeaderCell(cell) ? getScope(newScope) : null;\n      } else if (isInHeader && isHeaderCell(cell)) {\n        const oppositeScope = newScope === 'row' ? 'col' : 'row';\n        return getScope(oppositeScope);\n      } else {\n        return null;\n      }\n    };\n    const rowScopeGenerator = (applyScope, columnHeaders) => (cell, rowIndex, columnIndex) => Optional.some(determineScope(applyScope, cell.element, 'col', columnHeaders[columnIndex]));\n    const columnScopeGenerator = (applyScope, rowHeaders) => (cell, rowIndex) => Optional.some(determineScope(applyScope, cell.element, 'row', rowHeaders[rowIndex]));\n    const replace = (cell, comparator, substitute) => elementnew(substitute(cell.element, comparator), true, cell.isLocked);\n    const replaceIn = (grid, targets, comparator, substitute, replacer, genScope, shouldReplace) => {\n      const isTarget = cell => {\n        return exists(targets, target => {\n          return comparator(cell.element, target.element);\n        });\n      };\n      return map$1(grid, (row, rowIndex) => {\n        return mapCells(row, (cell, colIndex) => {\n          if (isTarget(cell)) {\n            const newCell = shouldReplace(cell, rowIndex, colIndex) ? replacer(cell, comparator, substitute) : cell;\n            genScope(newCell, rowIndex, colIndex).each(scope => {\n              setOptions(newCell.element, { scope: Optional.from(scope) });\n            });\n            return newCell;\n          } else {\n            return cell;\n          }\n        });\n      });\n    };\n    const getColumnCells = (rows, columnIndex, comparator) => bind$2(rows, (row, i) => {\n      return isDuplicatedCell(rows, i, columnIndex, comparator) ? [] : [getCell(row, columnIndex)];\n    });\n    const getRowCells = (rows, rowIndex, comparator) => {\n      const targetRow = rows[rowIndex];\n      return bind$2(targetRow.cells, (item, i) => {\n        return isDuplicatedCell(rows, rowIndex, i, comparator) ? [] : [item];\n      });\n    };\n    const replaceColumns = (grid, indexes, applyScope, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      const targets = bind$2(indexes, index => getColumnCells(rows, index, comparator));\n      const rowHeaders = map$1(rows, row => isHeaderCells(row.cells));\n      const shouldReplaceCell = columnReplacePredicate(targets, rowHeaders);\n      const scopeGenerator = columnScopeGenerator(applyScope, rowHeaders);\n      return replaceIn(grid, targets, comparator, substitution, replace, scopeGenerator, shouldReplaceCell);\n    };\n    const replaceRows = (grid, indexes, section, applyScope, comparator, substitution, tableSection) => {\n      const {cols, rows} = extractGridDetails(grid);\n      const targetRow = rows[indexes[0]];\n      const targets = bind$2(indexes, index => getRowCells(rows, index, comparator));\n      const columnHeaders = map$1(targetRow.cells, (_cell, index) => isHeaderCells(getColumnCells(rows, index, comparator)));\n      const newRows = [...rows];\n      each$2(indexes, index => {\n        newRows[index] = tableSection.transformRow(rows[index], section);\n      });\n      const newGrid = [\n        ...cols,\n        ...newRows\n      ];\n      const shouldReplaceCell = rowReplacerPredicate(targetRow, columnHeaders);\n      const scopeGenerator = rowScopeGenerator(applyScope, columnHeaders);\n      return replaceIn(newGrid, targets, comparator, substitution, tableSection.transformCell, scopeGenerator, shouldReplaceCell);\n    };\n    const replaceCells = (grid, details, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      const targetCells = map$1(details, detail => getCell(rows[detail.row], detail.column));\n      return replaceIn(grid, targetCells, comparator, substitution, replace, Optional.none, always);\n    };\n\n    const generate = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$2(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate };\n\n    const adt$6 = Adt.generate([\n      { none: [] },\n      { only: ['index'] },\n      {\n        left: [\n          'index',\n          'next'\n        ]\n      },\n      {\n        middle: [\n          'prev',\n          'index',\n          'next'\n        ]\n      },\n      {\n        right: [\n          'prev',\n          'index'\n        ]\n      }\n    ]);\n    const ColumnContext = { ...adt$6 };\n\n    const neighbours = (input, index) => {\n      if (input.length === 0) {\n        return ColumnContext.none();\n      }\n      if (input.length === 1) {\n        return ColumnContext.only(0);\n      }\n      if (index === 0) {\n        return ColumnContext.left(0, 1);\n      }\n      if (index === input.length - 1) {\n        return ColumnContext.right(index - 1, index);\n      }\n      if (index > 0 && index < input.length - 1) {\n        return ColumnContext.middle(index - 1, index, index + 1);\n      }\n      return ColumnContext.none();\n    };\n    const determine = (input, column, step, tableSize, resize) => {\n      const result = input.slice(0);\n      const context = neighbours(input, column);\n      const onNone = constant(map$1(result, constant(0)));\n      const onOnly = index => tableSize.singleColumnWidth(result[index], step);\n      const onLeft = (index, next) => resize.calcLeftEdgeDeltas(result, index, next, step, tableSize.minCellWidth(), tableSize.isRelative);\n      const onMiddle = (prev, index, next) => resize.calcMiddleDeltas(result, prev, index, next, step, tableSize.minCellWidth(), tableSize.isRelative);\n      const onRight = (prev, index) => resize.calcRightEdgeDeltas(result, prev, index, step, tableSize.minCellWidth(), tableSize.isRelative);\n      return context.fold(onNone, onOnly, onLeft, onMiddle, onRight);\n    };\n\n    const total = (start, end, measures) => {\n      let r = 0;\n      for (let i = start; i < end; i++) {\n        r += measures[i] !== undefined ? measures[i] : 0;\n      }\n      return r;\n    };\n    const recalculateWidthForCells = (warehouse, widths) => {\n      const all = Warehouse.justCells(warehouse);\n      return map$1(all, cell => {\n        const width = total(cell.column, cell.column + cell.colspan, widths);\n        return {\n          element: cell.element,\n          width,\n          colspan: cell.colspan\n        };\n      });\n    };\n    const recalculateWidthForColumns = (warehouse, widths) => {\n      const groups = Warehouse.justColumns(warehouse);\n      return map$1(groups, (column, index) => ({\n        element: column.element,\n        width: widths[index],\n        colspan: column.colspan\n      }));\n    };\n    const recalculateHeightForCells = (warehouse, heights) => {\n      const all = Warehouse.justCells(warehouse);\n      return map$1(all, cell => {\n        const height = total(cell.row, cell.row + cell.rowspan, heights);\n        return {\n          element: cell.element,\n          height,\n          rowspan: cell.rowspan\n        };\n      });\n    };\n    const matchRowHeight = (warehouse, heights) => {\n      return map$1(warehouse.all, (row, i) => {\n        return {\n          element: row.element,\n          height: heights[i]\n        };\n      });\n    };\n\n    const sumUp = newSize => foldr(newSize, (b, a) => b + a, 0);\n    const recalculate = (warehouse, widths) => {\n      if (Warehouse.hasColumns(warehouse)) {\n        return recalculateWidthForColumns(warehouse, widths);\n      } else {\n        return recalculateWidthForCells(warehouse, widths);\n      }\n    };\n    const recalculateAndApply = (warehouse, widths, tableSize) => {\n      const newSizes = recalculate(warehouse, widths);\n      each$2(newSizes, cell => {\n        tableSize.setElementWidth(cell.element, cell.width);\n      });\n    };\n    const adjustWidth = (table, delta, index, resizing, tableSize) => {\n      const warehouse = Warehouse.fromTable(table);\n      const step = tableSize.getCellDelta(delta);\n      const widths = tableSize.getWidths(warehouse, tableSize);\n      const isLastColumn = index === warehouse.grid.columns - 1;\n      const clampedStep = resizing.clampTableDelta(widths, index, step, tableSize.minCellWidth(), isLastColumn);\n      const deltas = determine(widths, index, clampedStep, tableSize, resizing);\n      const newWidths = map$1(deltas, (dx, i) => dx + widths[i]);\n      recalculateAndApply(warehouse, newWidths, tableSize);\n      resizing.resizeTable(tableSize.adjustTableWidth, clampedStep, isLastColumn);\n    };\n    const adjustHeight = (table, delta, index, direction) => {\n      const warehouse = Warehouse.fromTable(table);\n      const heights = getPixelHeights(warehouse, table, direction);\n      const newHeights = map$1(heights, (dy, i) => index === i ? Math.max(delta + dy, minHeight()) : dy);\n      const newCellSizes = recalculateHeightForCells(warehouse, newHeights);\n      const newRowSizes = matchRowHeight(warehouse, newHeights);\n      each$2(newRowSizes, row => {\n        setHeight(row.element, row.height);\n      });\n      each$2(newCellSizes, cell => {\n        setHeight(cell.element, cell.height);\n      });\n      const total = sumUp(newHeights);\n      setHeight(table, total);\n    };\n    const adjustAndRedistributeWidths$1 = (_table, list, details, tableSize, resizeBehaviour) => {\n      const warehouse = Warehouse.generate(list);\n      const sizes = tableSize.getWidths(warehouse, tableSize);\n      const tablePixelWidth = tableSize.pixelWidth();\n      const {newSizes, delta} = resizeBehaviour.calcRedestributedWidths(sizes, tablePixelWidth, details.pixelDelta, tableSize.isRelative);\n      recalculateAndApply(warehouse, newSizes, tableSize);\n      tableSize.adjustTableWidth(delta);\n    };\n    const adjustWidthTo = (_table, list, _info, tableSize) => {\n      const warehouse = Warehouse.generate(list);\n      const widths = tableSize.getWidths(warehouse, tableSize);\n      recalculateAndApply(warehouse, widths, tableSize);\n    };\n\n    const uniqueColumns = details => {\n      const uniqueCheck = (rest, detail) => {\n        const columnExists = exists(rest, currentDetail => currentDetail.column === detail.column);\n        return columnExists ? rest : rest.concat([detail]);\n      };\n      return foldl(details, uniqueCheck, []).sort((detailA, detailB) => detailA.column - detailB.column);\n    };\n\n    const isCol = isTag('col');\n    const isColgroup = isTag('colgroup');\n    const isRow$1 = element => name(element) === 'tr' || isColgroup(element);\n    const elementToData = element => {\n      const colspan = getAttrValue(element, 'colspan', 1);\n      const rowspan = getAttrValue(element, 'rowspan', 1);\n      return {\n        element,\n        colspan,\n        rowspan\n      };\n    };\n    const modification = (generators, toData = elementToData) => {\n      const nuCell = data => isCol(data.element) ? generators.col(data) : generators.cell(data);\n      const nuRow = data => isColgroup(data.element) ? generators.colgroup(data) : generators.row(data);\n      const add = element => {\n        if (isRow$1(element)) {\n          return nuRow({ element });\n        } else {\n          const cell = element;\n          const replacement = nuCell(toData(cell));\n          recent = Optional.some({\n            item: cell,\n            replacement\n          });\n          return replacement;\n        }\n      };\n      let recent = Optional.none();\n      const getOrInit = (element, comparator) => {\n        return recent.fold(() => {\n          return add(element);\n        }, p => {\n          return comparator(element, p.item) ? p.replacement : add(element);\n        });\n      };\n      return { getOrInit };\n    };\n    const transform$1 = tag => {\n      return generators => {\n        const list = [];\n        const find = (element, comparator) => {\n          return find$1(list, x => {\n            return comparator(x.item, element);\n          });\n        };\n        const makeNew = element => {\n          const attrs = tag === 'td' ? { scope: null } : {};\n          const cell = generators.replace(element, tag, attrs);\n          list.push({\n            item: element,\n            sub: cell\n          });\n          return cell;\n        };\n        const replaceOrInit = (element, comparator) => {\n          if (isRow$1(element) || isCol(element)) {\n            return element;\n          } else {\n            const cell = element;\n            return find(cell, comparator).fold(() => {\n              return makeNew(cell);\n            }, p => {\n              return comparator(element, p.item) ? p.sub : makeNew(cell);\n            });\n          }\n        };\n        return { replaceOrInit };\n      };\n    };\n    const getScopeAttribute = cell => getOpt(cell, 'scope').map(attribute => attribute.substr(0, 3));\n    const merging = generators => {\n      const unmerge = cell => {\n        const scope = getScopeAttribute(cell);\n        scope.each(attribute => set$2(cell, 'scope', attribute));\n        return () => {\n          const raw = generators.cell({\n            element: cell,\n            colspan: 1,\n            rowspan: 1\n          });\n          remove$5(raw, 'width');\n          remove$5(cell, 'width');\n          scope.each(attribute => set$2(raw, 'scope', attribute));\n          return raw;\n        };\n      };\n      const merge = cells => {\n        const getScopeProperty = () => {\n          const stringAttributes = cat(map$1(cells, getScopeAttribute));\n          if (stringAttributes.length === 0) {\n            return Optional.none();\n          } else {\n            const baseScope = stringAttributes[0];\n            const scopes = [\n              'row',\n              'col'\n            ];\n            const isMixed = exists(stringAttributes, attribute => {\n              return attribute !== baseScope && contains$2(scopes, attribute);\n            });\n            return isMixed ? Optional.none() : Optional.from(baseScope);\n          }\n        };\n        remove$5(cells[0], 'width');\n        getScopeProperty().fold(() => remove$7(cells[0], 'scope'), attribute => set$2(cells[0], 'scope', attribute + 'group'));\n        return constant(cells[0]);\n      };\n      return {\n        unmerge,\n        merge\n      };\n    };\n    const Generators = {\n      modification,\n      transform: transform$1,\n      merging\n    };\n\n    const blockList = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'table',\n      'thead',\n      'tfoot',\n      'tbody',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n    const isList$1 = (universe, item) => {\n      const tagName = universe.property().name(item);\n      return contains$2([\n        'ol',\n        'ul'\n      ], tagName);\n    };\n    const isBlock$1 = (universe, item) => {\n      const tagName = universe.property().name(item);\n      return contains$2(blockList, tagName);\n    };\n    const isEmptyTag$1 = (universe, item) => {\n      return contains$2([\n        'br',\n        'img',\n        'hr',\n        'input'\n      ], universe.property().name(item));\n    };\n\n    const universe$1 = DomUniverse();\n    const isBlock = element => {\n      return isBlock$1(universe$1, element);\n    };\n    const isList = element => {\n      return isList$1(universe$1, element);\n    };\n    const isEmptyTag = element => {\n      return isEmptyTag$1(universe$1, element);\n    };\n\n    const merge = cells => {\n      const isBr = isTag('br');\n      const advancedBr = children => {\n        return forall(children, c => {\n          return isBr(c) || isText(c) && get$6(c).trim().length === 0;\n        });\n      };\n      const isListItem = el => {\n        return name(el) === 'li' || ancestor$2(el, isList).isSome();\n      };\n      const siblingIsBlock = el => {\n        return nextSibling(el).map(rightSibling => {\n          if (isBlock(rightSibling)) {\n            return true;\n          }\n          if (isEmptyTag(rightSibling)) {\n            return name(rightSibling) === 'img' ? false : true;\n          }\n          return false;\n        }).getOr(false);\n      };\n      const markCell = cell => {\n        return last$1(cell).bind(rightEdge => {\n          const rightSiblingIsBlock = siblingIsBlock(rightEdge);\n          return parent(rightEdge).map(parent => {\n            return rightSiblingIsBlock === true || isListItem(parent) || isBr(rightEdge) || isBlock(parent) && !eq$1(cell, parent) ? [] : [SugarElement.fromTag('br')];\n          });\n        }).getOr([]);\n      };\n      const markContent = () => {\n        const content = bind$2(cells, cell => {\n          const children = children$2(cell);\n          return advancedBr(children) ? [] : children.concat(markCell(cell));\n        });\n        return content.length === 0 ? [SugarElement.fromTag('br')] : content;\n      };\n      const contents = markContent();\n      empty(cells[0]);\n      append(cells[0], contents);\n    };\n\n    const isEditable = elem => isEditable$1(elem, true);\n    const prune = table => {\n      const cells = cells$1(table);\n      if (cells.length === 0) {\n        remove$6(table);\n      }\n    };\n    const outcome = (grid, cursor) => ({\n      grid,\n      cursor\n    });\n    const findEditableCursorPosition = rows => findMap(rows, row => findMap(row.cells, cell => {\n      const elem = cell.element;\n      return someIf(isEditable(elem), elem);\n    }));\n    const elementFromGrid = (grid, row, column) => {\n      var _a, _b;\n      const rows = extractGridDetails(grid).rows;\n      return Optional.from((_b = (_a = rows[row]) === null || _a === void 0 ? void 0 : _a.cells[column]) === null || _b === void 0 ? void 0 : _b.element).filter(isEditable).orThunk(() => findEditableCursorPosition(rows));\n    };\n    const bundle = (grid, row, column) => {\n      const cursorElement = elementFromGrid(grid, row, column);\n      return outcome(grid, cursorElement);\n    };\n    const uniqueRows = details => {\n      const rowCompilation = (rest, detail) => {\n        const rowExists = exists(rest, currentDetail => currentDetail.row === detail.row);\n        return rowExists ? rest : rest.concat([detail]);\n      };\n      return foldl(details, rowCompilation, []).sort((detailA, detailB) => detailA.row - detailB.row);\n    };\n    const opInsertRowsBefore = (grid, details, comparator, genWrappers) => {\n      const targetIndex = details[0].row;\n      const rows = uniqueRows(details);\n      const newGrid = foldr(rows, (acc, row) => {\n        const newG = insertRowAt(acc.grid, targetIndex, row.row + acc.delta, comparator, genWrappers.getOrInit);\n        return {\n          grid: newG,\n          delta: acc.delta + 1\n        };\n      }, {\n        grid,\n        delta: 0\n      }).grid;\n      return bundle(newGrid, targetIndex, details[0].column);\n    };\n    const opInsertRowsAfter = (grid, details, comparator, genWrappers) => {\n      const rows = uniqueRows(details);\n      const target = rows[rows.length - 1];\n      const targetIndex = target.row + target.rowspan;\n      const newGrid = foldr(rows, (newG, row) => {\n        return insertRowAt(newG, targetIndex, row.row, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, targetIndex, details[0].column);\n    };\n    const opInsertColumnsBefore = (grid, extractDetail, comparator, genWrappers) => {\n      const details = extractDetail.details;\n      const columns = uniqueColumns(details);\n      const targetIndex = columns[0].column;\n      const newGrid = foldr(columns, (acc, col) => {\n        const newG = insertColumnAt(acc.grid, targetIndex, col.column + acc.delta, comparator, genWrappers.getOrInit);\n        return {\n          grid: newG,\n          delta: acc.delta + 1\n        };\n      }, {\n        grid,\n        delta: 0\n      }).grid;\n      return bundle(newGrid, details[0].row, targetIndex);\n    };\n    const opInsertColumnsAfter = (grid, extractDetail, comparator, genWrappers) => {\n      const details = extractDetail.details;\n      const target = details[details.length - 1];\n      const targetIndex = target.column + target.colspan;\n      const columns = uniqueColumns(details);\n      const newGrid = foldr(columns, (newG, col) => {\n        return insertColumnAt(newG, targetIndex, col.column, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, details[0].row, targetIndex);\n    };\n    const opMakeColumnsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const columns = uniqueColumns(details);\n      const columnIndexes = map$1(columns, detail => detail.column);\n      const newGrid = replaceColumns(initialGrid, columnIndexes, true, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opMakeCellsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const newGrid = replaceCells(initialGrid, details, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opUnmakeColumnsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const columns = uniqueColumns(details);\n      const columnIndexes = map$1(columns, detail => detail.column);\n      const newGrid = replaceColumns(initialGrid, columnIndexes, false, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opUnmakeCellsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const newGrid = replaceCells(initialGrid, details, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const makeRowsSection = (section, applyScope) => (initialGrid, details, comparator, genWrappers, tableSection) => {\n      const rows = uniqueRows(details);\n      const rowIndexes = map$1(rows, detail => detail.row);\n      const newGrid = replaceRows(initialGrid, rowIndexes, section, applyScope, comparator, genWrappers.replaceOrInit, tableSection);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opMakeRowsHeader = makeRowsSection('thead', true);\n    const opMakeRowsBody = makeRowsSection('tbody', false);\n    const opMakeRowsFooter = makeRowsSection('tfoot', false);\n    const opEraseColumns = (grid, extractDetail, _comparator, _genWrappers) => {\n      const columns = uniqueColumns(extractDetail.details);\n      const newGrid = deleteColumnsAt(grid, map$1(columns, column => column.column));\n      const maxColIndex = newGrid.length > 0 ? newGrid[0].cells.length - 1 : 0;\n      return bundle(newGrid, columns[0].row, Math.min(columns[0].column, maxColIndex));\n    };\n    const opEraseRows = (grid, details, _comparator, _genWrappers) => {\n      const rows = uniqueRows(details);\n      const newGrid = deleteRowsAt(grid, rows[0].row, rows[rows.length - 1].row);\n      const maxRowIndex = newGrid.length > 0 ? newGrid.length - 1 : 0;\n      return bundle(newGrid, Math.min(details[0].row, maxRowIndex), details[0].column);\n    };\n    const opMergeCells = (grid, mergable, comparator, genWrappers) => {\n      const cells = mergable.cells;\n      merge(cells);\n      const newGrid = merge$2(grid, mergable.bounds, comparator, genWrappers.merge(cells));\n      return outcome(newGrid, Optional.from(cells[0]));\n    };\n    const opUnmergeCells = (grid, unmergable, comparator, genWrappers) => {\n      const unmerge$1 = (b, cell) => unmerge(b, cell, comparator, genWrappers.unmerge(cell));\n      const newGrid = foldr(unmergable, unmerge$1, grid);\n      return outcome(newGrid, Optional.from(unmergable[0]));\n    };\n    const opPasteCells = (grid, pasteDetails, comparator, _genWrappers) => {\n      const gridify = (table, generators) => {\n        const wh = Warehouse.fromTable(table);\n        return toGrid(wh, generators, true);\n      };\n      const gridB = gridify(pasteDetails.clipboard, pasteDetails.generators);\n      const startAddress = address(pasteDetails.row, pasteDetails.column);\n      const mergedGrid = merge$1(startAddress, grid, gridB, pasteDetails.generators, comparator);\n      return mergedGrid.fold(() => outcome(grid, Optional.some(pasteDetails.element)), newGrid => {\n        return bundle(newGrid, pasteDetails.row, pasteDetails.column);\n      });\n    };\n    const gridifyRows = (rows, generators, context) => {\n      const pasteDetails = fromPastedRows(rows, context.section);\n      const wh = Warehouse.generate(pasteDetails);\n      return toGrid(wh, generators, true);\n    };\n    const opPasteColsBefore = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[0].column;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertCols(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteColsAfter = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[pasteDetails.cells.length - 1].column + pasteDetails.cells[pasteDetails.cells.length - 1].colspan;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertCols(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteRowsBefore = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[0].row;\n      const context = rows[index];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertRows(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteRowsAfter = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[pasteDetails.cells.length - 1].row + pasteDetails.cells[pasteDetails.cells.length - 1].rowspan;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertRows(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opGetColumnsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minColRange = selectedCells[0].column;\n        const maxColRange = lastSelectedCell.column + lastSelectedCell.colspan;\n        const selectedColumnCells = flatten(map$1(house.all, row => filter$2(row.cells, cell => cell.column >= minColRange && cell.column < maxColRange)));\n        return findCommonCellType(selectedColumnCells);\n      }).getOr('');\n    };\n    const opGetCellsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(findCommonCellType).getOr('');\n    };\n    const opGetRowsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minRowRange = selectedCells[0].row;\n        const maxRowRange = lastSelectedCell.row + lastSelectedCell.rowspan;\n        const selectedRows = house.all.slice(minRowRange, maxRowRange);\n        return findCommonRowType(selectedRows);\n      }).getOr('');\n    };\n    const resize = (table, list, details, behaviours) => adjustWidthTo(table, list, details, behaviours.sizing);\n    const adjustAndRedistributeWidths = (table, list, details, behaviours) => adjustAndRedistributeWidths$1(table, list, details, behaviours.sizing, behaviours.resize);\n    const firstColumnIsLocked = (_warehouse, details) => exists(details, detail => detail.column === 0 && detail.isLocked);\n    const lastColumnIsLocked = (warehouse, details) => exists(details, detail => detail.column + detail.colspan >= warehouse.grid.columns && detail.isLocked);\n    const getColumnsWidth = (warehouse, details) => {\n      const columns$1 = columns(warehouse);\n      const uniqueCols = uniqueColumns(details);\n      return foldl(uniqueCols, (acc, detail) => {\n        const column = columns$1[detail.column];\n        const colWidth = column.map(getOuter$2).getOr(0);\n        return acc + colWidth;\n      }, 0);\n    };\n    const insertColumnsExtractor = before => (warehouse, target) => onCells(warehouse, target).filter(details => {\n      const checkLocked = before ? firstColumnIsLocked : lastColumnIsLocked;\n      return !checkLocked(warehouse, details);\n    }).map(details => ({\n      details,\n      pixelDelta: getColumnsWidth(warehouse, details)\n    }));\n    const eraseColumnsExtractor = (warehouse, target) => onUnlockedCells(warehouse, target).map(details => ({\n      details,\n      pixelDelta: -getColumnsWidth(warehouse, details)\n    }));\n    const pasteColumnsExtractor = before => (warehouse, target) => onPasteByEditor(warehouse, target).filter(details => {\n      const checkLocked = before ? firstColumnIsLocked : lastColumnIsLocked;\n      return !checkLocked(warehouse, details.cells);\n    });\n    const headerCellGenerator = Generators.transform('th');\n    const bodyCellGenerator = Generators.transform('td');\n    const insertRowsBefore = run(opInsertRowsBefore, onCells, noop, noop, Generators.modification);\n    const insertRowsAfter = run(opInsertRowsAfter, onCells, noop, noop, Generators.modification);\n    const insertColumnsBefore = run(opInsertColumnsBefore, insertColumnsExtractor(true), adjustAndRedistributeWidths, noop, Generators.modification);\n    const insertColumnsAfter = run(opInsertColumnsAfter, insertColumnsExtractor(false), adjustAndRedistributeWidths, noop, Generators.modification);\n    const eraseColumns = run(opEraseColumns, eraseColumnsExtractor, adjustAndRedistributeWidths, prune, Generators.modification);\n    const eraseRows = run(opEraseRows, onCells, noop, prune, Generators.modification);\n    const makeColumnsHeader = run(opMakeColumnsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const unmakeColumnsHeader = run(opUnmakeColumnsHeader, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeRowsHeader = run(opMakeRowsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const makeRowsBody = run(opMakeRowsBody, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeRowsFooter = run(opMakeRowsFooter, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeCellsHeader = run(opMakeCellsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const unmakeCellsHeader = run(opUnmakeCellsHeader, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const mergeCells = run(opMergeCells, onUnlockedMergable, resize, noop, Generators.merging);\n    const unmergeCells = run(opUnmergeCells, onUnlockedUnmergable, resize, noop, Generators.merging);\n    const pasteCells = run(opPasteCells, onPaste, resize, noop, Generators.modification);\n    const pasteColsBefore = run(opPasteColsBefore, pasteColumnsExtractor(true), noop, noop, Generators.modification);\n    const pasteColsAfter = run(opPasteColsAfter, pasteColumnsExtractor(false), noop, noop, Generators.modification);\n    const pasteRowsBefore = run(opPasteRowsBefore, onPasteByEditor, noop, noop, Generators.modification);\n    const pasteRowsAfter = run(opPasteRowsAfter, onPasteByEditor, noop, noop, Generators.modification);\n    const getColumnsType = opGetColumnsType;\n    const getCellsType = opGetCellsType;\n    const getRowsType = opGetRowsType;\n\n    const fireNewRow = (editor, row) => editor.dispatch('NewRow', { node: row });\n    const fireNewCell = (editor, cell) => editor.dispatch('NewCell', { node: cell });\n    const fireTableModified = (editor, table, data) => {\n      editor.dispatch('TableModified', {\n        ...data,\n        table\n      });\n    };\n    const fireTableSelectionChange = (editor, cells, start, finish, otherCells) => {\n      editor.dispatch('TableSelectionChange', {\n        cells,\n        start,\n        finish,\n        otherCells\n      });\n    };\n    const fireTableSelectionClear = editor => {\n      editor.dispatch('TableSelectionClear');\n    };\n    const fireObjectResizeStart = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResizeStart', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const fireObjectResized = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResized', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const styleModified = {\n      structure: false,\n      style: true\n    };\n    const structureModified = {\n      structure: true,\n      style: false\n    };\n    const styleAndStructureModified = {\n      structure: true,\n      style: true\n    };\n\n    const option = name => editor => editor.options.get(name);\n    const defaultWidth = '100%';\n    const getPixelForcedWidth = editor => {\n      var _a;\n      const dom = editor.dom;\n      const parentBlock = (_a = dom.getParent(editor.selection.getStart(), dom.isBlock)) !== null && _a !== void 0 ? _a : editor.getBody();\n      return getInner(SugarElement.fromDom(parentBlock)) + 'px';\n    };\n    const determineDefaultTableStyles = (editor, defaultStyles) => {\n      if (isTableResponsiveForced(editor) || !shouldStyleWithCss(editor)) {\n        return defaultStyles;\n      } else if (isTablePixelsForced(editor)) {\n        return {\n          ...defaultStyles,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultStyles,\n          width: defaultWidth\n        };\n      }\n    };\n    const determineDefaultTableAttributes = (editor, defaultAttributes) => {\n      if (isTableResponsiveForced(editor) || shouldStyleWithCss(editor)) {\n        return defaultAttributes;\n      } else if (isTablePixelsForced(editor)) {\n        return {\n          ...defaultAttributes,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultAttributes,\n          width: defaultWidth\n        };\n      }\n    };\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('table_clone_elements', { processor: 'string[]' });\n      registerOption('table_use_colgroups', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_header_type', {\n        processor: value => {\n          const valid = contains$2([\n            'section',\n            'cells',\n            'sectionCells',\n            'auto'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be one of: section, cells, sectionCells or auto.'\n          };\n        },\n        default: 'section'\n      });\n      registerOption('table_sizing_mode', {\n        processor: 'string',\n        default: 'auto'\n      });\n      registerOption('table_default_attributes', {\n        processor: 'object',\n        default: { border: '1' }\n      });\n      registerOption('table_default_styles', {\n        processor: 'object',\n        default: { 'border-collapse': 'collapse' }\n      });\n      registerOption('table_column_resizing', {\n        processor: value => {\n          const valid = contains$2([\n            'preservetable',\n            'resizetable'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be preservetable, or resizetable.'\n          };\n        },\n        default: 'preservetable'\n      });\n      registerOption('table_resize_bars', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_style_by_css', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const getTableCloneElements = editor => {\n      return Optional.from(editor.options.get('table_clone_elements'));\n    };\n    const hasTableObjectResizing = editor => {\n      const objectResizing = editor.options.get('object_resizing');\n      return contains$2(objectResizing.split(','), 'table');\n    };\n    const getTableHeaderType = option('table_header_type');\n    const getTableColumnResizingBehaviour = option('table_column_resizing');\n    const isPreserveTableColumnResizing = editor => getTableColumnResizingBehaviour(editor) === 'preservetable';\n    const isResizeTableColumnResizing = editor => getTableColumnResizingBehaviour(editor) === 'resizetable';\n    const getTableSizingMode = option('table_sizing_mode');\n    const isTablePercentagesForced = editor => getTableSizingMode(editor) === 'relative';\n    const isTablePixelsForced = editor => getTableSizingMode(editor) === 'fixed';\n    const isTableResponsiveForced = editor => getTableSizingMode(editor) === 'responsive';\n    const hasTableResizeBars = option('table_resize_bars');\n    const shouldStyleWithCss = option('table_style_by_css');\n    const getTableDefaultAttributes = editor => {\n      const options = editor.options;\n      const defaultAttributes = options.get('table_default_attributes');\n      return options.isSet('table_default_attributes') ? defaultAttributes : determineDefaultTableAttributes(editor, defaultAttributes);\n    };\n    const getTableDefaultStyles = editor => {\n      const options = editor.options;\n      const defaultStyles = options.get('table_default_styles');\n      return options.isSet('table_default_styles') ? defaultStyles : determineDefaultTableStyles(editor, defaultStyles);\n    };\n    const tableUseColumnGroup = option('table_use_colgroups');\n\n    const get$5 = (editor, table) => {\n      if (isTablePercentagesForced(editor)) {\n        return TableSize.percentageSize(table);\n      } else if (isTablePixelsForced(editor)) {\n        return TableSize.pixelSize(table);\n      } else {\n        return TableSize.getTableSize(table);\n      }\n    };\n\n    const TableActions = (editor, resizeHandler, cellSelectionHandler) => {\n      const isTableBody = editor => name(getBody(editor)) === 'table';\n      const lastRowGuard = table => isTableBody(editor) === false || getGridSize(table).rows > 1;\n      const lastColumnGuard = table => isTableBody(editor) === false || getGridSize(table).columns > 1;\n      const cloneFormats = getTableCloneElements(editor);\n      const colMutationOp = isResizeTableColumnResizing(editor) ? noop : halve;\n      const getTableSectionType = table => {\n        switch (getTableHeaderType(editor)) {\n        case 'section':\n          return TableSection.section();\n        case 'sectionCells':\n          return TableSection.sectionCells();\n        case 'cells':\n          return TableSection.cells();\n        default:\n          return TableSection.getTableSectionType(table, 'section');\n        }\n      };\n      const setSelectionFromAction = (table, result) => result.cursor.fold(() => {\n        const cells = cells$1(table);\n        return head(cells).filter(inBody).map(firstCell => {\n          cellSelectionHandler.clearSelectedCells(table.dom);\n          const rng = editor.dom.createRng();\n          rng.selectNode(firstCell.dom);\n          editor.selection.setRng(rng);\n          set$2(firstCell, 'data-mce-selected', '1');\n          return rng;\n        });\n      }, cell => {\n        const des = freefallRtl(cell);\n        const rng = editor.dom.createRng();\n        rng.setStart(des.element.dom, des.offset);\n        rng.setEnd(des.element.dom, des.offset);\n        editor.selection.setRng(rng);\n        cellSelectionHandler.clearSelectedCells(table.dom);\n        return Optional.some(rng);\n      });\n      const execute = (operation, guard, mutate, effect) => (table, target, noEvents = false) => {\n        removeDataStyle(table);\n        const doc = SugarElement.fromDom(editor.getDoc());\n        const generators = cellOperations(mutate, doc, cloneFormats);\n        const behaviours = {\n          sizing: get$5(editor, table),\n          resize: isResizeTableColumnResizing(editor) ? resizeTable() : preserveTable(),\n          section: getTableSectionType(table)\n        };\n        return guard(table) ? operation(table, target, generators, behaviours).bind(result => {\n          resizeHandler.refresh(table.dom);\n          each$2(result.newRows, row => {\n            fireNewRow(editor, row.dom);\n          });\n          each$2(result.newCells, cell => {\n            fireNewCell(editor, cell.dom);\n          });\n          const range = setSelectionFromAction(table, result);\n          if (inBody(table)) {\n            removeDataStyle(table);\n            if (!noEvents) {\n              fireTableModified(editor, table.dom, effect);\n            }\n          }\n          return range.map(rng => ({\n            rng,\n            effect\n          }));\n        }) : Optional.none();\n      };\n      const deleteRow = execute(eraseRows, lastRowGuard, noop, structureModified);\n      const deleteColumn = execute(eraseColumns, lastColumnGuard, noop, structureModified);\n      const insertRowsBefore$1 = execute(insertRowsBefore, always, noop, structureModified);\n      const insertRowsAfter$1 = execute(insertRowsAfter, always, noop, structureModified);\n      const insertColumnsBefore$1 = execute(insertColumnsBefore, always, colMutationOp, structureModified);\n      const insertColumnsAfter$1 = execute(insertColumnsAfter, always, colMutationOp, structureModified);\n      const mergeCells$1 = execute(mergeCells, always, noop, structureModified);\n      const unmergeCells$1 = execute(unmergeCells, always, noop, structureModified);\n      const pasteColsBefore$1 = execute(pasteColsBefore, always, noop, structureModified);\n      const pasteColsAfter$1 = execute(pasteColsAfter, always, noop, structureModified);\n      const pasteRowsBefore$1 = execute(pasteRowsBefore, always, noop, structureModified);\n      const pasteRowsAfter$1 = execute(pasteRowsAfter, always, noop, structureModified);\n      const pasteCells$1 = execute(pasteCells, always, noop, styleAndStructureModified);\n      const makeCellsHeader$1 = execute(makeCellsHeader, always, noop, structureModified);\n      const unmakeCellsHeader$1 = execute(unmakeCellsHeader, always, noop, structureModified);\n      const makeColumnsHeader$1 = execute(makeColumnsHeader, always, noop, structureModified);\n      const unmakeColumnsHeader$1 = execute(unmakeColumnsHeader, always, noop, structureModified);\n      const makeRowsHeader$1 = execute(makeRowsHeader, always, noop, structureModified);\n      const makeRowsBody$1 = execute(makeRowsBody, always, noop, structureModified);\n      const makeRowsFooter$1 = execute(makeRowsFooter, always, noop, structureModified);\n      const getTableCellType = getCellsType;\n      const getTableColType = getColumnsType;\n      const getTableRowType = getRowsType;\n      return {\n        deleteRow,\n        deleteColumn,\n        insertRowsBefore: insertRowsBefore$1,\n        insertRowsAfter: insertRowsAfter$1,\n        insertColumnsBefore: insertColumnsBefore$1,\n        insertColumnsAfter: insertColumnsAfter$1,\n        mergeCells: mergeCells$1,\n        unmergeCells: unmergeCells$1,\n        pasteColsBefore: pasteColsBefore$1,\n        pasteColsAfter: pasteColsAfter$1,\n        pasteRowsBefore: pasteRowsBefore$1,\n        pasteRowsAfter: pasteRowsAfter$1,\n        pasteCells: pasteCells$1,\n        makeCellsHeader: makeCellsHeader$1,\n        unmakeCellsHeader: unmakeCellsHeader$1,\n        makeColumnsHeader: makeColumnsHeader$1,\n        unmakeColumnsHeader: unmakeColumnsHeader$1,\n        makeRowsHeader: makeRowsHeader$1,\n        makeRowsBody: makeRowsBody$1,\n        makeRowsFooter: makeRowsFooter$1,\n        getTableRowType,\n        getTableCellType,\n        getTableColType\n      };\n    };\n\n    const constrainSpan = (element, property, value) => {\n      const currentColspan = getAttrValue(element, property, 1);\n      if (value === 1 || currentColspan <= 1) {\n        remove$7(element, property);\n      } else {\n        set$2(element, property, Math.min(value, currentColspan));\n      }\n    };\n    const isColInRange = (minColRange, maxColRange) => cell => {\n      const endCol = cell.column + cell.colspan - 1;\n      const startCol = cell.column;\n      return endCol >= minColRange && startCol < maxColRange;\n    };\n    const generateColGroup = (house, minColRange, maxColRange) => {\n      if (Warehouse.hasColumns(house)) {\n        const colsToCopy = filter$2(Warehouse.justColumns(house), isColInRange(minColRange, maxColRange));\n        const copiedCols = map$1(colsToCopy, c => {\n          const clonedCol = deep(c.element);\n          constrainSpan(clonedCol, 'span', maxColRange - minColRange);\n          return clonedCol;\n        });\n        const fakeColgroup = SugarElement.fromTag('colgroup');\n        append(fakeColgroup, copiedCols);\n        return [fakeColgroup];\n      } else {\n        return [];\n      }\n    };\n    const generateRows = (house, minColRange, maxColRange) => map$1(house.all, row => {\n      const cellsToCopy = filter$2(row.cells, isColInRange(minColRange, maxColRange));\n      const copiedCells = map$1(cellsToCopy, cell => {\n        const clonedCell = deep(cell.element);\n        constrainSpan(clonedCell, 'colspan', maxColRange - minColRange);\n        return clonedCell;\n      });\n      const fakeTR = SugarElement.fromTag('tr');\n      append(fakeTR, copiedCells);\n      return fakeTR;\n    });\n    const copyCols = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onUnlockedCells(house, target);\n      return details.map(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minColRange = selectedCells[0].column;\n        const maxColRange = lastSelectedCell.column + lastSelectedCell.colspan;\n        const fakeColGroups = generateColGroup(house, minColRange, maxColRange);\n        const fakeRows = generateRows(house, minColRange, maxColRange);\n        return [\n          ...fakeColGroups,\n          ...fakeRows\n        ];\n      });\n    };\n\n    const copyRows = (table, target, generators) => {\n      const warehouse = Warehouse.fromTable(table);\n      const details = onCells(warehouse, target);\n      return details.bind(selectedCells => {\n        const grid = toGrid(warehouse, generators, false);\n        const rows = extractGridDetails(grid).rows;\n        const slicedGrid = rows.slice(selectedCells[0].row, selectedCells[selectedCells.length - 1].row + selectedCells[selectedCells.length - 1].rowspan);\n        const filteredGrid = bind$2(slicedGrid, row => {\n          const newCells = filter$2(row.cells, cell => !cell.isLocked);\n          return newCells.length > 0 ? [{\n              ...row,\n              cells: newCells\n            }] : [];\n        });\n        const slicedDetails = toDetailList(filteredGrid);\n        return someIf(slicedDetails.length > 0, slicedDetails);\n      }).map(slicedDetails => copy(slicedDetails));\n    };\n\n    const adt$5 = Adt.generate([\n      { invalid: ['raw'] },\n      { pixels: ['value'] },\n      { percent: ['value'] }\n    ]);\n    const validateFor = (suffix, type, value) => {\n      const rawAmount = value.substring(0, value.length - suffix.length);\n      const amount = parseFloat(rawAmount);\n      return rawAmount === amount.toString() ? type(amount) : adt$5.invalid(value);\n    };\n    const from = value => {\n      if (endsWith(value, '%')) {\n        return validateFor('%', adt$5.percent, value);\n      }\n      if (endsWith(value, 'px')) {\n        return validateFor('px', adt$5.pixels, value);\n      }\n      return adt$5.invalid(value);\n    };\n    const Size = {\n      ...adt$5,\n      from\n    };\n\n    const redistributeToPercent = (widths, totalWidth) => {\n      return map$1(widths, w => {\n        const colType = Size.from(w);\n        return colType.fold(() => {\n          return w;\n        }, px => {\n          const ratio = px / totalWidth * 100;\n          return ratio + '%';\n        }, pc => {\n          return pc + '%';\n        });\n      });\n    };\n    const redistributeToPx = (widths, totalWidth, newTotalWidth) => {\n      const scale = newTotalWidth / totalWidth;\n      return map$1(widths, w => {\n        const colType = Size.from(w);\n        return colType.fold(() => {\n          return w;\n        }, px => {\n          return px * scale + 'px';\n        }, pc => {\n          return pc / 100 * newTotalWidth + 'px';\n        });\n      });\n    };\n    const redistributeEmpty = (newWidthType, columns) => {\n      const f = newWidthType.fold(() => constant(''), pixels => {\n        const num = pixels / columns;\n        return constant(num + 'px');\n      }, () => {\n        const num = 100 / columns;\n        return constant(num + '%');\n      });\n      return range$1(columns, f);\n    };\n    const redistributeValues = (newWidthType, widths, totalWidth) => {\n      return newWidthType.fold(() => {\n        return widths;\n      }, px => {\n        return redistributeToPx(widths, totalWidth, px);\n      }, _pc => {\n        return redistributeToPercent(widths, totalWidth);\n      });\n    };\n    const redistribute$1 = (widths, totalWidth, newWidth) => {\n      const newType = Size.from(newWidth);\n      const floats = forall(widths, s => {\n        return s === '0px';\n      }) ? redistributeEmpty(newType, widths.length) : redistributeValues(newType, widths, totalWidth);\n      return normalize(floats);\n    };\n    const sum = (values, fallback) => {\n      if (values.length === 0) {\n        return fallback;\n      }\n      return foldr(values, (rest, v) => {\n        return Size.from(v).fold(constant(0), identity, identity) + rest;\n      }, 0);\n    };\n    const roundDown = (num, unit) => {\n      const floored = Math.floor(num);\n      return {\n        value: floored + unit,\n        remainder: num - floored\n      };\n    };\n    const add$3 = (value, amount) => {\n      return Size.from(value).fold(constant(value), px => {\n        return px + amount + 'px';\n      }, pc => {\n        return pc + amount + '%';\n      });\n    };\n    const normalize = values => {\n      if (values.length === 0) {\n        return values;\n      }\n      const scan = foldr(values, (rest, value) => {\n        const info = Size.from(value).fold(() => ({\n          value,\n          remainder: 0\n        }), num => roundDown(num, 'px'), num => ({\n          value: num + '%',\n          remainder: 0\n        }));\n        return {\n          output: [info.value].concat(rest.output),\n          remainder: rest.remainder + info.remainder\n        };\n      }, {\n        output: [],\n        remainder: 0\n      });\n      const r = scan.output;\n      return r.slice(0, r.length - 1).concat([add$3(r[r.length - 1], Math.round(scan.remainder))]);\n    };\n    const validate = Size.from;\n\n    const redistributeToW = (newWidths, cells, unit) => {\n      each$2(cells, cell => {\n        const widths = newWidths.slice(cell.column, cell.colspan + cell.column);\n        const w = sum(widths, minWidth());\n        set$1(cell.element, 'width', w + unit);\n      });\n    };\n    const redistributeToColumns = (newWidths, columns, unit) => {\n      each$2(columns, (column, index) => {\n        const width = sum([newWidths[index]], minWidth());\n        set$1(column.element, 'width', width + unit);\n      });\n    };\n    const redistributeToH = (newHeights, rows, cells, unit) => {\n      each$2(cells, cell => {\n        const heights = newHeights.slice(cell.row, cell.rowspan + cell.row);\n        const h = sum(heights, minHeight());\n        set$1(cell.element, 'height', h + unit);\n      });\n      each$2(rows, (row, i) => {\n        set$1(row.element, 'height', newHeights[i]);\n      });\n    };\n    const getUnit = newSize => {\n      return validate(newSize).fold(constant('px'), constant('px'), constant('%'));\n    };\n    const redistribute = (table, optWidth, optHeight) => {\n      const warehouse = Warehouse.fromTable(table);\n      const rows = warehouse.all;\n      const cells = Warehouse.justCells(warehouse);\n      const columns = Warehouse.justColumns(warehouse);\n      optWidth.each(newWidth => {\n        const widthUnit = getUnit(newWidth);\n        const totalWidth = get$9(table);\n        const oldWidths = getRawWidths(warehouse, table);\n        const nuWidths = redistribute$1(oldWidths, totalWidth, newWidth);\n        if (Warehouse.hasColumns(warehouse)) {\n          redistributeToColumns(nuWidths, columns, widthUnit);\n        } else {\n          redistributeToW(nuWidths, cells, widthUnit);\n        }\n        set$1(table, 'width', newWidth);\n      });\n      optHeight.each(newHeight => {\n        const hUnit = getUnit(newHeight);\n        const totalHeight = get$8(table);\n        const oldHeights = getRawHeights(warehouse, table, height);\n        const nuHeights = redistribute$1(oldHeights, totalHeight, newHeight);\n        redistributeToH(nuHeights, rows, cells, hUnit);\n        set$1(table, 'height', newHeight);\n      });\n    };\n    const isPercentSizing = isPercentSizing$1;\n    const isPixelSizing = isPixelSizing$1;\n    const isNoneSizing = isNoneSizing$1;\n\n    const cleanupLegacyAttributes = element => {\n      remove$7(element, 'width');\n    };\n    const convertToPercentSize = table => {\n      const newWidth = getPercentTableWidth(table);\n      redistribute(table, Optional.some(newWidth), Optional.none());\n      cleanupLegacyAttributes(table);\n    };\n    const convertToPixelSize = table => {\n      const newWidth = getPixelTableWidth(table);\n      redistribute(table, Optional.some(newWidth), Optional.none());\n      cleanupLegacyAttributes(table);\n    };\n    const convertToNoneSize = table => {\n      remove$5(table, 'width');\n      const columns = columns$1(table);\n      const rowElements = columns.length > 0 ? columns : cells$1(table);\n      each$2(rowElements, cell => {\n        remove$5(cell, 'width');\n        cleanupLegacyAttributes(cell);\n      });\n      cleanupLegacyAttributes(table);\n    };\n\n    const DefaultRenderOptions = {\n      styles: {\n        'border-collapse': 'collapse',\n        'width': '100%'\n      },\n      attributes: { border: '1' },\n      colGroups: false\n    };\n    const tableHeaderCell = () => SugarElement.fromTag('th');\n    const tableCell = () => SugarElement.fromTag('td');\n    const tableColumn = () => SugarElement.fromTag('col');\n    const createRow = (columns, rowHeaders, columnHeaders, rowIndex) => {\n      const tr = SugarElement.fromTag('tr');\n      for (let j = 0; j < columns; j++) {\n        const td = rowIndex < rowHeaders || j < columnHeaders ? tableHeaderCell() : tableCell();\n        if (j < columnHeaders) {\n          set$2(td, 'scope', 'row');\n        }\n        if (rowIndex < rowHeaders) {\n          set$2(td, 'scope', 'col');\n        }\n        append$1(td, SugarElement.fromTag('br'));\n        append$1(tr, td);\n      }\n      return tr;\n    };\n    const createGroupRow = columns => {\n      const columnGroup = SugarElement.fromTag('colgroup');\n      range$1(columns, () => append$1(columnGroup, tableColumn()));\n      return columnGroup;\n    };\n    const createRows = (rows, columns, rowHeaders, columnHeaders) => range$1(rows, r => createRow(columns, rowHeaders, columnHeaders, r));\n    const render = (rows, columns, rowHeaders, columnHeaders, headerType, renderOpts = DefaultRenderOptions) => {\n      const table = SugarElement.fromTag('table');\n      const rowHeadersGoInThead = headerType !== 'cells';\n      setAll(table, renderOpts.styles);\n      setAll$1(table, renderOpts.attributes);\n      if (renderOpts.colGroups) {\n        append$1(table, createGroupRow(columns));\n      }\n      const actualRowHeaders = Math.min(rows, rowHeaders);\n      if (rowHeadersGoInThead && rowHeaders > 0) {\n        const thead = SugarElement.fromTag('thead');\n        append$1(table, thead);\n        const theadRowHeaders = headerType === 'sectionCells' ? actualRowHeaders : 0;\n        const theadRows = createRows(rowHeaders, columns, theadRowHeaders, columnHeaders);\n        append(thead, theadRows);\n      }\n      const tbody = SugarElement.fromTag('tbody');\n      append$1(table, tbody);\n      const numRows = rowHeadersGoInThead ? rows - actualRowHeaders : rows;\n      const numRowHeaders = rowHeadersGoInThead ? 0 : rowHeaders;\n      const tbodyRows = createRows(numRows, columns, numRowHeaders, columnHeaders);\n      append(tbody, tbodyRows);\n      return table;\n    };\n\n    const get$4 = element => element.dom.innerHTML;\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$1(container, clone);\n      return get$4(container);\n    };\n\n    const placeCaretInCell = (editor, cell) => {\n      editor.selection.select(cell.dom, true);\n      editor.selection.collapse(true);\n    };\n    const selectFirstCellInTable = (editor, tableElm) => {\n      descendant(tableElm, 'td,th').each(curry(placeCaretInCell, editor));\n    };\n    const fireEvents = (editor, table) => {\n      each$2(descendants(table, 'tr'), row => {\n        fireNewRow(editor, row.dom);\n        each$2(descendants(row, 'th,td'), cell => {\n          fireNewCell(editor, cell.dom);\n        });\n      });\n    };\n    const isPercentage = width => isString(width) && width.indexOf('%') !== -1;\n    const insert = (editor, columns, rows, colHeaders, rowHeaders) => {\n      const defaultStyles = getTableDefaultStyles(editor);\n      const options = {\n        styles: defaultStyles,\n        attributes: getTableDefaultAttributes(editor),\n        colGroups: tableUseColumnGroup(editor)\n      };\n      editor.undoManager.ignore(() => {\n        const table = render(rows, columns, rowHeaders, colHeaders, getTableHeaderType(editor), options);\n        set$2(table, 'data-mce-id', '__mce');\n        const html = getOuter(table);\n        editor.insertContent(html);\n        editor.addVisual();\n      });\n      return descendant(getBody(editor), 'table[data-mce-id=\"__mce\"]').map(table => {\n        if (isTablePixelsForced(editor)) {\n          convertToPixelSize(table);\n        } else if (isTableResponsiveForced(editor)) {\n          convertToNoneSize(table);\n        } else if (isTablePercentagesForced(editor) || isPercentage(defaultStyles.width)) {\n          convertToPercentSize(table);\n        }\n        removeDataStyle(table);\n        remove$7(table, 'data-mce-id');\n        fireEvents(editor, table);\n        selectFirstCellInTable(editor, table);\n        return table.dom;\n      }).getOr(null);\n    };\n    const insertTable = (editor, rows, columns, options = {}) => {\n      const checkInput = val => isNumber(val) && val > 0;\n      if (checkInput(rows) && checkInput(columns)) {\n        const headerRows = options.headerRows || 0;\n        const headerColumns = options.headerColumns || 0;\n        return insert(editor, columns, rows, headerColumns, headerRows);\n      } else {\n        console.error('Invalid values for mceInsertTable - rows and columns values are required to insert a table.');\n        return null;\n      }\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.FakeClipboard');\n\n    const tableTypeBase = 'x-tinymce/dom-table-';\n    const tableTypeRow = tableTypeBase + 'rows';\n    const tableTypeColumn = tableTypeBase + 'columns';\n    const setData = items => {\n      const fakeClipboardItem = global.FakeClipboardItem(items);\n      global.write([fakeClipboardItem]);\n    };\n    const getData = type => {\n      var _a;\n      const items = (_a = global.read()) !== null && _a !== void 0 ? _a : [];\n      return findMap(items, item => Optional.from(item.getType(type)));\n    };\n    const clearData = type => {\n      if (getData(type).isSome()) {\n        global.clear();\n      }\n    };\n    const setRows = rowsOpt => {\n      rowsOpt.fold(clearRows, rows => setData({ [tableTypeRow]: rows }));\n    };\n    const getRows = () => getData(tableTypeRow);\n    const clearRows = () => clearData(tableTypeRow);\n    const setColumns = columnsOpt => {\n      columnsOpt.fold(clearColumns, columns => setData({ [tableTypeColumn]: columns }));\n    };\n    const getColumns = () => getData(tableTypeColumn);\n    const clearColumns = () => clearData(tableTypeColumn);\n\n    const getSelectionStartCellOrCaption = editor => getSelectionCellOrCaption(getSelectionStart(editor), getIsRoot(editor));\n    const getSelectionStartCell = editor => getSelectionCell(getSelectionStart(editor), getIsRoot(editor));\n    const registerCommands = (editor, actions) => {\n      const isRoot = getIsRoot(editor);\n      const eraseTable = () => getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n        table(cellOrCaption, isRoot).filter(not(isRoot)).each(table => {\n          const cursor = SugarElement.fromText('');\n          after$5(table, cursor);\n          remove$6(table);\n          if (editor.dom.isEmpty(editor.getBody())) {\n            editor.setContent('');\n            editor.selection.setCursorLocation();\n          } else {\n            const rng = editor.dom.createRng();\n            rng.setStart(cursor.dom, 0);\n            rng.setEnd(cursor.dom, 0);\n            editor.selection.setRng(rng);\n            editor.nodeChanged();\n          }\n        });\n      });\n      const setSizingMode = sizing => getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n        const isForcedSizing = isTableResponsiveForced(editor) || isTablePixelsForced(editor) || isTablePercentagesForced(editor);\n        if (!isForcedSizing) {\n          table(cellOrCaption, isRoot).each(table => {\n            if (sizing === 'relative' && !isPercentSizing(table)) {\n              convertToPercentSize(table);\n            } else if (sizing === 'fixed' && !isPixelSizing(table)) {\n              convertToPixelSize(table);\n            } else if (sizing === 'responsive' && !isNoneSizing(table)) {\n              convertToNoneSize(table);\n            }\n            removeDataStyle(table);\n            fireTableModified(editor, table.dom, structureModified);\n          });\n        }\n      });\n      const getTableFromCell = cell => table(cell, isRoot);\n      const performActionOnSelection = action => getSelectionStartCell(editor).bind(cell => getTableFromCell(cell).map(table => action(table, cell)));\n      const toggleTableClass = (_ui, clazz) => {\n        performActionOnSelection(table => {\n          editor.formatter.toggle('tableclass', { value: clazz }, table.dom);\n          fireTableModified(editor, table.dom, styleModified);\n        });\n      };\n      const toggleTableCellClass = (_ui, clazz) => {\n        performActionOnSelection(table => {\n          const selectedCells = getCellsFromSelection(editor);\n          const allHaveClass = forall(selectedCells, cell => editor.formatter.match('tablecellclass', { value: clazz }, cell.dom));\n          const formatterAction = allHaveClass ? editor.formatter.remove : editor.formatter.apply;\n          each$2(selectedCells, cell => formatterAction('tablecellclass', { value: clazz }, cell.dom));\n          fireTableModified(editor, table.dom, styleModified);\n        });\n      };\n      const toggleCaption = () => {\n        getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n          table(cellOrCaption, isRoot).each(table => {\n            child(table, 'caption').fold(() => {\n              const caption = SugarElement.fromTag('caption');\n              append$1(caption, SugarElement.fromText('Caption'));\n              appendAt(table, caption, 0);\n              editor.selection.setCursorLocation(caption.dom, 0);\n            }, caption => {\n              if (isTag('caption')(cellOrCaption)) {\n                one('td', table).each(td => editor.selection.setCursorLocation(td.dom, 0));\n              }\n              remove$6(caption);\n            });\n            fireTableModified(editor, table.dom, structureModified);\n          });\n        });\n      };\n      const postExecute = _data => {\n        editor.focus();\n      };\n      const actOnSelection = (execute, noEvents = false) => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        execute(table, targets, noEvents).each(postExecute);\n      });\n      const copyRowSelection = () => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        const generators = cellOperations(noop, SugarElement.fromDom(editor.getDoc()), Optional.none());\n        return copyRows(table, targets, generators);\n      });\n      const copyColSelection = () => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        return copyCols(table, targets);\n      });\n      const pasteOnSelection = (execute, getRows) => getRows().each(rows => {\n        const clonedRows = map$1(rows, row => deep(row));\n        performActionOnSelection((table, startCell) => {\n          const generators = paste$1(SugarElement.fromDom(editor.getDoc()));\n          const targets = pasteRows(getCellsFromSelection(editor), startCell, clonedRows, generators);\n          execute(table, targets).each(postExecute);\n        });\n      });\n      const actOnType = getAction => (_ui, args) => get$c(args, 'type').each(type => {\n        actOnSelection(getAction(type), args.no_events);\n      });\n      each$1({\n        mceTableSplitCells: () => actOnSelection(actions.unmergeCells),\n        mceTableMergeCells: () => actOnSelection(actions.mergeCells),\n        mceTableInsertRowBefore: () => actOnSelection(actions.insertRowsBefore),\n        mceTableInsertRowAfter: () => actOnSelection(actions.insertRowsAfter),\n        mceTableInsertColBefore: () => actOnSelection(actions.insertColumnsBefore),\n        mceTableInsertColAfter: () => actOnSelection(actions.insertColumnsAfter),\n        mceTableDeleteCol: () => actOnSelection(actions.deleteColumn),\n        mceTableDeleteRow: () => actOnSelection(actions.deleteRow),\n        mceTableCutCol: () => copyColSelection().each(selection => {\n          setColumns(selection);\n          actOnSelection(actions.deleteColumn);\n        }),\n        mceTableCutRow: () => copyRowSelection().each(selection => {\n          setRows(selection);\n          actOnSelection(actions.deleteRow);\n        }),\n        mceTableCopyCol: () => copyColSelection().each(selection => setColumns(selection)),\n        mceTableCopyRow: () => copyRowSelection().each(selection => setRows(selection)),\n        mceTablePasteColBefore: () => pasteOnSelection(actions.pasteColsBefore, getColumns),\n        mceTablePasteColAfter: () => pasteOnSelection(actions.pasteColsAfter, getColumns),\n        mceTablePasteRowBefore: () => pasteOnSelection(actions.pasteRowsBefore, getRows),\n        mceTablePasteRowAfter: () => pasteOnSelection(actions.pasteRowsAfter, getRows),\n        mceTableDelete: eraseTable,\n        mceTableCellToggleClass: toggleTableCellClass,\n        mceTableToggleClass: toggleTableClass,\n        mceTableToggleCaption: toggleCaption,\n        mceTableSizingMode: (_ui, sizing) => setSizingMode(sizing),\n        mceTableCellType: actOnType(type => type === 'th' ? actions.makeCellsHeader : actions.unmakeCellsHeader),\n        mceTableColType: actOnType(type => type === 'th' ? actions.makeColumnsHeader : actions.unmakeColumnsHeader),\n        mceTableRowType: actOnType(type => {\n          switch (type) {\n          case 'header':\n            return actions.makeRowsHeader;\n          case 'footer':\n            return actions.makeRowsFooter;\n          default:\n            return actions.makeRowsBody;\n          }\n        })\n      }, (func, name) => editor.addCommand(name, func));\n      editor.addCommand('mceInsertTable', (_ui, args) => {\n        insertTable(editor, args.rows, args.columns, args.options);\n      });\n      editor.addCommand('mceTableApplyCellStyle', (_ui, args) => {\n        const getFormatName = style => 'tablecell' + style.toLowerCase().replace('-', '');\n        if (!isObject(args)) {\n          return;\n        }\n        const cells = getCellsFromSelection(editor);\n        if (cells.length === 0) {\n          return;\n        }\n        const validArgs = filter$1(args, (value, style) => editor.formatter.has(getFormatName(style)) && isString(value));\n        if (isEmpty(validArgs)) {\n          return;\n        }\n        each$1(validArgs, (value, style) => {\n          const formatName = getFormatName(style);\n          each$2(cells, cell => {\n            if (value === '') {\n              editor.formatter.remove(formatName, { value: null }, cell.dom, true);\n            } else {\n              editor.formatter.apply(formatName, { value }, cell.dom);\n            }\n          });\n        });\n        getTableFromCell(cells[0]).each(table => fireTableModified(editor, table.dom, styleModified));\n      });\n    };\n\n    const registerQueryCommands = (editor, actions) => {\n      const isRoot = getIsRoot(editor);\n      const lookupOnSelection = action => getSelectionCell(getSelectionStart(editor)).bind(cell => table(cell, isRoot).map(table => {\n        const targets = forMenu(getCellsFromSelection(editor), table, cell);\n        return action(table, targets);\n      })).getOr('');\n      each$1({\n        mceTableRowType: () => lookupOnSelection(actions.getTableRowType),\n        mceTableCellType: () => lookupOnSelection(actions.getTableCellType),\n        mceTableColType: () => lookupOnSelection(actions.getTableColType)\n      }, (func, name) => editor.addQueryValueHandler(name, func));\n    };\n\n    const adt$4 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata$1 = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$1 = situ => situ.fold(identity, identity, identity);\n    const before$2 = adt$4.before;\n    const on = adt$4.on;\n    const after$3 = adt$4.after;\n    const Situ = {\n      before: before$2,\n      on,\n      after: after$3,\n      cata: cata$1,\n      getStart: getStart$1\n    };\n\n    const create$4 = (selection, kill) => ({\n      selection,\n      kill\n    });\n    const Response = { create: create$4 };\n\n    const selectNode = (win, element) => {\n      const rng = win.document.createRange();\n      rng.selectNode(element.dom);\n      return rng;\n    };\n    const selectNodeContents = (win, element) => {\n      const rng = win.document.createRange();\n      selectNodeContentsUsing(rng, element);\n      return rng;\n    };\n    const selectNodeContentsUsing = (rng, element) => rng.selectNodeContents(element.dom);\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const toRect = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      width: rect.width,\n      height: rect.height\n    });\n    const getFirstRect$1 = rng => {\n      const rects = rng.getClientRects();\n      const rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    const adt$3 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$3.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$3.ltr, rng));\n      } else {\n        return fromRange(win, adt$3.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    const asLtrRange = (win, selection) => {\n      const diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$3.ltr;\n    adt$3.rtl;\n\n    const create$3 = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$3 };\n\n    const create$2 = (start, soffset, finish, foffset) => {\n      return {\n        start: Situ.on(start, soffset),\n        finish: Situ.on(finish, foffset)\n      };\n    };\n    const Situs = { create: create$2 };\n\n    const convertToRange = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset);\n    };\n    const makeSitus = Situs.create;\n\n    const sync = (container, isRoot, start, soffset, finish, foffset, selectRange) => {\n      if (!(eq$1(start, finish) && soffset === foffset)) {\n        return closest$1(start, 'td,th', isRoot).bind(s => {\n          return closest$1(finish, 'td,th', isRoot).bind(f => {\n            return detect(container, isRoot, s, f, selectRange);\n          });\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const detect = (container, isRoot, start, finish, selectRange) => {\n      if (!eq$1(start, finish)) {\n        return identify(start, finish, isRoot).bind(cellSel => {\n          const boxes = cellSel.boxes.getOr([]);\n          if (boxes.length > 1) {\n            selectRange(container, boxes, cellSel.start, cellSel.finish);\n            return Optional.some(Response.create(Optional.some(makeSitus(start, 0, start, getEnd(start))), true));\n          } else {\n            return Optional.none();\n          }\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const update = (rows, columns, container, selected, annotations) => {\n      const updateSelection = newSels => {\n        annotations.clearBeforeUpdate(container);\n        annotations.selectRange(container, newSels.boxes, newSels.start, newSels.finish);\n        return newSels.boxes;\n      };\n      return shiftSelection(selected, rows, columns, annotations.firstSelectedSelector, annotations.lastSelectedSelector).map(updateSelection);\n    };\n\n    const traverse = (item, mode) => ({\n      item,\n      mode\n    });\n    const backtrack = (universe, item, _direction, transition = sidestep) => {\n      return universe.property().parent(item).map(p => {\n        return traverse(p, transition);\n      });\n    };\n    const sidestep = (universe, item, direction, transition = advance) => {\n      return direction.sibling(universe, item).map(p => {\n        return traverse(p, transition);\n      });\n    };\n    const advance = (universe, item, direction, transition = advance) => {\n      const children = universe.property().children(item);\n      const result = direction.first(children);\n      return result.map(r => {\n        return traverse(r, transition);\n      });\n    };\n    const successors = [\n      {\n        current: backtrack,\n        next: sidestep,\n        fallback: Optional.none()\n      },\n      {\n        current: sidestep,\n        next: advance,\n        fallback: Optional.some(backtrack)\n      },\n      {\n        current: advance,\n        next: advance,\n        fallback: Optional.some(sidestep)\n      }\n    ];\n    const go = (universe, item, mode, direction, rules = successors) => {\n      const ruleOpt = find$1(rules, succ => {\n        return succ.current === mode;\n      });\n      return ruleOpt.bind(rule => {\n        return rule.current(universe, item, direction, rule.next).orThunk(() => {\n          return rule.fallback.bind(fb => {\n            return go(universe, item, fb, direction);\n          });\n        });\n      });\n    };\n\n    const left$1 = () => {\n      const sibling = (universe, item) => {\n        return universe.query().prevSibling(item);\n      };\n      const first = children => {\n        return children.length > 0 ? Optional.some(children[children.length - 1]) : Optional.none();\n      };\n      return {\n        sibling,\n        first\n      };\n    };\n    const right$1 = () => {\n      const sibling = (universe, item) => {\n        return universe.query().nextSibling(item);\n      };\n      const first = children => {\n        return children.length > 0 ? Optional.some(children[0]) : Optional.none();\n      };\n      return {\n        sibling,\n        first\n      };\n    };\n    const Walkers = {\n      left: left$1,\n      right: right$1\n    };\n\n    const hone = (universe, item, predicate, mode, direction, isRoot) => {\n      const next = go(universe, item, mode, direction);\n      return next.bind(n => {\n        if (isRoot(n.item)) {\n          return Optional.none();\n        } else {\n          return predicate(n.item) ? Optional.some(n.item) : hone(universe, n.item, predicate, n.mode, direction, isRoot);\n        }\n      });\n    };\n    const left = (universe, item, predicate, isRoot) => {\n      return hone(universe, item, predicate, sidestep, Walkers.left(), isRoot);\n    };\n    const right = (universe, item, predicate, isRoot) => {\n      return hone(universe, item, predicate, sidestep, Walkers.right(), isRoot);\n    };\n\n    const isLeaf = universe => element => universe.property().children(element).length === 0;\n    const before$1 = (universe, item, isRoot) => {\n      return seekLeft$1(universe, item, isLeaf(universe), isRoot);\n    };\n    const after$2 = (universe, item, isRoot) => {\n      return seekRight$1(universe, item, isLeaf(universe), isRoot);\n    };\n    const seekLeft$1 = left;\n    const seekRight$1 = right;\n\n    const universe = DomUniverse();\n    const before = (element, isRoot) => {\n      return before$1(universe, element, isRoot);\n    };\n    const after$1 = (element, isRoot) => {\n      return after$2(universe, element, isRoot);\n    };\n    const seekLeft = (element, predicate, isRoot) => {\n      return seekLeft$1(universe, element, predicate, isRoot);\n    };\n    const seekRight = (element, predicate, isRoot) => {\n      return seekRight$1(universe, element, predicate, isRoot);\n    };\n\n    const ancestor = (scope, predicate, isRoot) => ancestor$2(scope, predicate, isRoot).isSome();\n\n    const adt$2 = Adt.generate([\n      { none: ['message'] },\n      { success: [] },\n      { failedUp: ['cell'] },\n      { failedDown: ['cell'] }\n    ]);\n    const isOverlapping = (bridge, before, after) => {\n      const beforeBounds = bridge.getRect(before);\n      const afterBounds = bridge.getRect(after);\n      return afterBounds.right > beforeBounds.left && afterBounds.left < beforeBounds.right;\n    };\n    const isRow = elem => {\n      return closest$1(elem, 'tr');\n    };\n    const verify = (bridge, before, beforeOffset, after, afterOffset, failure, isRoot) => {\n      return closest$1(after, 'td,th', isRoot).bind(afterCell => {\n        return closest$1(before, 'td,th', isRoot).map(beforeCell => {\n          if (!eq$1(afterCell, beforeCell)) {\n            return sharedOne(isRow, [\n              afterCell,\n              beforeCell\n            ]).fold(() => {\n              return isOverlapping(bridge, beforeCell, afterCell) ? adt$2.success() : failure(beforeCell);\n            }, _sharedRow => {\n              return failure(beforeCell);\n            });\n          } else {\n            return eq$1(after, afterCell) && getEnd(afterCell) === afterOffset ? failure(beforeCell) : adt$2.none('in same cell');\n          }\n        });\n      }).getOr(adt$2.none('default'));\n    };\n    const cata = (subject, onNone, onSuccess, onFailedUp, onFailedDown) => {\n      return subject.fold(onNone, onSuccess, onFailedUp, onFailedDown);\n    };\n    const BeforeAfter = {\n      ...adt$2,\n      verify,\n      cata\n    };\n\n    const inParent = (parent, children, element, index) => ({\n      parent,\n      children,\n      element,\n      index\n    });\n    const indexInParent = element => parent(element).bind(parent => {\n      const children = children$2(parent);\n      return indexOf(children, element).map(index => inParent(parent, children, element, index));\n    });\n    const indexOf = (elements, element) => findIndex(elements, curry(eq$1, element));\n\n    const isBr = isTag('br');\n    const gatherer = (cand, gather, isRoot) => {\n      return gather(cand, isRoot).bind(target => {\n        return isText(target) && get$6(target).trim().length === 0 ? gatherer(target, gather, isRoot) : Optional.some(target);\n      });\n    };\n    const handleBr = (isRoot, element, direction) => {\n      return direction.traverse(element).orThunk(() => {\n        return gatherer(element, direction.gather, isRoot);\n      }).map(direction.relative);\n    };\n    const findBr = (element, offset) => {\n      return child$2(element, offset).filter(isBr).orThunk(() => {\n        return child$2(element, offset - 1).filter(isBr);\n      });\n    };\n    const handleParent = (isRoot, element, offset, direction) => {\n      return findBr(element, offset).bind(br => {\n        return direction.traverse(br).fold(() => {\n          return gatherer(br, direction.gather, isRoot).map(direction.relative);\n        }, adjacent => {\n          return indexInParent(adjacent).map(info => {\n            return Situ.on(info.parent, info.index);\n          });\n        });\n      });\n    };\n    const tryBr = (isRoot, element, offset, direction) => {\n      const target = isBr(element) ? handleBr(isRoot, element, direction) : handleParent(isRoot, element, offset, direction);\n      return target.map(tgt => {\n        return {\n          start: tgt,\n          finish: tgt\n        };\n      });\n    };\n    const process = analysis => {\n      return BeforeAfter.cata(analysis, _message => {\n        return Optional.none();\n      }, () => {\n        return Optional.none();\n      }, cell => {\n        return Optional.some(point(cell, 0));\n      }, cell => {\n        return Optional.some(point(cell, getEnd(cell)));\n      });\n    };\n\n    const moveDown = (caret, amount) => {\n      return {\n        left: caret.left,\n        top: caret.top + amount,\n        right: caret.right,\n        bottom: caret.bottom + amount\n      };\n    };\n    const moveUp = (caret, amount) => {\n      return {\n        left: caret.left,\n        top: caret.top - amount,\n        right: caret.right,\n        bottom: caret.bottom - amount\n      };\n    };\n    const translate = (caret, xDelta, yDelta) => {\n      return {\n        left: caret.left + xDelta,\n        top: caret.top + yDelta,\n        right: caret.right + xDelta,\n        bottom: caret.bottom + yDelta\n      };\n    };\n    const getTop = caret => {\n      return caret.top;\n    };\n    const getBottom = caret => {\n      return caret.bottom;\n    };\n\n    const getPartialBox = (bridge, element, offset) => {\n      if (offset >= 0 && offset < getEnd(element)) {\n        return bridge.getRangedRect(element, offset, element, offset + 1);\n      } else if (offset > 0) {\n        return bridge.getRangedRect(element, offset - 1, element, offset);\n      }\n      return Optional.none();\n    };\n    const toCaret = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom\n    });\n    const getElemBox = (bridge, element) => {\n      return Optional.some(bridge.getRect(element));\n    };\n    const getBoxAt = (bridge, element, offset) => {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return getPartialBox(bridge, element, offset).map(toCaret);\n      } else {\n        return Optional.none();\n      }\n    };\n    const getEntireBox = (bridge, element) => {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return bridge.getRangedRect(element, 0, element, getEnd(element)).map(toCaret);\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const JUMP_SIZE = 5;\n    const NUM_RETRIES = 100;\n    const adt$1 = Adt.generate([\n      { none: [] },\n      { retry: ['caret'] }\n    ]);\n    const isOutside = (caret, box) => {\n      return caret.left < box.left || Math.abs(box.right - caret.left) < 1 || caret.left > box.right;\n    };\n    const inOutsideBlock = (bridge, element, caret) => {\n      return closest$2(element, isBlock).fold(never, cell => {\n        return getEntireBox(bridge, cell).exists(box => {\n          return isOutside(caret, box);\n        });\n      });\n    };\n    const adjustDown = (bridge, element, guessBox, original, caret) => {\n      const lowerCaret = moveDown(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.bottom - original.bottom) < 1) {\n        return adt$1.retry(lowerCaret);\n      } else if (guessBox.top > caret.bottom) {\n        return adt$1.retry(lowerCaret);\n      } else if (guessBox.top === caret.bottom) {\n        return adt$1.retry(moveDown(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt$1.retry(translate(lowerCaret, JUMP_SIZE, 0)) : adt$1.none();\n      }\n    };\n    const adjustUp = (bridge, element, guessBox, original, caret) => {\n      const higherCaret = moveUp(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.top - original.top) < 1) {\n        return adt$1.retry(higherCaret);\n      } else if (guessBox.bottom < caret.top) {\n        return adt$1.retry(higherCaret);\n      } else if (guessBox.bottom === caret.top) {\n        return adt$1.retry(moveUp(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt$1.retry(translate(higherCaret, JUMP_SIZE, 0)) : adt$1.none();\n      }\n    };\n    const upMovement = {\n      point: getTop,\n      adjuster: adjustUp,\n      move: moveUp,\n      gather: before\n    };\n    const downMovement = {\n      point: getBottom,\n      adjuster: adjustDown,\n      move: moveDown,\n      gather: after$1\n    };\n    const isAtTable = (bridge, x, y) => {\n      return bridge.elementFromPoint(x, y).filter(elm => {\n        return name(elm) === 'table';\n      }).isSome();\n    };\n    const adjustForTable = (bridge, movement, original, caret, numRetries) => {\n      return adjustTil(bridge, movement, original, movement.move(caret, JUMP_SIZE), numRetries);\n    };\n    const adjustTil = (bridge, movement, original, caret, numRetries) => {\n      if (numRetries === 0) {\n        return Optional.some(caret);\n      }\n      if (isAtTable(bridge, caret.left, movement.point(caret))) {\n        return adjustForTable(bridge, movement, original, caret, numRetries - 1);\n      }\n      return bridge.situsFromPoint(caret.left, movement.point(caret)).bind(guess => {\n        return guess.start.fold(Optional.none, element => {\n          return getEntireBox(bridge, element).bind(guessBox => {\n            return movement.adjuster(bridge, element, guessBox, original, caret).fold(Optional.none, newCaret => {\n              return adjustTil(bridge, movement, original, newCaret, numRetries - 1);\n            });\n          }).orThunk(() => {\n            return Optional.some(caret);\n          });\n        }, Optional.none);\n      });\n    };\n    const checkScroll = (movement, adjusted, bridge) => {\n      if (movement.point(adjusted) > bridge.getInnerHeight()) {\n        return Optional.some(movement.point(adjusted) - bridge.getInnerHeight());\n      } else if (movement.point(adjusted) < 0) {\n        return Optional.some(-movement.point(adjusted));\n      } else {\n        return Optional.none();\n      }\n    };\n    const retry = (movement, bridge, caret) => {\n      const moved = movement.move(caret, JUMP_SIZE);\n      const adjusted = adjustTil(bridge, movement, caret, moved, NUM_RETRIES).getOr(moved);\n      return checkScroll(movement, adjusted, bridge).fold(() => {\n        return bridge.situsFromPoint(adjusted.left, movement.point(adjusted));\n      }, delta => {\n        bridge.scrollBy(0, delta);\n        return bridge.situsFromPoint(adjusted.left, movement.point(adjusted) - delta);\n      });\n    };\n    const Retries = {\n      tryUp: curry(retry, upMovement),\n      tryDown: curry(retry, downMovement),\n      getJumpSize: constant(JUMP_SIZE)\n    };\n\n    const MAX_RETRIES = 20;\n    const findSpot = (bridge, isRoot, direction) => {\n      return bridge.getSelection().bind(sel => {\n        return tryBr(isRoot, sel.finish, sel.foffset, direction).fold(() => {\n          return Optional.some(point(sel.finish, sel.foffset));\n        }, brNeighbour => {\n          const range = bridge.fromSitus(brNeighbour);\n          const analysis = BeforeAfter.verify(bridge, sel.finish, sel.foffset, range.finish, range.foffset, direction.failure, isRoot);\n          return process(analysis);\n        });\n      });\n    };\n    const scan = (bridge, isRoot, element, offset, direction, numRetries) => {\n      if (numRetries === 0) {\n        return Optional.none();\n      }\n      return tryCursor(bridge, isRoot, element, offset, direction).bind(situs => {\n        const range = bridge.fromSitus(situs);\n        const analysis = BeforeAfter.verify(bridge, element, offset, range.finish, range.foffset, direction.failure, isRoot);\n        return BeforeAfter.cata(analysis, () => {\n          return Optional.none();\n        }, () => {\n          return Optional.some(situs);\n        }, cell => {\n          if (eq$1(element, cell) && offset === 0) {\n            return tryAgain(bridge, element, offset, moveUp, direction);\n          } else {\n            return scan(bridge, isRoot, cell, 0, direction, numRetries - 1);\n          }\n        }, cell => {\n          if (eq$1(element, cell) && offset === getEnd(cell)) {\n            return tryAgain(bridge, element, offset, moveDown, direction);\n          } else {\n            return scan(bridge, isRoot, cell, getEnd(cell), direction, numRetries - 1);\n          }\n        });\n      });\n    };\n    const tryAgain = (bridge, element, offset, move, direction) => {\n      return getBoxAt(bridge, element, offset).bind(box => {\n        return tryAt(bridge, direction, move(box, Retries.getJumpSize()));\n      });\n    };\n    const tryAt = (bridge, direction, box) => {\n      const browser = detect$2().browser;\n      if (browser.isChromium() || browser.isSafari() || browser.isFirefox()) {\n        return direction.retry(bridge, box);\n      } else {\n        return Optional.none();\n      }\n    };\n    const tryCursor = (bridge, isRoot, element, offset, direction) => {\n      return getBoxAt(bridge, element, offset).bind(box => {\n        return tryAt(bridge, direction, box);\n      });\n    };\n    const handle$1 = (bridge, isRoot, direction) => {\n      return findSpot(bridge, isRoot, direction).bind(spot => {\n        return scan(bridge, isRoot, spot.element, spot.offset, direction, MAX_RETRIES).map(bridge.fromSitus);\n      });\n    };\n\n    const inSameTable = (elem, table) => {\n      return ancestor(elem, e => {\n        return parent(e).exists(p => {\n          return eq$1(p, table);\n        });\n      });\n    };\n    const simulate = (bridge, isRoot, direction, initial, anchor) => {\n      return closest$1(initial, 'td,th', isRoot).bind(start => {\n        return closest$1(start, 'table', isRoot).bind(table => {\n          if (!inSameTable(anchor, table)) {\n            return Optional.none();\n          }\n          return handle$1(bridge, isRoot, direction).bind(range => {\n            return closest$1(range.finish, 'td,th', isRoot).map(finish => {\n              return {\n                start,\n                finish,\n                range\n              };\n            });\n          });\n        });\n      });\n    };\n    const navigate = (bridge, isRoot, direction, initial, anchor, precheck) => {\n      return precheck(initial, isRoot).orThunk(() => {\n        return simulate(bridge, isRoot, direction, initial, anchor).map(info => {\n          const range = info.range;\n          return Response.create(Optional.some(makeSitus(range.start, range.soffset, range.finish, range.foffset)), true);\n        });\n      });\n    };\n    const firstUpCheck = (initial, isRoot) => {\n      return closest$1(initial, 'tr', isRoot).bind(startRow => {\n        return closest$1(startRow, 'table', isRoot).bind(table => {\n          const rows = descendants(table, 'tr');\n          if (eq$1(startRow, rows[0])) {\n            return seekLeft(table, element => {\n              return last$1(element).isSome();\n            }, isRoot).map(last => {\n              const lastOffset = getEnd(last);\n              return Response.create(Optional.some(makeSitus(last, lastOffset, last, lastOffset)), true);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      });\n    };\n    const lastDownCheck = (initial, isRoot) => {\n      return closest$1(initial, 'tr', isRoot).bind(startRow => {\n        return closest$1(startRow, 'table', isRoot).bind(table => {\n          const rows = descendants(table, 'tr');\n          if (eq$1(startRow, rows[rows.length - 1])) {\n            return seekRight(table, element => {\n              return first(element).isSome();\n            }, isRoot).map(first => {\n              return Response.create(Optional.some(makeSitus(first, 0, first, 0)), true);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      });\n    };\n    const select = (bridge, container, isRoot, direction, initial, anchor, selectRange) => {\n      return simulate(bridge, isRoot, direction, initial, anchor).bind(info => {\n        return detect(container, isRoot, info.start, info.finish, selectRange);\n      });\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const value = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const findCell = (target, isRoot) => closest$1(target, 'td,th', isRoot);\n    const MouseSelection = (bridge, container, isRoot, annotations) => {\n      const cursor = value();\n      const clearstate = cursor.clear;\n      const applySelection = event => {\n        cursor.on(start => {\n          annotations.clearBeforeUpdate(container);\n          findCell(event.target, isRoot).each(finish => {\n            identify(start, finish, isRoot).each(cellSel => {\n              const boxes = cellSel.boxes.getOr([]);\n              if (boxes.length === 1) {\n                const singleCell = boxes[0];\n                const isNonEditableCell = getRaw(singleCell) === 'false';\n                const isCellClosestContentEditable = is(closest(event.target), singleCell, eq$1);\n                if (isNonEditableCell && isCellClosestContentEditable) {\n                  annotations.selectRange(container, boxes, singleCell, singleCell);\n                  bridge.selectContents(singleCell);\n                }\n              } else if (boxes.length > 1) {\n                annotations.selectRange(container, boxes, cellSel.start, cellSel.finish);\n                bridge.selectContents(finish);\n              }\n            });\n          });\n        });\n      };\n      const mousedown = event => {\n        annotations.clear(container);\n        findCell(event.target, isRoot).each(cursor.set);\n      };\n      const mouseover = event => {\n        applySelection(event);\n      };\n      const mouseup = event => {\n        applySelection(event);\n        clearstate();\n      };\n      return {\n        clearstate,\n        mousedown,\n        mouseover,\n        mouseup\n      };\n    };\n\n    const down = {\n      traverse: nextSibling,\n      gather: after$1,\n      relative: Situ.before,\n      retry: Retries.tryDown,\n      failure: BeforeAfter.failedDown\n    };\n    const up = {\n      traverse: prevSibling,\n      gather: before,\n      relative: Situ.before,\n      retry: Retries.tryUp,\n      failure: BeforeAfter.failedUp\n    };\n\n    const isKey = key => {\n      return keycode => {\n        return keycode === key;\n      };\n    };\n    const isUp = isKey(38);\n    const isDown = isKey(40);\n    const isNavigation = keycode => {\n      return keycode >= 37 && keycode <= 40;\n    };\n    const ltr = {\n      isBackward: isKey(37),\n      isForward: isKey(39)\n    };\n    const rtl = {\n      isBackward: isKey(39),\n      isForward: isKey(37)\n    };\n\n    const get$3 = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const by = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollBy(x, y);\n      }\n    };\n\n    const adt = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt.domRange;\n    const relative = adt.relative;\n    const exact = adt.exact;\n    const getWin = selection => {\n      const start = getStart(selection);\n      return defaultView(start);\n    };\n    const range = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range\n    };\n\n    const caretPositionFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretPositionFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y)).bind(pos => {\n        if (pos.offsetNode === null) {\n          return Optional.none();\n        }\n        const r = doc.dom.createRange();\n        r.setStart(pos.offsetNode, pos.offset);\n        r.collapse();\n        return Optional.some(r);\n      });\n    };\n    const caretRangeFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretRangeFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y));\n    };\n    const availableSearch = (() => {\n      if (document.caretPositionFromPoint) {\n        return caretPositionFromPoint;\n      } else if (document.caretRangeFromPoint) {\n        return caretRangeFromPoint;\n      } else {\n        return Optional.none;\n      }\n    })();\n    const fromPoint = (win, x, y) => {\n      const doc = SugarElement.fromDom(win.document);\n      return availableSearch(doc, x, y).map(rng => SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n    };\n\n    const beforeSpecial = (element, offset) => {\n      const name$1 = name(element);\n      if ('input' === name$1) {\n        return Situ.after(element);\n      } else if (!contains$2([\n          'br',\n          'img'\n        ], name$1)) {\n        return Situ.on(element, offset);\n      } else {\n        return offset === 0 ? Situ.before(element) : Situ.after(element);\n      }\n    };\n    const preprocessRelative = (startSitu, finishSitu) => {\n      const start = startSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      const finish = finishSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      return SimSelection.relative(start, finish);\n    };\n    const preprocessExact = (start, soffset, finish, foffset) => {\n      const startSitu = beforeSpecial(start, soffset);\n      const finishSitu = beforeSpecial(finish, foffset);\n      return SimSelection.relative(startSitu, finishSitu);\n    };\n\n    const makeRange = (start, soffset, finish, foffset) => {\n      const doc = owner(start);\n      const rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const after = (start, soffset, finish, foffset) => {\n      const r = makeRange(start, soffset, finish, foffset);\n      const same = eq$1(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    const getNativeSelection = win => Optional.from(win.getSelection());\n    const doSetNativeRange = (win, rng) => {\n      getNativeSelection(win).each(selection => {\n        selection.removeAllRanges();\n        selection.addRange(rng);\n      });\n    };\n    const doSetRange = (win, start, soffset, finish, foffset) => {\n      const rng = exactToNative(win, start, soffset, finish, foffset);\n      doSetNativeRange(win, rng);\n    };\n    const setLegacyRtlRange = (win, selection, start, soffset, finish, foffset) => {\n      selection.collapse(start.dom, soffset);\n      selection.extend(finish.dom, foffset);\n    };\n    const setRangeFromRelative = (win, relative) => diagnose(win, relative).match({\n      ltr: (start, soffset, finish, foffset) => {\n        doSetRange(win, start, soffset, finish, foffset);\n      },\n      rtl: (start, soffset, finish, foffset) => {\n        getNativeSelection(win).each(selection => {\n          if (selection.setBaseAndExtent) {\n            selection.setBaseAndExtent(start.dom, soffset, finish.dom, foffset);\n          } else if (selection.extend) {\n            try {\n              setLegacyRtlRange(win, selection, start, soffset, finish, foffset);\n            } catch (e) {\n              doSetRange(win, finish, foffset, start, soffset);\n            }\n          } else {\n            doSetRange(win, finish, foffset, start, soffset);\n          }\n        });\n      }\n    });\n    const setExact = (win, start, soffset, finish, foffset) => {\n      const relative = preprocessExact(start, soffset, finish, foffset);\n      setRangeFromRelative(win, relative);\n    };\n    const setRelative = (win, startSitu, finishSitu) => {\n      const relative = preprocessRelative(startSitu, finishSitu);\n      setRangeFromRelative(win, relative);\n    };\n    const readRange = selection => {\n      if (selection.rangeCount > 0) {\n        const firstRng = selection.getRangeAt(0);\n        const lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const doGetExact = selection => {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        const anchor = SugarElement.fromDom(selection.anchorNode);\n        const focus = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    const setToElement = (win, element, selectNodeContents$1 = true) => {\n      const rngGetter = selectNodeContents$1 ? selectNodeContents : selectNode;\n      const rng = rngGetter(win, element);\n      doSetNativeRange(win, rng);\n    };\n    const getExact = win => getNativeSelection(win).filter(sel => sel.rangeCount > 0).bind(doGetExact);\n    const get$2 = win => getExact(win).map(range => SimSelection.exact(range.start, range.soffset, range.finish, range.foffset));\n    const getFirstRect = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    const getAtPoint = (win, x, y) => fromPoint(win, x, y);\n    const clear = win => {\n      getNativeSelection(win).each(selection => selection.removeAllRanges());\n    };\n\n    const WindowBridge = win => {\n      const elementFromPoint = (x, y) => {\n        return SugarElement.fromPoint(SugarElement.fromDom(win.document), x, y);\n      };\n      const getRect = element => {\n        return element.dom.getBoundingClientRect();\n      };\n      const getRangedRect = (start, soffset, finish, foffset) => {\n        const sel = SimSelection.exact(start, soffset, finish, foffset);\n        return getFirstRect(win, sel);\n      };\n      const getSelection = () => {\n        return get$2(win).map(exactAdt => {\n          return convertToRange(win, exactAdt);\n        });\n      };\n      const fromSitus = situs => {\n        const relative = SimSelection.relative(situs.start, situs.finish);\n        return convertToRange(win, relative);\n      };\n      const situsFromPoint = (x, y) => {\n        return getAtPoint(win, x, y).map(exact => {\n          return Situs.create(exact.start, exact.soffset, exact.finish, exact.foffset);\n        });\n      };\n      const clearSelection = () => {\n        clear(win);\n      };\n      const collapseSelection = (toStart = false) => {\n        get$2(win).each(sel => sel.fold(rng => rng.collapse(toStart), (startSitu, finishSitu) => {\n          const situ = toStart ? startSitu : finishSitu;\n          setRelative(win, situ, situ);\n        }, (start, soffset, finish, foffset) => {\n          const node = toStart ? start : finish;\n          const offset = toStart ? soffset : foffset;\n          setExact(win, node, offset, node, offset);\n        }));\n      };\n      const selectNode = element => {\n        setToElement(win, element, false);\n      };\n      const selectContents = element => {\n        setToElement(win, element);\n      };\n      const setSelection = sel => {\n        setExact(win, sel.start, sel.soffset, sel.finish, sel.foffset);\n      };\n      const setRelativeSelection = (start, finish) => {\n        setRelative(win, start, finish);\n      };\n      const getInnerHeight = () => {\n        return win.innerHeight;\n      };\n      const getScrollY = () => {\n        const pos = get$3(SugarElement.fromDom(win.document));\n        return pos.top;\n      };\n      const scrollBy = (x, y) => {\n        by(x, y, SugarElement.fromDom(win.document));\n      };\n      return {\n        elementFromPoint,\n        getRect,\n        getRangedRect,\n        getSelection,\n        fromSitus,\n        situsFromPoint,\n        clearSelection,\n        collapseSelection,\n        setSelection,\n        setRelativeSelection,\n        selectNode,\n        selectContents,\n        getInnerHeight,\n        getScrollY,\n        scrollBy\n      };\n    };\n\n    const rc = (rows, cols) => ({\n      rows,\n      cols\n    });\n    const mouse = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      const handlers = MouseSelection(bridge, container, isRoot, annotations);\n      return {\n        clearstate: handlers.clearstate,\n        mousedown: handlers.mousedown,\n        mouseover: handlers.mouseover,\n        mouseup: handlers.mouseup\n      };\n    };\n    const keyboard = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      const clearToNavigate = () => {\n        annotations.clear(container);\n        return Optional.none();\n      };\n      const keydown = (event, start, soffset, finish, foffset, direction) => {\n        const realEvent = event.raw;\n        const keycode = realEvent.which;\n        const shiftKey = realEvent.shiftKey === true;\n        const handler = retrieve$1(container, annotations.selectedSelector).fold(() => {\n          if (isNavigation(keycode) && !shiftKey) {\n            annotations.clearBeforeUpdate(container);\n          }\n          if (isDown(keycode) && shiftKey) {\n            return curry(select, bridge, container, isRoot, down, finish, start, annotations.selectRange);\n          } else if (isUp(keycode) && shiftKey) {\n            return curry(select, bridge, container, isRoot, up, finish, start, annotations.selectRange);\n          } else if (isDown(keycode)) {\n            return curry(navigate, bridge, isRoot, down, finish, start, lastDownCheck);\n          } else if (isUp(keycode)) {\n            return curry(navigate, bridge, isRoot, up, finish, start, firstUpCheck);\n          } else {\n            return Optional.none;\n          }\n        }, selected => {\n          const update$1 = attempts => {\n            return () => {\n              const navigation = findMap(attempts, delta => {\n                return update(delta.rows, delta.cols, container, selected, annotations);\n              });\n              return navigation.fold(() => {\n                return getEdges(container, annotations.firstSelectedSelector, annotations.lastSelectedSelector).map(edges => {\n                  const relative = isDown(keycode) || direction.isForward(keycode) ? Situ.after : Situ.before;\n                  bridge.setRelativeSelection(Situ.on(edges.first, 0), relative(edges.table));\n                  annotations.clear(container);\n                  return Response.create(Optional.none(), true);\n                });\n              }, _ => {\n                return Optional.some(Response.create(Optional.none(), true));\n              });\n            };\n          };\n          if (isDown(keycode) && shiftKey) {\n            return update$1([rc(+1, 0)]);\n          } else if (isUp(keycode) && shiftKey) {\n            return update$1([rc(-1, 0)]);\n          } else if (direction.isBackward(keycode) && shiftKey) {\n            return update$1([\n              rc(0, -1),\n              rc(-1, 0)\n            ]);\n          } else if (direction.isForward(keycode) && shiftKey) {\n            return update$1([\n              rc(0, +1),\n              rc(+1, 0)\n            ]);\n          } else if (isNavigation(keycode) && !shiftKey) {\n            return clearToNavigate;\n          } else {\n            return Optional.none;\n          }\n        });\n        return handler();\n      };\n      const keyup = (event, start, soffset, finish, foffset) => {\n        return retrieve$1(container, annotations.selectedSelector).fold(() => {\n          const realEvent = event.raw;\n          const keycode = realEvent.which;\n          const shiftKey = realEvent.shiftKey === true;\n          if (!shiftKey) {\n            return Optional.none();\n          }\n          if (isNavigation(keycode)) {\n            return sync(container, isRoot, start, soffset, finish, foffset, annotations.selectRange);\n          } else {\n            return Optional.none();\n          }\n        }, Optional.none);\n      };\n      return {\n        keydown,\n        keyup\n      };\n    };\n    const external = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      return (start, finish) => {\n        annotations.clearBeforeUpdate(container);\n        identify(start, finish, isRoot).each(cellSel => {\n          const boxes = cellSel.boxes.getOr([]);\n          annotations.selectRange(container, boxes, cellSel.start, cellSel.finish);\n          bridge.selectContents(finish);\n          bridge.collapseSelection();\n        });\n      };\n    };\n\n    const read = (element, attr) => {\n      const value = get$b(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$2 = (element, attr, id) => {\n      const old = read(element, attr);\n      const nu = old.concat([id]);\n      set$2(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$4 = (element, attr, id) => {\n      const nu = filter$2(read(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$2(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$1 = element => read(element, 'class');\n    const add$1 = (element, clazz) => add$2(element, 'class', clazz);\n    const remove$3 = (element, clazz) => remove$4(element, 'class', clazz);\n\n    const add = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$1(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$1(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    const remove$2 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const remove$1 = (element, classes) => {\n      each$2(classes, x => {\n        remove$2(element, x);\n      });\n    };\n\n    const addClass = clazz => element => {\n      add(element, clazz);\n    };\n    const removeClasses = classes => element => {\n      remove$1(element, classes);\n    };\n\n    const byClass = ephemera => {\n      const addSelectionClass = addClass(ephemera.selected);\n      const removeSelectionClasses = removeClasses([\n        ephemera.selected,\n        ephemera.lastSelected,\n        ephemera.firstSelected\n      ]);\n      const clear = container => {\n        const sels = descendants(container, ephemera.selectedSelector);\n        each$2(sels, removeSelectionClasses);\n      };\n      const selectRange = (container, cells, start, finish) => {\n        clear(container);\n        each$2(cells, addSelectionClass);\n        add(start, ephemera.firstSelected);\n        add(finish, ephemera.lastSelected);\n      };\n      return {\n        clearBeforeUpdate: clear,\n        clear,\n        selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    const byAttr = (ephemera, onSelection, onClear) => {\n      const removeSelectionAttributes = element => {\n        remove$7(element, ephemera.selected);\n        remove$7(element, ephemera.firstSelected);\n        remove$7(element, ephemera.lastSelected);\n      };\n      const addSelectionAttribute = element => {\n        set$2(element, ephemera.selected, '1');\n      };\n      const clear = container => {\n        clearBeforeUpdate(container);\n        onClear();\n      };\n      const clearBeforeUpdate = container => {\n        const sels = descendants(container, `${ ephemera.selectedSelector },${ ephemera.firstSelectedSelector },${ ephemera.lastSelectedSelector }`);\n        each$2(sels, removeSelectionAttributes);\n      };\n      const selectRange = (container, cells, start, finish) => {\n        clear(container);\n        each$2(cells, addSelectionAttribute);\n        set$2(start, ephemera.firstSelected, '1');\n        set$2(finish, ephemera.lastSelected, '1');\n        onSelection(cells, start, finish);\n      };\n      return {\n        clearBeforeUpdate,\n        clear,\n        selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    const SelectionAnnotation = {\n      byClass,\n      byAttr\n    };\n\n    const fold = (subject, onNone, onMultiple, onSingle) => {\n      switch (subject.tag) {\n      case 'none':\n        return onNone();\n      case 'single':\n        return onSingle(subject.element);\n      case 'multiple':\n        return onMultiple(subject.elements);\n      }\n    };\n    const none = () => ({ tag: 'none' });\n    const multiple = elements => ({\n      tag: 'multiple',\n      elements\n    });\n    const single = element => ({\n      tag: 'single',\n      element\n    });\n\n    const Selections = (lazyRoot, getStart, selectedSelector) => {\n      const get = () => retrieve(lazyRoot(), selectedSelector).fold(() => getStart().fold(none, single), multiple);\n      return { get };\n    };\n\n    const getUpOrLeftCells = (grid, selectedCells) => {\n      const upGrid = grid.slice(0, selectedCells[selectedCells.length - 1].row + 1);\n      const upDetails = toDetailList(upGrid);\n      return bind$2(upDetails, detail => {\n        const slicedCells = detail.cells.slice(0, selectedCells[selectedCells.length - 1].column + 1);\n        return map$1(slicedCells, cell => cell.element);\n      });\n    };\n    const getDownOrRightCells = (grid, selectedCells) => {\n      const downGrid = grid.slice(selectedCells[0].row + selectedCells[0].rowspan - 1, grid.length);\n      const downDetails = toDetailList(downGrid);\n      return bind$2(downDetails, detail => {\n        const slicedCells = detail.cells.slice(selectedCells[0].column + selectedCells[0].colspan - 1, detail.cells.length);\n        return map$1(slicedCells, cell => cell.element);\n      });\n    };\n    const getOtherCells = (table, target, generators) => {\n      const warehouse = Warehouse.fromTable(table);\n      const details = onCells(warehouse, target);\n      return details.map(selectedCells => {\n        const grid = toGrid(warehouse, generators, false);\n        const {rows} = extractGridDetails(grid);\n        const upOrLeftCells = getUpOrLeftCells(rows, selectedCells);\n        const downOrRightCells = getDownOrRightCells(rows, selectedCells);\n        return {\n          upOrLeftCells,\n          downOrRightCells\n        };\n      });\n    };\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent$1 = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent$1(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$1 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const filter = always;\n    const bind = (element, event, handler) => bind$1(element, event, filter, handler);\n    const fromRawEvent = fromRawEvent$1;\n\n    const hasInternalTarget = e => has(SugarElement.fromDom(e.target), 'ephox-snooker-resizer-bar') === false;\n    const TableCellSelectionHandler = (editor, resizeHandler) => {\n      const cellSelection = Selections(() => SugarElement.fromDom(editor.getBody()), () => getSelectionCell(getSelectionStart(editor), getIsRoot(editor)), ephemera.selectedSelector);\n      const onSelection = (cells, start, finish) => {\n        const tableOpt = table(start);\n        tableOpt.each(table => {\n          const cloneFormats = getTableCloneElements(editor);\n          const generators = cellOperations(noop, SugarElement.fromDom(editor.getDoc()), cloneFormats);\n          const selectedCells = getCellsFromSelection(editor);\n          const otherCells = getOtherCells(table, { selection: selectedCells }, generators);\n          fireTableSelectionChange(editor, cells, start, finish, otherCells);\n        });\n      };\n      const onClear = () => fireTableSelectionClear(editor);\n      const annotations = SelectionAnnotation.byAttr(ephemera, onSelection, onClear);\n      editor.on('init', _e => {\n        const win = editor.getWin();\n        const body = getBody(editor);\n        const isRoot = getIsRoot(editor);\n        const syncSelection = () => {\n          const sel = editor.selection;\n          const start = SugarElement.fromDom(sel.getStart());\n          const end = SugarElement.fromDom(sel.getEnd());\n          const shared = sharedOne(table, [\n            start,\n            end\n          ]);\n          shared.fold(() => annotations.clear(body), noop);\n        };\n        const mouseHandlers = mouse(win, body, isRoot, annotations);\n        const keyHandlers = keyboard(win, body, isRoot, annotations);\n        const external$1 = external(win, body, isRoot, annotations);\n        const hasShiftKey = event => event.raw.shiftKey === true;\n        editor.on('TableSelectorChange', e => external$1(e.start, e.finish));\n        const handleResponse = (event, response) => {\n          if (!hasShiftKey(event)) {\n            return;\n          }\n          if (response.kill) {\n            event.kill();\n          }\n          response.selection.each(ns => {\n            const relative = SimSelection.relative(ns.start, ns.finish);\n            const rng = asLtrRange(win, relative);\n            editor.selection.setRng(rng);\n          });\n        };\n        const keyup = event => {\n          const wrappedEvent = fromRawEvent(event);\n          if (wrappedEvent.raw.shiftKey && isNavigation(wrappedEvent.raw.which)) {\n            const rng = editor.selection.getRng();\n            const start = SugarElement.fromDom(rng.startContainer);\n            const end = SugarElement.fromDom(rng.endContainer);\n            keyHandlers.keyup(wrappedEvent, start, rng.startOffset, end, rng.endOffset).each(response => {\n              handleResponse(wrappedEvent, response);\n            });\n          }\n        };\n        const keydown = event => {\n          const wrappedEvent = fromRawEvent(event);\n          resizeHandler.hide();\n          const rng = editor.selection.getRng();\n          const start = SugarElement.fromDom(rng.startContainer);\n          const end = SugarElement.fromDom(rng.endContainer);\n          const direction = onDirection(ltr, rtl)(SugarElement.fromDom(editor.selection.getStart()));\n          keyHandlers.keydown(wrappedEvent, start, rng.startOffset, end, rng.endOffset, direction).each(response => {\n            handleResponse(wrappedEvent, response);\n          });\n          resizeHandler.show();\n        };\n        const isLeftMouse = raw => raw.button === 0;\n        const isLeftButtonPressed = raw => {\n          if (raw.buttons === undefined) {\n            return true;\n          }\n          return (raw.buttons & 1) !== 0;\n        };\n        const dragStart = _e => {\n          mouseHandlers.clearstate();\n        };\n        const mouseDown = e => {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mousedown(fromRawEvent(e));\n          }\n        };\n        const mouseOver = e => {\n          if (isLeftButtonPressed(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseover(fromRawEvent(e));\n          }\n        };\n        const mouseUp = e => {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseup(fromRawEvent(e));\n          }\n        };\n        const getDoubleTap = () => {\n          const lastTarget = Cell(SugarElement.fromDom(body));\n          const lastTimeStamp = Cell(0);\n          const touchEnd = t => {\n            const target = SugarElement.fromDom(t.target);\n            if (isTag('td')(target) || isTag('th')(target)) {\n              const lT = lastTarget.get();\n              const lTS = lastTimeStamp.get();\n              if (eq$1(lT, target) && t.timeStamp - lTS < 300) {\n                t.preventDefault();\n                external$1(target, target);\n              }\n            }\n            lastTarget.set(target);\n            lastTimeStamp.set(t.timeStamp);\n          };\n          return { touchEnd };\n        };\n        const doubleTap = getDoubleTap();\n        editor.on('dragstart', dragStart);\n        editor.on('mousedown', mouseDown);\n        editor.on('mouseover', mouseOver);\n        editor.on('mouseup', mouseUp);\n        editor.on('touchend', doubleTap.touchEnd);\n        editor.on('keyup', keyup);\n        editor.on('keydown', keydown);\n        editor.on('NodeChange', syncSelection);\n      });\n      editor.on('PreInit', () => {\n        editor.serializer.addTempAttr(ephemera.firstSelected);\n        editor.serializer.addTempAttr(ephemera.lastSelected);\n      });\n      const clearSelectedCells = container => annotations.clear(SugarElement.fromDom(container));\n      const getSelectedCells = () => fold(cellSelection.get(), constant([]), cells => {\n        return map$1(cells, cell => cell.dom);\n      }, cell => [cell.dom]);\n      return {\n        getSelectedCells,\n        clearSelectedCells\n      };\n    };\n\n    const Event = fields => {\n      let handlers = [];\n      const bind = handler => {\n        if (handler === undefined) {\n          throw new Error('Event bind error: undefined handler');\n        }\n        handlers.push(handler);\n      };\n      const unbind = handler => {\n        handlers = filter$2(handlers, h => {\n          return h !== handler;\n        });\n      };\n      const trigger = (...args) => {\n        const event = {};\n        each$2(fields, (name, i) => {\n          event[name] = args[i];\n        });\n        each$2(handlers, handler => {\n          handler(event);\n        });\n      };\n      return {\n        bind,\n        unbind,\n        trigger\n      };\n    };\n\n    const create$1 = typeDefs => {\n      const registry = map(typeDefs, event => {\n        return {\n          bind: event.bind,\n          unbind: event.unbind\n        };\n      });\n      const trigger = map(typeDefs, event => {\n        return event.trigger;\n      });\n      return {\n        registry,\n        trigger\n      };\n    };\n\n    const last = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const sort = arr => {\n      return arr.slice(0).sort();\n    };\n    const reqMessage = (required, keys) => {\n      throw new Error('All required keys (' + sort(required).join(', ') + ') were not specified. Specified keys were: ' + sort(keys).join(', ') + '.');\n    };\n    const unsuppMessage = unsupported => {\n      throw new Error('Unsupported keys for object: ' + sort(unsupported).join(', '));\n    };\n    const validateStrArr = (label, array) => {\n      if (!isArray(array)) {\n        throw new Error('The ' + label + ' fields must be an array. Was: ' + array + '.');\n      }\n      each$2(array, a => {\n        if (!isString(a)) {\n          throw new Error('The value ' + a + ' in the ' + label + ' fields was not a string.');\n        }\n      });\n    };\n    const invalidTypeMessage = (incorrect, type) => {\n      throw new Error('All values need to be of type: ' + type + '. Keys (' + sort(incorrect).join(', ') + ') were not.');\n    };\n    const checkDupes = everything => {\n      const sorted = sort(everything);\n      const dupe = find$1(sorted, (s, i) => {\n        return i < sorted.length - 1 && s === sorted[i + 1];\n      });\n      dupe.each(d => {\n        throw new Error('The field: ' + d + ' occurs more than once in the combined fields: [' + sorted.join(', ') + '].');\n      });\n    };\n\n    const base = (handleUnsupported, required) => {\n      return baseWith(handleUnsupported, required, {\n        validate: isFunction,\n        label: 'function'\n      });\n    };\n    const baseWith = (handleUnsupported, required, pred) => {\n      if (required.length === 0) {\n        throw new Error('You must specify at least one required field.');\n      }\n      validateStrArr('required', required);\n      checkDupes(required);\n      return obj => {\n        const keys$1 = keys(obj);\n        const allReqd = forall(required, req => {\n          return contains$2(keys$1, req);\n        });\n        if (!allReqd) {\n          reqMessage(required, keys$1);\n        }\n        handleUnsupported(required, keys$1);\n        const invalidKeys = filter$2(required, key => {\n          return !pred.validate(obj[key], key);\n        });\n        if (invalidKeys.length > 0) {\n          invalidTypeMessage(invalidKeys, pred.label);\n        }\n        return obj;\n      };\n    };\n    const handleExact = (required, keys) => {\n      const unsupported = filter$2(keys, key => {\n        return !contains$2(required, key);\n      });\n      if (unsupported.length > 0) {\n        unsuppMessage(unsupported);\n      }\n    };\n    const exactly = required => base(handleExact, required);\n\n    const DragMode = exactly([\n      'compare',\n      'extract',\n      'mutate',\n      'sink'\n    ]);\n    const DragSink = exactly([\n      'element',\n      'start',\n      'stop',\n      'destroy'\n    ]);\n    const DragApi = exactly([\n      'forceDrop',\n      'drop',\n      'move',\n      'delayDrop'\n    ]);\n\n    const InDrag = () => {\n      let previous = Optional.none();\n      const reset = () => {\n        previous = Optional.none();\n      };\n      const update = (mode, nu) => {\n        const result = previous.map(old => {\n          return mode.compare(old, nu);\n        });\n        previous = Optional.some(nu);\n        return result;\n      };\n      const onEvent = (event, mode) => {\n        const dataOption = mode.extract(event);\n        dataOption.each(data => {\n          const offset = update(mode, data);\n          offset.each(d => {\n            events.trigger.move(d);\n          });\n        });\n      };\n      const events = create$1({ move: Event(['info']) });\n      return {\n        onEvent,\n        reset,\n        events: events.registry\n      };\n    };\n\n    const NoDrag = () => {\n      const events = create$1({ move: Event(['info']) });\n      return {\n        onEvent: noop,\n        reset: noop,\n        events: events.registry\n      };\n    };\n\n    const Movement = () => {\n      const noDragState = NoDrag();\n      const inDragState = InDrag();\n      let dragState = noDragState;\n      const on = () => {\n        dragState.reset();\n        dragState = inDragState;\n      };\n      const off = () => {\n        dragState.reset();\n        dragState = noDragState;\n      };\n      const onEvent = (event, mode) => {\n        dragState.onEvent(event, mode);\n      };\n      const isOn = () => {\n        return dragState === inDragState;\n      };\n      return {\n        on,\n        off,\n        isOn,\n        onEvent,\n        events: inDragState.events\n      };\n    };\n\n    const setup = (mutation, mode, settings) => {\n      let active = false;\n      const events = create$1({\n        start: Event([]),\n        stop: Event([])\n      });\n      const movement = Movement();\n      const drop = () => {\n        sink.stop();\n        if (movement.isOn()) {\n          movement.off();\n          events.trigger.stop();\n        }\n      };\n      const throttledDrop = last(drop, 200);\n      const go = parent => {\n        sink.start(parent);\n        movement.on();\n        events.trigger.start();\n      };\n      const mousemove = event => {\n        throttledDrop.cancel();\n        movement.onEvent(event, mode);\n      };\n      movement.events.move.bind(event => {\n        mode.mutate(mutation, event.info);\n      });\n      const on = () => {\n        active = true;\n      };\n      const off = () => {\n        active = false;\n      };\n      const runIfActive = f => {\n        return (...args) => {\n          if (active) {\n            f.apply(null, args);\n          }\n        };\n      };\n      const sink = mode.sink(DragApi({\n        forceDrop: drop,\n        drop: runIfActive(drop),\n        move: runIfActive(mousemove),\n        delayDrop: runIfActive(throttledDrop.throttle)\n      }), settings);\n      const destroy = () => {\n        sink.destroy();\n      };\n      return {\n        element: sink.element,\n        go,\n        on,\n        off,\n        destroy,\n        events: events.registry\n      };\n    };\n\n    const css = namespace => {\n      const dashNamespace = namespace.replace(/\\./g, '-');\n      const resolve = str => {\n        return dashNamespace + '-' + str;\n      };\n      return { resolve };\n    };\n\n    const styles$1 = css('ephox-dragster');\n    const resolve$1 = styles$1.resolve;\n\n    const Blocker = options => {\n      const settings = {\n        layerClass: resolve$1('blocker'),\n        ...options\n      };\n      const div = SugarElement.fromTag('div');\n      set$2(div, 'role', 'presentation');\n      setAll(div, {\n        position: 'fixed',\n        left: '0px',\n        top: '0px',\n        width: '100%',\n        height: '100%'\n      });\n      add(div, resolve$1('blocker'));\n      add(div, settings.layerClass);\n      const element = constant(div);\n      const destroy = () => {\n        remove$6(div);\n      };\n      return {\n        element,\n        destroy\n      };\n    };\n\n    const compare = (old, nu) => {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n    const extract = event => {\n      return Optional.some(SugarPosition(event.x, event.y));\n    };\n    const mutate = (mutation, info) => {\n      mutation.mutate(info.left, info.top);\n    };\n    const sink = (dragApi, settings) => {\n      const blocker = Blocker(settings);\n      const mdown = bind(blocker.element(), 'mousedown', dragApi.forceDrop);\n      const mup = bind(blocker.element(), 'mouseup', dragApi.drop);\n      const mmove = bind(blocker.element(), 'mousemove', dragApi.move);\n      const mout = bind(blocker.element(), 'mouseout', dragApi.delayDrop);\n      const destroy = () => {\n        blocker.destroy();\n        mup.unbind();\n        mmove.unbind();\n        mout.unbind();\n        mdown.unbind();\n      };\n      const start = parent => {\n        append$1(parent, blocker.element());\n      };\n      const stop = () => {\n        remove$6(blocker.element());\n      };\n      return DragSink({\n        element: blocker.element,\n        start,\n        stop,\n        destroy\n      });\n    };\n    var MouseDrag = DragMode({\n      compare,\n      extract,\n      sink,\n      mutate\n    });\n\n    const transform = (mutation, settings = {}) => {\n      var _a;\n      const mode = (_a = settings.mode) !== null && _a !== void 0 ? _a : MouseDrag;\n      return setup(mutation, mode, settings);\n    };\n\n    const styles = css('ephox-snooker');\n    const resolve = styles.resolve;\n\n    const Mutation = () => {\n      const events = create$1({\n        drag: Event([\n          'xDelta',\n          'yDelta'\n        ])\n      });\n      const mutate = (x, y) => {\n        events.trigger.drag(x, y);\n      };\n      return {\n        mutate,\n        events: events.registry\n      };\n    };\n\n    const BarMutation = () => {\n      const events = create$1({\n        drag: Event([\n          'xDelta',\n          'yDelta',\n          'target'\n        ])\n      });\n      let target = Optional.none();\n      const delegate = Mutation();\n      delegate.events.drag.bind(event => {\n        target.each(t => {\n          events.trigger.drag(event.xDelta, event.yDelta, t);\n        });\n      });\n      const assign = t => {\n        target = Optional.some(t);\n      };\n      const get = () => {\n        return target;\n      };\n      return {\n        assign,\n        get,\n        mutate: delegate.mutate,\n        events: events.registry\n      };\n    };\n\n    const col = (column, x, y, w, h) => {\n      const bar = SugarElement.fromTag('div');\n      setAll(bar, {\n        position: 'absolute',\n        left: x - w / 2 + 'px',\n        top: y + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll$1(bar, {\n        'data-column': column,\n        'role': 'presentation'\n      });\n      return bar;\n    };\n    const row = (r, x, y, w, h) => {\n      const bar = SugarElement.fromTag('div');\n      setAll(bar, {\n        position: 'absolute',\n        left: x + 'px',\n        top: y - h / 2 + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll$1(bar, {\n        'data-row': r,\n        'role': 'presentation'\n      });\n      return bar;\n    };\n\n    const resizeBar = resolve('resizer-bar');\n    const resizeRowBar = resolve('resizer-rows');\n    const resizeColBar = resolve('resizer-cols');\n    const BAR_THICKNESS = 7;\n    const resizableRows = (warehouse, isResizable) => bind$2(warehouse.all, (row, i) => isResizable(row.element) ? [i] : []);\n    const resizableColumns = (warehouse, isResizable) => {\n      const resizableCols = [];\n      range$1(warehouse.grid.columns, index => {\n        const colElmOpt = Warehouse.getColumnAt(warehouse, index).map(col => col.element);\n        if (colElmOpt.forall(isResizable)) {\n          resizableCols.push(index);\n        }\n      });\n      return filter$2(resizableCols, colIndex => {\n        const columnCells = Warehouse.filterItems(warehouse, cell => cell.column === colIndex);\n        return forall(columnCells, cell => isResizable(cell.element));\n      });\n    };\n    const destroy = wire => {\n      const previous = descendants(wire.parent(), '.' + resizeBar);\n      each$2(previous, remove$6);\n    };\n    const drawBar = (wire, positions, create) => {\n      const origin = wire.origin();\n      each$2(positions, cpOption => {\n        cpOption.each(cp => {\n          const bar = create(origin, cp);\n          add(bar, resizeBar);\n          append$1(wire.parent(), bar);\n        });\n      });\n    };\n    const refreshCol = (wire, colPositions, position, tableHeight) => {\n      drawBar(wire, colPositions, (origin, cp) => {\n        const colBar = col(cp.col, cp.x - origin.left, position.top - origin.top, BAR_THICKNESS, tableHeight);\n        add(colBar, resizeColBar);\n        return colBar;\n      });\n    };\n    const refreshRow = (wire, rowPositions, position, tableWidth) => {\n      drawBar(wire, rowPositions, (origin, cp) => {\n        const rowBar = row(cp.row, position.left - origin.left, cp.y - origin.top, tableWidth, BAR_THICKNESS);\n        add(rowBar, resizeRowBar);\n        return rowBar;\n      });\n    };\n    const refreshGrid = (warhouse, wire, table, rows, cols) => {\n      const position = absolute(table);\n      const isResizable = wire.isResizable;\n      const rowPositions = rows.length > 0 ? height.positions(rows, table) : [];\n      const resizableRowBars = rowPositions.length > 0 ? resizableRows(warhouse, isResizable) : [];\n      const resizableRowPositions = filter$2(rowPositions, (_pos, i) => exists(resizableRowBars, barIndex => i === barIndex));\n      refreshRow(wire, resizableRowPositions, position, getOuter$2(table));\n      const colPositions = cols.length > 0 ? width.positions(cols, table) : [];\n      const resizableColBars = colPositions.length > 0 ? resizableColumns(warhouse, isResizable) : [];\n      const resizableColPositions = filter$2(colPositions, (_pos, i) => exists(resizableColBars, barIndex => i === barIndex));\n      refreshCol(wire, resizableColPositions, position, getOuter$1(table));\n    };\n    const refresh = (wire, table) => {\n      destroy(wire);\n      if (wire.isResizable(table)) {\n        const warehouse = Warehouse.fromTable(table);\n        const rows$1 = rows(warehouse);\n        const cols = columns(warehouse);\n        refreshGrid(warehouse, wire, table, rows$1, cols);\n      }\n    };\n    const each = (wire, f) => {\n      const bars = descendants(wire.parent(), '.' + resizeBar);\n      each$2(bars, f);\n    };\n    const hide = wire => {\n      each(wire, bar => {\n        set$1(bar, 'display', 'none');\n      });\n    };\n    const show = wire => {\n      each(wire, bar => {\n        set$1(bar, 'display', 'block');\n      });\n    };\n    const isRowBar = element => {\n      return has(element, resizeRowBar);\n    };\n    const isColBar = element => {\n      return has(element, resizeColBar);\n    };\n\n    const resizeBarDragging = resolve('resizer-bar-dragging');\n    const BarManager = wire => {\n      const mutation = BarMutation();\n      const resizing = transform(mutation, {});\n      let hoverTable = Optional.none();\n      const getResizer = (element, type) => {\n        return Optional.from(get$b(element, type));\n      };\n      mutation.events.drag.bind(event => {\n        getResizer(event.target, 'data-row').each(_dataRow => {\n          const currentRow = getCssValue(event.target, 'top');\n          set$1(event.target, 'top', currentRow + event.yDelta + 'px');\n        });\n        getResizer(event.target, 'data-column').each(_dataCol => {\n          const currentCol = getCssValue(event.target, 'left');\n          set$1(event.target, 'left', currentCol + event.xDelta + 'px');\n        });\n      });\n      const getDelta = (target, dir) => {\n        const newX = getCssValue(target, dir);\n        const oldX = getAttrValue(target, 'data-initial-' + dir, 0);\n        return newX - oldX;\n      };\n      resizing.events.stop.bind(() => {\n        mutation.get().each(target => {\n          hoverTable.each(table => {\n            getResizer(target, 'data-row').each(row => {\n              const delta = getDelta(target, 'top');\n              remove$7(target, 'data-initial-top');\n              events.trigger.adjustHeight(table, delta, parseInt(row, 10));\n            });\n            getResizer(target, 'data-column').each(column => {\n              const delta = getDelta(target, 'left');\n              remove$7(target, 'data-initial-left');\n              events.trigger.adjustWidth(table, delta, parseInt(column, 10));\n            });\n            refresh(wire, table);\n          });\n        });\n      });\n      const handler = (target, dir) => {\n        events.trigger.startAdjust();\n        mutation.assign(target);\n        set$2(target, 'data-initial-' + dir, getCssValue(target, dir));\n        add(target, resizeBarDragging);\n        set$1(target, 'opacity', '0.2');\n        resizing.go(wire.parent());\n      };\n      const mousedown = bind(wire.parent(), 'mousedown', event => {\n        if (isRowBar(event.target)) {\n          handler(event.target, 'top');\n        }\n        if (isColBar(event.target)) {\n          handler(event.target, 'left');\n        }\n      });\n      const isRoot = e => {\n        return eq$1(e, wire.view());\n      };\n      const findClosestEditableTable = target => closest$1(target, 'table', isRoot).filter(isEditable$1);\n      const mouseover = bind(wire.view(), 'mouseover', event => {\n        findClosestEditableTable(event.target).fold(() => {\n          if (inBody(event.target)) {\n            destroy(wire);\n          }\n        }, table => {\n          hoverTable = Optional.some(table);\n          refresh(wire, table);\n        });\n      });\n      const destroy$1 = () => {\n        mousedown.unbind();\n        mouseover.unbind();\n        resizing.destroy();\n        destroy(wire);\n      };\n      const refresh$1 = tbl => {\n        refresh(wire, tbl);\n      };\n      const events = create$1({\n        adjustHeight: Event([\n          'table',\n          'delta',\n          'row'\n        ]),\n        adjustWidth: Event([\n          'table',\n          'delta',\n          'column'\n        ]),\n        startAdjust: Event([])\n      });\n      return {\n        destroy: destroy$1,\n        refresh: refresh$1,\n        on: resizing.on,\n        off: resizing.off,\n        hideBars: curry(hide, wire),\n        showBars: curry(show, wire),\n        events: events.registry\n      };\n    };\n\n    const create = (wire, resizing, lazySizing) => {\n      const hdirection = height;\n      const vdirection = width;\n      const manager = BarManager(wire);\n      const events = create$1({\n        beforeResize: Event([\n          'table',\n          'type'\n        ]),\n        afterResize: Event([\n          'table',\n          'type'\n        ]),\n        startDrag: Event([])\n      });\n      manager.events.adjustHeight.bind(event => {\n        const table = event.table;\n        events.trigger.beforeResize(table, 'row');\n        const delta = hdirection.delta(event.delta, table);\n        adjustHeight(table, delta, event.row, hdirection);\n        events.trigger.afterResize(table, 'row');\n      });\n      manager.events.startAdjust.bind(_event => {\n        events.trigger.startDrag();\n      });\n      manager.events.adjustWidth.bind(event => {\n        const table = event.table;\n        events.trigger.beforeResize(table, 'col');\n        const delta = vdirection.delta(event.delta, table);\n        const tableSize = lazySizing(table);\n        adjustWidth(table, delta, event.column, resizing, tableSize);\n        events.trigger.afterResize(table, 'col');\n      });\n      return {\n        on: manager.on,\n        off: manager.off,\n        refreshBars: manager.refresh,\n        hideBars: manager.hideBars,\n        showBars: manager.showBars,\n        destroy: manager.destroy,\n        events: events.registry\n      };\n    };\n    const TableResize = { create };\n\n    const only = (element, isResizable) => {\n      const parent = isDocument(element) ? documentElement(element) : element;\n      return {\n        parent: constant(parent),\n        view: constant(element),\n        origin: constant(SugarPosition(0, 0)),\n        isResizable\n      };\n    };\n    const detached = (editable, chrome, isResizable) => {\n      const origin = () => absolute(chrome);\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin,\n        isResizable\n      };\n    };\n    const body = (editable, chrome, isResizable) => {\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin: constant(SugarPosition(0, 0)),\n        isResizable\n      };\n    };\n    const ResizeWire = {\n      only,\n      detached,\n      body\n    };\n\n    const createContainer = () => {\n      const container = SugarElement.fromTag('div');\n      setAll(container, {\n        position: 'static',\n        height: '0',\n        width: '0',\n        padding: '0',\n        margin: '0',\n        border: '0'\n      });\n      append$1(body$1(), container);\n      return container;\n    };\n    const get = (editor, isResizable) => {\n      return editor.inline ? ResizeWire.body(SugarElement.fromDom(editor.getBody()), createContainer(), isResizable) : ResizeWire.only(SugarElement.fromDom(editor.getDoc()), isResizable);\n    };\n    const remove = (editor, wire) => {\n      if (editor.inline) {\n        remove$6(wire.parent());\n      }\n    };\n\n    const isTable = node => isNonNullable(node) && node.tagName === 'TABLE';\n    const barResizerPrefix = 'bar-';\n    const isResizable = elm => get$b(elm, 'data-mce-resize') !== 'false';\n    const syncPixels = table => {\n      const warehouse = Warehouse.fromTable(table);\n      if (!Warehouse.hasColumns(warehouse)) {\n        each$2(cells$1(table), cell => {\n          const computedWidth = get$a(cell, 'width');\n          set$1(cell, 'width', computedWidth);\n          remove$7(cell, 'width');\n        });\n      }\n    };\n    const TableResizeHandler = editor => {\n      const selectionRng = value();\n      const tableResize = value();\n      const resizeWire = value();\n      let startW;\n      let startRawW;\n      const lazySizing = table => get$5(editor, table);\n      const lazyResizingBehaviour = () => isPreserveTableColumnResizing(editor) ? preserveTable() : resizeTable();\n      const getNumColumns = table => getGridSize(table).columns;\n      const afterCornerResize = (table, origin, width) => {\n        const isRightEdgeResize = endsWith(origin, 'e');\n        if (startRawW === '') {\n          convertToPercentSize(table);\n        }\n        if (width !== startW && startRawW !== '') {\n          set$1(table, 'width', startRawW);\n          const resizing = lazyResizingBehaviour();\n          const tableSize = lazySizing(table);\n          const col = isPreserveTableColumnResizing(editor) || isRightEdgeResize ? getNumColumns(table) - 1 : 0;\n          adjustWidth(table, width - startW, col, resizing, tableSize);\n        } else if (isPercentage$1(startRawW)) {\n          const percentW = parseFloat(startRawW.replace('%', ''));\n          const targetPercentW = width * percentW / startW;\n          set$1(table, 'width', targetPercentW + '%');\n        }\n        if (isPixel(startRawW)) {\n          syncPixels(table);\n        }\n      };\n      const destroy = () => {\n        tableResize.on(sz => {\n          sz.destroy();\n        });\n        resizeWire.on(w => {\n          remove(editor, w);\n        });\n      };\n      editor.on('init', () => {\n        const rawWire = get(editor, isResizable);\n        resizeWire.set(rawWire);\n        if (hasTableObjectResizing(editor) && hasTableResizeBars(editor)) {\n          const resizing = lazyResizingBehaviour();\n          const sz = TableResize.create(rawWire, resizing, lazySizing);\n          sz.on();\n          sz.events.startDrag.bind(_event => {\n            selectionRng.set(editor.selection.getRng());\n          });\n          sz.events.beforeResize.bind(event => {\n            const rawTable = event.table.dom;\n            fireObjectResizeStart(editor, rawTable, getPixelWidth(rawTable), getPixelHeight(rawTable), barResizerPrefix + event.type);\n          });\n          sz.events.afterResize.bind(event => {\n            const table = event.table;\n            const rawTable = table.dom;\n            removeDataStyle(table);\n            selectionRng.on(rng => {\n              editor.selection.setRng(rng);\n              editor.focus();\n            });\n            fireObjectResized(editor, rawTable, getPixelWidth(rawTable), getPixelHeight(rawTable), barResizerPrefix + event.type);\n            editor.undoManager.add();\n          });\n          tableResize.set(sz);\n        }\n      });\n      editor.on('ObjectResizeStart', e => {\n        const targetElm = e.target;\n        if (isTable(targetElm)) {\n          const table = SugarElement.fromDom(targetElm);\n          each$2(editor.dom.select('.mce-clonedresizable'), clone => {\n            editor.dom.addClass(clone, 'mce-' + getTableColumnResizingBehaviour(editor) + '-columns');\n          });\n          if (!isPixelSizing(table) && isTablePixelsForced(editor)) {\n            convertToPixelSize(table);\n          } else if (!isPercentSizing(table) && isTablePercentagesForced(editor)) {\n            convertToPercentSize(table);\n          }\n          if (isNoneSizing(table) && startsWith(e.origin, barResizerPrefix)) {\n            convertToPercentSize(table);\n          }\n          startW = e.width;\n          startRawW = isTableResponsiveForced(editor) ? '' : getRawWidth(editor, targetElm).getOr('');\n        }\n      });\n      editor.on('ObjectResized', e => {\n        const targetElm = e.target;\n        if (isTable(targetElm)) {\n          const table = SugarElement.fromDom(targetElm);\n          const origin = e.origin;\n          if (startsWith(origin, 'corner-')) {\n            afterCornerResize(table, origin, e.width);\n          }\n          removeDataStyle(table);\n          fireTableModified(editor, table.dom, styleModified);\n        }\n      });\n      editor.on('SwitchMode', () => {\n        tableResize.on(resize => {\n          if (editor.mode.isReadOnly()) {\n            resize.hideBars();\n          } else {\n            resize.showBars();\n          }\n        });\n      });\n      editor.on('remove', () => {\n        destroy();\n      });\n      const refresh = table => {\n        tableResize.on(resize => resize.refreshBars(SugarElement.fromDom(table)));\n      };\n      const hide = () => {\n        tableResize.on(resize => resize.hideBars());\n      };\n      const show = () => {\n        tableResize.on(resize => resize.showBars());\n      };\n      return {\n        refresh,\n        hide,\n        show\n      };\n    };\n\n    const setupTable = editor => {\n      register(editor);\n      const resizeHandler = TableResizeHandler(editor);\n      const cellSelectionHandler = TableCellSelectionHandler(editor, resizeHandler);\n      const actions = TableActions(editor, resizeHandler, cellSelectionHandler);\n      registerCommands(editor, actions);\n      registerQueryCommands(editor, actions);\n      registerEvents(editor, actions);\n      return {\n        getSelectedCells: cellSelectionHandler.getSelectedCells,\n        clearSelectedCells: cellSelectionHandler.clearSelectedCells\n      };\n    };\n\n    const DomModel = editor => {\n      const table = setupTable(editor);\n      return { table };\n    };\n    var Model = () => {\n      global$1.add('dom', DomModel);\n    };\n\n    Model();\n\n})();\n","// Exports the \"autoresize\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autoresize')\n//   ES2015:\n//     import 'tinymce/plugins/autoresize'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.1.2 (2022-07-29)\n */\n\n(function () {\n    'use strict';\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global = tinymce.util.Tools.resolve('tinymce.Env');\n\n    const fireResizeEditor = editor => editor.dispatch('ResizeEditor');\n\n    const option = name => editor => editor.options.get(name);\n    const register$1 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('autoresize_overflow_padding', {\n        processor: 'number',\n        default: 1\n      });\n      registerOption('autoresize_bottom_margin', {\n        processor: 'number',\n        default: 50\n      });\n    };\n    const getMinHeight = option('min_height');\n    const getMaxHeight = option('max_height');\n    const getAutoResizeOverflowPadding = option('autoresize_overflow_padding');\n    const getAutoResizeBottomMargin = option('autoresize_bottom_margin');\n\n    const isFullscreen = editor => editor.plugins.fullscreen && editor.plugins.fullscreen.isFullscreen();\n    const toggleScrolling = (editor, state) => {\n      const body = editor.getBody();\n      if (body) {\n        body.style.overflowY = state ? '' : 'hidden';\n        if (!state) {\n          body.scrollTop = 0;\n        }\n      }\n    };\n    const parseCssValueToInt = (dom, elm, name, computed) => {\n      const value = parseInt(dom.getStyle(elm, name, computed), 10);\n      return isNaN(value) ? 0 : value;\n    };\n    const shouldScrollIntoView = trigger => {\n      if ((trigger === null || trigger === void 0 ? void 0 : trigger.type.toLowerCase()) === 'setcontent') {\n        const setContentEvent = trigger;\n        return setContentEvent.selection === true || setContentEvent.paste === true;\n      } else {\n        return false;\n      }\n    };\n    const resize = (editor, oldSize, trigger) => {\n      var _a;\n      const dom = editor.dom;\n      const doc = editor.getDoc();\n      if (!doc) {\n        return;\n      }\n      if (isFullscreen(editor)) {\n        toggleScrolling(editor, true);\n        return;\n      }\n      const docEle = doc.documentElement;\n      const resizeBottomMargin = getAutoResizeBottomMargin(editor);\n      const minHeight = (_a = getMinHeight(editor)) !== null && _a !== void 0 ? _a : editor.getElement().offsetHeight;\n      let resizeHeight = minHeight;\n      const marginTop = parseCssValueToInt(dom, docEle, 'margin-top', true);\n      const marginBottom = parseCssValueToInt(dom, docEle, 'margin-bottom', true);\n      let contentHeight = docEle.offsetHeight + marginTop + marginBottom + resizeBottomMargin;\n      if (contentHeight < 0) {\n        contentHeight = 0;\n      }\n      const containerHeight = editor.getContainer().offsetHeight;\n      const contentAreaHeight = editor.getContentAreaContainer().offsetHeight;\n      const chromeHeight = containerHeight - contentAreaHeight;\n      if (contentHeight + chromeHeight > minHeight) {\n        resizeHeight = contentHeight + chromeHeight;\n      }\n      const maxHeight = getMaxHeight(editor);\n      if (maxHeight && resizeHeight > maxHeight) {\n        resizeHeight = maxHeight;\n        toggleScrolling(editor, true);\n      } else {\n        toggleScrolling(editor, false);\n      }\n      if (resizeHeight !== oldSize.get()) {\n        const deltaSize = resizeHeight - oldSize.get();\n        dom.setStyle(editor.getContainer(), 'height', resizeHeight + 'px');\n        oldSize.set(resizeHeight);\n        fireResizeEditor(editor);\n        if (global.browser.isSafari() && (global.os.isMacOS() || global.os.isiOS())) {\n          const win = editor.getWin();\n          win.scrollTo(win.pageXOffset, win.pageYOffset);\n        }\n        if (editor.hasFocus() && shouldScrollIntoView(trigger)) {\n          editor.selection.scrollIntoView();\n        }\n        if ((global.browser.isSafari() || global.browser.isChromium()) && deltaSize < 0) {\n          resize(editor, oldSize, trigger);\n        }\n      }\n    };\n    const setup = (editor, oldSize) => {\n      editor.on('init', () => {\n        const overflowPadding = getAutoResizeOverflowPadding(editor);\n        const dom = editor.dom;\n        dom.setStyles(editor.getDoc().documentElement, { height: 'auto' });\n        dom.setStyles(editor.getBody(), {\n          'paddingLeft': overflowPadding,\n          'paddingRight': overflowPadding,\n          'min-height': 0\n        });\n      });\n      editor.on('NodeChange SetContent keyup FullscreenStateChanged ResizeContent', e => {\n        resize(editor, oldSize, e);\n      });\n    };\n\n    const register = (editor, oldSize) => {\n      editor.addCommand('mceAutoResize', () => {\n        resize(editor, oldSize);\n      });\n    };\n\n    var Plugin = () => {\n      global$1.add('autoresize', editor => {\n        register$1(editor);\n        if (!editor.options.isSet('resize')) {\n          editor.options.set('resize', false);\n        }\n        if (!editor.inline) {\n          const oldSize = Cell(0);\n          register(editor, oldSize);\n          setup(editor, oldSize);\n        }\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"code\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/code')\n//   ES2015:\n//     import 'tinymce/plugins/code'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.1.2 (2022-07-29)\n */\n\n(function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const setContent = (editor, html) => {\n      editor.focus();\n      editor.undoManager.transact(() => {\n        editor.setContent(html);\n      });\n      editor.selection.setCursorLocation();\n      editor.nodeChanged();\n    };\n    const getContent = editor => {\n      return editor.getContent({ source_view: true });\n    };\n\n    const open = editor => {\n      const editorContent = getContent(editor);\n      editor.windowManager.open({\n        title: 'Source Code',\n        size: 'large',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'textarea',\n              name: 'code'\n            }]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: { code: editorContent },\n        onSubmit: api => {\n          setContent(editor, api.getData().code);\n          api.close();\n        }\n      });\n    };\n\n    const register$1 = editor => {\n      editor.addCommand('mceCodeEditor', () => {\n        open(editor);\n      });\n    };\n\n    const register = editor => {\n      const onAction = () => editor.execCommand('mceCodeEditor');\n      editor.ui.registry.addButton('code', {\n        icon: 'sourcecode',\n        tooltip: 'Source code',\n        onAction\n      });\n      editor.ui.registry.addMenuItem('code', {\n        icon: 'sourcecode',\n        text: 'Source code',\n        onAction\n      });\n    };\n\n    var Plugin = () => {\n      global.add('code', editor => {\n        register$1(editor);\n        register(editor);\n        return {};\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"image\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/image')\n//   ES2015:\n//     import 'tinymce/plugins/image'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.1.2 (2022-07-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const getPrototypeOf = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq = t => a => t === a;\n    const is = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf(o) === proto);\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isPlainObject = value => is(value, Object);\n    const isArray = isType('array');\n    const isNull = eq(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      const r = {};\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const nativePush = Array.prototype.push;\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const get = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get(xs, 0);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const remove = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const isNotEmpty = s => s.length > 0;\n\n    const option = name => editor => editor.options.get(name);\n    const register$2 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('image_dimensions', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_advtab', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_uploadtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_prepend_url', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('image_class_list', { processor: 'object[]' });\n      registerOption('image_description', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_title', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_caption', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_list', {\n        processor: value => {\n          const valid = value === false || isString(value) || isArrayOf(value, isObject) || isFunction(value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be false, a string, an array or a function.'\n          };\n        },\n        default: false\n      });\n    };\n    const hasDimensions = option('image_dimensions');\n    const hasAdvTab = option('image_advtab');\n    const hasUploadTab = option('image_uploadtab');\n    const getPrependUrl = option('image_prepend_url');\n    const getClassList = option('image_class_list');\n    const hasDescription = option('image_description');\n    const hasImageTitle = option('image_title');\n    const hasImageCaption = option('image_caption');\n    const getImageList = option('image_list');\n    const showAccessibilityOptions = option('a11y_advanced_options');\n    const isAutomaticUploadsEnabled = option('automatic_uploads');\n    const hasUploadUrl = editor => isNotEmpty(editor.options.get('images_upload_url'));\n    const hasUploadHandler = editor => isNonNullable(editor.options.get('images_upload_handler'));\n\n    const parseIntAndGetMax = (val1, val2) => Math.max(parseInt(val1, 10), parseInt(val2, 10));\n    const getImageSize = url => new Promise(callback => {\n      const img = document.createElement('img');\n      const done = dimensions => {\n        img.onload = img.onerror = null;\n        if (img.parentNode) {\n          img.parentNode.removeChild(img);\n        }\n        callback(dimensions);\n      };\n      img.onload = () => {\n        const width = parseIntAndGetMax(img.width, img.clientWidth);\n        const height = parseIntAndGetMax(img.height, img.clientHeight);\n        const dimensions = {\n          width,\n          height\n        };\n        done(Promise.resolve(dimensions));\n      };\n      img.onerror = () => {\n        done(Promise.reject(`Failed to get image dimensions for: ${ url }`));\n      };\n      const style = img.style;\n      style.visibility = 'hidden';\n      style.position = 'fixed';\n      style.bottom = style.left = '0px';\n      style.width = style.height = 'auto';\n      document.body.appendChild(img);\n      img.src = url;\n    });\n    const removePixelSuffix = value => {\n      if (value) {\n        value = value.replace(/px$/, '');\n      }\n      return value;\n    };\n    const addPixelSuffix = value => {\n      if (value.length > 0 && /^[0-9]+$/.test(value)) {\n        value += 'px';\n      }\n      return value;\n    };\n    const mergeMargins = css => {\n      if (css.margin) {\n        const splitMargin = String(css.margin).split(' ');\n        switch (splitMargin.length) {\n        case 1:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[0];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[0];\n          break;\n        case 2:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 3:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 4:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[3];\n        }\n        delete css.margin;\n      }\n      return css;\n    };\n    const createImageList = (editor, callback) => {\n      const imageList = getImageList(editor);\n      if (isString(imageList)) {\n        fetch(imageList).then(res => {\n          if (res.ok) {\n            res.json().then(callback);\n          }\n        });\n      } else if (isFunction(imageList)) {\n        imageList(callback);\n      } else {\n        callback(imageList);\n      }\n    };\n    const waitLoadImage = (editor, data, imgElm) => {\n      const selectImage = () => {\n        imgElm.onload = imgElm.onerror = null;\n        if (editor.selection) {\n          editor.selection.select(imgElm);\n          editor.nodeChanged();\n        }\n      };\n      imgElm.onload = () => {\n        if (!data.width && !data.height && hasDimensions(editor)) {\n          editor.dom.setAttribs(imgElm, {\n            width: String(imgElm.clientWidth),\n            height: String(imgElm.clientHeight)\n          });\n        }\n        selectImage();\n      };\n      imgElm.onerror = selectImage;\n    };\n    const blobToDataUri = blob => new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.onerror = () => {\n        reject(reader.error.message);\n      };\n      reader.readAsDataURL(blob);\n    });\n    const isPlaceholderImage = imgElm => imgElm.nodeName === 'IMG' && (imgElm.hasAttribute('data-mce-object') || imgElm.hasAttribute('data-mce-placeholder'));\n    const isSafeImageUrl = (editor, src) => {\n      const getOption = editor.options.get;\n      return global$2.isDomSafe(src, 'img', {\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls')\n      });\n    };\n\n    const DOM = global$3.DOM;\n    const getHspace = image => {\n      if (image.style.marginLeft && image.style.marginRight && image.style.marginLeft === image.style.marginRight) {\n        return removePixelSuffix(image.style.marginLeft);\n      } else {\n        return '';\n      }\n    };\n    const getVspace = image => {\n      if (image.style.marginTop && image.style.marginBottom && image.style.marginTop === image.style.marginBottom) {\n        return removePixelSuffix(image.style.marginTop);\n      } else {\n        return '';\n      }\n    };\n    const getBorder = image => {\n      if (image.style.borderWidth) {\n        return removePixelSuffix(image.style.borderWidth);\n      } else {\n        return '';\n      }\n    };\n    const getAttrib = (image, name) => {\n      if (image.hasAttribute(name)) {\n        return image.getAttribute(name);\n      } else {\n        return '';\n      }\n    };\n    const getStyle = (image, name) => image.style[name] ? image.style[name] : '';\n    const hasCaption = image => image.parentNode !== null && image.parentNode.nodeName === 'FIGURE';\n    const updateAttrib = (image, name, value) => {\n      if (value === '') {\n        image.removeAttribute(name);\n      } else {\n        image.setAttribute(name, value);\n      }\n    };\n    const wrapInFigure = image => {\n      const figureElm = DOM.create('figure', { class: 'image' });\n      DOM.insertAfter(figureElm, image);\n      figureElm.appendChild(image);\n      figureElm.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n      figureElm.contentEditable = 'false';\n    };\n    const removeFigure = image => {\n      const figureElm = image.parentNode;\n      DOM.insertAfter(image, figureElm);\n      DOM.remove(figureElm);\n    };\n    const toggleCaption = image => {\n      if (hasCaption(image)) {\n        removeFigure(image);\n      } else {\n        wrapInFigure(image);\n      }\n    };\n    const normalizeStyle = (image, normalizeCss) => {\n      const attrValue = image.getAttribute('style');\n      const value = normalizeCss(attrValue !== null ? attrValue : '');\n      if (value.length > 0) {\n        image.setAttribute('style', value);\n        image.setAttribute('data-mce-style', value);\n      } else {\n        image.removeAttribute('style');\n      }\n    };\n    const setSize = (name, normalizeCss) => (image, name, value) => {\n      if (image.style[name]) {\n        image.style[name] = addPixelSuffix(value);\n        normalizeStyle(image, normalizeCss);\n      } else {\n        updateAttrib(image, name, value);\n      }\n    };\n    const getSize = (image, name) => {\n      if (image.style[name]) {\n        return removePixelSuffix(image.style[name]);\n      } else {\n        return getAttrib(image, name);\n      }\n    };\n    const setHspace = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.marginLeft = pxValue;\n      image.style.marginRight = pxValue;\n    };\n    const setVspace = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.marginTop = pxValue;\n      image.style.marginBottom = pxValue;\n    };\n    const setBorder = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.borderWidth = pxValue;\n    };\n    const setBorderStyle = (image, value) => {\n      image.style.borderStyle = value;\n    };\n    const getBorderStyle = image => getStyle(image, 'borderStyle');\n    const isFigure = elm => elm.nodeName === 'FIGURE';\n    const isImage = elm => elm.nodeName === 'IMG';\n    const getIsDecorative = image => DOM.getAttrib(image, 'alt').length === 0 && DOM.getAttrib(image, 'role') === 'presentation';\n    const getAlt = image => {\n      if (getIsDecorative(image)) {\n        return '';\n      } else {\n        return getAttrib(image, 'alt');\n      }\n    };\n    const defaultData = () => ({\n      src: '',\n      alt: '',\n      title: '',\n      width: '',\n      height: '',\n      class: '',\n      style: '',\n      caption: false,\n      hspace: '',\n      vspace: '',\n      border: '',\n      borderStyle: '',\n      isDecorative: false\n    });\n    const getStyleValue = (normalizeCss, data) => {\n      const image = document.createElement('img');\n      updateAttrib(image, 'style', data.style);\n      if (getHspace(image) || data.hspace !== '') {\n        setHspace(image, data.hspace);\n      }\n      if (getVspace(image) || data.vspace !== '') {\n        setVspace(image, data.vspace);\n      }\n      if (getBorder(image) || data.border !== '') {\n        setBorder(image, data.border);\n      }\n      if (getBorderStyle(image) || data.borderStyle !== '') {\n        setBorderStyle(image, data.borderStyle);\n      }\n      return normalizeCss(image.getAttribute('style'));\n    };\n    const create = (normalizeCss, data) => {\n      const image = document.createElement('img');\n      write(normalizeCss, {\n        ...data,\n        caption: false\n      }, image);\n      setAlt(image, data.alt, data.isDecorative);\n      if (data.caption) {\n        const figure = DOM.create('figure', { class: 'image' });\n        figure.appendChild(image);\n        figure.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n        figure.contentEditable = 'false';\n        return figure;\n      } else {\n        return image;\n      }\n    };\n    const read = (normalizeCss, image) => ({\n      src: getAttrib(image, 'src'),\n      alt: getAlt(image),\n      title: getAttrib(image, 'title'),\n      width: getSize(image, 'width'),\n      height: getSize(image, 'height'),\n      class: getAttrib(image, 'class'),\n      style: normalizeCss(getAttrib(image, 'style')),\n      caption: hasCaption(image),\n      hspace: getHspace(image),\n      vspace: getVspace(image),\n      border: getBorder(image),\n      borderStyle: getStyle(image, 'borderStyle'),\n      isDecorative: getIsDecorative(image)\n    });\n    const updateProp = (image, oldData, newData, name, set) => {\n      if (newData[name] !== oldData[name]) {\n        set(image, name, newData[name]);\n      }\n    };\n    const setAlt = (image, alt, isDecorative) => {\n      if (isDecorative) {\n        DOM.setAttrib(image, 'role', 'presentation');\n        const sugarImage = SugarElement.fromDom(image);\n        set(sugarImage, 'alt', '');\n      } else {\n        if (isNull(alt)) {\n          const sugarImage = SugarElement.fromDom(image);\n          remove(sugarImage, 'alt');\n        } else {\n          const sugarImage = SugarElement.fromDom(image);\n          set(sugarImage, 'alt', alt);\n        }\n        if (DOM.getAttrib(image, 'role') === 'presentation') {\n          DOM.setAttrib(image, 'role', '');\n        }\n      }\n    };\n    const updateAlt = (image, oldData, newData) => {\n      if (newData.alt !== oldData.alt || newData.isDecorative !== oldData.isDecorative) {\n        setAlt(image, newData.alt, newData.isDecorative);\n      }\n    };\n    const normalized = (set, normalizeCss) => (image, name, value) => {\n      set(image, value);\n      normalizeStyle(image, normalizeCss);\n    };\n    const write = (normalizeCss, newData, image) => {\n      const oldData = read(normalizeCss, image);\n      updateProp(image, oldData, newData, 'caption', (image, _name, _value) => toggleCaption(image));\n      updateProp(image, oldData, newData, 'src', updateAttrib);\n      updateProp(image, oldData, newData, 'title', updateAttrib);\n      updateProp(image, oldData, newData, 'width', setSize('width', normalizeCss));\n      updateProp(image, oldData, newData, 'height', setSize('height', normalizeCss));\n      updateProp(image, oldData, newData, 'class', updateAttrib);\n      updateProp(image, oldData, newData, 'style', normalized((image, value) => updateAttrib(image, 'style', value), normalizeCss));\n      updateProp(image, oldData, newData, 'hspace', normalized(setHspace, normalizeCss));\n      updateProp(image, oldData, newData, 'vspace', normalized(setVspace, normalizeCss));\n      updateProp(image, oldData, newData, 'border', normalized(setBorder, normalizeCss));\n      updateProp(image, oldData, newData, 'borderStyle', normalized(setBorderStyle, normalizeCss));\n      updateAlt(image, oldData, newData);\n    };\n\n    const normalizeCss$1 = (editor, cssText) => {\n      const css = editor.dom.styles.parse(cssText);\n      const mergedCss = mergeMargins(css);\n      const compressed = editor.dom.styles.parse(editor.dom.styles.serialize(mergedCss));\n      return editor.dom.styles.serialize(compressed);\n    };\n    const getSelectedImage = editor => {\n      const imgElm = editor.selection.getNode();\n      const figureElm = editor.dom.getParent(imgElm, 'figure.image');\n      if (figureElm) {\n        return editor.dom.select('img', figureElm)[0];\n      }\n      if (imgElm && (imgElm.nodeName !== 'IMG' || isPlaceholderImage(imgElm))) {\n        return null;\n      }\n      return imgElm;\n    };\n    const splitTextBlock = (editor, figure) => {\n      const dom = editor.dom;\n      const textBlockElements = filter(editor.schema.getTextBlockElements(), (_, parentElm) => !editor.schema.isValidChild(parentElm, 'figure'));\n      const textBlock = dom.getParent(figure.parentNode, node => hasNonNullableKey(textBlockElements, node.nodeName), editor.getBody());\n      if (textBlock) {\n        return dom.split(textBlock, figure);\n      } else {\n        return figure;\n      }\n    };\n    const readImageDataFromSelection = editor => {\n      const image = getSelectedImage(editor);\n      return image ? read(css => normalizeCss$1(editor, css), image) : defaultData();\n    };\n    const insertImageAtCaret = (editor, data) => {\n      const elm = create(css => normalizeCss$1(editor, css), data);\n      editor.dom.setAttrib(elm, 'data-mce-id', '__mcenew');\n      editor.focus();\n      editor.selection.setContent(elm.outerHTML);\n      const insertedElm = editor.dom.select('*[data-mce-id=\"__mcenew\"]')[0];\n      editor.dom.setAttrib(insertedElm, 'data-mce-id', null);\n      if (isFigure(insertedElm)) {\n        const figure = splitTextBlock(editor, insertedElm);\n        editor.selection.select(figure);\n      } else {\n        editor.selection.select(insertedElm);\n      }\n    };\n    const syncSrcAttr = (editor, image) => {\n      editor.dom.setAttrib(image, 'src', image.getAttribute('src'));\n    };\n    const deleteImage = (editor, image) => {\n      if (image) {\n        const elm = editor.dom.is(image.parentNode, 'figure.image') ? image.parentNode : image;\n        editor.dom.remove(elm);\n        editor.focus();\n        editor.nodeChanged();\n        if (editor.dom.isEmpty(editor.getBody())) {\n          editor.setContent('');\n          editor.selection.setCursorLocation();\n        }\n      }\n    };\n    const writeImageDataToSelection = (editor, data) => {\n      const image = getSelectedImage(editor);\n      write(css => normalizeCss$1(editor, css), data, image);\n      syncSrcAttr(editor, image);\n      if (isFigure(image.parentNode)) {\n        const figure = image.parentNode;\n        splitTextBlock(editor, figure);\n        editor.selection.select(image.parentNode);\n      } else {\n        editor.selection.select(image);\n        waitLoadImage(editor, data, image);\n      }\n    };\n    const sanitizeImageData = (editor, data) => {\n      const src = data.src;\n      return {\n        ...data,\n        src: isSafeImageUrl(editor, src) ? src : ''\n      };\n    };\n    const insertOrUpdateImage = (editor, partialData) => {\n      const image = getSelectedImage(editor);\n      if (image) {\n        const selectedImageData = read(css => normalizeCss$1(editor, css), image);\n        const data = {\n          ...selectedImageData,\n          ...partialData\n        };\n        const sanitizedData = sanitizeImageData(editor, data);\n        if (data.src) {\n          writeImageDataToSelection(editor, sanitizedData);\n        } else {\n          deleteImage(editor, image);\n        }\n      } else if (partialData.src) {\n        insertImageAtCaret(editor, {\n          ...defaultData(),\n          ...partialData\n        });\n      }\n    };\n\n    const deep = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep);\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.ImageUploader');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getValue = item => isString(item.value) ? item.value : '';\n    const getText = item => {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    const sanitizeList = (list, extractValue) => {\n      const out = [];\n      global.each(list, item => {\n        const text = getText(item);\n        if (item.menu !== undefined) {\n          const items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text,\n            items\n          });\n        } else {\n          const value = extractValue(item);\n          out.push({\n            text,\n            value\n          });\n        }\n      });\n      return out;\n    };\n    const sanitizer = (extractor = getValue) => list => {\n      if (list) {\n        return Optional.from(list).map(list => sanitizeList(list, extractor));\n      } else {\n        return Optional.none();\n      }\n    };\n    const sanitize = list => sanitizer(getValue)(list);\n    const isGroup = item => has(item, 'items');\n    const findEntryDelegate = (list, value) => findMap(list, item => {\n      if (isGroup(item)) {\n        return findEntryDelegate(item.items, value);\n      } else if (item.value === value) {\n        return Optional.some(item);\n      } else {\n        return Optional.none();\n      }\n    });\n    const findEntry = (optList, value) => optList.bind(list => findEntryDelegate(list, value));\n    const ListUtils = {\n      sanitizer,\n      sanitize,\n      findEntry\n    };\n\n    const makeTab$2 = _info => ({\n      title: 'Advanced',\n      name: 'advanced',\n      items: [{\n          type: 'grid',\n          columns: 2,\n          items: [\n            {\n              type: 'input',\n              label: 'Vertical space',\n              name: 'vspace',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'input',\n              label: 'Horizontal space',\n              name: 'hspace',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'input',\n              label: 'Border width',\n              name: 'border',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'listbox',\n              name: 'borderstyle',\n              label: 'Border style',\n              items: [\n                {\n                  text: 'Select...',\n                  value: ''\n                },\n                {\n                  text: 'Solid',\n                  value: 'solid'\n                },\n                {\n                  text: 'Dotted',\n                  value: 'dotted'\n                },\n                {\n                  text: 'Dashed',\n                  value: 'dashed'\n                },\n                {\n                  text: 'Double',\n                  value: 'double'\n                },\n                {\n                  text: 'Groove',\n                  value: 'groove'\n                },\n                {\n                  text: 'Ridge',\n                  value: 'ridge'\n                },\n                {\n                  text: 'Inset',\n                  value: 'inset'\n                },\n                {\n                  text: 'Outset',\n                  value: 'outset'\n                },\n                {\n                  text: 'None',\n                  value: 'none'\n                },\n                {\n                  text: 'Hidden',\n                  value: 'hidden'\n                }\n              ]\n            }\n          ]\n        }]\n    });\n    const AdvTab = { makeTab: makeTab$2 };\n\n    const collect = editor => {\n      const urlListSanitizer = ListUtils.sanitizer(item => editor.convertURL(item.value || item.url, 'src'));\n      const futureImageList = new Promise(completer => {\n        createImageList(editor, imageList => {\n          completer(urlListSanitizer(imageList).map(items => flatten([\n            [{\n                text: 'None',\n                value: ''\n              }],\n            items\n          ])));\n        });\n      });\n      const classList = ListUtils.sanitize(getClassList(editor));\n      const hasAdvTab$1 = hasAdvTab(editor);\n      const hasUploadTab$1 = hasUploadTab(editor);\n      const hasUploadUrl$1 = hasUploadUrl(editor);\n      const hasUploadHandler$1 = hasUploadHandler(editor);\n      const image = readImageDataFromSelection(editor);\n      const hasDescription$1 = hasDescription(editor);\n      const hasImageTitle$1 = hasImageTitle(editor);\n      const hasDimensions$1 = hasDimensions(editor);\n      const hasImageCaption$1 = hasImageCaption(editor);\n      const hasAccessibilityOptions = showAccessibilityOptions(editor);\n      const automaticUploads = isAutomaticUploadsEnabled(editor);\n      const prependURL = Optional.some(getPrependUrl(editor)).filter(preUrl => isString(preUrl) && preUrl.length > 0);\n      return futureImageList.then(imageList => ({\n        image,\n        imageList,\n        classList,\n        hasAdvTab: hasAdvTab$1,\n        hasUploadTab: hasUploadTab$1,\n        hasUploadUrl: hasUploadUrl$1,\n        hasUploadHandler: hasUploadHandler$1,\n        hasDescription: hasDescription$1,\n        hasImageTitle: hasImageTitle$1,\n        hasDimensions: hasDimensions$1,\n        hasImageCaption: hasImageCaption$1,\n        prependURL,\n        hasAccessibilityOptions,\n        automaticUploads\n      }));\n    };\n\n    const makeItems = info => {\n      const imageUrl = {\n        name: 'src',\n        type: 'urlinput',\n        filetype: 'image',\n        label: 'Source'\n      };\n      const imageList = info.imageList.map(items => ({\n        name: 'images',\n        type: 'listbox',\n        label: 'Image list',\n        items\n      }));\n      const imageDescription = {\n        name: 'alt',\n        type: 'input',\n        label: 'Alternative description',\n        enabled: !(info.hasAccessibilityOptions && info.image.isDecorative)\n      };\n      const imageTitle = {\n        name: 'title',\n        type: 'input',\n        label: 'Image title'\n      };\n      const imageDimensions = {\n        name: 'dimensions',\n        type: 'sizeinput'\n      };\n      const isDecorative = {\n        type: 'label',\n        label: 'Accessibility',\n        items: [{\n            name: 'isDecorative',\n            type: 'checkbox',\n            label: 'Image is decorative'\n          }]\n      };\n      const classList = info.classList.map(items => ({\n        name: 'classes',\n        type: 'listbox',\n        label: 'Class',\n        items\n      }));\n      const caption = {\n        type: 'label',\n        label: 'Caption',\n        items: [{\n            type: 'checkbox',\n            name: 'caption',\n            label: 'Show caption'\n          }]\n      };\n      const getDialogContainerType = useColumns => useColumns ? {\n        type: 'grid',\n        columns: 2\n      } : { type: 'panel' };\n      return flatten([\n        [imageUrl],\n        imageList.toArray(),\n        info.hasAccessibilityOptions && info.hasDescription ? [isDecorative] : [],\n        info.hasDescription ? [imageDescription] : [],\n        info.hasImageTitle ? [imageTitle] : [],\n        info.hasDimensions ? [imageDimensions] : [],\n        [{\n            ...getDialogContainerType(info.classList.isSome() && info.hasImageCaption),\n            items: flatten([\n              classList.toArray(),\n              info.hasImageCaption ? [caption] : []\n            ])\n          }]\n      ]);\n    };\n    const makeTab$1 = info => ({\n      title: 'General',\n      name: 'general',\n      items: makeItems(info)\n    });\n    const MainTab = {\n      makeTab: makeTab$1,\n      makeItems\n    };\n\n    const makeTab = _info => {\n      const items = [{\n          type: 'dropzone',\n          name: 'fileinput'\n        }];\n      return {\n        title: 'Upload',\n        name: 'upload',\n        items\n      };\n    };\n    const UploadTab = { makeTab };\n\n    const createState = info => ({\n      prevImage: ListUtils.findEntry(info.imageList, info.image.src),\n      prevAlt: info.image.alt,\n      open: true\n    });\n    const fromImageData = image => ({\n      src: {\n        value: image.src,\n        meta: {}\n      },\n      images: image.src,\n      alt: image.alt,\n      title: image.title,\n      dimensions: {\n        width: image.width,\n        height: image.height\n      },\n      classes: image.class,\n      caption: image.caption,\n      style: image.style,\n      vspace: image.vspace,\n      border: image.border,\n      hspace: image.hspace,\n      borderstyle: image.borderStyle,\n      fileinput: [],\n      isDecorative: image.isDecorative\n    });\n    const toImageData = (data, removeEmptyAlt) => ({\n      src: data.src.value,\n      alt: data.alt.length === 0 && removeEmptyAlt ? null : data.alt,\n      title: data.title,\n      width: data.dimensions.width,\n      height: data.dimensions.height,\n      class: data.classes,\n      style: data.style,\n      caption: data.caption,\n      hspace: data.hspace,\n      vspace: data.vspace,\n      border: data.border,\n      borderStyle: data.borderstyle,\n      isDecorative: data.isDecorative\n    });\n    const addPrependUrl2 = (info, srcURL) => {\n      if (!/^(?:[a-zA-Z]+:)?\\/\\//.test(srcURL)) {\n        return info.prependURL.bind(prependUrl => {\n          if (srcURL.substring(0, prependUrl.length) !== prependUrl) {\n            return Optional.some(prependUrl + srcURL);\n          }\n          return Optional.none();\n        });\n      }\n      return Optional.none();\n    };\n    const addPrependUrl = (info, api) => {\n      const data = api.getData();\n      addPrependUrl2(info, data.src.value).each(srcURL => {\n        api.setData({\n          src: {\n            value: srcURL,\n            meta: data.src.meta\n          }\n        });\n      });\n    };\n    const formFillFromMeta2 = (info, data, meta) => {\n      if (info.hasDescription && isString(meta.alt)) {\n        data.alt = meta.alt;\n      }\n      if (info.hasAccessibilityOptions) {\n        data.isDecorative = meta.isDecorative || data.isDecorative || false;\n      }\n      if (info.hasImageTitle && isString(meta.title)) {\n        data.title = meta.title;\n      }\n      if (info.hasDimensions) {\n        if (isString(meta.width)) {\n          data.dimensions.width = meta.width;\n        }\n        if (isString(meta.height)) {\n          data.dimensions.height = meta.height;\n        }\n      }\n      if (isString(meta.class)) {\n        ListUtils.findEntry(info.classList, meta.class).each(entry => {\n          data.classes = entry.value;\n        });\n      }\n      if (info.hasImageCaption) {\n        if (isBoolean(meta.caption)) {\n          data.caption = meta.caption;\n        }\n      }\n      if (info.hasAdvTab) {\n        if (isString(meta.style)) {\n          data.style = meta.style;\n        }\n        if (isString(meta.vspace)) {\n          data.vspace = meta.vspace;\n        }\n        if (isString(meta.border)) {\n          data.border = meta.border;\n        }\n        if (isString(meta.hspace)) {\n          data.hspace = meta.hspace;\n        }\n        if (isString(meta.borderstyle)) {\n          data.borderstyle = meta.borderstyle;\n        }\n      }\n    };\n    const formFillFromMeta = (info, api) => {\n      const data = api.getData();\n      const meta = data.src.meta;\n      if (meta !== undefined) {\n        const newData = deepMerge({}, data);\n        formFillFromMeta2(info, newData, meta);\n        api.setData(newData);\n      }\n    };\n    const calculateImageSize = (helpers, info, state, api) => {\n      const data = api.getData();\n      const url = data.src.value;\n      const meta = data.src.meta || {};\n      if (!meta.width && !meta.height && info.hasDimensions) {\n        if (isNotEmpty(url)) {\n          helpers.imageSize(url).then(size => {\n            if (state.open) {\n              api.setData({ dimensions: size });\n            }\n          }).catch(e => console.error(e));\n        } else {\n          api.setData({\n            dimensions: {\n              width: '',\n              height: ''\n            }\n          });\n        }\n      }\n    };\n    const updateImagesDropdown = (info, state, api) => {\n      const data = api.getData();\n      const image = ListUtils.findEntry(info.imageList, data.src.value);\n      state.prevImage = image;\n      api.setData({ images: image.map(entry => entry.value).getOr('') });\n    };\n    const changeSrc = (helpers, info, state, api) => {\n      addPrependUrl(info, api);\n      formFillFromMeta(info, api);\n      calculateImageSize(helpers, info, state, api);\n      updateImagesDropdown(info, state, api);\n    };\n    const changeImages = (helpers, info, state, api) => {\n      const data = api.getData();\n      const image = ListUtils.findEntry(info.imageList, data.images);\n      image.each(img => {\n        const updateAlt = data.alt === '' || state.prevImage.map(image => image.text === data.alt).getOr(false);\n        if (updateAlt) {\n          if (img.value === '') {\n            api.setData({\n              src: img,\n              alt: state.prevAlt\n            });\n          } else {\n            api.setData({\n              src: img,\n              alt: img.text\n            });\n          }\n        } else {\n          api.setData({ src: img });\n        }\n      });\n      state.prevImage = image;\n      changeSrc(helpers, info, state, api);\n    };\n    const changeFileInput = (helpers, info, state, api) => {\n      const data = api.getData();\n      api.block('Uploading image');\n      head(data.fileinput).fold(() => {\n        api.unblock();\n      }, file => {\n        const blobUri = URL.createObjectURL(file);\n        const finalize = () => {\n          api.unblock();\n          URL.revokeObjectURL(blobUri);\n        };\n        const updateSrcAndSwitchTab = url => {\n          api.setData({\n            src: {\n              value: url,\n              meta: {}\n            }\n          });\n          api.showTab('general');\n          changeSrc(helpers, info, state, api);\n        };\n        blobToDataUri(file).then(dataUrl => {\n          const blobInfo = helpers.createBlobCache(file, blobUri, dataUrl);\n          if (info.automaticUploads) {\n            helpers.uploadImage(blobInfo).then(result => {\n              updateSrcAndSwitchTab(result.url);\n              finalize();\n            }).catch(err => {\n              finalize();\n              helpers.alertErr(err);\n            });\n          } else {\n            helpers.addToBlobCache(blobInfo);\n            updateSrcAndSwitchTab(blobInfo.blobUri());\n            api.unblock();\n          }\n        });\n      });\n    };\n    const changeHandler = (helpers, info, state) => (api, evt) => {\n      if (evt.name === 'src') {\n        changeSrc(helpers, info, state, api);\n      } else if (evt.name === 'images') {\n        changeImages(helpers, info, state, api);\n      } else if (evt.name === 'alt') {\n        state.prevAlt = api.getData().alt;\n      } else if (evt.name === 'fileinput') {\n        changeFileInput(helpers, info, state, api);\n      } else if (evt.name === 'isDecorative') {\n        api.setEnabled('alt', !api.getData().isDecorative);\n      }\n    };\n    const closeHandler = state => () => {\n      state.open = false;\n    };\n    const makeDialogBody = info => {\n      if (info.hasAdvTab || info.hasUploadUrl || info.hasUploadHandler) {\n        const tabPanel = {\n          type: 'tabpanel',\n          tabs: flatten([\n            [MainTab.makeTab(info)],\n            info.hasAdvTab ? [AdvTab.makeTab(info)] : [],\n            info.hasUploadTab && (info.hasUploadUrl || info.hasUploadHandler) ? [UploadTab.makeTab(info)] : []\n          ])\n        };\n        return tabPanel;\n      } else {\n        const panel = {\n          type: 'panel',\n          items: MainTab.makeItems(info)\n        };\n        return panel;\n      }\n    };\n    const submitHandler = (editor, info, helpers) => api => {\n      const data = deepMerge(fromImageData(info.image), api.getData());\n      const finalData = {\n        ...data,\n        style: getStyleValue(helpers.normalizeCss, toImageData(data, false))\n      };\n      editor.execCommand('mceUpdateImage', false, toImageData(finalData, info.hasAccessibilityOptions));\n      editor.editorUpload.uploadImagesAuto();\n      api.close();\n    };\n    const imageSize = editor => url => {\n      if (!isSafeImageUrl(editor, url)) {\n        return Promise.resolve({\n          width: '',\n          height: ''\n        });\n      } else {\n        return getImageSize(editor.documentBaseURI.toAbsolute(url)).then(dimensions => ({\n          width: String(dimensions.width),\n          height: String(dimensions.height)\n        }));\n      }\n    };\n    const createBlobCache = editor => (file, blobUri, dataUrl) => editor.editorUpload.blobCache.create({\n      blob: file,\n      blobUri,\n      name: file.name ? file.name.replace(/\\.[^\\.]+$/, '') : null,\n      filename: file.name,\n      base64: dataUrl.split(',')[1]\n    });\n    const addToBlobCache = editor => blobInfo => {\n      editor.editorUpload.blobCache.add(blobInfo);\n    };\n    const alertErr = editor => message => {\n      editor.windowManager.alert(message);\n    };\n    const normalizeCss = editor => cssText => normalizeCss$1(editor, cssText);\n    const parseStyle = editor => cssText => editor.dom.parseStyle(cssText);\n    const serializeStyle = editor => (stylesArg, name) => editor.dom.serializeStyle(stylesArg, name);\n    const uploadImage = editor => blobInfo => global$1(editor).upload([blobInfo], false).then(results => {\n      if (results.length === 0) {\n        return Promise.reject('Failed to upload image');\n      } else if (results[0].status === false) {\n        return Promise.reject(results[0].error.message);\n      } else {\n        return results[0];\n      }\n    });\n    const Dialog = editor => {\n      const helpers = {\n        imageSize: imageSize(editor),\n        addToBlobCache: addToBlobCache(editor),\n        createBlobCache: createBlobCache(editor),\n        alertErr: alertErr(editor),\n        normalizeCss: normalizeCss(editor),\n        parseStyle: parseStyle(editor),\n        serializeStyle: serializeStyle(editor),\n        uploadImage: uploadImage(editor)\n      };\n      const open = () => {\n        collect(editor).then(info => {\n          const state = createState(info);\n          return {\n            title: 'Insert/Edit Image',\n            size: 'normal',\n            body: makeDialogBody(info),\n            buttons: [\n              {\n                type: 'cancel',\n                name: 'cancel',\n                text: 'Cancel'\n              },\n              {\n                type: 'submit',\n                name: 'save',\n                text: 'Save',\n                primary: true\n              }\n            ],\n            initialData: fromImageData(info.image),\n            onSubmit: submitHandler(editor, info, helpers),\n            onChange: changeHandler(helpers, info, state),\n            onClose: closeHandler(state)\n          };\n        }).then(editor.windowManager.open);\n      };\n      return { open };\n    };\n\n    const register$1 = editor => {\n      editor.addCommand('mceImage', Dialog(editor).open);\n      editor.addCommand('mceUpdateImage', (_ui, data) => {\n        editor.undoManager.transact(() => insertOrUpdateImage(editor, data));\n      });\n    };\n\n    const hasImageClass = node => {\n      const className = node.attr('class');\n      return className && /\\bimage\\b/.test(className);\n    };\n    const toggleContentEditableState = state => nodes => {\n      let i = nodes.length;\n      const toggleContentEditable = node => {\n        node.attr('contenteditable', state ? 'true' : null);\n      };\n      while (i--) {\n        const node = nodes[i];\n        if (hasImageClass(node)) {\n          node.attr('contenteditable', state ? 'false' : null);\n          global.each(node.getAll('figcaption'), toggleContentEditable);\n        }\n      }\n    };\n    const setup = editor => {\n      editor.on('PreInit', () => {\n        editor.parser.addNodeFilter('figure', toggleContentEditableState(true));\n        editor.serializer.addNodeFilter('figure', toggleContentEditableState(false));\n      });\n    };\n\n    const register = editor => {\n      editor.ui.registry.addToggleButton('image', {\n        icon: 'image',\n        tooltip: 'Insert/edit image',\n        onAction: Dialog(editor).open,\n        onSetup: buttonApi => {\n          buttonApi.setActive(isNonNullable(getSelectedImage(editor)));\n          return editor.selection.selectorChangedWithUnbind('img:not([data-mce-object]):not([data-mce-placeholder]),figure.image', buttonApi.setActive).unbind;\n        }\n      });\n      editor.ui.registry.addMenuItem('image', {\n        icon: 'image',\n        text: 'Image...',\n        onAction: Dialog(editor).open\n      });\n      editor.ui.registry.addContextMenu('image', { update: element => isFigure(element) || isImage(element) && !isPlaceholderImage(element) ? ['image'] : [] });\n    };\n\n    var Plugin = () => {\n      global$4.add('image', editor => {\n        register$2(editor);\n        setup(editor);\n        register(editor);\n        register$1(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"link\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/link')\n//   ES2015:\n//     import 'tinymce/plugins/link'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.1.2 (2022-07-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq = t => a => t === a;\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isArray = isType('array');\n    const isNull = eq(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains = (xs, x) => rawIndexOf(xs, x) > -1;\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten(map(xs, f));\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const option = name => editor => editor.options.get(name);\n    const register$1 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('link_assume_external_targets', {\n        processor: value => {\n          const valid = isString(value) || isBoolean(value);\n          if (valid) {\n            if (value === true) {\n              return {\n                value: 1,\n                valid\n              };\n            } else if (value === 'http' || value === 'https') {\n              return {\n                value,\n                valid\n              };\n            } else {\n              return {\n                value: 0,\n                valid\n              };\n            }\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a string or a boolean.'\n            };\n          }\n        },\n        default: false\n      });\n      registerOption('link_context_toolbar', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('link_list', { processor: value => isString(value) || isFunction(value) || isArrayOf(value, isObject) });\n      registerOption('link_default_target', { processor: 'string' });\n      registerOption('link_default_protocol', {\n        processor: 'string',\n        default: 'https'\n      });\n      registerOption('link_target_list', {\n        processor: value => isBoolean(value) || isArrayOf(value, isObject),\n        default: true\n      });\n      registerOption('link_rel_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('link_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('link_title', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('allow_unsafe_link_target', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('link_quicklink', {\n        processor: 'boolean',\n        default: false\n      });\n    };\n    const assumeExternalTargets = option('link_assume_external_targets');\n    const hasContextToolbar = option('link_context_toolbar');\n    const getLinkList = option('link_list');\n    const getDefaultLinkTarget = option('link_default_target');\n    const getDefaultLinkProtocol = option('link_default_protocol');\n    const getTargetList = option('link_target_list');\n    const getRelList = option('link_rel_list');\n    const getLinkClassList = option('link_class_list');\n    const shouldShowLinkTitle = option('link_title');\n    const allowUnsafeLinkTarget = option('allow_unsafe_link_target');\n    const useQuickLink = option('link_quicklink');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getValue = item => isString(item.value) ? item.value : '';\n    const getText = item => {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    const sanitizeList = (list, extractValue) => {\n      const out = [];\n      global$4.each(list, item => {\n        const text = getText(item);\n        if (item.menu !== undefined) {\n          const items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text,\n            items\n          });\n        } else {\n          const value = extractValue(item);\n          out.push({\n            text,\n            value\n          });\n        }\n      });\n      return out;\n    };\n    const sanitizeWith = (extracter = getValue) => list => Optional.from(list).map(list => sanitizeList(list, extracter));\n    const sanitize = list => sanitizeWith(getValue)(list);\n    const createUi = (name, label) => items => ({\n      name,\n      type: 'listbox',\n      label,\n      items\n    });\n    const ListOptions = {\n      sanitize,\n      sanitizeWith,\n      createUi,\n      getValue\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      const r = {};\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const isAnchor = elm => elm && elm.nodeName.toLowerCase() === 'a';\n    const isLink = elm => isAnchor(elm) && !!getHref(elm);\n    const collectNodesInRange = (rng, predicate) => {\n      if (rng.collapsed) {\n        return [];\n      } else {\n        const contents = rng.cloneContents();\n        const walker = new global$3(contents.firstChild, contents);\n        const elements = [];\n        let current = contents.firstChild;\n        do {\n          if (predicate(current)) {\n            elements.push(current);\n          }\n        } while (current = walker.next());\n        return elements;\n      }\n    };\n    const hasProtocol = url => /^\\w+:/i.test(url);\n    const getHref = elm => {\n      const href = elm.getAttribute('data-mce-href');\n      return href ? href : elm.getAttribute('href');\n    };\n    const applyRelTargetRules = (rel, isUnsafe) => {\n      const rules = ['noopener'];\n      const rels = rel ? rel.split(/\\s+/) : [];\n      const toString = rels => global$4.trim(rels.sort().join(' '));\n      const addTargetRules = rels => {\n        rels = removeTargetRules(rels);\n        return rels.length > 0 ? rels.concat(rules) : rules;\n      };\n      const removeTargetRules = rels => rels.filter(val => global$4.inArray(rules, val) === -1);\n      const newRels = isUnsafe ? addTargetRules(rels) : removeTargetRules(rels);\n      return newRels.length > 0 ? toString(newRels) : '';\n    };\n    const trimCaretContainers = text => text.replace(/\\uFEFF/g, '');\n    const getAnchorElement = (editor, selectedElm) => {\n      selectedElm = selectedElm || editor.selection.getNode();\n      if (isImageFigure(selectedElm)) {\n        return editor.dom.select('a[href]', selectedElm)[0];\n      } else {\n        return editor.dom.getParent(selectedElm, 'a[href]');\n      }\n    };\n    const getAnchorText = (selection, anchorElm) => {\n      const text = anchorElm ? anchorElm.innerText || anchorElm.textContent : selection.getContent({ format: 'text' });\n      return trimCaretContainers(text);\n    };\n    const hasLinks = elements => global$4.grep(elements, isLink).length > 0;\n    const hasLinksInSelection = rng => collectNodesInRange(rng, isLink).length > 0;\n    const isOnlyTextSelected = editor => {\n      const inlineTextElements = editor.schema.getTextInlineElements();\n      const isElement = elm => elm.nodeType === 1 && !isAnchor(elm) && !has(inlineTextElements, elm.nodeName.toLowerCase());\n      const elements = collectNodesInRange(editor.selection.getRng(), isElement);\n      return elements.length === 0;\n    };\n    const isImageFigure = elm => elm && elm.nodeName === 'FIGURE' && /\\bimage\\b/i.test(elm.className);\n    const getLinkAttrs = data => {\n      const attrs = [\n        'title',\n        'rel',\n        'class',\n        'target'\n      ];\n      return foldl(attrs, (acc, key) => {\n        data[key].each(value => {\n          acc[key] = value.length > 0 ? value : null;\n        });\n        return acc;\n      }, { href: data.href });\n    };\n    const handleExternalTargets = (href, assumeExternalTargets) => {\n      if ((assumeExternalTargets === 'http' || assumeExternalTargets === 'https') && !hasProtocol(href)) {\n        return assumeExternalTargets + '://' + href;\n      }\n      return href;\n    };\n    const applyLinkOverrides = (editor, linkAttrs) => {\n      const newLinkAttrs = { ...linkAttrs };\n      if (getRelList(editor).length === 0 && !allowUnsafeLinkTarget(editor)) {\n        const newRel = applyRelTargetRules(newLinkAttrs.rel, newLinkAttrs.target === '_blank');\n        newLinkAttrs.rel = newRel ? newRel : null;\n      }\n      if (Optional.from(newLinkAttrs.target).isNone() && getTargetList(editor) === false) {\n        newLinkAttrs.target = getDefaultLinkTarget(editor);\n      }\n      newLinkAttrs.href = handleExternalTargets(newLinkAttrs.href, assumeExternalTargets(editor));\n      return newLinkAttrs;\n    };\n    const updateLink = (editor, anchorElm, text, linkAttrs) => {\n      text.each(text => {\n        if (has(anchorElm, 'innerText')) {\n          anchorElm.innerText = text;\n        } else {\n          anchorElm.textContent = text;\n        }\n      });\n      editor.dom.setAttribs(anchorElm, linkAttrs);\n      editor.selection.select(anchorElm);\n    };\n    const createLink = (editor, selectedElm, text, linkAttrs) => {\n      if (isImageFigure(selectedElm)) {\n        linkImageFigure(editor, selectedElm, linkAttrs);\n      } else {\n        text.fold(() => {\n          editor.execCommand('mceInsertLink', false, linkAttrs);\n        }, text => {\n          editor.insertContent(editor.dom.createHTML('a', linkAttrs, editor.dom.encode(text)));\n        });\n      }\n    };\n    const linkDomMutation = (editor, attachState, data) => {\n      const selectedElm = editor.selection.getNode();\n      const anchorElm = getAnchorElement(editor, selectedElm);\n      const linkAttrs = applyLinkOverrides(editor, getLinkAttrs(data));\n      editor.undoManager.transact(() => {\n        if (data.href === attachState.href) {\n          attachState.attach();\n        }\n        if (anchorElm) {\n          editor.focus();\n          updateLink(editor, anchorElm, data.text, linkAttrs);\n        } else {\n          createLink(editor, selectedElm, data.text, linkAttrs);\n        }\n      });\n    };\n    const unlinkSelection = editor => {\n      const dom = editor.dom, selection = editor.selection;\n      const bookmark = selection.getBookmark();\n      const rng = selection.getRng().cloneRange();\n      const startAnchorElm = dom.getParent(rng.startContainer, 'a[href]', editor.getBody());\n      const endAnchorElm = dom.getParent(rng.endContainer, 'a[href]', editor.getBody());\n      if (startAnchorElm) {\n        rng.setStartBefore(startAnchorElm);\n      }\n      if (endAnchorElm) {\n        rng.setEndAfter(endAnchorElm);\n      }\n      selection.setRng(rng);\n      editor.execCommand('unlink');\n      selection.moveToBookmark(bookmark);\n    };\n    const unlinkDomMutation = editor => {\n      editor.undoManager.transact(() => {\n        const node = editor.selection.getNode();\n        if (isImageFigure(node)) {\n          unlinkImageFigure(editor, node);\n        } else {\n          unlinkSelection(editor);\n        }\n        editor.focus();\n      });\n    };\n    const unwrapOptions = data => {\n      const {\n        class: cls,\n        href,\n        rel,\n        target,\n        text,\n        title\n      } = data;\n      return filter({\n        class: cls.getOrNull(),\n        href,\n        rel: rel.getOrNull(),\n        target: target.getOrNull(),\n        text: text.getOrNull(),\n        title: title.getOrNull()\n      }, (v, _k) => isNull(v) === false);\n    };\n    const sanitizeData = (editor, data) => {\n      const getOption = editor.options.get;\n      const uriOptions = {\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls')\n      };\n      const href = data.href;\n      return {\n        ...data,\n        href: global$2.isDomSafe(href, 'a', uriOptions) ? href : ''\n      };\n    };\n    const link = (editor, attachState, data) => {\n      const sanitizedData = sanitizeData(editor, data);\n      editor.hasPlugin('rtc', true) ? editor.execCommand('createlink', false, unwrapOptions(sanitizedData)) : linkDomMutation(editor, attachState, sanitizedData);\n    };\n    const unlink = editor => {\n      editor.hasPlugin('rtc', true) ? editor.execCommand('unlink') : unlinkDomMutation(editor);\n    };\n    const unlinkImageFigure = (editor, fig) => {\n      const img = editor.dom.select('img', fig)[0];\n      if (img) {\n        const a = editor.dom.getParents(img, 'a[href]', fig)[0];\n        if (a) {\n          a.parentNode.insertBefore(img, a);\n          editor.dom.remove(a);\n        }\n      }\n    };\n    const linkImageFigure = (editor, fig, attrs) => {\n      const img = editor.dom.select('img', fig)[0];\n      if (img) {\n        const a = editor.dom.create('a', attrs);\n        img.parentNode.insertBefore(a, img);\n        a.appendChild(img);\n      }\n    };\n\n    const isListGroup = item => hasNonNullableKey(item, 'items');\n    const findTextByValue = (value, catalog) => findMap(catalog, item => {\n      if (isListGroup(item)) {\n        return findTextByValue(value, item.items);\n      } else {\n        return someIf(item.value === value, item);\n      }\n    });\n    const getDelta = (persistentText, fieldName, catalog, data) => {\n      const value = data[fieldName];\n      const hasPersistentText = persistentText.length > 0;\n      return value !== undefined ? findTextByValue(value, catalog).map(i => ({\n        url: {\n          value: i.value,\n          meta: {\n            text: hasPersistentText ? persistentText : i.text,\n            attach: noop\n          }\n        },\n        text: hasPersistentText ? persistentText : i.text\n      })) : Optional.none();\n    };\n    const findCatalog = (catalogs, fieldName) => {\n      if (fieldName === 'link') {\n        return catalogs.link;\n      } else if (fieldName === 'anchor') {\n        return catalogs.anchor;\n      } else {\n        return Optional.none();\n      }\n    };\n    const init = (initialData, linkCatalog) => {\n      const persistentData = {\n        text: initialData.text,\n        title: initialData.title\n      };\n      const getTitleFromUrlChange = url => someIf(persistentData.title.length <= 0, Optional.from(url.meta.title).getOr(''));\n      const getTextFromUrlChange = url => someIf(persistentData.text.length <= 0, Optional.from(url.meta.text).getOr(url.value));\n      const onUrlChange = data => {\n        const text = getTextFromUrlChange(data.url);\n        const title = getTitleFromUrlChange(data.url);\n        if (text.isSome() || title.isSome()) {\n          return Optional.some({\n            ...text.map(text => ({ text })).getOr({}),\n            ...title.map(title => ({ title })).getOr({})\n          });\n        } else {\n          return Optional.none();\n        }\n      };\n      const onCatalogChange = (data, change) => {\n        const catalog = findCatalog(linkCatalog, change.name).getOr([]);\n        return getDelta(persistentData.text, change.name, catalog, data);\n      };\n      const onChange = (getData, change) => {\n        const name = change.name;\n        if (name === 'url') {\n          return onUrlChange(getData());\n        } else if (contains([\n            'anchor',\n            'link'\n          ], name)) {\n          return onCatalogChange(getData(), change);\n        } else if (name === 'text' || name === 'title') {\n          persistentData[name] = getData()[name];\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      };\n      return { onChange };\n    };\n    const DialogChanges = {\n      init,\n      getDelta\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    const delayedConfirm = (editor, message, callback) => {\n      const rng = editor.selection.getRng();\n      global$1.setEditorTimeout(editor, () => {\n        editor.windowManager.confirm(message, state => {\n          editor.selection.setRng(rng);\n          callback(state);\n        });\n      });\n    };\n    const tryEmailTransform = data => {\n      const url = data.href;\n      const suggestMailTo = url.indexOf('@') > 0 && url.indexOf('/') === -1 && url.indexOf('mailto:') === -1;\n      return suggestMailTo ? Optional.some({\n        message: 'The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?',\n        preprocess: oldData => ({\n          ...oldData,\n          href: 'mailto:' + url\n        })\n      }) : Optional.none();\n    };\n    const tryProtocolTransform = (assumeExternalTargets, defaultLinkProtocol) => data => {\n      const url = data.href;\n      const suggestProtocol = assumeExternalTargets === 1 && !hasProtocol(url) || assumeExternalTargets === 0 && /^\\s*www(\\.|\\d\\.)/i.test(url);\n      return suggestProtocol ? Optional.some({\n        message: `The URL you entered seems to be an external link. Do you want to add the required ${ defaultLinkProtocol }:// prefix?`,\n        preprocess: oldData => ({\n          ...oldData,\n          href: defaultLinkProtocol + '://' + url\n        })\n      }) : Optional.none();\n    };\n    const preprocess = (editor, data) => findMap([\n      tryEmailTransform,\n      tryProtocolTransform(assumeExternalTargets(editor), getDefaultLinkProtocol(editor))\n    ], f => f(data)).fold(() => Promise.resolve(data), transform => new Promise(callback => {\n      delayedConfirm(editor, transform.message, state => {\n        callback(state ? transform.preprocess(data) : data);\n      });\n    }));\n    const DialogConfirms = { preprocess };\n\n    const getAnchors = editor => {\n      const anchorNodes = editor.dom.select('a:not([href])');\n      const anchors = bind(anchorNodes, anchor => {\n        const id = anchor.name || anchor.id;\n        return id ? [{\n            text: id,\n            value: '#' + id\n          }] : [];\n      });\n      return anchors.length > 0 ? Optional.some([{\n          text: 'None',\n          value: ''\n        }].concat(anchors)) : Optional.none();\n    };\n    const AnchorListOptions = { getAnchors };\n\n    const getClasses = editor => {\n      const list = getLinkClassList(editor);\n      if (list.length > 0) {\n        return ListOptions.sanitize(list);\n      }\n      return Optional.none();\n    };\n    const ClassListOptions = { getClasses };\n\n    const parseJson = text => {\n      try {\n        return Optional.some(JSON.parse(text));\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    const getLinks = editor => {\n      const extractor = item => editor.convertURL(item.value || item.url, 'href');\n      const linkList = getLinkList(editor);\n      return new Promise(resolve => {\n        if (isString(linkList)) {\n          fetch(linkList).then(res => res.ok ? res.text().then(parseJson) : Promise.reject()).then(resolve, () => resolve(Optional.none()));\n        } else if (isFunction(linkList)) {\n          linkList(output => resolve(Optional.some(output)));\n        } else {\n          resolve(Optional.from(linkList));\n        }\n      }).then(optItems => optItems.bind(ListOptions.sanitizeWith(extractor)).map(items => {\n        if (items.length > 0) {\n          const noneItem = [{\n              text: 'None',\n              value: ''\n            }];\n          return noneItem.concat(items);\n        } else {\n          return items;\n        }\n      }));\n    };\n    const LinkListOptions = { getLinks };\n\n    const getRels = (editor, initialTarget) => {\n      const list = getRelList(editor);\n      if (list.length > 0) {\n        const isTargetBlank = is(initialTarget, '_blank');\n        const enforceSafe = allowUnsafeLinkTarget(editor) === false;\n        const safeRelExtractor = item => applyRelTargetRules(ListOptions.getValue(item), isTargetBlank);\n        const sanitizer = enforceSafe ? ListOptions.sanitizeWith(safeRelExtractor) : ListOptions.sanitize;\n        return sanitizer(list);\n      }\n      return Optional.none();\n    };\n    const RelOptions = { getRels };\n\n    const fallbacks = [\n      {\n        text: 'Current window',\n        value: ''\n      },\n      {\n        text: 'New window',\n        value: '_blank'\n      }\n    ];\n    const getTargets = editor => {\n      const list = getTargetList(editor);\n      if (isArray(list)) {\n        return ListOptions.sanitize(list).orThunk(() => Optional.some(fallbacks));\n      } else if (list === false) {\n        return Optional.none();\n      }\n      return Optional.some(fallbacks);\n    };\n    const TargetOptions = { getTargets };\n\n    const nonEmptyAttr = (dom, elem, name) => {\n      const val = dom.getAttrib(elem, name);\n      return val !== null && val.length > 0 ? Optional.some(val) : Optional.none();\n    };\n    const extractFromAnchor = (editor, anchor) => {\n      const dom = editor.dom;\n      const onlyText = isOnlyTextSelected(editor);\n      const text = onlyText ? Optional.some(getAnchorText(editor.selection, anchor)) : Optional.none();\n      const url = anchor ? Optional.some(dom.getAttrib(anchor, 'href')) : Optional.none();\n      const target = anchor ? Optional.from(dom.getAttrib(anchor, 'target')) : Optional.none();\n      const rel = nonEmptyAttr(dom, anchor, 'rel');\n      const linkClass = nonEmptyAttr(dom, anchor, 'class');\n      const title = nonEmptyAttr(dom, anchor, 'title');\n      return {\n        url,\n        text,\n        title,\n        target,\n        rel,\n        linkClass\n      };\n    };\n    const collect = (editor, linkNode) => LinkListOptions.getLinks(editor).then(links => {\n      const anchor = extractFromAnchor(editor, linkNode);\n      return {\n        anchor,\n        catalogs: {\n          targets: TargetOptions.getTargets(editor),\n          rels: RelOptions.getRels(editor, anchor.target),\n          classes: ClassListOptions.getClasses(editor),\n          anchor: AnchorListOptions.getAnchors(editor),\n          link: links\n        },\n        optNode: Optional.from(linkNode),\n        flags: { titleEnabled: shouldShowLinkTitle(editor) }\n      };\n    });\n    const DialogInfo = { collect };\n\n    const handleSubmit = (editor, info) => api => {\n      const data = api.getData();\n      if (!data.url.value) {\n        unlink(editor);\n        api.close();\n        return;\n      }\n      const getChangedValue = key => Optional.from(data[key]).filter(value => !is(info.anchor[key], value));\n      const changedData = {\n        href: data.url.value,\n        text: getChangedValue('text'),\n        target: getChangedValue('target'),\n        rel: getChangedValue('rel'),\n        class: getChangedValue('linkClass'),\n        title: getChangedValue('title')\n      };\n      const attachState = {\n        href: data.url.value,\n        attach: data.url.meta !== undefined && data.url.meta.attach ? data.url.meta.attach : noop\n      };\n      DialogConfirms.preprocess(editor, changedData).then(pData => {\n        link(editor, attachState, pData);\n      });\n      api.close();\n    };\n    const collectData = editor => {\n      const anchorNode = getAnchorElement(editor);\n      return DialogInfo.collect(editor, anchorNode);\n    };\n    const getInitialData = (info, defaultTarget) => {\n      const anchor = info.anchor;\n      const url = anchor.url.getOr('');\n      return {\n        url: {\n          value: url,\n          meta: { original: { value: url } }\n        },\n        text: anchor.text.getOr(''),\n        title: anchor.title.getOr(''),\n        anchor: url,\n        link: url,\n        rel: anchor.rel.getOr(''),\n        target: anchor.target.or(defaultTarget).getOr(''),\n        linkClass: anchor.linkClass.getOr('')\n      };\n    };\n    const makeDialog = (settings, onSubmit, editor) => {\n      const urlInput = [{\n          name: 'url',\n          type: 'urlinput',\n          filetype: 'file',\n          label: 'URL'\n        }];\n      const displayText = settings.anchor.text.map(() => ({\n        name: 'text',\n        type: 'input',\n        label: 'Text to display'\n      })).toArray();\n      const titleText = settings.flags.titleEnabled ? [{\n          name: 'title',\n          type: 'input',\n          label: 'Title'\n        }] : [];\n      const defaultTarget = Optional.from(getDefaultLinkTarget(editor));\n      const initialData = getInitialData(settings, defaultTarget);\n      const catalogs = settings.catalogs;\n      const dialogDelta = DialogChanges.init(initialData, catalogs);\n      const body = {\n        type: 'panel',\n        items: flatten([\n          urlInput,\n          displayText,\n          titleText,\n          cat([\n            catalogs.anchor.map(ListOptions.createUi('anchor', 'Anchors')),\n            catalogs.rels.map(ListOptions.createUi('rel', 'Rel')),\n            catalogs.targets.map(ListOptions.createUi('target', 'Open link in...')),\n            catalogs.link.map(ListOptions.createUi('link', 'Link list')),\n            catalogs.classes.map(ListOptions.createUi('linkClass', 'Class'))\n          ])\n        ])\n      };\n      return {\n        title: 'Insert/Edit Link',\n        size: 'normal',\n        body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData,\n        onChange: (api, {name}) => {\n          dialogDelta.onChange(api.getData, { name }).each(newData => {\n            api.setData(newData);\n          });\n        },\n        onSubmit\n      };\n    };\n    const open$1 = editor => {\n      const data = collectData(editor);\n      data.then(info => {\n        const onSubmit = handleSubmit(editor, info);\n        return makeDialog(info, onSubmit, editor);\n      }).then(spec => {\n        editor.windowManager.open(spec);\n      });\n    };\n\n    const register = editor => {\n      editor.addCommand('mceLink', (_ui, value) => {\n        if ((value === null || value === void 0 ? void 0 : value.dialog) === true || !useQuickLink(editor)) {\n          open$1(editor);\n        } else {\n          editor.dispatch('contexttoolbar-show', { toolbarKey: 'quicklink' });\n        }\n      });\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    const appendClickRemove = (link, evt) => {\n      document.body.appendChild(link);\n      link.dispatchEvent(evt);\n      document.body.removeChild(link);\n    };\n    const open = url => {\n      const link = document.createElement('a');\n      link.target = '_blank';\n      link.href = url;\n      link.rel = 'noreferrer noopener';\n      const evt = document.createEvent('MouseEvents');\n      evt.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      appendClickRemove(link, evt);\n    };\n\n    const getLink = (editor, elm) => editor.dom.getParent(elm, 'a[href]');\n    const getSelectedLink = editor => getLink(editor, editor.selection.getStart());\n    const hasOnlyAltModifier = e => {\n      return e.altKey === true && e.shiftKey === false && e.ctrlKey === false && e.metaKey === false;\n    };\n    const gotoLink = (editor, a) => {\n      if (a) {\n        const href = getHref(a);\n        if (/^#/.test(href)) {\n          const targetEl = editor.dom.select(href);\n          if (targetEl.length) {\n            editor.selection.scrollIntoView(targetEl[0], true);\n          }\n        } else {\n          open(a.href);\n        }\n      }\n    };\n    const openDialog = editor => () => {\n      editor.execCommand('mceLink', false, { dialog: true });\n    };\n    const gotoSelectedLink = editor => () => {\n      gotoLink(editor, getSelectedLink(editor));\n    };\n    const setupGotoLinks = editor => {\n      editor.on('click', e => {\n        const link = getLink(editor, e.target);\n        if (link && global.metaKeyPressed(e)) {\n          e.preventDefault();\n          gotoLink(editor, link);\n        }\n      });\n      editor.on('keydown', e => {\n        if (!e.isDefaultPrevented() && e.keyCode === 13 && hasOnlyAltModifier(e)) {\n          const link = getSelectedLink(editor);\n          if (link) {\n            e.preventDefault();\n            gotoLink(editor, link);\n          }\n        }\n      });\n    };\n    const toggleState = (editor, toggler) => {\n      editor.on('NodeChange', toggler);\n      return () => editor.off('NodeChange', toggler);\n    };\n    const toggleActiveState = editor => api => {\n      const updateState = () => api.setActive(!editor.mode.isReadOnly() && getAnchorElement(editor, editor.selection.getNode()) !== null);\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const toggleEnabledState = editor => api => {\n      const updateState = () => api.setEnabled(getAnchorElement(editor, editor.selection.getNode()) !== null);\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const toggleUnlinkState = editor => api => {\n      const hasLinks$1 = parents => hasLinks(parents) || hasLinksInSelection(editor.selection.getRng());\n      const parents = editor.dom.getParents(editor.selection.getStart());\n      api.setEnabled(hasLinks$1(parents));\n      return toggleState(editor, e => api.setEnabled(hasLinks$1(e.parents)));\n    };\n\n    const setup = editor => {\n      editor.addShortcut('Meta+K', '', () => {\n        editor.execCommand('mceLink');\n      });\n    };\n\n    const setupButtons = editor => {\n      editor.ui.registry.addToggleButton('link', {\n        icon: 'link',\n        tooltip: 'Insert/edit link',\n        onAction: openDialog(editor),\n        onSetup: toggleActiveState(editor)\n      });\n      editor.ui.registry.addButton('openlink', {\n        icon: 'new-tab',\n        tooltip: 'Open link',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleEnabledState(editor)\n      });\n      editor.ui.registry.addButton('unlink', {\n        icon: 'unlink',\n        tooltip: 'Remove link',\n        onAction: () => unlink(editor),\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    const setupMenuItems = editor => {\n      editor.ui.registry.addMenuItem('openlink', {\n        text: 'Open link',\n        icon: 'new-tab',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleEnabledState(editor)\n      });\n      editor.ui.registry.addMenuItem('link', {\n        icon: 'link',\n        text: 'Link...',\n        shortcut: 'Meta+K',\n        onAction: openDialog(editor)\n      });\n      editor.ui.registry.addMenuItem('unlink', {\n        icon: 'unlink',\n        text: 'Remove link',\n        onAction: () => unlink(editor),\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    const setupContextMenu = editor => {\n      const inLink = 'link unlink openlink';\n      const noLink = 'link';\n      editor.ui.registry.addContextMenu('link', { update: element => hasLinks(editor.dom.getParents(element, 'a')) ? inLink : noLink });\n    };\n    const setupContextToolbars = editor => {\n      const collapseSelectionToEnd = editor => {\n        editor.selection.collapse(false);\n      };\n      const onSetupLink = buttonApi => {\n        const node = editor.selection.getNode();\n        buttonApi.setEnabled(getAnchorElement(editor, node) !== null);\n        return noop;\n      };\n      const getLinkText = value => {\n        const anchor = getAnchorElement(editor);\n        const onlyText = isOnlyTextSelected(editor);\n        if (!anchor && onlyText) {\n          const text = getAnchorText(editor.selection, anchor);\n          return Optional.some(text.length > 0 ? text : value);\n        } else {\n          return Optional.none();\n        }\n      };\n      editor.ui.registry.addContextForm('quicklink', {\n        launch: {\n          type: 'contextformtogglebutton',\n          icon: 'link',\n          tooltip: 'Link',\n          onSetup: toggleActiveState(editor)\n        },\n        label: 'Link',\n        predicate: node => !!getAnchorElement(editor, node) && hasContextToolbar(editor),\n        initValue: () => {\n          const elm = getAnchorElement(editor);\n          return !!elm ? getHref(elm) : '';\n        },\n        commands: [\n          {\n            type: 'contextformtogglebutton',\n            icon: 'link',\n            tooltip: 'Link',\n            primary: true,\n            onSetup: buttonApi => {\n              const node = editor.selection.getNode();\n              buttonApi.setActive(!!getAnchorElement(editor, node));\n              return toggleActiveState(editor)(buttonApi);\n            },\n            onAction: formApi => {\n              const value = formApi.getValue();\n              const text = getLinkText(value);\n              const attachState = {\n                href: value,\n                attach: noop\n              };\n              link(editor, attachState, {\n                href: value,\n                text,\n                title: Optional.none(),\n                rel: Optional.none(),\n                target: Optional.none(),\n                class: Optional.none()\n              });\n              collapseSelectionToEnd(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'unlink',\n            tooltip: 'Remove link',\n            onSetup: onSetupLink,\n            onAction: formApi => {\n              unlink(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'new-tab',\n            tooltip: 'Open link',\n            onSetup: onSetupLink,\n            onAction: formApi => {\n              gotoSelectedLink(editor)();\n              formApi.hide();\n            }\n          }\n        ]\n      });\n    };\n\n    var Plugin = () => {\n      global$5.add('link', editor => {\n        register$1(editor);\n        setupButtons(editor);\n        setupMenuItems(editor);\n        setupContextMenu(editor);\n        setupContextToolbars(editor);\n        setupGotoLinks(editor);\n        register(editor);\n        setup(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"lists\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/lists')\n//   ES2015:\n//     import 'tinymce/plugins/lists'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.1.2 (2022-07-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isArray = isType$1('array');\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    const not = f => t => !f(t);\n    const never = constant(false);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains$1 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const filter$1 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const groupBy = (xs, f) => {\n      if (xs.length === 0) {\n        return [];\n      } else {\n        let wasType = f(xs[0]);\n        const r = [];\n        let group = [];\n        for (let i = 0, len = xs.length; i < len; i++) {\n          const x = xs[i];\n          const type = f(x);\n          if (type !== wasType) {\n            r.push(group);\n            group = [];\n          }\n          wasType = type;\n          group.push(x);\n        }\n        if (group.length !== 0) {\n          r.push(group);\n        }\n        return r;\n      }\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten(map(xs, f));\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const get$1 = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$1(xs, 0);\n    const last = xs => get$1(xs, xs.length - 1);\n    const unique = (xs, comparator) => {\n      const r = [];\n      const isDuplicated = isFunction(comparator) ? x => exists(r, i => comparator(i, x)) : x => contains$1(r, x);\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (!isDuplicated(x)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n\n    const is$2 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const equals = (lhs, rhs, comparator = tripleEquals) => lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n\n    const ELEMENT = 1;\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    const is$1 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    const is = is$1;\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isElement = isType(ELEMENT);\n    const isTag = tag => e => isElement(e) && name(e) === tag;\n\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children = element => map(element.dom.childNodes, SugarElement.fromDom);\n    const child = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child(element, 0);\n    const lastChild = element => child(element, element.dom.childNodes.length - 1);\n\n    const ancestor = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);\n    };\n\n    const before$1 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before$1(v, element);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n\n    const before = (marker, elements) => {\n      each$1(elements, x => {\n        before$1(marker, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each$1(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$1(children(element), rogue => {\n        remove(rogue);\n      });\n    };\n    const remove = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    const keys = Object.keys;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      const r = {};\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const setAll = (element, attrs) => {\n      const dom = element.dom;\n      each(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const clone$1 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const clone = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const deep = original => clone(original, true);\n    const shallowAs = (original, tag) => {\n      const nu = SugarElement.fromTag(tag);\n      const attributes = clone$1(original);\n      setAll(nu, attributes);\n      return nu;\n    };\n    const mutate = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      after(original, nu);\n      const children$1 = children(original);\n      append(nu, children$1);\n      remove(original);\n      return nu;\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const matchNodeName = name => node => node && node.nodeName.toLowerCase() === name;\n    const matchNodeNames = regex => node => node && regex.test(node.nodeName);\n    const isTextNode = node => node && node.nodeType === 3;\n    const isListNode = matchNodeNames(/^(OL|UL|DL)$/);\n    const isOlUlNode = matchNodeNames(/^(OL|UL)$/);\n    const isOlNode = matchNodeName('ol');\n    const isListItemNode = matchNodeNames(/^(LI|DT|DD)$/);\n    const isDlItemNode = matchNodeNames(/^(DT|DD)$/);\n    const isTableCellNode = matchNodeNames(/^(TH|TD)$/);\n    const isBr = matchNodeName('br');\n    const isFirstChild = node => node.parentNode.firstChild === node;\n    const isTextBlock = (editor, node) => node && !!editor.schema.getTextBlockElements()[node.nodeName];\n    const isBlock = (node, blockElements) => node && node.nodeName in blockElements;\n    const isBogusBr = (dom, node) => {\n      if (!isBr(node)) {\n        return false;\n      }\n      return dom.isBlock(node.nextSibling) && !isBr(node.previousSibling);\n    };\n    const isEmpty$1 = (dom, elm, keepBookmarks) => {\n      const empty = dom.isEmpty(elm);\n      if (keepBookmarks && dom.select('span[data-mce-type=bookmark]', elm).length > 0) {\n        return false;\n      }\n      return empty;\n    };\n    const isChildOfBody = (dom, elm) => dom.isChildOf(elm, dom.getRoot());\n\n    const option = name => editor => editor.options.get(name);\n    const register$3 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('lists_indent_on_tab', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const shouldIndentOnTab = option('lists_indent_on_tab');\n    const getForcedRootBlock = option('forced_root_block');\n    const getForcedRootBlockAttrs = option('forced_root_block_attrs');\n\n    const createTextBlock = (editor, contentNode) => {\n      const dom = editor.dom;\n      const blockElements = editor.schema.getBlockElements();\n      const fragment = dom.createFragment();\n      const blockName = getForcedRootBlock(editor);\n      const blockAttrs = getForcedRootBlockAttrs(editor);\n      let node, textBlock, hasContentNode;\n      textBlock = dom.create(blockName, blockAttrs);\n      if (!isBlock(contentNode.firstChild, blockElements)) {\n        fragment.appendChild(textBlock);\n      }\n      while (node = contentNode.firstChild) {\n        const nodeName = node.nodeName;\n        if (!hasContentNode && (nodeName !== 'SPAN' || node.getAttribute('data-mce-type') !== 'bookmark')) {\n          hasContentNode = true;\n        }\n        if (isBlock(node, blockElements)) {\n          fragment.appendChild(node);\n          textBlock = null;\n        } else {\n          if (!textBlock) {\n            textBlock = dom.create(blockName, blockAttrs);\n            fragment.appendChild(textBlock);\n          }\n          textBlock.appendChild(node);\n        }\n      }\n      if (!hasContentNode) {\n        textBlock.appendChild(dom.create('br', { 'data-mce-bogus': '1' }));\n      }\n      return fragment;\n    };\n\n    const DOM$2 = global$2.DOM;\n    const splitList = (editor, list, li) => {\n      const removeAndKeepBookmarks = targetNode => {\n        global$1.each(bookmarks, node => {\n          targetNode.parentNode.insertBefore(node, li.parentNode);\n        });\n        DOM$2.remove(targetNode);\n      };\n      const bookmarks = DOM$2.select('span[data-mce-type=\"bookmark\"]', list);\n      const newBlock = createTextBlock(editor, li);\n      const tmpRng = DOM$2.createRng();\n      tmpRng.setStartAfter(li);\n      tmpRng.setEndAfter(list);\n      const fragment = tmpRng.extractContents();\n      for (let node = fragment.firstChild; node; node = node.firstChild) {\n        if (node.nodeName === 'LI' && editor.dom.isEmpty(node)) {\n          DOM$2.remove(node);\n          break;\n        }\n      }\n      if (!editor.dom.isEmpty(fragment)) {\n        DOM$2.insertAfter(fragment, list);\n      }\n      DOM$2.insertAfter(newBlock, list);\n      if (isEmpty$1(editor.dom, li.parentNode)) {\n        removeAndKeepBookmarks(li.parentNode);\n      }\n      DOM$2.remove(li);\n      if (isEmpty$1(editor.dom, list)) {\n        DOM$2.remove(list);\n      }\n    };\n\n    const isDescriptionDetail = isTag('dd');\n    const isDescriptionTerm = isTag('dt');\n    const outdentDlItem = (editor, item) => {\n      if (isDescriptionDetail(item)) {\n        mutate(item, 'dt');\n      } else if (isDescriptionTerm(item)) {\n        parent(item).each(dl => splitList(editor, dl.dom, item.dom));\n      }\n    };\n    const indentDlItem = item => {\n      if (isDescriptionTerm(item)) {\n        mutate(item, 'dd');\n      }\n    };\n    const dlIndentation = (editor, indentation, dlItems) => {\n      if (indentation === 'Indent') {\n        each$1(dlItems, indentDlItem);\n      } else {\n        each$1(dlItems, item => outdentDlItem(editor, item));\n      }\n    };\n\n    const getNormalizedPoint = (container, offset) => {\n      if (isTextNode(container)) {\n        return {\n          container,\n          offset\n        };\n      }\n      const node = global$5.getNode(container, offset);\n      if (isTextNode(node)) {\n        return {\n          container: node,\n          offset: offset >= container.childNodes.length ? node.data.length : 0\n        };\n      } else if (node.previousSibling && isTextNode(node.previousSibling)) {\n        return {\n          container: node.previousSibling,\n          offset: node.previousSibling.data.length\n        };\n      } else if (node.nextSibling && isTextNode(node.nextSibling)) {\n        return {\n          container: node.nextSibling,\n          offset: 0\n        };\n      }\n      return {\n        container,\n        offset\n      };\n    };\n    const normalizeRange = rng => {\n      const outRng = rng.cloneRange();\n      const rangeStart = getNormalizedPoint(rng.startContainer, rng.startOffset);\n      outRng.setStart(rangeStart.container, rangeStart.offset);\n      const rangeEnd = getNormalizedPoint(rng.endContainer, rng.endOffset);\n      outRng.setEnd(rangeEnd.container, rangeEnd.offset);\n      return outRng;\n    };\n\n    const listNames = [\n      'OL',\n      'UL',\n      'DL'\n    ];\n    const listSelector = listNames.join(',');\n    const getParentList = (editor, node) => {\n      const selectionStart = node || editor.selection.getStart(true);\n      return editor.dom.getParent(selectionStart, listSelector, getClosestListHost(editor, selectionStart));\n    };\n    const isParentListSelected = (parentList, selectedBlocks) => parentList && selectedBlocks.length === 1 && selectedBlocks[0] === parentList;\n    const findSubLists = parentList => filter$1(parentList.querySelectorAll(listSelector), isListNode);\n    const getSelectedSubLists = editor => {\n      const parentList = getParentList(editor);\n      const selectedBlocks = editor.selection.getSelectedBlocks();\n      if (isParentListSelected(parentList, selectedBlocks)) {\n        return findSubLists(parentList);\n      } else {\n        return filter$1(selectedBlocks, elm => {\n          return isListNode(elm) && parentList !== elm;\n        });\n      }\n    };\n    const findParentListItemsNodes = (editor, elms) => {\n      const listItemsElms = global$1.map(elms, elm => {\n        const parentLi = editor.dom.getParent(elm, 'li,dd,dt', getClosestListHost(editor, elm));\n        return parentLi ? parentLi : elm;\n      });\n      return unique(listItemsElms);\n    };\n    const getSelectedListItems = editor => {\n      const selectedBlocks = editor.selection.getSelectedBlocks();\n      return filter$1(findParentListItemsNodes(editor, selectedBlocks), isListItemNode);\n    };\n    const getSelectedDlItems = editor => filter$1(getSelectedListItems(editor), isDlItemNode);\n    const getClosestEditingHost = (editor, elm) => {\n      const parentTableCell = editor.dom.getParents(elm, 'TD,TH');\n      return parentTableCell.length > 0 ? parentTableCell[0] : editor.getBody();\n    };\n    const isListHost = (schema, node) => !isListNode(node) && !isListItemNode(node) && exists(listNames, listName => schema.isValidChild(node.nodeName, listName));\n    const getClosestListHost = (editor, elm) => {\n      const parentBlocks = editor.dom.getParents(elm, editor.dom.isBlock);\n      const parentBlock = find(parentBlocks, elm => isListHost(editor.schema, elm));\n      return parentBlock.getOr(editor.getBody());\n    };\n    const findLastParentListNode = (editor, elm) => {\n      const parentLists = editor.dom.getParents(elm, 'ol,ul', getClosestListHost(editor, elm));\n      return last(parentLists);\n    };\n    const getSelectedLists = editor => {\n      const firstList = findLastParentListNode(editor, editor.selection.getStart());\n      const subsequentLists = filter$1(editor.selection.getSelectedBlocks(), isOlUlNode);\n      return firstList.toArray().concat(subsequentLists);\n    };\n    const getSelectedListRoots = editor => {\n      const selectedLists = getSelectedLists(editor);\n      return getUniqueListRoots(editor, selectedLists);\n    };\n    const getUniqueListRoots = (editor, lists) => {\n      const listRoots = map(lists, list => findLastParentListNode(editor, list).getOr(list));\n      return unique(listRoots);\n    };\n\n    const fromElements = (elements, scope) => {\n      const doc = scope || document;\n      const fragment = doc.createDocumentFragment();\n      each$1(elements, element => {\n        fragment.appendChild(element.dom);\n      });\n      return SugarElement.fromDom(fragment);\n    };\n\n    const fireListEvent = (editor, action, element) => editor.dispatch('ListMutation', {\n      action,\n      element\n    });\n\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty = s => !isNotEmpty(s);\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const set = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n\n    const joinSegment = (parent, child) => {\n      append$1(parent.item, child.list);\n    };\n    const joinSegments = segments => {\n      for (let i = 1; i < segments.length; i++) {\n        joinSegment(segments[i - 1], segments[i]);\n      }\n    };\n    const appendSegments = (head$1, tail) => {\n      lift2(last(head$1), head(tail), joinSegment);\n    };\n    const createSegment = (scope, listType) => {\n      const segment = {\n        list: SugarElement.fromTag(listType, scope),\n        item: SugarElement.fromTag('li', scope)\n      };\n      append$1(segment.list, segment.item);\n      return segment;\n    };\n    const createSegments = (scope, entry, size) => {\n      const segments = [];\n      for (let i = 0; i < size; i++) {\n        segments.push(createSegment(scope, entry.listType));\n      }\n      return segments;\n    };\n    const populateSegments = (segments, entry) => {\n      for (let i = 0; i < segments.length - 1; i++) {\n        set(segments[i].item, 'list-style-type', 'none');\n      }\n      last(segments).each(segment => {\n        setAll(segment.list, entry.listAttributes);\n        setAll(segment.item, entry.itemAttributes);\n        append(segment.item, entry.content);\n      });\n    };\n    const normalizeSegment = (segment, entry) => {\n      if (name(segment.list) !== entry.listType) {\n        segment.list = mutate(segment.list, entry.listType);\n      }\n      setAll(segment.list, entry.listAttributes);\n    };\n    const createItem = (scope, attr, content) => {\n      const item = SugarElement.fromTag('li', scope);\n      setAll(item, attr);\n      append(item, content);\n      return item;\n    };\n    const appendItem = (segment, item) => {\n      append$1(segment.list, item);\n      segment.item = item;\n    };\n    const writeShallow = (scope, cast, entry) => {\n      const newCast = cast.slice(0, entry.depth);\n      last(newCast).each(segment => {\n        const item = createItem(scope, entry.itemAttributes, entry.content);\n        appendItem(segment, item);\n        normalizeSegment(segment, entry);\n      });\n      return newCast;\n    };\n    const writeDeep = (scope, cast, entry) => {\n      const segments = createSegments(scope, entry, entry.depth - cast.length);\n      joinSegments(segments);\n      populateSegments(segments, entry);\n      appendSegments(cast, segments);\n      return cast.concat(segments);\n    };\n    const composeList = (scope, entries) => {\n      const cast = foldl(entries, (cast, entry) => {\n        return entry.depth > cast.length ? writeDeep(scope, cast, entry) : writeShallow(scope, cast, entry);\n      }, []);\n      return head(cast).map(segment => segment.list);\n    };\n\n    const isList = el => is(el, 'OL,UL');\n    const hasFirstChildList = el => firstChild(el).exists(isList);\n    const hasLastChildList = el => lastChild(el).exists(isList);\n\n    const isIndented = entry => entry.depth > 0;\n    const isSelected = entry => entry.isSelected;\n    const cloneItemContent = li => {\n      const children$1 = children(li);\n      const content = hasLastChildList(li) ? children$1.slice(0, -1) : children$1;\n      return map(content, deep);\n    };\n    const createEntry = (li, depth, isSelected) => parent(li).filter(isElement).map(list => ({\n      depth,\n      dirty: false,\n      isSelected,\n      content: cloneItemContent(li),\n      itemAttributes: clone$1(li),\n      listAttributes: clone$1(list),\n      listType: name(list)\n    }));\n\n    const indentEntry = (indentation, entry) => {\n      switch (indentation) {\n      case 'Indent':\n        entry.depth++;\n        break;\n      case 'Outdent':\n        entry.depth--;\n        break;\n      case 'Flatten':\n        entry.depth = 0;\n      }\n      entry.dirty = true;\n    };\n\n    const cloneListProperties = (target, source) => {\n      target.listType = source.listType;\n      target.listAttributes = { ...source.listAttributes };\n    };\n    const cleanListProperties = entry => {\n      entry.listAttributes = filter(entry.listAttributes, (_value, key) => key !== 'start');\n    };\n    const closestSiblingEntry = (entries, start) => {\n      const depth = entries[start].depth;\n      const matches = entry => entry.depth === depth && !entry.dirty;\n      const until = entry => entry.depth < depth;\n      return findUntil(reverse(entries.slice(0, start)), matches, until).orThunk(() => findUntil(entries.slice(start + 1), matches, until));\n    };\n    const normalizeEntries = entries => {\n      each$1(entries, (entry, i) => {\n        closestSiblingEntry(entries, i).fold(() => {\n          if (entry.dirty) {\n            cleanListProperties(entry);\n          }\n        }, matchingEntry => cloneListProperties(entry, matchingEntry));\n      });\n      return entries;\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const parseItem = (depth, itemSelection, selectionState, item) => firstChild(item).filter(isList).fold(() => {\n      itemSelection.each(selection => {\n        if (eq(selection.start, item)) {\n          selectionState.set(true);\n        }\n      });\n      const currentItemEntry = createEntry(item, depth, selectionState.get());\n      itemSelection.each(selection => {\n        if (eq(selection.end, item)) {\n          selectionState.set(false);\n        }\n      });\n      const childListEntries = lastChild(item).filter(isList).map(list => parseList(depth, itemSelection, selectionState, list)).getOr([]);\n      return currentItemEntry.toArray().concat(childListEntries);\n    }, list => parseList(depth, itemSelection, selectionState, list));\n    const parseList = (depth, itemSelection, selectionState, list) => bind(children(list), element => {\n      const parser = isList(element) ? parseList : parseItem;\n      const newDepth = depth + 1;\n      return parser(newDepth, itemSelection, selectionState, element);\n    });\n    const parseLists = (lists, itemSelection) => {\n      const selectionState = Cell(false);\n      const initialDepth = 0;\n      return map(lists, list => ({\n        sourceList: list,\n        entries: parseList(initialDepth, itemSelection, selectionState, list)\n      }));\n    };\n\n    const outdentedComposer = (editor, entries) => {\n      const normalizedEntries = normalizeEntries(entries);\n      return map(normalizedEntries, entry => {\n        const content = fromElements(entry.content);\n        return SugarElement.fromDom(createTextBlock(editor, content.dom));\n      });\n    };\n    const indentedComposer = (editor, entries) => {\n      const normalizedEntries = normalizeEntries(entries);\n      return composeList(editor.contentDocument, normalizedEntries).toArray();\n    };\n    const composeEntries = (editor, entries) => bind(groupBy(entries, isIndented), entries => {\n      const groupIsIndented = head(entries).exists(isIndented);\n      return groupIsIndented ? indentedComposer(editor, entries) : outdentedComposer(editor, entries);\n    });\n    const indentSelectedEntries = (entries, indentation) => {\n      each$1(filter$1(entries, isSelected), entry => indentEntry(indentation, entry));\n    };\n    const getItemSelection = editor => {\n      const selectedListItems = map(getSelectedListItems(editor), SugarElement.fromDom);\n      return lift2(find(selectedListItems, not(hasFirstChildList)), find(reverse(selectedListItems), not(hasFirstChildList)), (start, end) => ({\n        start,\n        end\n      }));\n    };\n    const listIndentation = (editor, lists, indentation) => {\n      const entrySets = parseLists(lists, getItemSelection(editor));\n      each$1(entrySets, entrySet => {\n        indentSelectedEntries(entrySet.entries, indentation);\n        const composedLists = composeEntries(editor, entrySet.entries);\n        each$1(composedLists, composedList => {\n          fireListEvent(editor, indentation === 'Indent' ? 'IndentList' : 'OutdentList', composedList.dom);\n        });\n        before(entrySet.sourceList, composedLists);\n        remove(entrySet.sourceList);\n      });\n    };\n\n    const selectionIndentation = (editor, indentation) => {\n      const lists = map(getSelectedListRoots(editor), SugarElement.fromDom);\n      const dlItems = map(getSelectedDlItems(editor), SugarElement.fromDom);\n      let isHandled = false;\n      if (lists.length || dlItems.length) {\n        const bookmark = editor.selection.getBookmark();\n        listIndentation(editor, lists, indentation);\n        dlIndentation(editor, indentation, dlItems);\n        editor.selection.moveToBookmark(bookmark);\n        editor.selection.setRng(normalizeRange(editor.selection.getRng()));\n        editor.nodeChanged();\n        isHandled = true;\n      }\n      return isHandled;\n    };\n    const indentListSelection = editor => selectionIndentation(editor, 'Indent');\n    const outdentListSelection = editor => selectionIndentation(editor, 'Outdent');\n    const flattenListSelection = editor => selectionIndentation(editor, 'Flatten');\n\n    var global = tinymce.util.Tools.resolve('tinymce.dom.BookmarkManager');\n\n    const DOM$1 = global$2.DOM;\n    const createBookmark = rng => {\n      const bookmark = {};\n      const setupEndPoint = start => {\n        let container = rng[start ? 'startContainer' : 'endContainer'];\n        let offset = rng[start ? 'startOffset' : 'endOffset'];\n        if (container.nodeType === 1) {\n          const offsetNode = DOM$1.create('span', { 'data-mce-type': 'bookmark' });\n          if (container.hasChildNodes()) {\n            offset = Math.min(offset, container.childNodes.length - 1);\n            if (start) {\n              container.insertBefore(offsetNode, container.childNodes[offset]);\n            } else {\n              DOM$1.insertAfter(offsetNode, container.childNodes[offset]);\n            }\n          } else {\n            container.appendChild(offsetNode);\n          }\n          container = offsetNode;\n          offset = 0;\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      setupEndPoint(true);\n      if (!rng.collapsed) {\n        setupEndPoint();\n      }\n      return bookmark;\n    };\n    const resolveBookmark = bookmark => {\n      const restoreEndPoint = start => {\n        let node;\n        const nodeIndex = container => {\n          let node = container.parentNode.firstChild, idx = 0;\n          while (node) {\n            if (node === container) {\n              return idx;\n            }\n            if (node.nodeType !== 1 || node.getAttribute('data-mce-type') !== 'bookmark') {\n              idx++;\n            }\n            node = node.nextSibling;\n          }\n          return -1;\n        };\n        let container = node = bookmark[start ? 'startContainer' : 'endContainer'];\n        let offset = bookmark[start ? 'startOffset' : 'endOffset'];\n        if (!container) {\n          return;\n        }\n        if (container.nodeType === 1) {\n          offset = nodeIndex(container);\n          container = container.parentNode;\n          DOM$1.remove(node);\n          if (!container.hasChildNodes() && DOM$1.isBlock(container)) {\n            container.appendChild(DOM$1.create('br'));\n          }\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      restoreEndPoint(true);\n      restoreEndPoint();\n      const rng = DOM$1.createRng();\n      rng.setStart(bookmark.startContainer, bookmark.startOffset);\n      if (bookmark.endContainer) {\n        rng.setEnd(bookmark.endContainer, bookmark.endOffset);\n      }\n      return normalizeRange(rng);\n    };\n\n    const listToggleActionFromListName = listName => {\n      switch (listName) {\n      case 'UL':\n        return 'ToggleUlList';\n      case 'OL':\n        return 'ToggleOlList';\n      case 'DL':\n        return 'ToggleDLList';\n      }\n    };\n\n    const isCustomList = list => /\\btox\\-/.test(list.className);\n    const listState = (editor, listName, activate) => {\n      const nodeChangeHandler = e => {\n        const inList = findUntil(e.parents, isListNode, isTableCellNode).filter(list => list.nodeName === listName && !isCustomList(list)).isSome();\n        activate(inList);\n      };\n      const parents = editor.dom.getParents(editor.selection.getNode());\n      nodeChangeHandler({ parents });\n      editor.on('NodeChange', nodeChangeHandler);\n      return () => editor.off('NodeChange', nodeChangeHandler);\n    };\n\n    const updateListStyle = (dom, el, detail) => {\n      const type = detail['list-style-type'] ? detail['list-style-type'] : null;\n      dom.setStyle(el, 'list-style-type', type);\n    };\n    const setAttribs = (elm, attrs) => {\n      global$1.each(attrs, (value, key) => {\n        elm.setAttribute(key, value);\n      });\n    };\n    const updateListAttrs = (dom, el, detail) => {\n      setAttribs(el, detail['list-attributes']);\n      global$1.each(dom.select('li', el), li => {\n        setAttribs(li, detail['list-item-attributes']);\n      });\n    };\n    const updateListWithDetails = (dom, el, detail) => {\n      updateListStyle(dom, el, detail);\n      updateListAttrs(dom, el, detail);\n    };\n    const removeStyles = (dom, element, styles) => {\n      global$1.each(styles, style => dom.setStyle(element, style, ''));\n    };\n    const getEndPointNode = (editor, rng, start, root) => {\n      let container = rng[start ? 'startContainer' : 'endContainer'];\n      const offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (container.nodeType === 1) {\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n      }\n      if (!start && isBr(container.nextSibling)) {\n        container = container.nextSibling;\n      }\n      while (container.parentNode !== root) {\n        if (isTextBlock(editor, container)) {\n          return container;\n        }\n        if (/^(TD|TH)$/.test(container.parentNode.nodeName)) {\n          return container;\n        }\n        container = container.parentNode;\n      }\n      return container;\n    };\n    const getSelectedTextBlocks = (editor, rng, root) => {\n      const textBlocks = [];\n      const dom = editor.dom;\n      const startNode = getEndPointNode(editor, rng, true, root);\n      const endNode = getEndPointNode(editor, rng, false, root);\n      let block;\n      const siblings = [];\n      for (let node = startNode; node; node = node.nextSibling) {\n        siblings.push(node);\n        if (node === endNode) {\n          break;\n        }\n      }\n      global$1.each(siblings, node => {\n        if (isTextBlock(editor, node)) {\n          textBlocks.push(node);\n          block = null;\n          return;\n        }\n        if (dom.isBlock(node) || isBr(node)) {\n          if (isBr(node)) {\n            dom.remove(node);\n          }\n          block = null;\n          return;\n        }\n        const nextSibling = node.nextSibling;\n        if (global.isBookmarkNode(node)) {\n          if (isListNode(nextSibling) || isTextBlock(editor, nextSibling) || !nextSibling && node.parentNode === root) {\n            block = null;\n            return;\n          }\n        }\n        if (!block) {\n          block = dom.create('p');\n          node.parentNode.insertBefore(block, node);\n          textBlocks.push(block);\n        }\n        block.appendChild(node);\n      });\n      return textBlocks;\n    };\n    const hasCompatibleStyle = (dom, sib, detail) => {\n      const sibStyle = dom.getStyle(sib, 'list-style-type');\n      let detailStyle = detail ? detail['list-style-type'] : '';\n      detailStyle = detailStyle === null ? '' : detailStyle;\n      return sibStyle === detailStyle;\n    };\n    const applyList = (editor, listName, detail) => {\n      const rng = editor.selection.getRng();\n      let listItemName = 'LI';\n      const root = getClosestListHost(editor, editor.selection.getStart(true));\n      const dom = editor.dom;\n      if (dom.getContentEditable(editor.selection.getNode()) === 'false') {\n        return;\n      }\n      listName = listName.toUpperCase();\n      if (listName === 'DL') {\n        listItemName = 'DT';\n      }\n      const bookmark = createBookmark(rng);\n      const selectedTextBlocks = getSelectedTextBlocks(editor, rng, root);\n      global$1.each(selectedTextBlocks, block => {\n        let listBlock;\n        const sibling = block.previousSibling;\n        const parent = block.parentNode;\n        if (!isListItemNode(parent)) {\n          if (sibling && isListNode(sibling) && sibling.nodeName === listName && hasCompatibleStyle(dom, sibling, detail)) {\n            listBlock = sibling;\n            block = dom.rename(block, listItemName);\n            sibling.appendChild(block);\n          } else {\n            listBlock = dom.create(listName);\n            block.parentNode.insertBefore(listBlock, block);\n            listBlock.appendChild(block);\n            block = dom.rename(block, listItemName);\n          }\n          removeStyles(dom, block, [\n            'margin',\n            'margin-right',\n            'margin-bottom',\n            'margin-left',\n            'margin-top',\n            'padding',\n            'padding-right',\n            'padding-bottom',\n            'padding-left',\n            'padding-top'\n          ]);\n          updateListWithDetails(dom, listBlock, detail);\n          mergeWithAdjacentLists(editor.dom, listBlock);\n        }\n      });\n      editor.selection.setRng(resolveBookmark(bookmark));\n    };\n    const isValidLists = (list1, list2) => {\n      return list1 && list2 && isListNode(list1) && list1.nodeName === list2.nodeName;\n    };\n    const hasSameListStyle = (dom, list1, list2) => {\n      const targetStyle = dom.getStyle(list1, 'list-style-type', true);\n      const style = dom.getStyle(list2, 'list-style-type', true);\n      return targetStyle === style;\n    };\n    const hasSameClasses = (elm1, elm2) => {\n      return elm1.className === elm2.className;\n    };\n    const shouldMerge = (dom, list1, list2) => {\n      return isValidLists(list1, list2) && hasSameListStyle(dom, list1, list2) && hasSameClasses(list1, list2);\n    };\n    const mergeWithAdjacentLists = (dom, listBlock) => {\n      let sibling, node;\n      sibling = listBlock.nextSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        while (node = sibling.firstChild) {\n          listBlock.appendChild(node);\n        }\n        dom.remove(sibling);\n      }\n      sibling = listBlock.previousSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        while (node = sibling.lastChild) {\n          listBlock.insertBefore(node, listBlock.firstChild);\n        }\n        dom.remove(sibling);\n      }\n    };\n    const updateList$1 = (editor, list, listName, detail) => {\n      if (list.nodeName !== listName) {\n        const newList = editor.dom.rename(list, listName);\n        updateListWithDetails(editor.dom, newList, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), newList);\n      } else {\n        updateListWithDetails(editor.dom, list, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), list);\n      }\n    };\n    const toggleMultipleLists = (editor, parentList, lists, listName, detail) => {\n      const parentIsList = isListNode(parentList);\n      if (parentIsList && parentList.nodeName === listName && !hasListStyleDetail(detail)) {\n        flattenListSelection(editor);\n      } else {\n        applyList(editor, listName, detail);\n        const bookmark = createBookmark(editor.selection.getRng());\n        const allLists = parentIsList ? [\n          parentList,\n          ...lists\n        ] : lists;\n        global$1.each(allLists, elm => {\n          updateList$1(editor, elm, listName, detail);\n        });\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    const hasListStyleDetail = detail => {\n      return 'list-style-type' in detail;\n    };\n    const toggleSingleList = (editor, parentList, listName, detail) => {\n      if (parentList === editor.getBody()) {\n        return;\n      }\n      if (parentList) {\n        if (parentList.nodeName === listName && !hasListStyleDetail(detail) && !isCustomList(parentList)) {\n          flattenListSelection(editor);\n        } else {\n          const bookmark = createBookmark(editor.selection.getRng());\n          updateListWithDetails(editor.dom, parentList, detail);\n          const newList = editor.dom.rename(parentList, listName);\n          mergeWithAdjacentLists(editor.dom, newList);\n          editor.selection.setRng(resolveBookmark(bookmark));\n          applyList(editor, listName, detail);\n          fireListEvent(editor, listToggleActionFromListName(listName), newList);\n        }\n      } else {\n        applyList(editor, listName, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), parentList);\n      }\n    };\n    const toggleList = (editor, listName, _detail) => {\n      const parentList = getParentList(editor);\n      const selectedSubLists = getSelectedSubLists(editor);\n      const detail = isObject(_detail) ? _detail : {};\n      if (selectedSubLists.length > 0) {\n        toggleMultipleLists(editor, parentList, selectedSubLists, listName, detail);\n      } else {\n        toggleSingleList(editor, parentList, listName, detail);\n      }\n    };\n\n    const DOM = global$2.DOM;\n    const normalizeList = (dom, list) => {\n      const parentNode = list.parentNode;\n      if (parentNode.nodeName === 'LI' && parentNode.firstChild === list) {\n        const sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n          if (isEmpty$1(dom, parentNode)) {\n            DOM.remove(parentNode);\n          }\n        } else {\n          DOM.setStyle(parentNode, 'listStyleType', 'none');\n        }\n      }\n      if (isListNode(parentNode)) {\n        const sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n        }\n      }\n    };\n    const normalizeLists = (dom, element) => {\n      const lists = global$1.grep(dom.select('ol,ul', element));\n      global$1.each(lists, list => {\n        normalizeList(dom, list);\n      });\n    };\n\n    const findNextCaretContainer = (editor, rng, isForward, root) => {\n      let node = rng.startContainer;\n      const offset = rng.startOffset;\n      if (isTextNode(node) && (isForward ? offset < node.data.length : offset > 0)) {\n        return node;\n      }\n      const nonEmptyBlocks = editor.schema.getNonEmptyElements();\n      if (node.nodeType === 1) {\n        node = global$5.getNode(node, offset);\n      }\n      const walker = new global$4(node, root);\n      if (isForward) {\n        if (isBogusBr(editor.dom, node)) {\n          walker.next();\n        }\n      }\n      const walkFn = isForward ? walker.next.bind(walker) : walker.prev2.bind(walker);\n      while (node = walkFn()) {\n        if (node.nodeName === 'LI' && !node.hasChildNodes()) {\n          return node;\n        }\n        if (nonEmptyBlocks[node.nodeName]) {\n          return node;\n        }\n        if (isTextNode(node) && node.data.length > 0) {\n          return node;\n        }\n      }\n    };\n    const hasOnlyOneBlockChild = (dom, elm) => {\n      const childNodes = elm.childNodes;\n      return childNodes.length === 1 && !isListNode(childNodes[0]) && dom.isBlock(childNodes[0]);\n    };\n    const unwrapSingleBlockChild = (dom, elm) => {\n      if (hasOnlyOneBlockChild(dom, elm)) {\n        dom.remove(elm.firstChild, true);\n      }\n    };\n    const moveChildren = (dom, fromElm, toElm) => {\n      let node;\n      const targetElm = hasOnlyOneBlockChild(dom, toElm) ? toElm.firstChild : toElm;\n      unwrapSingleBlockChild(dom, fromElm);\n      if (!isEmpty$1(dom, fromElm, true)) {\n        while (node = fromElm.firstChild) {\n          targetElm.appendChild(node);\n        }\n      }\n    };\n    const mergeLiElements = (dom, fromElm, toElm) => {\n      let listNode;\n      const ul = fromElm.parentNode;\n      if (!isChildOfBody(dom, fromElm) || !isChildOfBody(dom, toElm)) {\n        return;\n      }\n      if (isListNode(toElm.lastChild)) {\n        listNode = toElm.lastChild;\n      }\n      if (ul === toElm.lastChild) {\n        if (isBr(ul.previousSibling)) {\n          dom.remove(ul.previousSibling);\n        }\n      }\n      const node = toElm.lastChild;\n      if (node && isBr(node) && fromElm.hasChildNodes()) {\n        dom.remove(node);\n      }\n      if (isEmpty$1(dom, toElm, true)) {\n        empty(SugarElement.fromDom(toElm));\n      }\n      moveChildren(dom, fromElm, toElm);\n      if (listNode) {\n        toElm.appendChild(listNode);\n      }\n      const contains$1 = contains(SugarElement.fromDom(toElm), SugarElement.fromDom(fromElm));\n      const nestedLists = contains$1 ? dom.getParents(fromElm, isListNode, toElm) : [];\n      dom.remove(fromElm);\n      each$1(nestedLists, list => {\n        if (isEmpty$1(dom, list) && list !== dom.getRoot()) {\n          dom.remove(list);\n        }\n      });\n    };\n    const mergeIntoEmptyLi = (editor, fromLi, toLi) => {\n      empty(SugarElement.fromDom(toLi));\n      mergeLiElements(editor.dom, fromLi, toLi);\n      editor.selection.setCursorLocation(toLi, 0);\n    };\n    const mergeForward = (editor, rng, fromLi, toLi) => {\n      const dom = editor.dom;\n      if (dom.isEmpty(toLi)) {\n        mergeIntoEmptyLi(editor, fromLi, toLi);\n      } else {\n        const bookmark = createBookmark(rng);\n        mergeLiElements(dom, fromLi, toLi);\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    const mergeBackward = (editor, rng, fromLi, toLi) => {\n      const bookmark = createBookmark(rng);\n      mergeLiElements(editor.dom, fromLi, toLi);\n      const resolvedBookmark = resolveBookmark(bookmark);\n      editor.selection.setRng(resolvedBookmark);\n    };\n    const backspaceDeleteFromListToListCaret = (editor, isForward) => {\n      const dom = editor.dom, selection = editor.selection;\n      const selectionStartElm = selection.getStart();\n      const root = getClosestEditingHost(editor, selectionStartElm);\n      const li = dom.getParent(selection.getStart(), 'LI', root);\n      if (li) {\n        const ul = li.parentNode;\n        if (ul === editor.getBody() && isEmpty$1(dom, ul)) {\n          return true;\n        }\n        const rng = normalizeRange(selection.getRng());\n        const otherLi = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        if (otherLi && otherLi !== li) {\n          editor.undoManager.transact(() => {\n            if (isForward) {\n              mergeForward(editor, rng, otherLi, li);\n            } else {\n              if (isFirstChild(li)) {\n                outdentListSelection(editor);\n              } else {\n                mergeBackward(editor, rng, li, otherLi);\n              }\n            }\n          });\n          return true;\n        } else if (!otherLi) {\n          if (!isForward && rng.startOffset === 0 && rng.endOffset === 0) {\n            editor.undoManager.transact(() => {\n              flattenListSelection(editor);\n            });\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const removeBlock = (dom, block, root) => {\n      const parentBlock = dom.getParent(block.parentNode, dom.isBlock, root);\n      dom.remove(block);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        dom.remove(parentBlock);\n      }\n    };\n    const backspaceDeleteIntoListCaret = (editor, isForward) => {\n      const dom = editor.dom;\n      const selectionStartElm = editor.selection.getStart();\n      const root = getClosestEditingHost(editor, selectionStartElm);\n      const block = dom.getParent(selectionStartElm, dom.isBlock, root);\n      if (block && dom.isEmpty(block)) {\n        const rng = normalizeRange(editor.selection.getRng());\n        const otherLi = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        if (otherLi) {\n          const findValidElement = element => contains$1([\n            'td',\n            'th',\n            'caption'\n          ], name(element));\n          const findRoot = node => node.dom === root;\n          const otherLiCell = closest(SugarElement.fromDom(otherLi), findValidElement, findRoot);\n          const caretCell = closest(SugarElement.fromDom(rng.startContainer), findValidElement, findRoot);\n          if (!equals(otherLiCell, caretCell, eq)) {\n            return false;\n          }\n          editor.undoManager.transact(() => {\n            removeBlock(dom, block, root);\n            mergeWithAdjacentLists(dom, otherLi.parentNode);\n            editor.selection.select(otherLi, true);\n            editor.selection.collapse(isForward);\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    const backspaceDeleteCaret = (editor, isForward) => {\n      return backspaceDeleteFromListToListCaret(editor, isForward) || backspaceDeleteIntoListCaret(editor, isForward);\n    };\n    const hasListSelection = editor => {\n      const selectionStartElm = editor.selection.getStart();\n      const root = getClosestEditingHost(editor, selectionStartElm);\n      const startListParent = editor.dom.getParent(selectionStartElm, 'LI,DT,DD', root);\n      return startListParent || getSelectedListItems(editor).length > 0;\n    };\n    const backspaceDeleteRange = editor => {\n      if (hasListSelection(editor)) {\n        editor.undoManager.transact(() => {\n          editor.execCommand('Delete');\n          normalizeLists(editor.dom, editor.getBody());\n        });\n        return true;\n      }\n      return false;\n    };\n    const backspaceDelete = (editor, isForward) => {\n      return editor.selection.isCollapsed() ? backspaceDeleteCaret(editor, isForward) : backspaceDeleteRange(editor);\n    };\n    const setup$1 = editor => {\n      editor.on('ExecCommand', e => {\n        const cmd = e.command.toLowerCase();\n        if ((cmd === 'delete' || cmd === 'forwarddelete') && hasListSelection(editor)) {\n          normalizeLists(editor.dom, editor.getBody());\n        }\n      });\n      editor.on('keydown', e => {\n        if (e.keyCode === global$3.BACKSPACE) {\n          if (backspaceDelete(editor, false)) {\n            e.preventDefault();\n          }\n        } else if (e.keyCode === global$3.DELETE) {\n          if (backspaceDelete(editor, true)) {\n            e.preventDefault();\n          }\n        }\n      });\n    };\n\n    const get = editor => ({\n      backspaceDelete: isForward => {\n        backspaceDelete(editor, isForward);\n      }\n    });\n\n    const updateList = (editor, update) => {\n      const parentList = getParentList(editor);\n      editor.undoManager.transact(() => {\n        if (isObject(update.styles)) {\n          editor.dom.setStyles(parentList, update.styles);\n        }\n        if (isObject(update.attrs)) {\n          each(update.attrs, (v, k) => editor.dom.setAttrib(parentList, k, v));\n        }\n      });\n    };\n\n    const parseAlphabeticBase26 = str => {\n      const chars = reverse(trim(str).split(''));\n      const values = map(chars, (char, i) => {\n        const charValue = char.toUpperCase().charCodeAt(0) - 'A'.charCodeAt(0) + 1;\n        return Math.pow(26, i) * charValue;\n      });\n      return foldl(values, (sum, v) => sum + v, 0);\n    };\n    const composeAlphabeticBase26 = value => {\n      value--;\n      if (value < 0) {\n        return '';\n      } else {\n        const remainder = value % 26;\n        const quotient = Math.floor(value / 26);\n        const rest = composeAlphabeticBase26(quotient);\n        const char = String.fromCharCode('A'.charCodeAt(0) + remainder);\n        return rest + char;\n      }\n    };\n    const isUppercase = str => /^[A-Z]+$/.test(str);\n    const isLowercase = str => /^[a-z]+$/.test(str);\n    const isNumeric = str => /^[0-9]+$/.test(str);\n    const deduceListType = start => {\n      if (isNumeric(start)) {\n        return 2;\n      } else if (isUppercase(start)) {\n        return 0;\n      } else if (isLowercase(start)) {\n        return 1;\n      } else if (isEmpty(start)) {\n        return 3;\n      } else {\n        return 4;\n      }\n    };\n    const parseStartValue = start => {\n      switch (deduceListType(start)) {\n      case 2:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start\n        });\n      case 0:\n        return Optional.some({\n          listStyleType: Optional.some('upper-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 1:\n        return Optional.some({\n          listStyleType: Optional.some('lower-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 3:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start: ''\n        });\n      case 4:\n        return Optional.none();\n      }\n    };\n    const parseDetail = detail => {\n      const start = parseInt(detail.start, 10);\n      if (is$2(detail.listStyleType, 'upper-alpha')) {\n        return composeAlphabeticBase26(start);\n      } else if (is$2(detail.listStyleType, 'lower-alpha')) {\n        return composeAlphabeticBase26(start).toLowerCase();\n      } else {\n        return detail.start;\n      }\n    };\n\n    const open = editor => {\n      const currentList = getParentList(editor);\n      if (!isOlNode(currentList)) {\n        return;\n      }\n      editor.windowManager.open({\n        title: 'List Properties',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'input',\n              name: 'start',\n              label: 'Start list at number',\n              inputMode: 'numeric'\n            }]\n        },\n        initialData: {\n          start: parseDetail({\n            start: editor.dom.getAttrib(currentList, 'start', '1'),\n            listStyleType: Optional.some(editor.dom.getStyle(currentList, 'list-style-type'))\n          })\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: api => {\n          const data = api.getData();\n          parseStartValue(data.start).each(detail => {\n            editor.execCommand('mceListUpdate', false, {\n              attrs: { start: detail.start === '1' ? '' : detail.start },\n              styles: { 'list-style-type': detail.listStyleType.getOr('') }\n            });\n          });\n          api.close();\n        }\n      });\n    };\n\n    const queryListCommandState = (editor, listName) => () => {\n      const parentList = getParentList(editor);\n      return parentList && parentList.nodeName === listName;\n    };\n    const registerDialog = editor => {\n      editor.addCommand('mceListProps', () => {\n        open(editor);\n      });\n    };\n    const register$2 = editor => {\n      editor.on('BeforeExecCommand', e => {\n        const cmd = e.command.toLowerCase();\n        if (cmd === 'indent') {\n          indentListSelection(editor);\n        } else if (cmd === 'outdent') {\n          outdentListSelection(editor);\n        }\n      });\n      editor.addCommand('InsertUnorderedList', (ui, detail) => {\n        toggleList(editor, 'UL', detail);\n      });\n      editor.addCommand('InsertOrderedList', (ui, detail) => {\n        toggleList(editor, 'OL', detail);\n      });\n      editor.addCommand('InsertDefinitionList', (ui, detail) => {\n        toggleList(editor, 'DL', detail);\n      });\n      editor.addCommand('RemoveList', () => {\n        flattenListSelection(editor);\n      });\n      registerDialog(editor);\n      editor.addCommand('mceListUpdate', (ui, detail) => {\n        if (isObject(detail)) {\n          updateList(editor, detail);\n        }\n      });\n      editor.addQueryStateHandler('InsertUnorderedList', queryListCommandState(editor, 'UL'));\n      editor.addQueryStateHandler('InsertOrderedList', queryListCommandState(editor, 'OL'));\n      editor.addQueryStateHandler('InsertDefinitionList', queryListCommandState(editor, 'DL'));\n    };\n\n    const setupTabKey = editor => {\n      editor.on('keydown', e => {\n        if (e.keyCode !== global$3.TAB || global$3.metaKeyPressed(e)) {\n          return;\n        }\n        editor.undoManager.transact(() => {\n          if (e.shiftKey ? outdentListSelection(editor) : indentListSelection(editor)) {\n            e.preventDefault();\n          }\n        });\n      });\n    };\n    const setup = editor => {\n      if (shouldIndentOnTab(editor)) {\n        setupTabKey(editor);\n      }\n      setup$1(editor);\n    };\n\n    const register$1 = editor => {\n      const exec = command => () => editor.execCommand(command);\n      if (!editor.hasPlugin('advlist')) {\n        editor.ui.registry.addToggleButton('numlist', {\n          icon: 'ordered-list',\n          active: false,\n          tooltip: 'Numbered list',\n          onAction: exec('InsertOrderedList'),\n          onSetup: api => listState(editor, 'OL', api.setActive)\n        });\n        editor.ui.registry.addToggleButton('bullist', {\n          icon: 'unordered-list',\n          active: false,\n          tooltip: 'Bullet list',\n          onAction: exec('InsertUnorderedList'),\n          onSetup: api => listState(editor, 'UL', api.setActive)\n        });\n      }\n    };\n\n    const register = editor => {\n      const listProperties = {\n        text: 'List properties...',\n        icon: 'ordered-list',\n        onAction: () => editor.execCommand('mceListProps'),\n        onSetup: api => listState(editor, 'OL', api.setEnabled)\n      };\n      editor.ui.registry.addMenuItem('listprops', listProperties);\n      editor.ui.registry.addContextMenu('lists', {\n        update: node => {\n          const parentList = getParentList(editor, node);\n          return isOlNode(parentList) ? ['listprops'] : [];\n        }\n      });\n    };\n\n    var Plugin = () => {\n      global$6.add('lists', editor => {\n        register$3(editor);\n        if (editor.hasPlugin('rtc', true) === false) {\n          setup(editor);\n          register$2(editor);\n        } else {\n          registerDialog(editor);\n        }\n        register$1(editor);\n        register(editor);\n        return get(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"silver\" theme for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/themes/silver')\n//   ES2015:\n//     import 'tinymce/themes/silver'\nrequire('./theme.js');","/**\n * TinyMCE version 6.1.2 (2022-07-29)\n */\n\n(function () {\n    'use strict';\n\n    const getPrototypeOf = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const is$2 = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf(o) === proto);\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isPlainObject = value => is$2(value, Object);\n    const isArray = isType$1('array');\n    const isNull = eq$1(null);\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const noarg = f => () => f();\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant$1 = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply = f => {\n      return f();\n    };\n    const never = constant$1(false);\n    const always = constant$1(true);\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const indexOf = (xs, x) => {\n      const r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range$2 = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const chunk$1 = (array, size) => {\n      const r = [];\n      for (let i = 0; i < array.length; i += size) {\n        const s = nativeSlice.call(array, i, i + size);\n        r.push(s);\n      }\n      return r;\n    };\n    const map$2 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition$3 = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$2 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$5 = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const findIndex$1 = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$3 = (xs, f) => flatten(map$2(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const difference = (a1, a2) => filter$2(a1, x => !contains$2(a2, x));\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const pure$2 = x => [x];\n    const sort = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$h = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$h(xs, 0);\n    const last$1 = xs => get$h(xs, xs.length - 1);\n    const from = isFunction(Array.from) ? Array.from : x => nativeSlice.call(x);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map$1 = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      const r = {};\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    const bifilter = (obj, pred) => {\n      const t = {};\n      const f = {};\n      internalFilter(obj, pred, objAcc(t), objAcc(f));\n      return {\n        t,\n        f\n      };\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const find$4 = (obj, pred) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        if (pred(x, i, obj)) {\n          return Optional.some(x);\n        }\n      }\n      return Optional.none();\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$g = (obj, key) => {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$2 = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const is$1 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const equals = (lhs, rhs, comparator = tripleEquals) => lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const sequence = arr => {\n      const r = [];\n      for (let i = 0; i < arr.length; i++) {\n        const x = arr[i];\n        if (x.isSome()) {\n          r.push(x.getOrDie());\n        } else {\n          return Optional.none();\n        }\n      }\n      return Optional.some(r);\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const lift3 = (oa, ob, oc, f) => oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    const mapFrom = (a, f) => a !== undefined && a !== null ? Optional.some(f(a)) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const addToEnd = (str, suffix) => {\n      return str + suffix;\n    };\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const ensureTrailing = (str, suffix) => {\n      return endsWith(str, suffix) ? str : addToEnd(str, suffix);\n    };\n    const contains$1 = (str, substr) => {\n      return str.indexOf(substr) !== -1;\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim$1 = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty = s => !isNotEmpty(s);\n\n    const isSupported$1 = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const fromHtml$2 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml: fromHtml$2,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name$3 = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type$1 = element => element.dom.nodeType;\n    const isType = t => element => type$1(element) === t;\n    const isElement$1 = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement$1(e) && name$3(e) === tag;\n\n    const is = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$3 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$2(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n\n    const owner$4 = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner$4(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const offsetParent = element => Optional.from(element.dom.offsetParent).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children = element => map$2(element.dom.childNodes, SugarElement.fromDom);\n    const child$2 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$2(element, 0);\n    const spot = (element, offset) => ({\n      element,\n      offset\n    });\n    const leaf = (element, offset) => {\n      const cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const isSupported = constant$1(supported);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getContentContainer = dos => isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    const isInShadowRoot = e => getShadowRoot(e).isSome();\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isSupported() && isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement$1(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n    const body = () => getBody(SugarElement.fromDom(document));\n    const getBody = doc => {\n      const b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$9 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$f = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$f(element, key));\n    const has$1 = (element, key) => {\n      const dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    const remove$7 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone$1 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported$1(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$8 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const setOptions = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        v.fold(() => {\n          internalRemove(dom, k);\n        }, value => {\n          internalSet(dom, k, value);\n        });\n      });\n    };\n    const get$e = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const getAllRaw = element => {\n      const css = {};\n      const dom = element.dom;\n      if (isSupported$1(dom)) {\n        for (let i = 0; i < dom.style.length; i++) {\n          const ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    const isValidValue = (tag, property, value) => {\n      const element = SugarElement.fromTag(tag);\n      set$8(element, property, value);\n      const style = getRaw(element, property);\n      return style.isSome();\n    };\n    const remove$6 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is$1(getOpt(element, 'style').map(trim$1), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    const reflow = e => e.dom.offsetWidth;\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported$1(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$e(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$e(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const api$2 = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$d = element => api$2.get(element);\n    const getOuter$2 = element => api$2.getOuter(element);\n    const setMax$1 = (element, value) => {\n      const inclusions = [\n        'margin-top',\n        'border-top-width',\n        'padding-top',\n        'padding-bottom',\n        'border-bottom-width',\n        'margin-bottom'\n      ];\n      const absMax = api$2.max(element, value, inclusions);\n      set$8(element, 'max-height', absMax + 'px');\n    };\n\n    const r$1 = (left, top) => {\n      const translate = (x, y) => r$1(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r$1;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute$3 = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport$1(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport$1 = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const api$1 = Dimension('width', element => element.dom.offsetWidth);\n    const set$7 = (element, h) => api$1.set(element, h);\n    const get$c = element => api$1.get(element);\n    const getOuter$1 = element => api$1.getOuter(element);\n    const setMax = (element, value) => {\n      const inclusions = [\n        'margin-left',\n        'border-left-width',\n        'padding-left',\n        'padding-right',\n        'border-right-width',\n        'margin-right'\n      ];\n      const absMax = api$1.max(element, value, inclusions);\n      set$8(element, 'max-width', absMax + 'px');\n    };\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant$1(isiPad),\n        isiPhone: constant$1(isiPhone),\n        isTablet: constant$1(isTablet),\n        isPhone: constant$1(isPhone),\n        isTouch: constant$1(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant$1(iOSwebview),\n        isDesktop: constant$1(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find$3 = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$d(group(1), group(2));\n    };\n    const detect$4 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$3();\n      }\n      return find$3(versionRegexes, cleanedAgent);\n    };\n    const unknown$3 = () => {\n      return nu$d(0, 0);\n    };\n    const nu$d = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$d,\n      detect: detect$4,\n      unknown: unknown$3\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$5(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$3 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$5(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$3(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$3(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains$1(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant$1(browsers),\n      oses: constant$1(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$2 = () => {\n      return nu$c({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$c = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$2,\n      nu: nu$c,\n      edge: constant$1(edge),\n      chromium: constant$1(chromium),\n      ie: constant$1(ie),\n      opera: constant$1(opera),\n      firefox: constant$1(firefox),\n      safari: constant$1(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown$1 = () => {\n      return nu$b({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$b = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown: unknown$1,\n      nu: nu$b,\n      windows: constant$1(windows),\n      ios: constant$1(ios),\n      android: constant$1(android),\n      linux: constant$1(linux),\n      macos: constant$1(macos),\n      solaris: constant$1(solaris),\n      freebsd: constant$1(freebsd),\n      chromeos: constant$1(chromeos)\n    };\n\n    const detect$2 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$2 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform = cached(() => PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch));\n    const detect$1 = () => platform();\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent$1 = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent$1(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$2 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const capture$1 = (element, event, filter, handler) => binder(element, event, filter, handler, true);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const before$1 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$2 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$2(v, element);\n        });\n      }, v => {\n        before$1(v, element);\n      });\n    };\n    const prepend$1 = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$2(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$2 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const appendAt = (parent, element, index) => {\n      child$2(parent, index).fold(() => {\n        append$2(parent, element);\n      }, v => {\n        before$1(v, element);\n      });\n    };\n\n    const append$1 = (parent, elements) => {\n      each$1(elements, x => {\n        append$2(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$1(children(element), rogue => {\n        remove$5(rogue);\n      });\n    };\n    const remove$5 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    const get$b = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const to = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n\n    const get$a = _win => {\n      const win = _win === undefined ? window : _win;\n      if (detect$1().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win.visualViewport);\n      }\n    };\n    const bounds$1 = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const getBounds$3 = _win => {\n      const win = _win === undefined ? window : _win;\n      const doc = win.document;\n      const scroll = get$b(SugarElement.fromDom(doc));\n      return get$a(win).fold(() => {\n        const html = win.document.documentElement;\n        const width = html.clientWidth;\n        const height = html.clientHeight;\n        return bounds$1(scroll.left, scroll.top, width, height);\n      }, visualViewport => bounds$1(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height));\n    };\n\n    const getDocument = () => SugarElement.fromDom(document);\n\n    const walkUp = (navigation, doc) => {\n      const frame = navigation.view(doc);\n      return frame.fold(constant$1([]), f => {\n        const parent = navigation.owner(f);\n        const rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    const pathTo = (element, navigation) => {\n      const d = navigation.owner(element);\n      const paths = walkUp(navigation, d);\n      return Optional.some(paths);\n    };\n\n    const view = doc => {\n      var _a;\n      const element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    const owner$3 = element => owner$4(element);\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner$3\n    });\n\n    const find$2 = element => {\n      const doc = getDocument();\n      const scroll = get$b(doc);\n      const path = pathTo(element, Navigation);\n      return path.fold(curry(absolute$3, element), frames => {\n        const offset = viewport$1(element);\n        const r = foldr(frames, (b, a) => {\n          const loc = viewport$1(a);\n          return {\n            left: b.left + loc.left,\n            top: b.top + loc.top\n          };\n        }, {\n          left: 0,\n          top: 0\n        });\n        return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n      });\n    };\n\n    const pointed = (point, width, height) => ({\n      point,\n      width,\n      height\n    });\n    const rect = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height\n    });\n    const bounds = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const box$1 = element => {\n      const xy = absolute$3(element);\n      const w = getOuter$1(element);\n      const h = getOuter$2(element);\n      return bounds(xy.left, xy.top, w, h);\n    };\n    const absolute$2 = element => {\n      const position = find$2(element);\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const win = () => getBounds$3(window);\n\n    const value$4 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant$1(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error$1 = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply,\n        orThunk: apply,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error$1(err), value$4);\n    const Result = {\n      value: value$4,\n      error: error$1,\n      fromOption\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    const fold$1 = (res, onError, onValue) => res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    const partition$2 = results => {\n      const values = [];\n      const errors = [];\n      each$1(results, obj => {\n        fold$1(obj, err => errors.push(err), val => values.push(val));\n      });\n      return {\n        values,\n        errors\n      };\n    };\n    const mapError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    const map = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    const bind$1 = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    const bindError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    const svalue = v => ({\n      stype: SimpleResultType.Value,\n      svalue: v\n    });\n    const serror = e => ({\n      stype: SimpleResultType.Error,\n      serror: e\n    });\n    const toResult$1 = res => fold$1(res, Result.error, Result.value);\n    const fromResult$1 = res => res.fold(serror, svalue);\n    const SimpleResult = {\n      fromResult: fromResult$1,\n      toResult: toResult$1,\n      svalue,\n      partition: partition$2,\n      serror,\n      bind: bind$1,\n      bindError,\n      map,\n      mapError,\n      fold: fold$1\n    };\n\n    const field$2 = (key, newKey, presence, prop) => ({\n      tag: 'field',\n      key,\n      newKey,\n      presence,\n      prop\n    });\n    const customField$1 = (newKey, instantiator) => ({\n      tag: 'custom',\n      newKey,\n      instantiator\n    });\n    const fold = (value, ifField, ifCustom) => {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    const shallow$1 = (old, nu) => {\n      return nu;\n    };\n    const deep = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep);\n    const merge$1 = baseMerge(shallow$1);\n\n    const required$2 = () => ({\n      tag: 'required',\n      process: {}\n    });\n    const defaultedThunk = fallbackThunk => ({\n      tag: 'defaultedThunk',\n      process: fallbackThunk\n    });\n    const defaulted$1 = fallback => defaultedThunk(constant$1(fallback));\n    const asOption = () => ({\n      tag: 'option',\n      process: {}\n    });\n    const mergeWithThunk = baseThunk => ({\n      tag: 'mergeWithThunk',\n      process: baseThunk\n    });\n    const mergeWith = base => mergeWithThunk(constant$1(base));\n\n    const mergeValues$1 = (values, base) => values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge$1.apply(undefined, values))) : SimpleResult.svalue(base);\n    const mergeErrors$1 = errors => compose(SimpleResult.serror, flatten)(errors);\n    const consolidateObj = (objects, base) => {\n      const partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors$1(partition.errors) : mergeValues$1(partition.values, base);\n    };\n    const consolidateArr = objects => {\n      const partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors$1(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    const ResultCombine = {\n      consolidateObj,\n      consolidateArr\n    };\n\n    const formatObj = input => {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    const formatErrors = errors => {\n      const es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant$1('... (only showing first ten failures)')\n        }]) : errors;\n      return map$2(es, e => {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    const nu$a = (path, getErrorInfo) => {\n      return SimpleResult.serror([{\n          path,\n          getErrorInfo\n        }]);\n    };\n    const missingRequired = (path, key, obj) => nu$a(path, () => 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj));\n    const missingKey = (path, key) => nu$a(path, () => 'Choice schema did not contain choice key: \"' + key + '\"');\n    const missingBranch = (path, branches, branch) => nu$a(path, () => 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches));\n    const unsupportedFields = (path, unsupported) => nu$a(path, () => 'There are unsupported fields: [' + unsupported.join(', ') + '] specified');\n    const custom = (path, err) => nu$a(path, constant$1(err));\n\n    const value$3 = validator => {\n      const extract = (path, val) => {\n        return SimpleResult.bindError(validator(val), err => custom(path, err));\n      };\n      const toString = constant$1('val');\n      return {\n        extract,\n        toString\n      };\n    };\n    const anyValue$1 = value$3(SimpleResult.svalue);\n\n    const requiredAccess = (path, obj, key, bundle) => get$g(obj, key).fold(() => missingRequired(path, key, obj), bundle);\n    const fallbackAccess = (obj, key, fallback, bundle) => {\n      const v = get$g(obj, key).getOrThunk(() => fallback(obj));\n      return bundle(v);\n    };\n    const optionAccess = (obj, key, bundle) => bundle(get$g(obj, key));\n    const optionDefaultedAccess = (obj, key, fallback, bundle) => {\n      const opt = get$g(obj, key).map(val => val === true ? fallback(obj) : val);\n      return bundle(opt);\n    };\n    const extractField = (field, path, obj, key, prop) => {\n      const bundle = av => prop.extract(path.concat([key]), av);\n      const bundleAsOption = optValue => optValue.fold(() => SimpleResult.svalue(Optional.none()), ov => {\n        const result = prop.extract(path.concat([key]), ov);\n        return SimpleResult.map(result, Optional.some);\n      });\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant$1({}), v => {\n            const result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    const extractFields = (path, obj, fields) => {\n      const success = {};\n      const errors = [];\n      for (const field of fields) {\n        fold(field, (key, newKey, presence, prop) => {\n          const result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, err => {\n            errors.push(...err);\n          }, res => {\n            success[newKey] = res;\n          });\n        }, (newKey, instantiator) => {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    const valueThunk = getDelegate => {\n      const extract = (path, val) => getDelegate().extract(path, val);\n      const toString = () => getDelegate().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const getSetKeys = obj => keys(filter$1(obj, isNonNullable));\n    const objOfOnly = fields => {\n      const delegate = objOf(fields);\n      const fieldNames = foldr(fields, (acc, value) => {\n        return fold(value, key => deepMerge(acc, { [key]: true }), constant$1(acc));\n      }, {});\n      const extract = (path, o) => {\n        const keys = isBoolean(o) ? [] : getSetKeys(o);\n        const extra = filter$2(keys, k => !hasNonNullableKey(fieldNames, k));\n        return extra.length === 0 ? delegate.extract(path, o) : unsupportedFields(path, extra);\n      };\n      return {\n        extract,\n        toString: delegate.toString\n      };\n    };\n    const objOf = values => {\n      const extract = (path, o) => extractFields(path, o, values);\n      const toString = () => {\n        const fieldStrings = map$2(values, value => fold(value, (key, _okey, _presence, prop) => key + ' -> ' + prop.toString(), (newKey, _instantiator) => 'state(' + newKey + ')'));\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOf = prop => {\n      const extract = (path, array) => {\n        const results = map$2(array, (a, i) => prop.extract(path.concat(['[' + i + ']']), a));\n        return ResultCombine.consolidateArr(results);\n      };\n      const toString = () => 'array(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const oneOf = props => {\n      const extract = (path, val) => {\n        const errors = [];\n        for (const prop of props) {\n          const res = prop.extract(path, val);\n          if (res.stype === SimpleResultType.Value) {\n            return res;\n          }\n          errors.push(res);\n        }\n        return ResultCombine.consolidateArr(errors);\n      };\n      const toString = () => 'oneOf(' + map$2(props, prop => prop.toString()).join(', ') + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const setOf$1 = (validator, prop) => {\n      const validateKeys = (path, keys) => arrOf(value$3(validator)).extract(path, keys);\n      const extract = (path, o) => {\n        const keys$1 = keys(o);\n        const validatedKeys = validateKeys(path, keys$1);\n        return SimpleResult.bind(validatedKeys, validKeys => {\n          const schema = map$2(validKeys, vk => {\n            return field$2(vk, vk, required$2(), prop);\n          });\n          return objOf(schema).extract(path, o);\n        });\n      };\n      const toString = () => 'setOf(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const thunk = (_desc, processor) => {\n      const getP = cached(processor);\n      const extract = (path, val) => getP().extract(path, val);\n      const toString = () => getP().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOfObj = compose(arrOf, objOf);\n\n    const anyValue = constant$1(anyValue$1);\n    const typedValue = (validator, expectedType) => value$3(a => {\n      const actualType = typeof a;\n      return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror(`Expected type: ${ expectedType } but got: ${ actualType }`);\n    });\n    const number = typedValue(isNumber, 'number');\n    const string = typedValue(isString, 'string');\n    const boolean = typedValue(isBoolean, 'boolean');\n    const functionProcessor = typedValue(isFunction, 'function');\n    const isPostMessageable = val => {\n      if (Object(val) !== val) {\n        return true;\n      }\n      switch ({}.toString.call(val).slice(8, -1)) {\n      case 'Boolean':\n      case 'Number':\n      case 'String':\n      case 'Date':\n      case 'RegExp':\n      case 'Blob':\n      case 'FileList':\n      case 'ImageData':\n      case 'ImageBitmap':\n      case 'ArrayBuffer':\n        return true;\n      case 'Array':\n      case 'Object':\n        return Object.keys(val).every(prop => isPostMessageable(val[prop]));\n      default:\n        return false;\n      }\n    };\n    const postMessageable = value$3(a => {\n      if (isPostMessageable(a)) {\n        return SimpleResult.svalue(a);\n      } else {\n        return SimpleResult.serror('Expected value to be acceptable for sending via postMessage');\n      }\n    });\n\n    const chooseFrom = (path, input, branches, ch) => {\n      const fields = get$g(branches, ch);\n      return fields.fold(() => missingBranch(path, branches, ch), vp => vp.extract(path.concat(['branch: ' + ch]), input));\n    };\n    const choose$2 = (key, branches) => {\n      const extract = (path, input) => {\n        const choice = get$g(input, key);\n        return choice.fold(() => missingKey(path, key), chosen => chooseFrom(path, input, branches, chosen));\n      };\n      const toString = () => 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      return {\n        extract,\n        toString\n      };\n    };\n\n    const arrOfVal = () => arrOf(anyValue$1);\n    const valueOf = validator => value$3(v => validator(v).fold(SimpleResult.serror, SimpleResult.svalue));\n    const setOf = (validator, prop) => setOf$1(v => SimpleResult.fromResult(validator(v)), prop);\n    const extractValue = (label, prop, obj) => {\n      const res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, errs => ({\n        input: obj,\n        errors: errs\n      }));\n    };\n    const asRaw = (label, prop, obj) => SimpleResult.toResult(extractValue(label, prop, obj));\n    const getOrDie = extraction => {\n      return extraction.fold(errInfo => {\n        throw new Error(formatError(errInfo));\n      }, identity);\n    };\n    const asRawOrDie$1 = (label, prop, obj) => getOrDie(asRaw(label, prop, obj));\n    const formatError = errInfo => {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    const choose$1 = (key, branches) => choose$2(key, map$1(branches, objOf));\n    const thunkOf = (desc, schema) => thunk(desc, schema);\n\n    const field$1 = field$2;\n    const customField = customField$1;\n    const validateEnum = values => valueOf(value => contains$2(values, value) ? Result.value(value) : Result.error(`Unsupported value: \"${ value }\", choose one of \"${ values.join(', ') }\".`));\n    const required$1 = key => field$1(key, key, required$2(), anyValue());\n    const requiredOf = (key, schema) => field$1(key, key, required$2(), schema);\n    const requiredNumber = key => requiredOf(key, number);\n    const requiredString = key => requiredOf(key, string);\n    const requiredStringEnum = (key, values) => field$1(key, key, required$2(), validateEnum(values));\n    const requiredBoolean = key => requiredOf(key, boolean);\n    const requiredFunction = key => requiredOf(key, functionProcessor);\n    const forbid = (key, message) => field$1(key, key, asOption(), value$3(_v => SimpleResult.serror('The field: ' + key + ' is forbidden. ' + message)));\n    const requiredObjOf = (key, objSchema) => field$1(key, key, required$2(), objOf(objSchema));\n    const requiredArrayOfObj = (key, objFields) => field$1(key, key, required$2(), arrOfObj(objFields));\n    const requiredArrayOf = (key, schema) => field$1(key, key, required$2(), arrOf(schema));\n    const option$3 = key => field$1(key, key, asOption(), anyValue());\n    const optionOf = (key, schema) => field$1(key, key, asOption(), schema);\n    const optionNumber = key => optionOf(key, number);\n    const optionString = key => optionOf(key, string);\n    const optionStringEnum = (key, values) => optionOf(key, validateEnum(values));\n    const optionFunction = key => optionOf(key, functionProcessor);\n    const optionArrayOf = (key, schema) => optionOf(key, arrOf(schema));\n    const optionObjOf = (key, objSchema) => optionOf(key, objOf(objSchema));\n    const optionObjOfOnly = (key, objSchema) => optionOf(key, objOfOnly(objSchema));\n    const defaulted = (key, fallback) => field$1(key, key, defaulted$1(fallback), anyValue());\n    const defaultedOf = (key, fallback, schema) => field$1(key, key, defaulted$1(fallback), schema);\n    const defaultedNumber = (key, fallback) => defaultedOf(key, fallback, number);\n    const defaultedString = (key, fallback) => defaultedOf(key, fallback, string);\n    const defaultedStringEnum = (key, fallback, values) => defaultedOf(key, fallback, validateEnum(values));\n    const defaultedBoolean = (key, fallback) => defaultedOf(key, fallback, boolean);\n    const defaultedFunction = (key, fallback) => defaultedOf(key, fallback, functionProcessor);\n    const defaultedPostMsg = (key, fallback) => defaultedOf(key, fallback, postMessageable);\n    const defaultedArrayOf = (key, fallback, schema) => defaultedOf(key, fallback, arrOf(schema));\n    const defaultedObjOf = (key, fallback, objSchema) => defaultedOf(key, fallback, objOf(objSchema));\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const generate$7 = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$1(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate: generate$7 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    const partition$1 = results => {\n      const errors = [];\n      const values = [];\n      each$1(results, result => {\n        result.fold(err => {\n          errors.push(err);\n        }, value => {\n          values.push(value);\n        });\n      });\n      return {\n        errors,\n        values\n      };\n    };\n\n    const exclude$1 = (obj, fields) => {\n      const r = {};\n      each(obj, (v, k) => {\n        if (!contains$2(fields, k)) {\n          r[k] = v;\n        }\n      });\n      return r;\n    };\n\n    const wrap$2 = (key, value) => ({ [key]: value });\n    const wrapAll$1 = keyvalues => {\n      const r = {};\n      each$1(keyvalues, kv => {\n        r[kv.key] = kv.value;\n      });\n      return r;\n    };\n\n    const exclude = (obj, fields) => exclude$1(obj, fields);\n    const wrap$1 = (key, value) => wrap$2(key, value);\n    const wrapAll = keyvalues => wrapAll$1(keyvalues);\n    const mergeValues = (values, base) => {\n      return values.length === 0 ? Result.value(base) : Result.value(deepMerge(base, merge$1.apply(undefined, values)));\n    };\n    const mergeErrors = errors => Result.error(flatten(errors));\n    const consolidate = (objs, base) => {\n      const partitions = partition$1(objs);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : mergeValues(partitions.values, base);\n    };\n\n    const ensureIsRoot = isRoot => isFunction(isRoot) ? isRoot : never;\n    const ancestor$2 = (scope, transform, isRoot) => {\n      let element = scope.dom;\n      const stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        const transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$4 = (scope, transform, isRoot) => {\n      const current = transform(scope);\n      const stop = ensureIsRoot(isRoot);\n      return current.orThunk(() => stop(scope) ? Optional.none() : ancestor$2(scope, transform, stop));\n    };\n\n    const isSource = (component, simulatedEvent) => eq(component.element, simulatedEvent.event.target);\n\n    const defaultEventHandler = {\n      can: always,\n      abort: never,\n      run: noop\n    };\n    const nu$9 = parts => {\n      if (!hasNonNullableKey(parts, 'can') && !hasNonNullableKey(parts, 'abort') && !hasNonNullableKey(parts, 'run')) {\n        throw new Error('EventHandler defined by: ' + JSON.stringify(parts, null, 2) + ' does not have can, abort, or run!');\n      }\n      return {\n        ...defaultEventHandler,\n        ...parts\n      };\n    };\n    const all$2 = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc && f(handler).apply(undefined, args), true);\n    const any = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc || f(handler).apply(undefined, args), false);\n    const read$2 = handler => isFunction(handler) ? {\n      can: always,\n      abort: never,\n      run: handler\n    } : handler;\n    const fuse$1 = handlers => {\n      const can = all$2(handlers, handler => handler.can);\n      const abort = any(handlers, handler => handler.abort);\n      const run = (...args) => {\n        each$1(handlers, handler => {\n          handler.run.apply(undefined, args);\n        });\n      };\n      return {\n        can,\n        abort,\n        run\n      };\n    };\n\n    const constant = constant$1;\n    const touchstart = constant('touchstart');\n    const touchmove = constant('touchmove');\n    const touchend = constant('touchend');\n    const touchcancel = constant('touchcancel');\n    const mousedown = constant('mousedown');\n    const mousemove = constant('mousemove');\n    const mouseout = constant('mouseout');\n    const mouseup = constant('mouseup');\n    const mouseover = constant('mouseover');\n    const focusin = constant('focusin');\n    const focusout = constant('focusout');\n    const keydown = constant('keydown');\n    const keyup = constant('keyup');\n    const input = constant('input');\n    const change = constant('change');\n    const click = constant('click');\n    const transitioncancel = constant('transitioncancel');\n    const transitionend = constant('transitionend');\n    const transitionstart = constant('transitionstart');\n    const selectstart = constant('selectstart');\n\n    const prefixName = name => constant$1('alloy.' + name);\n    const alloy = { tap: prefixName('tap') };\n    const focus$4 = prefixName('focus');\n    const postBlur = prefixName('blur.post');\n    const postPaste = prefixName('paste.post');\n    const receive = prefixName('receive');\n    const execute$5 = prefixName('execute');\n    const focusItem = prefixName('focus.item');\n    const tap = alloy.tap;\n    const longpress = prefixName('longpress');\n    const sandboxClose = prefixName('sandbox.close');\n    const typeaheadCancel = prefixName('typeahead.cancel');\n    const systemInit = prefixName('system.init');\n    const documentTouchmove = prefixName('system.touchmove');\n    const documentTouchend = prefixName('system.touchend');\n    const windowScroll = prefixName('system.scroll');\n    const windowResize = prefixName('system.resize');\n    const attachedToDom = prefixName('system.attached');\n    const detachedFromDom = prefixName('system.detached');\n    const dismissRequested = prefixName('system.dismissRequested');\n    const repositionRequested = prefixName('system.repositionRequested');\n    const focusShifted = prefixName('focusmanager.shifted');\n    const slotVisibility = prefixName('slotcontainer.visibility');\n    const changeTab = prefixName('change.tab');\n    const dismissTab = prefixName('dismiss.tab');\n    const highlight$1 = prefixName('highlight');\n    const dehighlight$1 = prefixName('dehighlight');\n\n    const emit = (component, event) => {\n      dispatchWith(component, component.element, event, {});\n    };\n    const emitWith = (component, event, properties) => {\n      dispatchWith(component, component.element, event, properties);\n    };\n    const emitExecute = component => {\n      emit(component, execute$5());\n    };\n    const dispatch = (component, target, event) => {\n      dispatchWith(component, target, event, {});\n    };\n    const dispatchWith = (component, target, event, properties) => {\n      const data = {\n        target,\n        ...properties\n      };\n      component.getSystem().triggerEvent(event, target, data);\n    };\n    const dispatchEvent = (component, target, event, simulatedEvent) => {\n      component.getSystem().triggerEvent(event, target, simulatedEvent.event);\n    };\n\n    const derive$2 = configs => wrapAll(configs);\n    const abort = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ abort: predicate })\n      };\n    };\n    const can = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ can: predicate })\n      };\n    };\n    const preventDefault = name => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            simulatedEvent.event.prevent();\n          }\n        })\n      };\n    };\n    const run$1 = (name, handler) => {\n      return {\n        key: name,\n        value: nu$9({ run: handler })\n      };\n    };\n    const runActionExtra = (name, action, extra) => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            action.apply(undefined, [\n              component,\n              simulatedEvent\n            ].concat(extra));\n          }\n        })\n      };\n    };\n    const runOnName = name => {\n      return handler => run$1(name, handler);\n    };\n    const runOnSourceName = name => {\n      return handler => ({\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            if (isSource(component, simulatedEvent)) {\n              handler(component, simulatedEvent);\n            }\n          }\n        })\n      });\n    };\n    const redirectToUid = (name, uid) => {\n      return run$1(name, (component, simulatedEvent) => {\n        component.getSystem().getByUid(uid).each(redirectee => {\n          dispatchEvent(redirectee, redirectee.element, name, simulatedEvent);\n        });\n      });\n    };\n    const redirectToPart = (name, detail, partName) => {\n      const uid = detail.partUids[partName];\n      return redirectToUid(name, uid);\n    };\n    const runWithTarget = (name, f) => {\n      return run$1(name, (component, simulatedEvent) => {\n        const ev = simulatedEvent.event;\n        const target = component.getSystem().getByDom(ev.target).getOrThunk(() => {\n          const closest = closest$4(ev.target, el => component.getSystem().getByDom(el).toOptional(), never);\n          return closest.getOr(component);\n        });\n        f(component, target, simulatedEvent);\n      });\n    };\n    const cutter = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.cut();\n      });\n    };\n    const stopper = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.stop();\n      });\n    };\n    const runOnSource = (name, f) => {\n      return runOnSourceName(name)(f);\n    };\n    const runOnAttached = runOnSourceName(attachedToDom());\n    const runOnDetached = runOnSourceName(detachedFromDom());\n    const runOnInit = runOnSourceName(systemInit());\n    const runOnExecute$1 = runOnName(execute$5());\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n\n    const get$9 = element => element.dom.innerHTML;\n    const set$6 = (element, content) => {\n      const owner = owner$4(element);\n      const docDom = owner.dom;\n      const fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      const contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append$2(element, fragment);\n    };\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$2(container, clone);\n      return get$9(container);\n    };\n\n    const clone = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow = original => clone(original, false);\n\n    const getHtml = element => {\n      if (isShadowRoot(element)) {\n        return '#shadow-root';\n      } else {\n        const clone = shallow(element);\n        return getOuter(clone);\n      }\n    };\n\n    const element = elem => getHtml(elem);\n\n    const isRecursive = (component, originator, target) => eq(originator, component.element) && !eq(originator, target);\n    const events$i = derive$2([can(focus$4(), (component, simulatedEvent) => {\n        const event = simulatedEvent.event;\n        const originator = event.originator;\n        const target = event.target;\n        if (isRecursive(component, originator, target)) {\n          console.warn(focus$4() + ' did not get interpreted by the desired target. ' + '\\nOriginator: ' + element(originator) + '\\nTarget: ' + element(target) + '\\nCheck the ' + focus$4() + ' event handlers');\n          return false;\n        } else {\n          return true;\n        }\n      })]);\n\n    var DefaultEvents = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$i\n    });\n\n    let unique = 0;\n    const generate$6 = prefix => {\n      const date = new Date();\n      const time = date.getTime();\n      const random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    const prefix$1 = constant$1('alloy-id-');\n    const idAttr$1 = constant$1('data-alloy-id');\n\n    const prefix = prefix$1();\n    const idAttr = idAttr$1();\n    const write = (label, elem) => {\n      const id = generate$6(prefix + label);\n      writeOnly(elem, id);\n      return id;\n    };\n    const writeOnly = (elem, uid) => {\n      Object.defineProperty(elem.dom, idAttr, {\n        value: uid,\n        writable: true\n      });\n    };\n    const read$1 = elem => {\n      const id = isElement$1(elem) ? elem.dom[idAttr] : null;\n      return Optional.from(id);\n    };\n    const generate$5 = prefix => generate$6(prefix);\n\n    const make$8 = identity;\n\n    const NoContextApi = getComp => {\n      const getMessage = event => `The component must be in a context to execute: ${ event }` + (getComp ? '\\n' + element(getComp().element) + ' is not in context.' : '');\n      const fail = event => () => {\n        throw new Error(getMessage(event));\n      };\n      const warn = event => () => {\n        console.warn(getMessage(event));\n      };\n      return {\n        debugInfo: constant$1('fake'),\n        triggerEvent: warn('triggerEvent'),\n        triggerFocus: warn('triggerFocus'),\n        triggerEscape: warn('triggerEscape'),\n        broadcast: warn('broadcast'),\n        broadcastOn: warn('broadcastOn'),\n        broadcastEvent: warn('broadcastEvent'),\n        build: fail('build'),\n        buildOrPatch: fail('buildOrPatch'),\n        addToWorld: fail('addToWorld'),\n        removeFromWorld: fail('removeFromWorld'),\n        addToGui: fail('addToGui'),\n        removeFromGui: fail('removeFromGui'),\n        getByUid: fail('getByUid'),\n        getByDom: fail('getByDom'),\n        isConnected: never\n      };\n    };\n    const singleton$1 = NoContextApi();\n\n    const markAsBehaviourApi = (f, apiName, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: apiName,\n        parameters: cleanParameters(parameters.slice(0, 1).concat(parameters.slice(3)))\n      });\n      return f;\n    };\n    const cleanParameters = parameters => map$2(parameters, p => endsWith(p, '/*') ? p.substring(0, p.length - '/*'.length) : p);\n    const markAsExtraApi = (f, extraName) => {\n      const delegate = f.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: extraName,\n        parameters: cleanParameters(parameters)\n      });\n      return f;\n    };\n    const markAsSketchApi = (f, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: 'OVERRIDE',\n        parameters: cleanParameters(parameters.slice(1))\n      });\n      return f;\n    };\n\n    const premadeTag = generate$6('alloy-premade');\n    const premade$1 = comp => {\n      Object.defineProperty(comp.element.dom, premadeTag, {\n        value: comp.uid,\n        writable: true\n      });\n      return wrap$1(premadeTag, comp);\n    };\n    const isPremade = element => has$2(element.dom, premadeTag);\n    const getPremade = spec => get$g(spec, premadeTag);\n    const makeApi = f => markAsSketchApi((component, ...rest) => f(component.getApis(), component, ...rest), f);\n\n    const NoState = { init: () => nu$8({ readState: constant$1('No State required') }) };\n    const nu$8 = spec => spec;\n\n    const generateFrom$1 = (spec, all) => {\n      const schema = map$2(all, a => optionObjOf(a.name(), [\n        required$1('config'),\n        defaulted('state', NoState)\n      ]));\n      const validated = asRaw('component.behaviours', objOf(schema), spec.behaviours).fold(errInfo => {\n        throw new Error(formatError(errInfo) + '\\nComplete spec:\\n' + JSON.stringify(spec, null, 2));\n      }, identity);\n      return {\n        list: all,\n        data: map$1(validated, optBlobThunk => {\n          const output = optBlobThunk.map(blob => ({\n            config: blob.config,\n            state: blob.state.init(blob.config)\n          }));\n          return constant$1(output);\n        })\n      };\n    };\n    const getBehaviours$3 = bData => bData.list;\n    const getData$2 = bData => bData.data;\n\n    const byInnerKey = (data, tuple) => {\n      const r = {};\n      each(data, (detail, key) => {\n        each(detail, (value, indexKey) => {\n          const chain = get$g(r, indexKey).getOr([]);\n          r[indexKey] = chain.concat([tuple(key, value)]);\n        });\n      });\n      return r;\n    };\n\n    const nu$7 = s => ({\n      classes: isUndefined(s.classes) ? [] : s.classes,\n      attributes: isUndefined(s.attributes) ? {} : s.attributes,\n      styles: isUndefined(s.styles) ? {} : s.styles\n    });\n    const merge = (defnA, mod) => ({\n      ...defnA,\n      attributes: {\n        ...defnA.attributes,\n        ...mod.attributes\n      },\n      styles: {\n        ...defnA.styles,\n        ...mod.styles\n      },\n      classes: defnA.classes.concat(mod.classes)\n    });\n\n    const combine$2 = (info, baseMod, behaviours, base) => {\n      const modsByBehaviour = { ...baseMod };\n      each$1(behaviours, behaviour => {\n        modsByBehaviour[behaviour.name()] = behaviour.exhibit(info, base);\n      });\n      const byAspect = byInnerKey(modsByBehaviour, (name, modification) => ({\n        name,\n        modification\n      }));\n      const combineObjects = objects => foldr(objects, (b, a) => ({\n        ...a.modification,\n        ...b\n      }), {});\n      const combinedClasses = foldr(byAspect.classes, (b, a) => a.modification.concat(b), []);\n      const combinedAttributes = combineObjects(byAspect.attributes);\n      const combinedStyles = combineObjects(byAspect.styles);\n      return nu$7({\n        classes: combinedClasses,\n        attributes: combinedAttributes,\n        styles: combinedStyles\n      });\n    };\n\n    const sortKeys = (label, keyName, array, order) => {\n      try {\n        const sorted = sort(array, (a, b) => {\n          const aKey = a[keyName];\n          const bKey = b[keyName];\n          const aIndex = order.indexOf(aKey);\n          const bIndex = order.indexOf(bKey);\n          if (aIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + aKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (bIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + bKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (aIndex < bIndex) {\n            return -1;\n          } else if (bIndex < aIndex) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n        return Result.value(sorted);\n      } catch (err) {\n        return Result.error([err]);\n      }\n    };\n\n    const uncurried = (handler, purpose) => ({\n      handler,\n      purpose\n    });\n    const curried = (handler, purpose) => ({\n      cHandler: handler,\n      purpose\n    });\n    const curryArgs = (descHandler, extraArgs) => curried(curry.apply(undefined, [descHandler.handler].concat(extraArgs)), descHandler.purpose);\n    const getCurried = descHandler => descHandler.cHandler;\n\n    const behaviourTuple = (name, handler) => ({\n      name,\n      handler\n    });\n    const nameToHandlers = (behaviours, info) => {\n      const r = {};\n      each$1(behaviours, behaviour => {\n        r[behaviour.name()] = behaviour.handlers(info);\n      });\n      return r;\n    };\n    const groupByEvents = (info, behaviours, base) => {\n      const behaviourEvents = {\n        ...base,\n        ...nameToHandlers(behaviours, info)\n      };\n      return byInnerKey(behaviourEvents, behaviourTuple);\n    };\n    const combine$1 = (info, eventOrder, behaviours, base) => {\n      const byEventName = groupByEvents(info, behaviours, base);\n      return combineGroups(byEventName, eventOrder);\n    };\n    const assemble = rawHandler => {\n      const handler = read$2(rawHandler);\n      return (component, simulatedEvent, ...rest) => {\n        const args = [\n          component,\n          simulatedEvent\n        ].concat(rest);\n        if (handler.abort.apply(undefined, args)) {\n          simulatedEvent.stop();\n        } else if (handler.can.apply(undefined, args)) {\n          handler.run.apply(undefined, args);\n        }\n      };\n    };\n    const missingOrderError = (eventName, tuples) => Result.error(['The event (' + eventName + ') has more than one behaviour that listens to it.\\nWhen this occurs, you must ' + 'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that ' + 'can trigger it are: ' + JSON.stringify(map$2(tuples, c => c.name), null, 2)]);\n    const fuse = (tuples, eventOrder, eventName) => {\n      const order = eventOrder[eventName];\n      if (!order) {\n        return missingOrderError(eventName, tuples);\n      } else {\n        return sortKeys('Event: ' + eventName, 'name', tuples, order).map(sortedTuples => {\n          const handlers = map$2(sortedTuples, tuple => tuple.handler);\n          return fuse$1(handlers);\n        });\n      }\n    };\n    const combineGroups = (byEventName, eventOrder) => {\n      const r = mapToArray(byEventName, (tuples, eventName) => {\n        const combined = tuples.length === 1 ? Result.value(tuples[0].handler) : fuse(tuples, eventOrder, eventName);\n        return combined.map(handler => {\n          const assembled = assemble(handler);\n          const purpose = tuples.length > 1 ? filter$2(eventOrder[eventName], o => exists(tuples, t => t.name === o)).join(' > ') : tuples[0].name;\n          return wrap$1(eventName, uncurried(assembled, purpose));\n        });\n      });\n      return consolidate(r, {});\n    };\n\n    const baseBehaviour = 'alloy.base.behaviour';\n    const schema$z = objOf([\n      field$1('dom', 'dom', required$2(), objOf([\n        required$1('tag'),\n        defaulted('styles', {}),\n        defaulted('classes', []),\n        defaulted('attributes', {}),\n        option$3('value'),\n        option$3('innerHtml')\n      ])),\n      required$1('components'),\n      required$1('uid'),\n      defaulted('events', {}),\n      defaulted('apis', {}),\n      field$1('eventOrder', 'eventOrder', mergeWith({\n        [execute$5()]: [\n          'disabling',\n          baseBehaviour,\n          'toggling',\n          'typeaheadevents'\n        ],\n        [focus$4()]: [\n          baseBehaviour,\n          'focusing',\n          'keying'\n        ],\n        [systemInit()]: [\n          baseBehaviour,\n          'disabling',\n          'toggling',\n          'representing'\n        ],\n        [input()]: [\n          baseBehaviour,\n          'representing',\n          'streaming',\n          'invalidating'\n        ],\n        [detachedFromDom()]: [\n          baseBehaviour,\n          'representing',\n          'item-events',\n          'tooltipping'\n        ],\n        [mousedown()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [touchstart()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [mouseover()]: [\n          'item-type-events',\n          'tooltipping'\n        ],\n        [receive()]: [\n          'receiving',\n          'reflecting',\n          'tooltipping'\n        ]\n      }), anyValue()),\n      option$3('domModification')\n    ]);\n    const toInfo = spec => asRaw('custom.definition', schema$z, spec);\n    const toDefinition = detail => ({\n      ...detail.dom,\n      uid: detail.uid,\n      domChildren: map$2(detail.components, comp => comp.element)\n    });\n    const toModification = detail => detail.domModification.fold(() => nu$7({}), nu$7);\n    const toEvents = info => info.events;\n\n    const read = (element, attr) => {\n      const value = get$f(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$4 = (element, attr, id) => {\n      const old = read(element, attr);\n      const nu = old.concat([id]);\n      set$9(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$4 = (element, attr, id) => {\n      const nu = filter$2(read(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$9(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$8 = element => read(element, 'class');\n    const add$3 = (element, clazz) => add$4(element, 'class', clazz);\n    const remove$3 = (element, clazz) => remove$4(element, 'class', clazz);\n\n    const add$2 = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$8(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    const remove$2 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const add$1 = (element, classes) => {\n      each$1(classes, x => {\n        add$2(element, x);\n      });\n    };\n    const remove$1 = (element, classes) => {\n      each$1(classes, x => {\n        remove$2(element, x);\n      });\n    };\n    const hasAll = (element, classes) => forall(classes, clazz => has(element, clazz));\n    const getNative = element => {\n      const classList = element.dom.classList;\n      const r = new Array(classList.length);\n      for (let i = 0; i < classList.length; i++) {\n        const item = classList.item(i);\n        if (item !== null) {\n          r[i] = item;\n        }\n      }\n      return r;\n    };\n    const get$7 = element => supports(element) ? getNative(element) : get$8(element);\n\n    const get$6 = element => element.dom.value;\n    const set$5 = (element, value) => {\n      if (value === undefined) {\n        throw new Error('Value.set was undefined');\n      }\n      element.dom.value = value;\n    };\n\n    const determineObsoleted = (parent, index, oldObsoleted) => {\n      const newObsoleted = child$2(parent, index);\n      return newObsoleted.map(newObs => {\n        const elemChanged = oldObsoleted.exists(o => !eq(o, newObs));\n        if (elemChanged) {\n          const oldTag = oldObsoleted.map(name$3).getOr('span');\n          const marker = SugarElement.fromTag(oldTag);\n          before$1(newObs, marker);\n          return marker;\n        } else {\n          return newObs;\n        }\n      });\n    };\n    const ensureInDom = (parent, child, obsoleted) => {\n      obsoleted.fold(() => append$2(parent, child), obs => {\n        if (!eq(obs, child)) {\n          before$1(obs, child);\n          remove$5(obs);\n        }\n      });\n    };\n    const patchChildrenWith = (parent, nu, f) => {\n      const builtChildren = map$2(nu, f);\n      const currentChildren = children(parent);\n      each$1(currentChildren.slice(builtChildren.length), remove$5);\n      return builtChildren;\n    };\n    const patchSpecChild = (parent, index, spec, build) => {\n      const oldObsoleted = child$2(parent, index);\n      const childComp = build(spec, oldObsoleted);\n      const obsoleted = determineObsoleted(parent, index, oldObsoleted);\n      ensureInDom(parent, childComp.element, obsoleted);\n      return childComp;\n    };\n    const patchSpecChildren = (parent, specs, build) => patchChildrenWith(parent, specs, (spec, index) => patchSpecChild(parent, index, spec, build));\n    const patchDomChildren = (parent, nodes) => patchChildrenWith(parent, nodes, (node, index) => {\n      const optObsoleted = child$2(parent, index);\n      ensureInDom(parent, node, optObsoleted);\n      return node;\n    });\n\n    const diffKeyValueSet = (newObj, oldObj) => {\n      const newKeys = keys(newObj);\n      const oldKeys = keys(oldObj);\n      const toRemove = difference(oldKeys, newKeys);\n      const toSet = bifilter(newObj, (v, k) => {\n        return !has$2(oldObj, k) || v !== oldObj[k];\n      }).t;\n      return {\n        toRemove,\n        toSet\n      };\n    };\n    const reconcileToDom = (definition, obsoleted) => {\n      const {\n        class: clazz,\n        style,\n        ...existingAttributes\n      } = clone$1(obsoleted);\n      const {\n        toSet: attrsToSet,\n        toRemove: attrsToRemove\n      } = diffKeyValueSet(definition.attributes, existingAttributes);\n      const updateAttrs = () => {\n        each$1(attrsToRemove, a => remove$7(obsoleted, a));\n        setAll$1(obsoleted, attrsToSet);\n      };\n      const existingStyles = getAllRaw(obsoleted);\n      const {\n        toSet: stylesToSet,\n        toRemove: stylesToRemove\n      } = diffKeyValueSet(definition.styles, existingStyles);\n      const updateStyles = () => {\n        each$1(stylesToRemove, s => remove$6(obsoleted, s));\n        setAll(obsoleted, stylesToSet);\n      };\n      const existingClasses = get$7(obsoleted);\n      const classesToRemove = difference(existingClasses, definition.classes);\n      const classesToAdd = difference(definition.classes, existingClasses);\n      const updateClasses = () => {\n        add$1(obsoleted, classesToAdd);\n        remove$1(obsoleted, classesToRemove);\n      };\n      const updateHtml = html => {\n        set$6(obsoleted, html);\n      };\n      const updateChildren = () => {\n        const children = definition.domChildren;\n        patchDomChildren(obsoleted, children);\n      };\n      const updateValue = () => {\n        const valueElement = obsoleted;\n        const value = definition.value.getOrUndefined();\n        if (value !== get$6(valueElement)) {\n          set$5(valueElement, value !== null && value !== void 0 ? value : '');\n        }\n      };\n      updateAttrs();\n      updateClasses();\n      updateStyles();\n      definition.innerHtml.fold(updateChildren, updateHtml);\n      updateValue();\n      return obsoleted;\n    };\n\n    const introduceToDom = definition => {\n      const subject = SugarElement.fromTag(definition.tag);\n      setAll$1(subject, definition.attributes);\n      add$1(subject, definition.classes);\n      setAll(subject, definition.styles);\n      definition.innerHtml.each(html => set$6(subject, html));\n      const children = definition.domChildren;\n      append$1(subject, children);\n      definition.value.each(value => {\n        set$5(subject, value);\n      });\n      return subject;\n    };\n    const attemptPatch = (definition, obsoleted) => {\n      try {\n        const e = reconcileToDom(definition, obsoleted);\n        return Optional.some(e);\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    const hasMixedChildren = definition => definition.innerHtml.isSome() && definition.domChildren.length > 0;\n    const renderToDom = (definition, optObsoleted) => {\n      const canBePatched = candidate => name$3(candidate) === definition.tag && !hasMixedChildren(definition) && !isPremade(candidate);\n      const elem = optObsoleted.filter(canBePatched).bind(obsoleted => attemptPatch(definition, obsoleted)).getOrThunk(() => introduceToDom(definition));\n      writeOnly(elem, definition.uid);\n      return elem;\n    };\n\n    const getBehaviours$2 = spec => {\n      const behaviours = get$g(spec, 'behaviours').getOr({});\n      return bind$3(keys(behaviours), name => {\n        const behaviour = behaviours[name];\n        return isNonNullable(behaviour) ? [behaviour.me] : [];\n      });\n    };\n    const generateFrom = (spec, all) => generateFrom$1(spec, all);\n    const generate$4 = spec => {\n      const all = getBehaviours$2(spec);\n      return generateFrom(spec, all);\n    };\n\n    const getDomDefinition = (info, bList, bData) => {\n      const definition = toDefinition(info);\n      const infoModification = toModification(info);\n      const baseModification = { 'alloy.base.modification': infoModification };\n      const modification = bList.length > 0 ? combine$2(bData, baseModification, bList, definition) : infoModification;\n      return merge(definition, modification);\n    };\n    const getEvents = (info, bList, bData) => {\n      const baseEvents = { 'alloy.base.behaviour': toEvents(info) };\n      return combine$1(bData, info.eventOrder, bList, baseEvents).getOrDie();\n    };\n    const build$2 = (spec, obsoleted) => {\n      const getMe = () => me;\n      const systemApi = Cell(singleton$1);\n      const info = getOrDie(toInfo(spec));\n      const bBlob = generate$4(spec);\n      const bList = getBehaviours$3(bBlob);\n      const bData = getData$2(bBlob);\n      const modDefinition = getDomDefinition(info, bList, bData);\n      const item = renderToDom(modDefinition, obsoleted);\n      const events = getEvents(info, bList, bData);\n      const subcomponents = Cell(info.components);\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(getMe));\n      };\n      const syncComponents = () => {\n        const children$1 = children(item);\n        const subs = bind$3(children$1, child => systemApi.get().getByDom(child).fold(() => [], pure$2));\n        subcomponents.set(subs);\n      };\n      const config = behaviour => {\n        const b = bData;\n        const f = isFunction(b[behaviour.name()]) ? b[behaviour.name()] : () => {\n          throw new Error('Could not find ' + behaviour.name() + ' in ' + JSON.stringify(spec, null, 2));\n        };\n        return f();\n      };\n      const hasConfigured = behaviour => isFunction(bData[behaviour.name()]);\n      const getApis = () => info.apis;\n      const readState = behaviourName => bData[behaviourName]().map(b => b.state.readState()).getOr('not enabled');\n      const me = {\n        uid: spec.uid,\n        getSystem: systemApi.get,\n        config,\n        hasConfigured,\n        spec,\n        readState,\n        getApis,\n        connect,\n        disconnect,\n        element: item,\n        syncComponents,\n        components: subcomponents.get,\n        events\n      };\n      return me;\n    };\n\n    const buildSubcomponents = (spec, obsoleted) => {\n      const components = get$g(spec, 'components').getOr([]);\n      return obsoleted.fold(() => map$2(components, build$1), obs => map$2(components, (c, i) => {\n        return buildOrPatch(c, child$2(obs, i));\n      }));\n    };\n    const buildFromSpec = (userSpec, obsoleted) => {\n      const {\n        events: specEvents,\n        ...spec\n      } = make$8(userSpec);\n      const components = buildSubcomponents(spec, obsoleted);\n      const completeSpec = {\n        ...spec,\n        events: {\n          ...DefaultEvents,\n          ...specEvents\n        },\n        components\n      };\n      return Result.value(build$2(completeSpec, obsoleted));\n    };\n    const text$1 = textContent => {\n      const element = SugarElement.fromText(textContent);\n      return external$1({ element });\n    };\n    const external$1 = spec => {\n      const extSpec = asRawOrDie$1('external.component', objOfOnly([\n        required$1('element'),\n        option$3('uid')\n      ]), spec);\n      const systemApi = Cell(NoContextApi());\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(() => me));\n      };\n      const uid = extSpec.uid.getOrThunk(() => generate$5('external'));\n      writeOnly(extSpec.element, uid);\n      const me = {\n        uid,\n        getSystem: systemApi.get,\n        config: Optional.none,\n        hasConfigured: never,\n        connect,\n        disconnect,\n        getApis: () => ({}),\n        element: extSpec.element,\n        spec,\n        readState: constant$1('No state'),\n        syncComponents: noop,\n        components: constant$1([]),\n        events: {}\n      };\n      return premade$1(me);\n    };\n    const uids = generate$5;\n    const isSketchSpec$1 = spec => has$2(spec, 'uid');\n    const buildOrPatch = (spec, obsoleted) => getPremade(spec).getOrThunk(() => {\n      const userSpecWithUid = isSketchSpec$1(spec) ? spec : {\n        uid: uids(''),\n        ...spec\n      };\n      return buildFromSpec(userSpecWithUid, obsoleted).getOrDie();\n    });\n    const build$1 = spec => buildOrPatch(spec, Optional.none());\n    const premade = premade$1;\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$1 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$3 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    const child$1 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$5(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const closest$2 = (scope, predicate, isRoot) => closest$3(scope, predicate, isRoot).isSome();\n\n    const ancestor = (scope, selector, isRoot) => ancestor$1(scope, e => is(e, selector), isRoot);\n    const child = (scope, selector) => child$1(scope, e => is(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is$1 = (element, selector) => is(element, selector);\n      return ClosestOrAncestor(is$1, ancestor, scope, selector, isRoot);\n    };\n\n    const attribute = 'aria-controls';\n    const find$1 = queryElem => {\n      const dependent = closest$3(queryElem, elem => {\n        if (!isElement$1(elem)) {\n          return false;\n        }\n        const id = get$f(elem, 'id');\n        return id !== undefined && id.indexOf(attribute) > -1;\n      });\n      return dependent.bind(dep => {\n        const id = get$f(dep, 'id');\n        const dos = getRootNode(dep);\n        return descendant(dos, `[${ attribute }=\"${ id }\"]`);\n      });\n    };\n    const manager = () => {\n      const ariaId = generate$6(attribute);\n      const link = elem => {\n        set$9(elem, attribute, ariaId);\n      };\n      const unlink = elem => {\n        remove$7(elem, attribute);\n      };\n      return {\n        id: ariaId,\n        link,\n        unlink\n      };\n    };\n\n    const isAriaPartOf = (component, queryElem) => find$1(queryElem).exists(owner => isPartOf$1(component, owner));\n    const isPartOf$1 = (component, queryElem) => closest$2(queryElem, el => eq(el, component.element), never) || isAriaPartOf(component, queryElem);\n\n    const unknown = 'unknown';\n    var EventConfiguration;\n    (function (EventConfiguration) {\n      EventConfiguration[EventConfiguration['STOP'] = 0] = 'STOP';\n      EventConfiguration[EventConfiguration['NORMAL'] = 1] = 'NORMAL';\n      EventConfiguration[EventConfiguration['LOGGING'] = 2] = 'LOGGING';\n    }(EventConfiguration || (EventConfiguration = {})));\n    const eventConfig = Cell({});\n    const makeEventLogger = (eventName, initialTarget) => {\n      const sequence = [];\n      const startTime = new Date().getTime();\n      return {\n        logEventCut: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'cut',\n            target,\n            purpose\n          });\n        },\n        logEventStopped: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'stopped',\n            target,\n            purpose\n          });\n        },\n        logNoParent: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'no-parent',\n            target,\n            purpose\n          });\n        },\n        logEventNoHandlers: (_name, target) => {\n          sequence.push({\n            outcome: 'no-handlers-left',\n            target\n          });\n        },\n        logEventResponse: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'response',\n            purpose,\n            target\n          });\n        },\n        write: () => {\n          const finishTime = new Date().getTime();\n          if (contains$2([\n              'mousemove',\n              'mouseover',\n              'mouseout',\n              systemInit()\n            ], eventName)) {\n            return;\n          }\n          console.log(eventName, {\n            event: eventName,\n            time: finishTime - startTime,\n            target: initialTarget.dom,\n            sequence: map$2(sequence, s => {\n              if (!contains$2([\n                  'cut',\n                  'stopped',\n                  'response'\n                ], s.outcome)) {\n                return s.outcome;\n              } else {\n                return '{' + s.purpose + '} ' + s.outcome + ' at (' + element(s.target) + ')';\n              }\n            })\n          });\n        }\n      };\n    };\n    const processEvent = (eventName, initialTarget, f) => {\n      const status = get$g(eventConfig.get(), eventName).orThunk(() => {\n        const patterns = keys(eventConfig.get());\n        return findMap(patterns, p => eventName.indexOf(p) > -1 ? Optional.some(eventConfig.get()[p]) : Optional.none());\n      }).getOr(EventConfiguration.NORMAL);\n      switch (status) {\n      case EventConfiguration.NORMAL:\n        return f(noLogger());\n      case EventConfiguration.LOGGING: {\n          const logger = makeEventLogger(eventName, initialTarget);\n          const output = f(logger);\n          logger.write();\n          return output;\n        }\n      case EventConfiguration.STOP:\n        return true;\n      }\n    };\n    const path = [\n      'alloy/data/Fields',\n      'alloy/debugging/Debugging'\n    ];\n    const getTrace = () => {\n      const err = new Error();\n      if (err.stack !== undefined) {\n        const lines = err.stack.split('\\n');\n        return find$5(lines, line => line.indexOf('alloy') > 0 && !exists(path, p => line.indexOf(p) > -1)).getOr(unknown);\n      } else {\n        return unknown;\n      }\n    };\n    const ignoreEvent = {\n      logEventCut: noop,\n      logEventStopped: noop,\n      logNoParent: noop,\n      logEventNoHandlers: noop,\n      logEventResponse: noop,\n      write: noop\n    };\n    const monitorEvent = (eventName, initialTarget, f) => processEvent(eventName, initialTarget, f);\n    const noLogger = constant$1(ignoreEvent);\n\n    const menuFields = constant$1([\n      required$1('menu'),\n      required$1('selectedMenu')\n    ]);\n    const itemFields = constant$1([\n      required$1('item'),\n      required$1('selectedItem')\n    ]);\n    constant$1(objOf(itemFields().concat(menuFields())));\n    const itemSchema$3 = constant$1(objOf(itemFields()));\n\n    const _initSize = requiredObjOf('initSize', [\n      required$1('numColumns'),\n      required$1('numRows')\n    ]);\n    const itemMarkers = () => requiredOf('markers', itemSchema$3());\n    const tieredMenuMarkers = () => requiredObjOf('markers', [required$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));\n    const markers$1 = required => requiredObjOf('markers', map$2(required, required$1));\n    const onPresenceHandler = (label, fieldName, presence) => {\n      getTrace();\n      return field$1(fieldName, fieldName, presence, valueOf(f => Result.value((...args) => {\n        return f.apply(undefined, args);\n      })));\n    };\n    const onHandler = fieldName => onPresenceHandler('onHandler', fieldName, defaulted$1(noop));\n    const onKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, defaulted$1(Optional.none));\n    const onStrictHandler = fieldName => onPresenceHandler('onHandler', fieldName, required$2());\n    const onStrictKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, required$2());\n    const output$1 = (name, value) => customField(name, constant$1(value));\n    const snapshot = name => customField(name, identity);\n    const initSize = constant$1(_initSize);\n\n    const nu$6 = (x, y, bubble, direction, placement, boundsRestriction, labelPrefix, alwaysFit = false) => ({\n      x,\n      y,\n      bubble,\n      direction,\n      placement,\n      restriction: boundsRestriction,\n      label: `${ labelPrefix }-${ placement }`,\n      alwaysFit\n    });\n\n    const adt$a = Adt.generate([\n      { southeast: [] },\n      { southwest: [] },\n      { northeast: [] },\n      { northwest: [] },\n      { south: [] },\n      { north: [] },\n      { east: [] },\n      { west: [] }\n    ]);\n    const cata$2 = (subject, southeast, southwest, northeast, northwest, south, north, east, west) => subject.fold(southeast, southwest, northeast, northwest, south, north, east, west);\n    const cataVertical = (subject, south, middle, north) => subject.fold(south, south, north, north, south, north, middle, middle);\n    const cataHorizontal = (subject, east, middle, west) => subject.fold(east, west, east, west, middle, middle, east, west);\n    const southeast$3 = adt$a.southeast;\n    const southwest$3 = adt$a.southwest;\n    const northeast$3 = adt$a.northeast;\n    const northwest$3 = adt$a.northwest;\n    const south$3 = adt$a.south;\n    const north$3 = adt$a.north;\n    const east$3 = adt$a.east;\n    const west$3 = adt$a.west;\n\n    const cycleBy = (value, delta, min, max) => {\n      const r = value + delta;\n      if (r > max) {\n        return min;\n      } else if (r < min) {\n        return max;\n      } else {\n        return r;\n      }\n    };\n    const clamp = (value, min, max) => Math.min(Math.max(value, min), max);\n\n    const getRestriction = (anchor, restriction) => {\n      switch (restriction) {\n      case 1:\n        return anchor.x;\n      case 0:\n        return anchor.x + anchor.width;\n      case 2:\n        return anchor.y;\n      case 3:\n        return anchor.y + anchor.height;\n      }\n    };\n    const boundsRestriction = (anchor, restrictions) => mapToObject([\n      'left',\n      'right',\n      'top',\n      'bottom'\n    ], dir => get$g(restrictions, dir).map(restriction => getRestriction(anchor, restriction)));\n    const adjustBounds = (bounds$1, restriction, bubbleOffset) => {\n      const applyRestriction = (dir, current) => restriction[dir].map(pos => {\n        const isVerticalAxis = dir === 'top' || dir === 'bottom';\n        const offset = isVerticalAxis ? bubbleOffset.top : bubbleOffset.left;\n        const comparator = dir === 'left' || dir === 'top' ? Math.max : Math.min;\n        const newPos = comparator(pos, current) + offset;\n        return isVerticalAxis ? clamp(newPos, bounds$1.y, bounds$1.bottom) : clamp(newPos, bounds$1.x, bounds$1.right);\n      }).getOr(current);\n      const adjustedLeft = applyRestriction('left', bounds$1.x);\n      const adjustedTop = applyRestriction('top', bounds$1.y);\n      const adjustedRight = applyRestriction('right', bounds$1.right);\n      const adjustedBottom = applyRestriction('bottom', bounds$1.bottom);\n      return bounds(adjustedLeft, adjustedTop, adjustedRight - adjustedLeft, adjustedBottom - adjustedTop);\n    };\n\n    const labelPrefix$2 = 'layout';\n    const eastX$1 = anchor => anchor.x;\n    const middleX$1 = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const westX$1 = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY$2 = (anchor, element) => anchor.y - element.height;\n    const southY$2 = anchor => anchor.y + anchor.height;\n    const centreY$1 = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const eastEdgeX$1 = anchor => anchor.x + anchor.width;\n    const westEdgeX$1 = (anchor, element) => anchor.x - element.width;\n    const southeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), southY$2(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 3\n    }), labelPrefix$2);\n    const southwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), southY$2(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 3\n    }), labelPrefix$2);\n    const northeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), northY$2(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 2\n    }), labelPrefix$2);\n    const northwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), northY$2(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 2\n    }), labelPrefix$2);\n    const north$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), northY$2(anchor, element), bubbles.north(), north$3(), 'north', boundsRestriction(anchor, { bottom: 2 }), labelPrefix$2);\n    const south$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), southY$2(anchor), bubbles.south(), south$3(), 'south', boundsRestriction(anchor, { top: 3 }), labelPrefix$2);\n    const east$2 = (anchor, element, bubbles) => nu$6(eastEdgeX$1(anchor), centreY$1(anchor, element), bubbles.east(), east$3(), 'east', boundsRestriction(anchor, { left: 0 }), labelPrefix$2);\n    const west$2 = (anchor, element, bubbles) => nu$6(westEdgeX$1(anchor, element), centreY$1(anchor, element), bubbles.west(), west$3(), 'west', boundsRestriction(anchor, { right: 1 }), labelPrefix$2);\n    const all$1 = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const allRtl$1 = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const aboveOrBelow = () => [\n      northeast$2,\n      northwest$2,\n      southeast$2,\n      southwest$2,\n      north$2,\n      south$2\n    ];\n    const aboveOrBelowRtl = () => [\n      northwest$2,\n      northeast$2,\n      southwest$2,\n      southeast$2,\n      north$2,\n      south$2\n    ];\n    const belowOrAbove = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2\n    ];\n    const belowOrAboveRtl = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2\n    ];\n\n    const chooseChannels = (channels, message) => message.universal ? channels : filter$2(channels, ch => contains$2(message.channels, ch));\n    const events$h = receiveConfig => derive$2([run$1(receive(), (component, message) => {\n        const channelMap = receiveConfig.channels;\n        const channels = keys(channelMap);\n        const receivingData = message;\n        const targetChannels = chooseChannels(channels, receivingData);\n        each$1(targetChannels, ch => {\n          const channelInfo = channelMap[ch];\n          const channelSchema = channelInfo.schema;\n          const data = asRawOrDie$1('channel[' + ch + '] data\\nReceiver: ' + element(component.element), channelSchema, receivingData.data);\n          channelInfo.onReceive(component, data);\n        });\n      })]);\n\n    var ActiveReceiving = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$h\n    });\n\n    var ReceivingSchema = [requiredOf('channels', setOf(Result.value, objOfOnly([\n        onStrictHandler('onReceive'),\n        defaulted('schema', anyValue())\n      ])))];\n\n    const executeEvent = (bConfig, bState, executor) => runOnExecute$1(component => {\n      executor(component, bConfig, bState);\n    });\n    const loadEvent = (bConfig, bState, f) => runOnInit((component, _simulatedEvent) => {\n      f(component, bConfig, bState);\n    });\n    const create$4 = (schema, name, active, apis, extra, state) => {\n      const configSchema = objOfOnly(schema);\n      const schemaSchema = optionObjOf(name, [optionObjOfOnly('config', schema)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const createModes$1 = (modes, name, active, apis, extra, state) => {\n      const configSchema = modes;\n      const schemaSchema = optionObjOf(name, [optionOf('config', modes)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const wrapApi = (bName, apiFunction, apiName) => {\n      const f = (component, ...rest) => {\n        const args = [component].concat(rest);\n        return component.config({ name: constant$1(bName) }).fold(() => {\n          throw new Error('We could not find any behaviour configuration for: ' + bName + '. Using API: ' + apiName);\n        }, info => {\n          const rest = Array.prototype.slice.call(args, 1);\n          return apiFunction.apply(undefined, [\n            component,\n            info.config,\n            info.state\n          ].concat(rest));\n        });\n      };\n      return markAsBehaviourApi(f, apiName, apiFunction);\n    };\n    const revokeBehaviour = name => ({\n      key: name,\n      value: undefined\n    });\n    const doCreate = (configSchema, schemaSchema, name, active, apis, extra, state) => {\n      const getConfig = info => hasNonNullableKey(info, name) ? info[name]() : Optional.none();\n      const wrappedApis = map$1(apis, (apiF, apiName) => wrapApi(name, apiF, apiName));\n      const wrappedExtra = map$1(extra, (extraF, extraName) => markAsExtraApi(extraF, extraName));\n      const me = {\n        ...wrappedExtra,\n        ...wrappedApis,\n        revoke: curry(revokeBehaviour, name),\n        config: spec => {\n          const prepared = asRawOrDie$1(name + '-config', configSchema, spec);\n          return {\n            key: name,\n            value: {\n              config: prepared,\n              me,\n              configAsRaw: cached(() => asRawOrDie$1(name + '-config', configSchema, spec)),\n              initialConfig: spec,\n              state\n            }\n          };\n        },\n        schema: constant$1(schemaSchema),\n        exhibit: (info, base) => {\n          return lift2(getConfig(info), get$g(active, 'exhibit'), (behaviourInfo, exhibitor) => {\n            return exhibitor(base, behaviourInfo.config, behaviourInfo.state);\n          }).getOrThunk(() => nu$7({}));\n        },\n        name: constant$1(name),\n        handlers: info => {\n          return getConfig(info).map(behaviourInfo => {\n            const getEvents = get$g(active, 'events').getOr(() => ({}));\n            return getEvents(behaviourInfo.config, behaviourInfo.state);\n          }).getOr({});\n        }\n      };\n      return me;\n    };\n\n    const derive$1 = capabilities => wrapAll(capabilities);\n    const simpleSchema = objOfOnly([\n      required$1('fields'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const create$3 = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, simpleSchema, data);\n      return create$4(value.fields, value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const modeSchema = objOfOnly([\n      required$1('branchKey'),\n      required$1('branches'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const createModes = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, modeSchema, data);\n      return createModes$1(choose$1(value.branchKey, value.branches), value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const revoke = constant$1(undefined);\n\n    const Receiving = create$3({\n      fields: ReceivingSchema,\n      name: 'receiving',\n      active: ActiveReceiving\n    });\n\n    const exhibit$6 = (base, posConfig) => nu$7({\n      classes: [],\n      styles: posConfig.useFixed() ? {} : { position: 'relative' }\n    });\n\n    var ActivePosition = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$6\n    });\n\n    const focus$3 = element => element.dom.focus();\n    const blur$1 = element => element.dom.blur();\n    const hasFocus = element => {\n      const root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    const active$1 = (root = getDocument()) => Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    const search = element => active$1(getRootNode(element)).filter(e => element.dom.contains(e.dom));\n\n    const preserve$1 = (f, container) => {\n      const dos = getRootNode(container);\n      const refocus = active$1(dos).bind(focused => {\n        const hasFocus = elem => eq(focused, elem);\n        return hasFocus(container) ? Optional.some(container) : descendant$1(container, hasFocus);\n      });\n      const result = f(container);\n      refocus.each(oldFocus => {\n        active$1(dos).filter(newFocus => eq(newFocus, oldFocus)).fold(() => {\n          focus$3(oldFocus);\n        }, noop);\n      });\n      return result;\n    };\n\n    const NuPositionCss = (position, left, top, right, bottom) => {\n      const toPx = num => num + 'px';\n      return {\n        position,\n        left: left.map(toPx),\n        top: top.map(toPx),\n        right: right.map(toPx),\n        bottom: bottom.map(toPx)\n      };\n    };\n    const toOptions = position => ({\n      ...position,\n      position: Optional.some(position.position)\n    });\n    const applyPositionCss = (element, position) => {\n      setOptions(element, toOptions(position));\n    };\n\n    const adt$9 = Adt.generate([\n      { none: [] },\n      {\n        relative: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      }\n    ]);\n    const positionWithDirection = (posName, decision, x, y, width, height) => {\n      const decisionRect = decision.rect;\n      const decisionX = decisionRect.x - x;\n      const decisionY = decisionRect.y - y;\n      const decisionWidth = decisionRect.width;\n      const decisionHeight = decisionRect.height;\n      const decisionRight = width - (decisionX + decisionWidth);\n      const decisionBottom = height - (decisionY + decisionHeight);\n      const left = Optional.some(decisionX);\n      const top = Optional.some(decisionY);\n      const right = Optional.some(decisionRight);\n      const bottom = Optional.some(decisionBottom);\n      const none = Optional.none();\n      return cata$2(decision.direction, () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, none, none, right, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none));\n    };\n    const reposition = (origin, decision) => origin.fold(() => {\n      const decisionRect = decision.rect;\n      return NuPositionCss('absolute', Optional.some(decisionRect.x), Optional.some(decisionRect.y), Optional.none(), Optional.none());\n    }, (x, y, width, height) => {\n      return positionWithDirection('absolute', decision, x, y, width, height);\n    }, (x, y, width, height) => {\n      return positionWithDirection('fixed', decision, x, y, width, height);\n    });\n    const toBox = (origin, element) => {\n      const rel = curry(find$2, element);\n      const position = origin.fold(rel, rel, () => {\n        const scroll = get$b();\n        return find$2(element).translate(-scroll.left, -scroll.top);\n      });\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const viewport = (origin, getBounds) => getBounds.fold(() => origin.fold(win, win, bounds), b => origin.fold(b, b, () => {\n      const bounds$1 = b();\n      const pos = translate$2(origin, bounds$1.x, bounds$1.y);\n      return bounds(pos.left, pos.top, bounds$1.width, bounds$1.height);\n    }));\n    const translate$2 = (origin, x, y) => {\n      const pos = SugarPosition(x, y);\n      const removeScroll = () => {\n        const outerScroll = get$b();\n        return pos.translate(-outerScroll.left, -outerScroll.top);\n      };\n      return origin.fold(constant$1(pos), constant$1(pos), removeScroll);\n    };\n    const cata$1 = (subject, onNone, onRelative, onFixed) => subject.fold(onNone, onRelative, onFixed);\n    adt$9.none;\n    const relative$1 = adt$9.relative;\n    const fixed$1 = adt$9.fixed;\n\n    const anchor = (anchorBox, origin) => ({\n      anchorBox,\n      origin\n    });\n    const box = (anchorBox, origin) => anchor(anchorBox, origin);\n\n    const placementAttribute = 'data-alloy-placement';\n    const setPlacement$1 = (element, placement) => {\n      set$9(element, placementAttribute, placement);\n    };\n    const getPlacement = element => getOpt(element, placementAttribute);\n    const reset$2 = element => remove$7(element, placementAttribute);\n\n    const adt$8 = Adt.generate([\n      { fit: ['reposition'] },\n      {\n        nofit: [\n          'reposition',\n          'visibleW',\n          'visibleH',\n          'isVisible'\n        ]\n      }\n    ]);\n    const determinePosition = (box, bounds) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds;\n      const {x, y, right, bottom, width, height} = box;\n      const xInBounds = x >= boundsX && x <= boundsRight;\n      const yInBounds = y >= boundsY && y <= boundsBottom;\n      const originInBounds = xInBounds && yInBounds;\n      const rightInBounds = right <= boundsRight && right >= boundsX;\n      const bottomInBounds = bottom <= boundsBottom && bottom >= boundsY;\n      const sizeInBounds = rightInBounds && bottomInBounds;\n      const visibleW = Math.min(width, x >= boundsX ? boundsRight - x : right - boundsX);\n      const visibleH = Math.min(height, y >= boundsY ? boundsBottom - y : bottom - boundsY);\n      return {\n        originInBounds,\n        sizeInBounds,\n        visibleW,\n        visibleH\n      };\n    };\n    const calcReposition = (box, bounds$1) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds$1;\n      const {x, y, width, height} = box;\n      const maxX = Math.max(boundsX, boundsRight - width);\n      const maxY = Math.max(boundsY, boundsBottom - height);\n      const restrictedX = clamp(x, boundsX, maxX);\n      const restrictedY = clamp(y, boundsY, maxY);\n      const restrictedWidth = Math.min(restrictedX + width, boundsRight) - restrictedX;\n      const restrictedHeight = Math.min(restrictedY + height, boundsBottom) - restrictedY;\n      return bounds(restrictedX, restrictedY, restrictedWidth, restrictedHeight);\n    };\n    const calcMaxSizes = (direction, box, bounds) => {\n      const upAvailable = constant$1(box.bottom - bounds.y);\n      const downAvailable = constant$1(bounds.bottom - box.y);\n      const maxHeight = cataVertical(direction, downAvailable, downAvailable, upAvailable);\n      const westAvailable = constant$1(box.right - bounds.x);\n      const eastAvailable = constant$1(bounds.right - box.x);\n      const maxWidth = cataHorizontal(direction, eastAvailable, eastAvailable, westAvailable);\n      return {\n        maxWidth,\n        maxHeight\n      };\n    };\n    const attempt = (candidate, width, height, bounds$1) => {\n      const bubble = candidate.bubble;\n      const bubbleOffset = bubble.offset;\n      const adjustedBounds = adjustBounds(bounds$1, candidate.restriction, bubbleOffset);\n      const newX = candidate.x + bubbleOffset.left;\n      const newY = candidate.y + bubbleOffset.top;\n      const box = bounds(newX, newY, width, height);\n      const {originInBounds, sizeInBounds, visibleW, visibleH} = determinePosition(box, adjustedBounds);\n      const fits = originInBounds && sizeInBounds;\n      const fittedBox = fits ? box : calcReposition(box, adjustedBounds);\n      const isPartlyVisible = fittedBox.width > 0 && fittedBox.height > 0;\n      const {maxWidth, maxHeight} = calcMaxSizes(candidate.direction, fittedBox, bounds$1);\n      const reposition = {\n        rect: fittedBox,\n        maxHeight,\n        maxWidth,\n        direction: candidate.direction,\n        placement: candidate.placement,\n        classes: {\n          on: bubble.classesOn,\n          off: bubble.classesOff\n        },\n        layout: candidate.label,\n        testY: newY\n      };\n      return fits || candidate.alwaysFit ? adt$8.fit(reposition) : adt$8.nofit(reposition, visibleW, visibleH, isPartlyVisible);\n    };\n    const attempts = (element, candidates, anchorBox, elementBox, bubbles, bounds) => {\n      const panelWidth = elementBox.width;\n      const panelHeight = elementBox.height;\n      const attemptBestFit = (layout, reposition, visibleW, visibleH, isVisible) => {\n        const next = layout(anchorBox, elementBox, bubbles, element, bounds);\n        const attemptLayout = attempt(next, panelWidth, panelHeight, bounds);\n        return attemptLayout.fold(constant$1(attemptLayout), (newReposition, newVisibleW, newVisibleH, newIsVisible) => {\n          const improved = isVisible === newIsVisible ? newVisibleH > visibleH || newVisibleW > visibleW : !isVisible && newIsVisible;\n          return improved ? attemptLayout : adt$8.nofit(reposition, visibleW, visibleH, isVisible);\n        });\n      };\n      const abc = foldl(candidates, (b, a) => {\n        const bestNext = curry(attemptBestFit, a);\n        return b.fold(constant$1(b), bestNext);\n      }, adt$8.nofit({\n        rect: anchorBox,\n        maxHeight: elementBox.height,\n        maxWidth: elementBox.width,\n        direction: southeast$3(),\n        placement: 'southeast',\n        classes: {\n          on: [],\n          off: []\n        },\n        layout: 'none',\n        testY: anchorBox.y\n      }, -1, -1, false));\n      return abc.fold(identity, identity);\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const destroyable = () => singleton(s => s.destroy());\n    const unbindable = () => singleton(s => s.unbind());\n    const value$2 = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const filter = always;\n    const bind = (element, event, handler) => bind$2(element, event, filter, handler);\n    const capture = (element, event, handler) => capture$1(element, event, filter, handler);\n    const fromRawEvent = fromRawEvent$1;\n\n    const properties = [\n      'top',\n      'bottom',\n      'right',\n      'left'\n    ];\n    const timerAttr = 'data-alloy-transition-timer';\n    const isTransitioning$1 = (element, transition) => hasAll(element, transition.classes);\n    const shouldApplyTransitionCss = (transition, decision, lastPlacement) => {\n      return lastPlacement.exists(placer => {\n        const mode = transition.mode;\n        return mode === 'all' ? true : placer[mode] !== decision[mode];\n      });\n    };\n    const hasChanges = (position, intermediate) => {\n      const round = value => parseFloat(value).toFixed(3);\n      return find$4(intermediate, (value, key) => {\n        const newValue = position[key].map(round);\n        const val = value.map(round);\n        return !equals(newValue, val);\n      }).isSome();\n    };\n    const getTransitionDuration = element => {\n      const get = name => {\n        const style = get$e(element, name);\n        const times = style.split(/\\s*,\\s*/);\n        return filter$2(times, isNotEmpty);\n      };\n      const parse = value => {\n        if (isString(value) && /^[\\d.]+/.test(value)) {\n          const num = parseFloat(value);\n          return endsWith(value, 'ms') ? num : num * 1000;\n        } else {\n          return 0;\n        }\n      };\n      const delay = get('transition-delay');\n      const duration = get('transition-duration');\n      return foldl(duration, (acc, dur, i) => {\n        const time = parse(delay[i]) + parse(dur);\n        return Math.max(acc, time);\n      }, 0);\n    };\n    const setupTransitionListeners = (element, transition) => {\n      const transitionEnd = unbindable();\n      const transitionCancel = unbindable();\n      let timer;\n      const isSourceTransition = e => {\n        var _a;\n        const pseudoElement = (_a = e.raw.pseudoElement) !== null && _a !== void 0 ? _a : '';\n        return eq(e.target, element) && isEmpty(pseudoElement) && contains$2(properties, e.raw.propertyName);\n      };\n      const transitionDone = e => {\n        if (isNullable(e) || isSourceTransition(e)) {\n          transitionEnd.clear();\n          transitionCancel.clear();\n          const type = e === null || e === void 0 ? void 0 : e.raw.type;\n          if (isNullable(type) || type === transitionend()) {\n            clearTimeout(timer);\n            remove$7(element, timerAttr);\n            remove$1(element, transition.classes);\n          }\n        }\n      };\n      const transitionStart = bind(element, transitionstart(), e => {\n        if (isSourceTransition(e)) {\n          transitionStart.unbind();\n          transitionEnd.set(bind(element, transitionend(), transitionDone));\n          transitionCancel.set(bind(element, transitioncancel(), transitionDone));\n        }\n      });\n      const duration = getTransitionDuration(element);\n      requestAnimationFrame(() => {\n        timer = setTimeout(transitionDone, duration + 17);\n        set$9(element, timerAttr, timer);\n      });\n    };\n    const startTransitioning = (element, transition) => {\n      add$1(element, transition.classes);\n      getOpt(element, timerAttr).each(timerId => {\n        clearTimeout(parseInt(timerId, 10));\n        remove$7(element, timerAttr);\n      });\n      setupTransitionListeners(element, transition);\n    };\n    const applyTransitionCss = (element, origin, position, transition, decision, lastPlacement) => {\n      const shouldTransition = shouldApplyTransitionCss(transition, decision, lastPlacement);\n      if (shouldTransition || isTransitioning$1(element, transition)) {\n        set$8(element, 'position', position.position);\n        const rect = toBox(origin, element);\n        const intermediatePosition = reposition(origin, {\n          ...decision,\n          rect\n        });\n        const intermediateCssOptions = mapToObject(properties, prop => intermediatePosition[prop]);\n        if (hasChanges(position, intermediateCssOptions)) {\n          setOptions(element, intermediateCssOptions);\n          if (shouldTransition) {\n            startTransitioning(element, transition);\n          }\n          reflow(element);\n        }\n      } else {\n        remove$1(element, transition.classes);\n      }\n    };\n\n    const elementSize = p => ({\n      width: getOuter$1(p),\n      height: getOuter$2(p)\n    });\n    const layout = (anchorBox, element, bubbles, options) => {\n      remove$6(element, 'max-height');\n      remove$6(element, 'max-width');\n      const elementBox = elementSize(element);\n      return attempts(element, options.preference, anchorBox, elementBox, bubbles, options.bounds);\n    };\n    const setClasses = (element, decision) => {\n      const classInfo = decision.classes;\n      remove$1(element, classInfo.off);\n      add$1(element, classInfo.on);\n    };\n    const setHeight = (element, decision, options) => {\n      const maxHeightFunction = options.maxHeightFunction;\n      maxHeightFunction(element, decision.maxHeight);\n    };\n    const setWidth = (element, decision, options) => {\n      const maxWidthFunction = options.maxWidthFunction;\n      maxWidthFunction(element, decision.maxWidth);\n    };\n    const position$2 = (element, decision, options) => {\n      const positionCss = reposition(options.origin, decision);\n      options.transition.each(transition => {\n        applyTransitionCss(element, options.origin, positionCss, transition, decision, options.lastPlacement);\n      });\n      applyPositionCss(element, positionCss);\n    };\n    const setPlacement = (element, decision) => {\n      setPlacement$1(element, decision.placement);\n    };\n\n    const setMaxHeight = (element, maxHeight) => {\n      setMax$1(element, Math.floor(maxHeight));\n    };\n    const anchored = constant$1((element, available) => {\n      setMaxHeight(element, available);\n      setAll(element, {\n        'overflow-x': 'hidden',\n        'overflow-y': 'auto'\n      });\n    });\n    const expandable$1 = constant$1((element, available) => {\n      setMaxHeight(element, available);\n    });\n\n    const defaultOr = (options, key, dephault) => options[key] === undefined ? dephault : options[key];\n    const simple = (anchor, element, bubble, layouts, lastPlacement, getBounds, overrideOptions, transition) => {\n      const maxHeightFunction = defaultOr(overrideOptions, 'maxHeightFunction', anchored());\n      const maxWidthFunction = defaultOr(overrideOptions, 'maxWidthFunction', noop);\n      const anchorBox = anchor.anchorBox;\n      const origin = anchor.origin;\n      const options = {\n        bounds: viewport(origin, getBounds),\n        origin,\n        preference: layouts,\n        maxHeightFunction,\n        maxWidthFunction,\n        lastPlacement,\n        transition\n      };\n      return go(anchorBox, element, bubble, options);\n    };\n    const go = (anchorBox, element, bubble, options) => {\n      const decision = layout(anchorBox, element, bubble, options);\n      position$2(element, decision, options);\n      setPlacement(element, decision);\n      setClasses(element, decision);\n      setHeight(element, decision, options);\n      setWidth(element, decision, options);\n      return {\n        layout: decision.layout,\n        placement: decision.placement\n      };\n    };\n\n    const allAlignments = [\n      'valignCentre',\n      'alignLeft',\n      'alignRight',\n      'alignCentre',\n      'top',\n      'bottom',\n      'left',\n      'right',\n      'inset'\n    ];\n    const nu$5 = (xOffset, yOffset, classes, insetModifier = 1) => {\n      const insetXOffset = xOffset * insetModifier;\n      const insetYOffset = yOffset * insetModifier;\n      const getClasses = prop => get$g(classes, prop).getOr([]);\n      const make = (xDelta, yDelta, alignmentsOn) => {\n        const alignmentsOff = difference(allAlignments, alignmentsOn);\n        return {\n          offset: SugarPosition(xDelta, yDelta),\n          classesOn: bind$3(alignmentsOn, getClasses),\n          classesOff: bind$3(alignmentsOff, getClasses)\n        };\n      };\n      return {\n        southeast: () => make(-xOffset, yOffset, [\n          'top',\n          'alignLeft'\n        ]),\n        southwest: () => make(xOffset, yOffset, [\n          'top',\n          'alignRight'\n        ]),\n        south: () => make(-xOffset / 2, yOffset, [\n          'top',\n          'alignCentre'\n        ]),\n        northeast: () => make(-xOffset, -yOffset, [\n          'bottom',\n          'alignLeft'\n        ]),\n        northwest: () => make(xOffset, -yOffset, [\n          'bottom',\n          'alignRight'\n        ]),\n        north: () => make(-xOffset / 2, -yOffset, [\n          'bottom',\n          'alignCentre'\n        ]),\n        east: () => make(xOffset, -yOffset / 2, [\n          'valignCentre',\n          'left'\n        ]),\n        west: () => make(-xOffset, -yOffset / 2, [\n          'valignCentre',\n          'right'\n        ]),\n        insetNortheast: () => make(insetXOffset, insetYOffset, [\n          'top',\n          'alignLeft',\n          'inset'\n        ]),\n        insetNorthwest: () => make(-insetXOffset, insetYOffset, [\n          'top',\n          'alignRight',\n          'inset'\n        ]),\n        insetNorth: () => make(-insetXOffset / 2, insetYOffset, [\n          'top',\n          'alignCentre',\n          'inset'\n        ]),\n        insetSoutheast: () => make(insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignLeft',\n          'inset'\n        ]),\n        insetSouthwest: () => make(-insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignRight',\n          'inset'\n        ]),\n        insetSouth: () => make(-insetXOffset / 2, -insetYOffset, [\n          'bottom',\n          'alignCentre',\n          'inset'\n        ]),\n        insetEast: () => make(-insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'right',\n          'inset'\n        ]),\n        insetWest: () => make(insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'left',\n          'inset'\n        ])\n      };\n    };\n    const fallback = () => nu$5(0, 0, {});\n\n    const nu$4 = identity;\n\n    const onDirection = (isLtr, isRtl) => element => getDirection(element) === 'rtl' ? isRtl : isLtr;\n    const getDirection = element => get$e(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n\n    var AttributeValue;\n    (function (AttributeValue) {\n      AttributeValue['TopToBottom'] = 'toptobottom';\n      AttributeValue['BottomToTop'] = 'bottomtotop';\n    }(AttributeValue || (AttributeValue = {})));\n    const Attribute = 'data-alloy-vertical-dir';\n    const isBottomToTopDir = el => closest$2(el, current => isElement$1(current) && get$f(current, 'data-alloy-vertical-dir') === AttributeValue.BottomToTop);\n\n    const schema$y = () => optionObjOf('layouts', [\n      required$1('onLtr'),\n      required$1('onRtl'),\n      option$3('onBottomLtr'),\n      option$3('onBottomRtl')\n    ]);\n    const get$5 = (elem, info, defaultLtr, defaultRtl, defaultBottomLtr, defaultBottomRtl, dirElement) => {\n      const isBottomToTop = dirElement.map(isBottomToTopDir).getOr(false);\n      const customLtr = info.layouts.map(ls => ls.onLtr(elem));\n      const customRtl = info.layouts.map(ls => ls.onRtl(elem));\n      const ltr = isBottomToTop ? info.layouts.bind(ls => ls.onBottomLtr.map(f => f(elem))).or(customLtr).getOr(defaultBottomLtr) : customLtr.getOr(defaultLtr);\n      const rtl = isBottomToTop ? info.layouts.bind(ls => ls.onBottomRtl.map(f => f(elem))).or(customRtl).getOr(defaultBottomRtl) : customRtl.getOr(defaultRtl);\n      const f = onDirection(ltr, rtl);\n      return f(elem);\n    };\n\n    const placement$4 = (component, anchorInfo, origin) => {\n      const hotspot = anchorInfo.hotspot;\n      const anchorBox = toBox(origin, hotspot.element);\n      const layouts = get$5(component.element, anchorInfo, belowOrAbove(), belowOrAboveRtl(), aboveOrBelow(), aboveOrBelowRtl(), Optional.some(anchorInfo.hotspot.element));\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts,\n        placer: Optional.none()\n      }));\n    };\n    var HotspotAnchor = [\n      required$1('hotspot'),\n      option$3('bubble'),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$4)\n    ];\n\n    const placement$3 = (component, anchorInfo, origin) => {\n      const pos = translate$2(origin, anchorInfo.x, anchorInfo.y);\n      const anchorBox = bounds(pos.left, pos.top, anchorInfo.width, anchorInfo.height);\n      const layouts = get$5(component.element, anchorInfo, all$1(), allRtl$1(), all$1(), allRtl$1(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble,\n        overrides: anchorInfo.overrides,\n        layouts,\n        placer: Optional.none()\n      }));\n    };\n    var MakeshiftAnchor = [\n      required$1('x'),\n      required$1('y'),\n      defaulted('height', 0),\n      defaulted('width', 0),\n      defaulted('bubble', fallback()),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$3)\n    ];\n\n    const adt$7 = Adt.generate([\n      { screen: ['point'] },\n      {\n        absolute: [\n          'point',\n          'scrollLeft',\n          'scrollTop'\n        ]\n      }\n    ]);\n    const toFixed = pos => pos.fold(identity, (point, scrollLeft, scrollTop) => point.translate(-scrollLeft, -scrollTop));\n    const toAbsolute = pos => pos.fold(identity, identity);\n    const sum = points => foldl(points, (b, a) => b.translate(a.left, a.top), SugarPosition(0, 0));\n    const sumAsFixed = positions => {\n      const points = map$2(positions, toFixed);\n      return sum(points);\n    };\n    const sumAsAbsolute = positions => {\n      const points = map$2(positions, toAbsolute);\n      return sum(points);\n    };\n    const screen = adt$7.screen;\n    const absolute$1 = adt$7.absolute;\n\n    const getOffset = (component, origin, anchorInfo) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const hasSameOwner = frame => {\n        const frameOwner = owner$4(frame);\n        const compOwner = owner$4(component.element);\n        return eq(frameOwner, compOwner);\n      };\n      return Optional.from(win.frameElement).map(SugarElement.fromDom).filter(hasSameOwner).map(absolute$3);\n    };\n    const getRootPoint = (component, origin, anchorInfo) => {\n      const doc = owner$4(component.element);\n      const outerScroll = get$b(doc);\n      const offset = getOffset(component, origin, anchorInfo).getOr(outerScroll);\n      return absolute$1(offset, outerScroll.left, outerScroll.top);\n    };\n\n    const getBox = (left, top, width, height) => {\n      const point = screen(SugarPosition(left, top));\n      return Optional.some(pointed(point, width, height));\n    };\n    const calcNewAnchor = (optBox, rootPoint, anchorInfo, origin, elem) => optBox.map(box => {\n      const points = [\n        rootPoint,\n        box.point\n      ];\n      const topLeft = cata$1(origin, () => sumAsAbsolute(points), () => sumAsAbsolute(points), () => sumAsFixed(points));\n      const anchorBox = rect(topLeft.left, topLeft.top, box.width, box.height);\n      const layoutsLtr = anchorInfo.showAbove ? aboveOrBelow() : belowOrAbove();\n      const layoutsRtl = anchorInfo.showAbove ? aboveOrBelowRtl() : belowOrAboveRtl();\n      const layouts = get$5(elem, anchorInfo, layoutsLtr, layoutsRtl, layoutsLtr, layoutsRtl, Optional.none());\n      return nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts,\n        placer: Optional.none()\n      });\n    });\n\n    const placement$2 = (component, anchorInfo, origin) => {\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      return anchorInfo.node.filter(inBody).bind(target => {\n        const rect = target.dom.getBoundingClientRect();\n        const nodeBox = getBox(rect.left, rect.top, rect.width, rect.height);\n        const elem = anchorInfo.node.getOr(component.element);\n        return calcNewAnchor(nodeBox, rootPoint, anchorInfo, origin, elem);\n      });\n    };\n    var NodeAnchor = [\n      required$1('node'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$2)\n    ];\n\n    const zeroWidth = '\\uFEFF';\n    const nbsp = '\\xA0';\n\n    const create$2 = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$2 };\n\n    const adt$6 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$1 = situ => situ.fold(identity, identity, identity);\n    const before = adt$6.before;\n    const on$1 = adt$6.on;\n    const after$1 = adt$6.after;\n    const Situ = {\n      before,\n      on: on$1,\n      after: after$1,\n      cata,\n      getStart: getStart$1\n    };\n\n    const adt$5 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt$5.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt$5.domRange;\n    const relative = adt$5.relative;\n    const exact = adt$5.exact;\n    const getWin = selection => {\n      const start = getStart(selection);\n      return defaultView(start);\n    };\n    const range$1 = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range: range$1\n    };\n\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const toRect = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      width: rect.width,\n      height: rect.height\n    });\n    const getFirstRect$1 = rng => {\n      const rects = rng.getClientRects();\n      const rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n    const getBounds$2 = rng => {\n      const rect = rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    const adt$4 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant$1(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$4.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$4.ltr, rng));\n      } else {\n        return fromRange(win, adt$4.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    const asLtrRange = (win, selection) => {\n      const diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$4.ltr;\n    adt$4.rtl;\n\n    const descendants = (scope, selector) => all$3(selector, scope);\n\n    const makeRange = (start, soffset, finish, foffset) => {\n      const doc = owner$4(start);\n      const rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const after = (start, soffset, finish, foffset) => {\n      const r = makeRange(start, soffset, finish, foffset);\n      const same = eq(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    const getNativeSelection = win => Optional.from(win.getSelection());\n    const readRange = selection => {\n      if (selection.rangeCount > 0) {\n        const firstRng = selection.getRangeAt(0);\n        const lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const doGetExact = selection => {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        const anchor = SugarElement.fromDom(selection.anchorNode);\n        const focus = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    const getExact = win => getNativeSelection(win).filter(sel => sel.rangeCount > 0).bind(doGetExact);\n    const getFirstRect = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    const getBounds$1 = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getBounds$2(rng);\n    };\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get$4 = element => api.get(element);\n\n    const point = (element, offset) => ({\n      element,\n      offset\n    });\n    const descendOnce$1 = (element, offset) => {\n      const children$1 = children(element);\n      if (children$1.length === 0) {\n        return point(element, offset);\n      } else if (offset < children$1.length) {\n        return point(children$1[offset], 0);\n      } else {\n        const last = children$1[children$1.length - 1];\n        const len = isText(last) ? get$4(last).length : children(last).length;\n        return point(last, len);\n      }\n    };\n\n    const descendOnce = (element, offset) => isText(element) ? point(element, offset) : descendOnce$1(element, offset);\n    const getAnchorSelection = (win, anchorInfo) => {\n      const getSelection = anchorInfo.getSelection.getOrThunk(() => () => getExact(win));\n      return getSelection().map(sel => {\n        const modStart = descendOnce(sel.start, sel.soffset);\n        const modFinish = descendOnce(sel.finish, sel.foffset);\n        return SimSelection.range(modStart.element, modStart.offset, modFinish.element, modFinish.offset);\n      });\n    };\n    const placement$1 = (component, anchorInfo, origin) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      const selectionBox = getAnchorSelection(win, anchorInfo).bind(sel => {\n        const optRect = getBounds$1(win, SimSelection.exactFromRange(sel)).orThunk(() => {\n          const x = SugarElement.fromText(zeroWidth);\n          before$1(sel.start, x);\n          const rect = getFirstRect(win, SimSelection.exact(x, 0, x, 1));\n          remove$5(x);\n          return rect;\n        });\n        return optRect.bind(rawRect => getBox(rawRect.left, rawRect.top, rawRect.width, rawRect.height));\n      });\n      const targetElement = getAnchorSelection(win, anchorInfo).bind(sel => isElement$1(sel.start) ? Optional.some(sel.start) : parentElement(sel.start));\n      const elem = targetElement.getOr(component.element);\n      return calcNewAnchor(selectionBox, rootPoint, anchorInfo, origin, elem);\n    };\n    var SelectionAnchor = [\n      option$3('getSelection'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$1)\n    ];\n\n    const labelPrefix$1 = 'link-layout';\n    const eastX = anchor => anchor.x + anchor.width;\n    const westX = (anchor, element) => anchor.x - element.width;\n    const northY$1 = (anchor, element) => anchor.y - element.height + anchor.height;\n    const southY$1 = anchor => anchor.y;\n    const southeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), southY$1(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 0,\n      top: 2\n    }), labelPrefix$1);\n    const southwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), southY$1(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 1,\n      top: 2\n    }), labelPrefix$1);\n    const northeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), northY$1(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 0,\n      bottom: 3\n    }), labelPrefix$1);\n    const northwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), northY$1(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 1,\n      bottom: 3\n    }), labelPrefix$1);\n    const all = () => [\n      southeast$1,\n      southwest$1,\n      northeast$1,\n      northwest$1\n    ];\n    const allRtl = () => [\n      southwest$1,\n      southeast$1,\n      northwest$1,\n      northeast$1\n    ];\n\n    const placement = (component, submenuInfo, origin) => {\n      const anchorBox = toBox(origin, submenuInfo.item.element);\n      const layouts = get$5(component.element, submenuInfo, all(), allRtl(), all(), allRtl(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: fallback(),\n        overrides: submenuInfo.overrides,\n        layouts,\n        placer: Optional.none()\n      }));\n    };\n    var SubmenuAnchor = [\n      required$1('item'),\n      schema$y(),\n      defaulted('overrides', {}),\n      output$1('placement', placement)\n    ];\n\n    var AnchorSchema = choose$1('type', {\n      selection: SelectionAnchor,\n      node: NodeAnchor,\n      hotspot: HotspotAnchor,\n      submenu: SubmenuAnchor,\n      makeshift: MakeshiftAnchor\n    });\n\n    const TransitionSchema = [\n      requiredArrayOf('classes', string),\n      defaultedStringEnum('mode', 'all', [\n        'all',\n        'layout',\n        'placement'\n      ])\n    ];\n    const PositionSchema = [\n      defaulted('useFixed', never),\n      option$3('getBounds')\n    ];\n    const PlacementSchema = [\n      requiredOf('anchor', AnchorSchema),\n      optionObjOf('transition', TransitionSchema)\n    ];\n\n    const getFixedOrigin = () => {\n      const html = document.documentElement;\n      return fixed$1(0, 0, html.clientWidth, html.clientHeight);\n    };\n    const getRelativeOrigin = component => {\n      const position = absolute$3(component.element);\n      const bounds = component.element.dom.getBoundingClientRect();\n      return relative$1(position.left, position.top, bounds.width, bounds.height);\n    };\n    const place = (component, origin, anchoring, getBounds, placee, lastPlace, transition) => {\n      const anchor = box(anchoring.anchorBox, origin);\n      return simple(anchor, placee.element, anchoring.bubble, anchoring.layouts, lastPlace, getBounds, anchoring.overrides, transition);\n    };\n    const position$1 = (component, posConfig, posState, placee, placementSpec) => {\n      positionWithin(component, posConfig, posState, placee, placementSpec, Optional.none());\n    };\n    const positionWithin = (component, posConfig, posState, placee, placementSpec, boxElement) => {\n      const boundsBox = boxElement.map(box$1);\n      return positionWithinBounds(component, posConfig, posState, placee, placementSpec, boundsBox);\n    };\n    const positionWithinBounds = (component, posConfig, posState, placee, placementSpec, bounds) => {\n      const placeeDetail = asRawOrDie$1('placement.info', objOf(PlacementSchema), placementSpec);\n      const anchorage = placeeDetail.anchor;\n      const element = placee.element;\n      const placeeState = posState.get(placee.uid);\n      preserve$1(() => {\n        set$8(element, 'position', 'fixed');\n        const oldVisibility = getRaw(element, 'visibility');\n        set$8(element, 'visibility', 'hidden');\n        const origin = posConfig.useFixed() ? getFixedOrigin() : getRelativeOrigin(component);\n        const placer = anchorage.placement;\n        const getBounds = bounds.map(constant$1).or(posConfig.getBounds);\n        placer(component, anchorage, origin).each(anchoring => {\n          const doPlace = anchoring.placer.getOr(place);\n          const newState = doPlace(component, origin, anchoring, getBounds, placee, placeeState, placeeDetail.transition);\n          posState.set(placee.uid, newState);\n        });\n        oldVisibility.fold(() => {\n          remove$6(element, 'visibility');\n        }, vis => {\n          set$8(element, 'visibility', vis);\n        });\n        if (getRaw(element, 'left').isNone() && getRaw(element, 'top').isNone() && getRaw(element, 'right').isNone() && getRaw(element, 'bottom').isNone() && is$1(getRaw(element, 'position'), 'fixed')) {\n          remove$6(element, 'position');\n        }\n      }, element);\n    };\n    const getMode = (component, pConfig, _pState) => pConfig.useFixed() ? 'fixed' : 'absolute';\n    const reset$1 = (component, pConfig, posState, placee) => {\n      const element = placee.element;\n      each$1([\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], prop => remove$6(element, prop));\n      reset$2(element);\n      posState.clear(placee.uid);\n    };\n\n    var PositionApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        position: position$1,\n        positionWithin: positionWithin,\n        positionWithinBounds: positionWithinBounds,\n        getMode: getMode,\n        reset: reset$1\n    });\n\n    const init$g = () => {\n      let state = {};\n      const set = (id, data) => {\n        state[id] = data;\n      };\n      const get = id => get$g(state, id);\n      const clear = id => {\n        if (isNonNullable(id)) {\n          delete state[id];\n        } else {\n          state = {};\n        }\n      };\n      return nu$8({\n        readState: () => state,\n        clear,\n        set,\n        get\n      });\n    };\n\n    var PositioningState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$g\n    });\n\n    const Positioning = create$3({\n      fields: PositionSchema,\n      name: 'positioning',\n      active: ActivePosition,\n      apis: PositionApis,\n      state: PositioningState\n    });\n\n    const isConnected = comp => comp.getSystem().isConnected();\n    const fireDetaching = component => {\n      emit(component, detachedFromDom());\n      const children = component.components();\n      each$1(children, fireDetaching);\n    };\n    const fireAttaching = component => {\n      const children = component.components();\n      each$1(children, fireAttaching);\n      emit(component, attachedToDom());\n    };\n    const virtualAttach = (parent, child) => {\n      parent.getSystem().addToWorld(child);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n    };\n    const virtualDetach = comp => {\n      fireDetaching(comp);\n      comp.getSystem().removeFromWorld(comp);\n    };\n    const attach$1 = (parent, child) => {\n      append$2(parent.element, child.element);\n    };\n    const detachChildren$1 = component => {\n      each$1(component.components(), childComp => remove$5(childComp.element));\n      empty(component.element);\n      component.syncComponents();\n    };\n    const replaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      detachChildren$1(component);\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, comp => {\n        fireDetaching(comp);\n        component.getSystem().removeFromWorld(comp);\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          component.getSystem().addToWorld(childComp);\n          attach$1(component, childComp);\n          if (inBody(component.element)) {\n            fireAttaching(childComp);\n          }\n        } else {\n          attach$1(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n    const virtualReplaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      const existingComps = bind$3(newSpecs, spec => getPremade(spec).toArray());\n      each$1(subs, childComp => {\n        if (!contains$2(existingComps, childComp)) {\n          virtualDetach(childComp);\n        }\n      });\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, deletedComp => {\n        if (isConnected(deletedComp)) {\n          virtualDetach(deletedComp);\n        }\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          virtualAttach(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n\n    const attach = (parent, child) => {\n      attachWith(parent, child, append$2);\n    };\n    const attachWith = (parent, child, insertion) => {\n      parent.getSystem().addToWorld(child);\n      insertion(parent.element, child.element);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n      parent.syncComponents();\n    };\n    const doDetach = component => {\n      fireDetaching(component);\n      remove$5(component.element);\n      component.getSystem().removeFromWorld(component);\n    };\n    const detach = component => {\n      const parent$1 = parent(component.element).bind(p => component.getSystem().getByDom(p).toOptional());\n      doDetach(component);\n      parent$1.each(p => {\n        p.syncComponents();\n      });\n    };\n    const detachChildren = component => {\n      const subs = component.components();\n      each$1(subs, doDetach);\n      empty(component.element);\n      component.syncComponents();\n    };\n    const attachSystem = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, append$2);\n    };\n    const attachSystemAfter = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, after$2);\n    };\n    const attachSystemWith = (element, guiSystem, inserter) => {\n      inserter(element, guiSystem.element);\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireAttaching);\n      });\n    };\n    const detachSystem = guiSystem => {\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireDetaching);\n      });\n      remove$5(guiSystem.element);\n    };\n\n    const rebuild = (sandbox, sConfig, sState, data) => {\n      sState.get().each(_data => {\n        detachChildren(sandbox);\n      });\n      const point = sConfig.getAttachPoint(sandbox);\n      attach(point, sandbox);\n      const built = sandbox.getSystem().build(data);\n      attach(sandbox, built);\n      sState.set(built);\n      return built;\n    };\n    const open$1 = (sandbox, sConfig, sState, data) => {\n      const newState = rebuild(sandbox, sConfig, sState, data);\n      sConfig.onOpen(sandbox, newState);\n      return newState;\n    };\n    const setContent = (sandbox, sConfig, sState, data) => sState.get().map(() => rebuild(sandbox, sConfig, sState, data));\n    const openWhileCloaked = (sandbox, sConfig, sState, data, transaction) => {\n      cloak(sandbox, sConfig);\n      open$1(sandbox, sConfig, sState, data);\n      transaction();\n      decloak(sandbox, sConfig);\n    };\n    const close$1 = (sandbox, sConfig, sState) => {\n      sState.get().each(data => {\n        detachChildren(sandbox);\n        detach(sandbox);\n        sConfig.onClose(sandbox, data);\n        sState.clear();\n      });\n    };\n    const isOpen$1 = (_sandbox, _sConfig, sState) => sState.isOpen();\n    const isPartOf = (sandbox, sConfig, sState, queryElem) => isOpen$1(sandbox, sConfig, sState) && sState.get().exists(data => sConfig.isPartOf(sandbox, data, queryElem));\n    const getState$2 = (_sandbox, _sConfig, sState) => sState.get();\n    const store = (sandbox, cssKey, attr, newValue) => {\n      getRaw(sandbox.element, cssKey).fold(() => {\n        remove$7(sandbox.element, attr);\n      }, v => {\n        set$9(sandbox.element, attr, v);\n      });\n      set$8(sandbox.element, cssKey, newValue);\n    };\n    const restore = (sandbox, cssKey, attr) => {\n      getOpt(sandbox.element, attr).fold(() => remove$6(sandbox.element, cssKey), oldValue => set$8(sandbox.element, cssKey, oldValue));\n    };\n    const cloak = (sandbox, sConfig, _sState) => {\n      const sink = sConfig.getAttachPoint(sandbox);\n      set$8(sandbox.element, 'position', Positioning.getMode(sink));\n      store(sandbox, 'visibility', sConfig.cloakVisibilityAttr, 'hidden');\n    };\n    const hasPosition = element => exists([\n      'top',\n      'left',\n      'right',\n      'bottom'\n    ], pos => getRaw(element, pos).isSome());\n    const decloak = (sandbox, sConfig, _sState) => {\n      if (!hasPosition(sandbox.element)) {\n        remove$6(sandbox.element, 'position');\n      }\n      restore(sandbox, 'visibility', sConfig.cloakVisibilityAttr);\n    };\n\n    var SandboxApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        cloak: cloak,\n        decloak: decloak,\n        open: open$1,\n        openWhileCloaked: openWhileCloaked,\n        close: close$1,\n        isOpen: isOpen$1,\n        isPartOf: isPartOf,\n        getState: getState$2,\n        setContent: setContent\n    });\n\n    const events$g = (sandboxConfig, sandboxState) => derive$2([run$1(sandboxClose(), (sandbox, _simulatedEvent) => {\n        close$1(sandbox, sandboxConfig, sandboxState);\n      })]);\n\n    var ActiveSandbox = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$g\n    });\n\n    var SandboxSchema = [\n      onHandler('onOpen'),\n      onHandler('onClose'),\n      required$1('isPartOf'),\n      required$1('getAttachPoint'),\n      defaulted('cloakVisibilityAttr', 'data-precloak-visibility')\n    ];\n\n    const init$f = () => {\n      const contents = value$2();\n      const readState = constant$1('not-implemented');\n      return nu$8({\n        readState,\n        isOpen: contents.isSet,\n        clear: contents.clear,\n        set: contents.set,\n        get: contents.get\n      });\n    };\n\n    var SandboxState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$f\n    });\n\n    const Sandboxing = create$3({\n      fields: SandboxSchema,\n      name: 'sandboxing',\n      active: ActiveSandbox,\n      apis: SandboxApis,\n      state: SandboxState\n    });\n\n    const dismissPopups = constant$1('dismiss.popups');\n    const repositionPopups = constant$1('reposition.popups');\n    const mouseReleased = constant$1('mouse.released');\n\n    const schema$x = objOfOnly([\n      defaulted('isExtraPart', never),\n      optionObjOf('fireEventInstead', [defaulted('event', dismissRequested())])\n    ]);\n    const receivingChannel$1 = rawSpec => {\n      const detail = asRawOrDie$1('Dismissal', schema$x, rawSpec);\n      return {\n        [dismissPopups()]: {\n          schema: objOfOnly([required$1('target')]),\n          onReceive: (sandbox, data) => {\n            if (Sandboxing.isOpen(sandbox)) {\n              const isPart = Sandboxing.isPartOf(sandbox, data.target) || detail.isExtraPart(sandbox, data.target);\n              if (!isPart) {\n                detail.fireEventInstead.fold(() => Sandboxing.close(sandbox), fe => emit(sandbox, fe.event));\n              }\n            }\n          }\n        }\n      };\n    };\n\n    const schema$w = objOfOnly([\n      optionObjOf('fireEventInstead', [defaulted('event', repositionRequested())]),\n      requiredFunction('doReposition')\n    ]);\n    const receivingChannel = rawSpec => {\n      const detail = asRawOrDie$1('Reposition', schema$w, rawSpec);\n      return {\n        [repositionPopups()]: {\n          onReceive: sandbox => {\n            if (Sandboxing.isOpen(sandbox)) {\n              detail.fireEventInstead.fold(() => detail.doReposition(sandbox), fe => emit(sandbox, fe.event));\n            }\n          }\n        }\n      };\n    };\n\n    const onLoad$5 = (component, repConfig, repState) => {\n      repConfig.store.manager.onLoad(component, repConfig, repState);\n    };\n    const onUnload$2 = (component, repConfig, repState) => {\n      repConfig.store.manager.onUnload(component, repConfig, repState);\n    };\n    const setValue$3 = (component, repConfig, repState, data) => {\n      repConfig.store.manager.setValue(component, repConfig, repState, data);\n    };\n    const getValue$3 = (component, repConfig, repState) => repConfig.store.manager.getValue(component, repConfig, repState);\n    const getState$1 = (component, repConfig, repState) => repState;\n\n    var RepresentApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad$5,\n        onUnload: onUnload$2,\n        setValue: setValue$3,\n        getValue: getValue$3,\n        getState: getState$1\n    });\n\n    const events$f = (repConfig, repState) => {\n      const es = repConfig.resetOnDom ? [\n        runOnAttached((comp, _se) => {\n          onLoad$5(comp, repConfig, repState);\n        }),\n        runOnDetached((comp, _se) => {\n          onUnload$2(comp, repConfig, repState);\n        })\n      ] : [loadEvent(repConfig, repState, onLoad$5)];\n      return derive$2(es);\n    };\n\n    var ActiveRepresenting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$f\n    });\n\n    const memory$1 = () => {\n      const data = Cell(null);\n      const readState = () => ({\n        mode: 'memory',\n        value: data.get()\n      });\n      const isNotSet = () => data.get() === null;\n      const clear = () => {\n        data.set(null);\n      };\n      return nu$8({\n        set: data.set,\n        get: data.get,\n        isNotSet,\n        clear,\n        readState\n      });\n    };\n    const manual = () => {\n      const readState = noop;\n      return nu$8({ readState });\n    };\n    const dataset = () => {\n      const dataByValue = Cell({});\n      const dataByText = Cell({});\n      const readState = () => ({\n        mode: 'dataset',\n        dataByValue: dataByValue.get(),\n        dataByText: dataByText.get()\n      });\n      const clear = () => {\n        dataByValue.set({});\n        dataByText.set({});\n      };\n      const lookup = itemString => get$g(dataByValue.get(), itemString).orThunk(() => get$g(dataByText.get(), itemString));\n      const update = items => {\n        const currentDataByValue = dataByValue.get();\n        const currentDataByText = dataByText.get();\n        const newDataByValue = {};\n        const newDataByText = {};\n        each$1(items, item => {\n          newDataByValue[item.value] = item;\n          get$g(item, 'meta').each(meta => {\n            get$g(meta, 'text').each(text => {\n              newDataByText[text] = item;\n            });\n          });\n        });\n        dataByValue.set({\n          ...currentDataByValue,\n          ...newDataByValue\n        });\n        dataByText.set({\n          ...currentDataByText,\n          ...newDataByText\n        });\n      };\n      return nu$8({\n        readState,\n        lookup,\n        update,\n        clear\n      });\n    };\n    const init$e = spec => spec.store.manager.state(spec);\n\n    var RepresentState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        memory: memory$1,\n        dataset: dataset,\n        manual: manual,\n        init: init$e\n    });\n\n    const setValue$2 = (component, repConfig, repState, data) => {\n      const store = repConfig.store;\n      repState.update([data]);\n      store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue$2 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      const key = store.getDataKey(component);\n      return repState.lookup(key).getOrThunk(() => store.getFallbackEntry(key));\n    };\n    const onLoad$4 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      store.initialValue.each(data => {\n        setValue$2(component, repConfig, repState, data);\n      });\n    };\n    const onUnload$1 = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var DatasetStore = [\n      option$3('initialValue'),\n      required$1('getFallbackEntry'),\n      required$1('getDataKey'),\n      required$1('setValue'),\n      output$1('manager', {\n        setValue: setValue$2,\n        getValue: getValue$2,\n        onLoad: onLoad$4,\n        onUnload: onUnload$1,\n        state: dataset\n      })\n    ];\n\n    const getValue$1 = (component, repConfig, _repState) => repConfig.store.getValue(component);\n    const setValue$1 = (component, repConfig, _repState, data) => {\n      repConfig.store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const onLoad$3 = (component, repConfig, _repState) => {\n      repConfig.store.initialValue.each(data => {\n        repConfig.store.setValue(component, data);\n      });\n    };\n    var ManualStore = [\n      required$1('getValue'),\n      defaulted('setValue', noop),\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue: setValue$1,\n        getValue: getValue$1,\n        onLoad: onLoad$3,\n        onUnload: noop,\n        state: NoState.init\n      })\n    ];\n\n    const setValue = (component, repConfig, repState, data) => {\n      repState.set(data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue = (component, repConfig, repState) => repState.get();\n    const onLoad$2 = (component, repConfig, repState) => {\n      repConfig.store.initialValue.each(initVal => {\n        if (repState.isNotSet()) {\n          repState.set(initVal);\n        }\n      });\n    };\n    const onUnload = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var MemoryStore = [\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue,\n        getValue,\n        onLoad: onLoad$2,\n        onUnload,\n        state: memory$1\n      })\n    ];\n\n    var RepresentSchema = [\n      defaultedOf('store', { mode: 'memory' }, choose$1('mode', {\n        memory: MemoryStore,\n        manual: ManualStore,\n        dataset: DatasetStore\n      })),\n      onHandler('onSetValue'),\n      defaulted('resetOnDom', false)\n    ];\n\n    const Representing = create$3({\n      fields: RepresentSchema,\n      name: 'representing',\n      active: ActiveRepresenting,\n      apis: RepresentApis,\n      extra: {\n        setValueFrom: (component, source) => {\n          const value = Representing.getValue(source);\n          Representing.setValue(component, value);\n        }\n      },\n      state: RepresentState\n    });\n\n    const field = (name, forbidden) => defaultedObjOf(name, {}, map$2(forbidden, f => forbid(f.name(), 'Cannot configure ' + f.name() + ' for ' + name)).concat([customField('dump', identity)]));\n    const get$3 = data => data.dump;\n    const augment = (data, original) => ({\n      ...derive$1(original),\n      ...data.dump\n    });\n    const SketchBehaviours = {\n      field,\n      augment,\n      get: get$3\n    };\n\n    const _placeholder = 'placeholder';\n    const adt$3 = Adt.generate([\n      {\n        single: [\n          'required',\n          'valueThunk'\n        ]\n      },\n      {\n        multiple: [\n          'required',\n          'valueThunks'\n        ]\n      }\n    ]);\n    const isSubstituted = spec => has$2(spec, 'uiType');\n    const subPlaceholder = (owner, detail, compSpec, placeholders) => {\n      if (owner.exists(o => o !== compSpec.owner)) {\n        return adt$3.single(true, constant$1(compSpec));\n      }\n      return get$g(placeholders, compSpec.name).fold(() => {\n        throw new Error('Unknown placeholder component: ' + compSpec.name + '\\nKnown: [' + keys(placeholders) + ']\\nNamespace: ' + owner.getOr('none') + '\\nSpec: ' + JSON.stringify(compSpec, null, 2));\n      }, newSpec => newSpec.replace());\n    };\n    const scan = (owner, detail, compSpec, placeholders) => {\n      if (isSubstituted(compSpec) && compSpec.uiType === _placeholder) {\n        return subPlaceholder(owner, detail, compSpec, placeholders);\n      } else {\n        return adt$3.single(false, constant$1(compSpec));\n      }\n    };\n    const substitute = (owner, detail, compSpec, placeholders) => {\n      const base = scan(owner, detail, compSpec, placeholders);\n      return base.fold((req, valueThunk) => {\n        const value = isSubstituted(compSpec) ? valueThunk(detail, compSpec.config, compSpec.validated) : valueThunk(detail);\n        const childSpecs = get$g(value, 'components').getOr([]);\n        const substituted = bind$3(childSpecs, c => substitute(owner, detail, c, placeholders));\n        return [{\n            ...value,\n            components: substituted\n          }];\n      }, (req, valuesThunk) => {\n        if (isSubstituted(compSpec)) {\n          const values = valuesThunk(detail, compSpec.config, compSpec.validated);\n          const preprocessor = compSpec.validated.preprocess.getOr(identity);\n          return preprocessor(values);\n        } else {\n          return valuesThunk(detail);\n        }\n      });\n    };\n    const substituteAll = (owner, detail, components, placeholders) => bind$3(components, c => substitute(owner, detail, c, placeholders));\n    const oneReplace = (label, replacements) => {\n      let called = false;\n      const used = () => called;\n      const replace = () => {\n        if (called) {\n          throw new Error('Trying to use the same placeholder more than once: ' + label);\n        }\n        called = true;\n        return replacements;\n      };\n      const required = () => replacements.fold((req, _) => req, (req, _) => req);\n      return {\n        name: constant$1(label),\n        required,\n        used,\n        replace\n      };\n    };\n    const substitutePlaces = (owner, detail, components, placeholders) => {\n      const ps = map$1(placeholders, (ph, name) => oneReplace(name, ph));\n      const outcome = substituteAll(owner, detail, components, ps);\n      each(ps, p => {\n        if (p.used() === false && p.required()) {\n          throw new Error('Placeholder: ' + p.name() + ' was not found in components list\\nNamespace: ' + owner.getOr('none') + '\\nComponents: ' + JSON.stringify(detail.components, null, 2));\n        }\n      });\n      return outcome;\n    };\n    const single$2 = adt$3.single;\n    const multiple = adt$3.multiple;\n    const placeholder = constant$1(_placeholder);\n\n    const adt$2 = Adt.generate([\n      { required: ['data'] },\n      { external: ['data'] },\n      { optional: ['data'] },\n      { group: ['data'] }\n    ]);\n    const fFactory = defaulted('factory', { sketch: identity });\n    const fSchema = defaulted('schema', []);\n    const fName = required$1('name');\n    const fPname = field$1('pname', 'pname', defaultedThunk(typeSpec => '<alloy.' + generate$6(typeSpec.name) + '>'), anyValue());\n    const fGroupSchema = customField('schema', () => [option$3('preprocess')]);\n    const fDefaults = defaulted('defaults', constant$1({}));\n    const fOverrides = defaulted('overrides', constant$1({}));\n    const requiredSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const externalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fDefaults,\n      fOverrides\n    ]);\n    const optionalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const groupSpec = objOf([\n      fFactory,\n      fGroupSchema,\n      fName,\n      required$1('unit'),\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const asNamedPart = part => {\n      return part.fold(Optional.some, Optional.none, Optional.some, Optional.some);\n    };\n    const name$2 = part => {\n      const get = data => data.name;\n      return part.fold(get, get, get, get);\n    };\n    const asCommon = part => {\n      return part.fold(identity, identity, identity, identity);\n    };\n    const convert = (adtConstructor, partSchema) => spec => {\n      const data = asRawOrDie$1('Converting part type', partSchema, spec);\n      return adtConstructor(data);\n    };\n    const required = convert(adt$2.required, requiredSpec);\n    const external = convert(adt$2.external, externalSpec);\n    const optional = convert(adt$2.optional, optionalSpec);\n    const group = convert(adt$2.group, groupSpec);\n    const original = constant$1('entirety');\n\n    var PartType = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        required: required,\n        external: external,\n        optional: optional,\n        group: group,\n        asNamedPart: asNamedPart,\n        name: name$2,\n        asCommon: asCommon,\n        original: original\n    });\n\n    const combine = (detail, data, partSpec, partValidated) => deepMerge(data.defaults(detail, partSpec, partValidated), partSpec, { uid: detail.partUids[data.name] }, data.overrides(detail, partSpec, partValidated));\n    const subs = (owner, detail, parts) => {\n      const internals = {};\n      const externals = {};\n      each$1(parts, part => {\n        part.fold(data => {\n          internals[data.pname] = single$2(true, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          const partSpec = detail.parts[data.name];\n          externals[data.name] = constant$1(data.factory.sketch(combine(detail, data, partSpec[original()]), partSpec));\n        }, data => {\n          internals[data.pname] = single$2(false, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          internals[data.pname] = multiple(true, (detail, _partSpec, _partValidated) => {\n            const units = detail[data.name];\n            return map$2(units, u => data.factory.sketch(deepMerge(data.defaults(detail, u, _partValidated), u, data.overrides(detail, u))));\n          });\n        });\n      });\n      return {\n        internals: constant$1(internals),\n        externals: constant$1(externals)\n      };\n    };\n\n    const generate$3 = (owner, parts) => {\n      const r = {};\n      each$1(parts, part => {\n        asNamedPart(part).each(np => {\n          const g = doGenerateOne(owner, np.pname);\n          r[np.name] = config => {\n            const validated = asRawOrDie$1('Part: ' + np.name + ' in ' + owner, objOf(np.schema), config);\n            return {\n              ...g,\n              config,\n              validated\n            };\n          };\n        });\n      });\n      return r;\n    };\n    const doGenerateOne = (owner, pname) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname\n    });\n    const generateOne$1 = (owner, pname, config) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname,\n      config,\n      validated: {}\n    });\n    const schemas = parts => bind$3(parts, part => part.fold(Optional.none, Optional.some, Optional.none, Optional.none).map(data => requiredObjOf(data.name, data.schema.concat([snapshot(original())]))).toArray());\n    const names = parts => map$2(parts, name$2);\n    const substitutes = (owner, detail, parts) => subs(owner, detail, parts);\n    const components$1 = (owner, detail, internals) => substitutePlaces(Optional.some(owner), detail, detail.components, internals);\n    const getPart = (component, detail, partKey) => {\n      const uid = detail.partUids[partKey];\n      return component.getSystem().getByUid(uid).toOptional();\n    };\n    const getPartOrDie = (component, detail, partKey) => getPart(component, detail, partKey).getOrDie('Could not find part: ' + partKey);\n    const getParts = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]));\n      });\n      return r;\n    };\n    const getAllParts = (component, detail) => {\n      const system = component.getSystem();\n      return map$1(detail.partUids, (pUid, _k) => constant$1(system.getByUid(pUid)));\n    };\n    const getAllPartNames = detail => keys(detail.partUids);\n    const getPartsOrDie = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]).getOrDie());\n      });\n      return r;\n    };\n    const defaultUids = (baseUid, partTypes) => {\n      const partNames = names(partTypes);\n      return wrapAll(map$2(partNames, pn => ({\n        key: pn,\n        value: baseUid + '-' + pn\n      })));\n    };\n    const defaultUidsSchema = partTypes => field$1('partUids', 'partUids', mergeWithThunk(spec => defaultUids(spec.uid, partTypes)), anyValue());\n\n    var AlloyParts = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        generate: generate$3,\n        generateOne: generateOne$1,\n        schemas: schemas,\n        names: names,\n        substitutes: substitutes,\n        components: components$1,\n        defaultUids: defaultUids,\n        defaultUidsSchema: defaultUidsSchema,\n        getAllParts: getAllParts,\n        getAllPartNames: getAllPartNames,\n        getPart: getPart,\n        getPartOrDie: getPartOrDie,\n        getParts: getParts,\n        getPartsOrDie: getPartsOrDie\n    });\n\n    const base = (partSchemas, partUidsSchemas) => {\n      const ps = partSchemas.length > 0 ? [requiredObjOf('parts', partSchemas)] : [];\n      return ps.concat([\n        required$1('uid'),\n        defaulted('dom', {}),\n        defaulted('components', []),\n        snapshot('originalSpec'),\n        defaulted('debug.sketcher', {})\n      ]).concat(partUidsSchemas);\n    };\n    const asRawOrDie = (label, schema, spec, partSchemas, partUidsSchemas) => {\n      const baseS = base(partSchemas, partUidsSchemas);\n      return asRawOrDie$1(label + ' [SpecSchema]', objOfOnly(baseS.concat(schema)), spec);\n    };\n\n    const single$1 = (owner, schema, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const detail = asRawOrDie(owner, schema, specWithUid, [], []);\n      return factory(detail, specWithUid);\n    };\n    const composite$1 = (owner, schema, partTypes, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const partSchemas = schemas(partTypes);\n      const partUidsSchema = defaultUidsSchema(partTypes);\n      const detail = asRawOrDie(owner, schema, specWithUid, partSchemas, [partUidsSchema]);\n      const subs = substitutes(owner, detail, partTypes);\n      const components = components$1(owner, detail, subs.internals());\n      return factory(detail, components, specWithUid, subs.externals());\n    };\n    const hasUid = spec => has$2(spec, 'uid');\n    const supplyUid = spec => {\n      return hasUid(spec) ? spec : {\n        ...spec,\n        uid: generate$5('uid')\n      };\n    };\n\n    const isSketchSpec = spec => {\n      return spec.uid !== undefined;\n    };\n    const singleSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const compositeSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      required$1('partFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const single = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, singleSchema, rawConfig);\n      const sketch = spec => single$1(config.name, config.configFields, config.factory, spec);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        configFields: config.configFields,\n        sketch,\n        ...apis,\n        ...extraApis\n      };\n    };\n    const composite = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, compositeSchema, rawConfig);\n      const sketch = spec => composite$1(config.name, config.configFields, config.partFields, config.factory, spec);\n      const parts = generate$3(config.name, config.partFields);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        partFields: config.partFields,\n        configFields: config.configFields,\n        sketch,\n        parts,\n        ...apis,\n        ...extraApis\n      };\n    };\n\n    const inside = target => isTag('input')(target) && get$f(target, 'type') !== 'radio' || isTag('textarea')(target);\n\n    const getCurrent = (component, composeConfig, _composeState) => composeConfig.find(component);\n\n    var ComposeApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCurrent: getCurrent\n    });\n\n    const ComposeSchema = [required$1('find')];\n\n    const Composing = create$3({\n      fields: ComposeSchema,\n      name: 'composing',\n      apis: ComposeApis\n    });\n\n    const nativeDisabled = [\n      'input',\n      'button',\n      'textarea',\n      'select'\n    ];\n    const onLoad$1 = (component, disableConfig, disableState) => {\n      const f = disableConfig.disabled() ? disable : enable;\n      f(component, disableConfig);\n    };\n    const hasNative = (component, config) => config.useNative === true && contains$2(nativeDisabled, name$3(component.element));\n    const nativeIsDisabled = component => has$1(component.element, 'disabled');\n    const nativeDisable = component => {\n      set$9(component.element, 'disabled', 'disabled');\n    };\n    const nativeEnable = component => {\n      remove$7(component.element, 'disabled');\n    };\n    const ariaIsDisabled = component => get$f(component.element, 'aria-disabled') === 'true';\n    const ariaDisable = component => {\n      set$9(component.element, 'aria-disabled', 'true');\n    };\n    const ariaEnable = component => {\n      set$9(component.element, 'aria-disabled', 'false');\n    };\n    const disable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        add$2(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeDisable : ariaDisable;\n      f(component);\n      disableConfig.onDisabled(component);\n    };\n    const enable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        remove$2(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeEnable : ariaEnable;\n      f(component);\n      disableConfig.onEnabled(component);\n    };\n    const isDisabled = (component, disableConfig) => hasNative(component, disableConfig) ? nativeIsDisabled(component) : ariaIsDisabled(component);\n    const set$4 = (component, disableConfig, disableState, disabled) => {\n      const f = disabled ? disable : enable;\n      f(component, disableConfig);\n    };\n\n    var DisableApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        enable: enable,\n        disable: disable,\n        isDisabled: isDisabled,\n        onLoad: onLoad$1,\n        set: set$4\n    });\n\n    const exhibit$5 = (base, disableConfig) => nu$7({ classes: disableConfig.disabled() ? disableConfig.disableClass.toArray() : [] });\n    const events$e = (disableConfig, disableState) => derive$2([\n      abort(execute$5(), (component, _simulatedEvent) => isDisabled(component, disableConfig)),\n      loadEvent(disableConfig, disableState, onLoad$1)\n    ]);\n\n    var ActiveDisable = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$5,\n        events: events$e\n    });\n\n    var DisableSchema = [\n      defaultedFunction('disabled', never),\n      defaulted('useNative', true),\n      option$3('disableClass'),\n      onHandler('onDisabled'),\n      onHandler('onEnabled')\n    ];\n\n    const Disabling = create$3({\n      fields: DisableSchema,\n      name: 'disabling',\n      active: ActiveDisable,\n      apis: DisableApis\n    });\n\n    const dehighlightAllExcept = (component, hConfig, hState, skip) => {\n      const highlighted = descendants(component.element, '.' + hConfig.highlightClass);\n      each$1(highlighted, h => {\n        if (!exists(skip, skipComp => skipComp.element === h)) {\n          remove$2(h, hConfig.highlightClass);\n          component.getSystem().getByDom(h).each(target => {\n            hConfig.onDehighlight(component, target);\n            emit(target, dehighlight$1());\n          });\n        }\n      });\n    };\n    const dehighlightAll = (component, hConfig, hState) => dehighlightAllExcept(component, hConfig, hState, []);\n    const dehighlight = (component, hConfig, hState, target) => {\n      if (isHighlighted(component, hConfig, hState, target)) {\n        remove$2(target.element, hConfig.highlightClass);\n        hConfig.onDehighlight(component, target);\n        emit(target, dehighlight$1());\n      }\n    };\n    const highlight = (component, hConfig, hState, target) => {\n      dehighlightAllExcept(component, hConfig, hState, [target]);\n      if (!isHighlighted(component, hConfig, hState, target)) {\n        add$2(target.element, hConfig.highlightClass);\n        hConfig.onHighlight(component, target);\n        emit(target, highlight$1());\n      }\n    };\n    const highlightFirst = (component, hConfig, hState) => {\n      getFirst(component, hConfig).each(firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightLast = (component, hConfig, hState) => {\n      getLast(component, hConfig).each(lastComp => {\n        highlight(component, hConfig, hState, lastComp);\n      });\n    };\n    const highlightAt = (component, hConfig, hState, index) => {\n      getByIndex(component, hConfig, hState, index).fold(err => {\n        throw err;\n      }, firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightBy = (component, hConfig, hState, predicate) => {\n      const candidates = getCandidates(component, hConfig);\n      const targetComp = find$5(candidates, predicate);\n      targetComp.each(c => {\n        highlight(component, hConfig, hState, c);\n      });\n    };\n    const isHighlighted = (component, hConfig, hState, queryTarget) => has(queryTarget.element, hConfig.highlightClass);\n    const getHighlighted = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.highlightClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getByIndex = (component, hConfig, hState, index) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return Optional.from(items[index]).fold(() => Result.error(new Error('No element found with index ' + index)), component.getSystem().getByDom);\n    };\n    const getFirst = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.itemClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getLast = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const last = items.length > 0 ? Optional.some(items[items.length - 1]) : Optional.none();\n      return last.bind(c => component.getSystem().getByDom(c).toOptional());\n    };\n    const getDelta$2 = (component, hConfig, hState, delta) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const current = findIndex$1(items, item => has(item, hConfig.highlightClass));\n      return current.bind(selected => {\n        const dest = cycleBy(selected, delta, 0, items.length - 1);\n        return component.getSystem().getByDom(items[dest]).toOptional();\n      });\n    };\n    const getPrevious = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, -1);\n    const getNext = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, +1);\n    const getCandidates = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return cat(map$2(items, i => component.getSystem().getByDom(i).toOptional()));\n    };\n\n    var HighlightApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        dehighlightAll: dehighlightAll,\n        dehighlight: dehighlight,\n        highlight: highlight,\n        highlightFirst: highlightFirst,\n        highlightLast: highlightLast,\n        highlightAt: highlightAt,\n        highlightBy: highlightBy,\n        isHighlighted: isHighlighted,\n        getHighlighted: getHighlighted,\n        getFirst: getFirst,\n        getLast: getLast,\n        getPrevious: getPrevious,\n        getNext: getNext,\n        getCandidates: getCandidates\n    });\n\n    var HighlightSchema = [\n      required$1('highlightClass'),\n      required$1('itemClass'),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ];\n\n    const Highlighting = create$3({\n      fields: HighlightSchema,\n      name: 'highlighting',\n      apis: HighlightApis\n    });\n\n    const BACKSPACE = [8];\n    const TAB = [9];\n    const ENTER = [13];\n    const ESCAPE = [27];\n    const SPACE = [32];\n    const LEFT = [37];\n    const UP = [38];\n    const RIGHT = [39];\n    const DOWN = [40];\n\n    const cyclePrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      const after = reverse(values.slice(index + 1));\n      return find$5(before.concat(after), predicate);\n    };\n    const tryPrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      return find$5(before, predicate);\n    };\n    const cycleNext = (values, index, predicate) => {\n      const before = values.slice(0, index);\n      const after = values.slice(index + 1);\n      return find$5(after.concat(before), predicate);\n    };\n    const tryNext = (values, index, predicate) => {\n      const after = values.slice(index + 1);\n      return find$5(after, predicate);\n    };\n\n    const inSet = keys => event => {\n      const raw = event.raw;\n      return contains$2(keys, raw.which);\n    };\n    const and = preds => event => forall(preds, pred => pred(event));\n    const isShift = event => {\n      const raw = event.raw;\n      return raw.shiftKey === true;\n    };\n    const isControl = event => {\n      const raw = event.raw;\n      return raw.ctrlKey === true;\n    };\n    const isNotShift = not(isShift);\n\n    const rule = (matches, action) => ({\n      matches,\n      classification: action\n    });\n    const choose = (transitions, event) => {\n      const transition = find$5(transitions, t => t.matches(event));\n      return transition.map(t => t.classification);\n    };\n\n    const reportFocusShifting = (component, prevFocus, newFocus) => {\n      const noChange = prevFocus.exists(p => newFocus.exists(n => eq(n, p)));\n      if (!noChange) {\n        emitWith(component, focusShifted(), {\n          prevFocus,\n          newFocus\n        });\n      }\n    };\n    const dom$2 = () => {\n      const get = component => search(component.element);\n      const set = (component, focusee) => {\n        const prevFocus = get(component);\n        component.getSystem().triggerFocus(focusee, component.element);\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n    const highlights = () => {\n      const get = component => Highlighting.getHighlighted(component).map(item => item.element);\n      const set = (component, element) => {\n        const prevFocus = get(component);\n        component.getSystem().getByDom(element).fold(noop, item => {\n          Highlighting.highlight(component, item);\n        });\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    var FocusInsideModes;\n    (function (FocusInsideModes) {\n      FocusInsideModes['OnFocusMode'] = 'onFocus';\n      FocusInsideModes['OnEnterOrSpaceMode'] = 'onEnterOrSpace';\n      FocusInsideModes['OnApiMode'] = 'onApi';\n    }(FocusInsideModes || (FocusInsideModes = {})));\n\n    const typical = (infoSchema, stateInit, getKeydownRules, getKeyupRules, optFocusIn) => {\n      const schema = () => infoSchema.concat([\n        defaulted('focusManager', dom$2()),\n        defaultedOf('focusInside', 'onFocus', valueOf(val => contains$2([\n          'onFocus',\n          'onEnterOrSpace',\n          'onApi'\n        ], val) ? Result.value(val) : Result.error('Invalid value for focusInside'))),\n        output$1('handler', me),\n        output$1('state', stateInit),\n        output$1('sendFocusIn', optFocusIn)\n      ]);\n      const processKey = (component, simulatedEvent, getRules, keyingConfig, keyingState) => {\n        const rules = getRules(component, simulatedEvent, keyingConfig, keyingState);\n        return choose(rules, simulatedEvent.event).bind(rule => rule(component, simulatedEvent, keyingConfig, keyingState));\n      };\n      const toEvents = (keyingConfig, keyingState) => {\n        const onFocusHandler = keyingConfig.focusInside !== FocusInsideModes.OnFocusMode ? Optional.none() : optFocusIn(keyingConfig).map(focusIn => run$1(focus$4(), (component, simulatedEvent) => {\n          focusIn(component, keyingConfig, keyingState);\n          simulatedEvent.stop();\n        }));\n        const tryGoInsideComponent = (component, simulatedEvent) => {\n          const isEnterOrSpace = inSet(SPACE.concat(ENTER))(simulatedEvent.event);\n          if (keyingConfig.focusInside === FocusInsideModes.OnEnterOrSpaceMode && isEnterOrSpace && isSource(component, simulatedEvent)) {\n            optFocusIn(keyingConfig).each(focusIn => {\n              focusIn(component, keyingConfig, keyingState);\n              simulatedEvent.stop();\n            });\n          }\n        };\n        const keyboardEvents = [\n          run$1(keydown(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeydownRules, keyingConfig, keyingState).fold(() => {\n              tryGoInsideComponent(component, simulatedEvent);\n            }, _ => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(keyup(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeyupRules, keyingConfig, keyingState).each(_ => {\n              simulatedEvent.stop();\n            });\n          })\n        ];\n        return derive$2(onFocusHandler.toArray().concat(keyboardEvents));\n      };\n      const me = {\n        schema,\n        processKey,\n        toEvents\n      };\n      return me;\n    };\n\n    const create$1 = cyclicField => {\n      const schema = [\n        option$3('onEscape'),\n        option$3('onEnter'),\n        defaulted('selector', '[data-alloy-tabstop=\"true\"]:not(:disabled)'),\n        defaulted('firstTabstop', 0),\n        defaulted('useTabstopAt', always),\n        option$3('visibilitySelector')\n      ].concat([cyclicField]);\n      const isVisible = (tabbingConfig, element) => {\n        const target = tabbingConfig.visibilitySelector.bind(sel => closest$1(element, sel)).getOr(element);\n        return get$d(target) > 0;\n      };\n      const findInitial = (component, tabbingConfig) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        const visibles = filter$2(tabstops, elem => isVisible(tabbingConfig, elem));\n        return Optional.from(visibles[tabbingConfig.firstTabstop]);\n      };\n      const findCurrent = (component, tabbingConfig) => tabbingConfig.focusManager.get(component).bind(elem => closest$1(elem, tabbingConfig.selector));\n      const isTabstop = (tabbingConfig, element) => isVisible(tabbingConfig, element) && tabbingConfig.useTabstopAt(element);\n      const focusIn = (component, tabbingConfig, _tabbingState) => {\n        findInitial(component, tabbingConfig).each(target => {\n          tabbingConfig.focusManager.set(component, target);\n        });\n      };\n      const goFromTabstop = (component, tabstops, stopIndex, tabbingConfig, cycle) => cycle(tabstops, stopIndex, elem => isTabstop(tabbingConfig, elem)).fold(() => tabbingConfig.cyclic ? Optional.some(true) : Optional.none(), target => {\n        tabbingConfig.focusManager.set(component, target);\n        return Optional.some(true);\n      });\n      const go = (component, _simulatedEvent, tabbingConfig, cycle) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        return findCurrent(component, tabbingConfig).bind(tabstop => {\n          const optStopIndex = findIndex$1(tabstops, curry(eq, tabstop));\n          return optStopIndex.bind(stopIndex => goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle));\n        });\n      };\n      const goBackwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cyclePrev : tryPrev;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const goForwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cycleNext : tryNext;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const execute = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEnter.bind(f => f(component, simulatedEvent));\n      const exit = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEscape.bind(f => f(component, simulatedEvent));\n      const getKeydownRules = constant$1([\n        rule(and([\n          isShift,\n          inSet(TAB)\n        ]), goBackwards),\n        rule(inSet(TAB), goForwards),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), execute)\n      ]);\n      const getKeyupRules = constant$1([rule(inSet(ESCAPE), exit)]);\n      return typical(schema, NoState.init, getKeydownRules, getKeyupRules, () => Optional.some(focusIn));\n    };\n\n    var AcyclicType = create$1(customField('cyclic', never));\n\n    var CyclicType = create$1(customField('cyclic', always));\n\n    const doDefaultExecute = (component, _simulatedEvent, focused) => {\n      dispatch(component, focused, execute$5());\n      return Optional.some(true);\n    };\n    const defaultExecute = (component, simulatedEvent, focused) => {\n      const isComplex = inside(focused) && inSet(SPACE)(simulatedEvent.event);\n      return isComplex ? Optional.none() : doDefaultExecute(component, simulatedEvent, focused);\n    };\n    const stopEventForFirefox = (_component, _simulatedEvent) => Optional.some(true);\n\n    const schema$v = [\n      defaulted('execute', defaultExecute),\n      defaulted('useSpace', false),\n      defaulted('useEnter', true),\n      defaulted('useControlEnter', false),\n      defaulted('useDown', false)\n    ];\n    const execute$4 = (component, simulatedEvent, executeConfig) => executeConfig.execute(component, simulatedEvent, component.element);\n    const getKeydownRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => {\n      const spaceExec = executeConfig.useSpace && !inside(component.element) ? SPACE : [];\n      const enterExec = executeConfig.useEnter ? ENTER : [];\n      const downExec = executeConfig.useDown ? DOWN : [];\n      const execKeys = spaceExec.concat(enterExec).concat(downExec);\n      return [rule(inSet(execKeys), execute$4)].concat(executeConfig.useControlEnter ? [rule(and([\n          isControl,\n          inSet(ENTER)\n        ]), execute$4)] : []);\n    };\n    const getKeyupRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => executeConfig.useSpace && !inside(component.element) ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    var ExecutionType = typical(schema$v, NoState.init, getKeydownRules$5, getKeyupRules$5, () => Optional.none());\n\n    const flatgrid$1 = () => {\n      const dimensions = value$2();\n      const setGridSize = (numRows, numColumns) => {\n        dimensions.set({\n          numRows,\n          numColumns\n        });\n      };\n      const getNumRows = () => dimensions.get().map(d => d.numRows);\n      const getNumColumns = () => dimensions.get().map(d => d.numColumns);\n      return nu$8({\n        readState: () => dimensions.get().map(d => ({\n          numRows: String(d.numRows),\n          numColumns: String(d.numColumns)\n        })).getOr({\n          numRows: '?',\n          numColumns: '?'\n        }),\n        setGridSize,\n        getNumRows,\n        getNumColumns\n      });\n    };\n    const init$d = spec => spec.state(spec);\n\n    var KeyingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        flatgrid: flatgrid$1,\n        init: init$d\n    });\n\n    const useH = movement => (component, simulatedEvent, config, state) => {\n      const move = movement(component.element);\n      return use(move, component, simulatedEvent, config, state);\n    };\n    const west$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveLeft, moveRight);\n      return useH(movement);\n    };\n    const east$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveRight, moveLeft);\n      return useH(movement);\n    };\n    const useV = move => (component, simulatedEvent, config, state) => use(move, component, simulatedEvent, config, state);\n    const use = (move, component, simulatedEvent, config, state) => {\n      const outcome = config.focusManager.get(component).bind(focused => move(component.element, focused, config, state));\n      return outcome.map(newFocus => {\n        config.focusManager.set(component, newFocus);\n        return true;\n      });\n    };\n    const north$1 = useV;\n    const south$1 = useV;\n    const move$1 = useV;\n\n    const isHidden$1 = dom => dom.offsetWidth <= 0 && dom.offsetHeight <= 0;\n    const isVisible = element => !isHidden$1(element.dom);\n\n    const locate = (candidates, predicate) => findIndex$1(candidates, predicate).map(index => ({\n      index,\n      candidates\n    }));\n\n    const locateVisible = (container, current, selector) => {\n      const predicate = x => eq(x, current);\n      const candidates = descendants(container, selector);\n      const visible = filter$2(candidates, isVisible);\n      return locate(visible, predicate);\n    };\n    const findIndex = (elements, target) => findIndex$1(elements, elem => eq(target, elem));\n\n    const withGrid = (values, index, numCols, f) => {\n      const oldRow = Math.floor(index / numCols);\n      const oldColumn = index % numCols;\n      return f(oldRow, oldColumn).bind(address => {\n        const newIndex = address.row * numCols + address.column;\n        return newIndex >= 0 && newIndex < values.length ? Optional.some(values[newIndex]) : Optional.none();\n      });\n    };\n    const cycleHorizontal$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const onLastRow = oldRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - oldRow * numCols : numCols;\n      const newColumn = cycleBy(oldColumn, delta, 0, colsInRow - 1);\n      return Optional.some({\n        row: oldRow,\n        column: newColumn\n      });\n    });\n    const cycleVertical$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const newRow = cycleBy(oldRow, delta, 0, numRows - 1);\n      const onLastRow = newRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - newRow * numCols : numCols;\n      const newCol = clamp(oldColumn, 0, colsInRow - 1);\n      return Optional.some({\n        row: newRow,\n        column: newCol\n      });\n    });\n    const cycleRight$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, +1);\n    const cycleLeft$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, -1);\n    const cycleUp$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, -1);\n    const cycleDown$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, +1);\n\n    const schema$u = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('captureTab', false),\n      initSize()\n    ];\n    const focusIn$3 = (component, gridConfig, _gridState) => {\n      descendant(component.element, gridConfig.selector).each(first => {\n        gridConfig.focusManager.set(component, first);\n      });\n    };\n    const findCurrent$1 = (component, gridConfig) => gridConfig.focusManager.get(component).bind(elem => closest$1(elem, gridConfig.selector));\n    const execute$3 = (component, simulatedEvent, gridConfig, _gridState) => findCurrent$1(component, gridConfig).bind(focused => gridConfig.execute(component, simulatedEvent, focused));\n    const doMove$2 = cycle => (element, focused, gridConfig, gridState) => locateVisible(element, focused, gridConfig.selector).bind(identified => cycle(identified.candidates, identified.index, gridState.getNumRows().getOr(gridConfig.initSize.numRows), gridState.getNumColumns().getOr(gridConfig.initSize.numColumns)));\n    const handleTab = (_component, _simulatedEvent, gridConfig) => gridConfig.captureTab ? Optional.some(true) : Optional.none();\n    const doEscape$1 = (component, simulatedEvent, gridConfig) => gridConfig.onEscape(component, simulatedEvent);\n    const moveLeft$3 = doMove$2(cycleLeft$1);\n    const moveRight$3 = doMove$2(cycleRight$1);\n    const moveNorth$1 = doMove$2(cycleUp$1);\n    const moveSouth$1 = doMove$2(cycleDown$1);\n    const getKeydownRules$4 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft$3, moveRight$3)),\n      rule(inSet(RIGHT), east$1(moveLeft$3, moveRight$3)),\n      rule(inSet(UP), north$1(moveNorth$1)),\n      rule(inSet(DOWN), south$1(moveSouth$1)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(inSet(SPACE.concat(ENTER)), execute$3)\n    ]);\n    const getKeyupRules$4 = constant$1([\n      rule(inSet(ESCAPE), doEscape$1),\n      rule(inSet(SPACE), stopEventForFirefox)\n    ]);\n    var FlatgridType = typical(schema$u, flatgrid$1, getKeydownRules$4, getKeyupRules$4, () => Optional.some(focusIn$3));\n\n    const horizontal = (container, selector, current, delta) => {\n      const isDisabledButton = candidate => name$3(candidate) === 'button' && get$f(candidate, 'disabled') === 'disabled';\n      const tryCycle = (initial, index, candidates) => {\n        const newIndex = cycleBy(index, delta, 0, candidates.length - 1);\n        if (newIndex === initial) {\n          return Optional.none();\n        } else {\n          return isDisabledButton(candidates[newIndex]) ? tryCycle(initial, newIndex, candidates) : Optional.from(candidates[newIndex]);\n        }\n      };\n      return locateVisible(container, current, selector).bind(identified => {\n        const index = identified.index;\n        const candidates = identified.candidates;\n        return tryCycle(index, index, candidates);\n      });\n    };\n\n    const schema$t = [\n      required$1('selector'),\n      defaulted('getInitial', Optional.none),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('executeOnMove', false),\n      defaulted('allowVertical', true)\n    ];\n    const findCurrent = (component, flowConfig) => flowConfig.focusManager.get(component).bind(elem => closest$1(elem, flowConfig.selector));\n    const execute$2 = (component, simulatedEvent, flowConfig) => findCurrent(component, flowConfig).bind(focused => flowConfig.execute(component, simulatedEvent, focused));\n    const focusIn$2 = (component, flowConfig, _state) => {\n      flowConfig.getInitial(component).orThunk(() => descendant(component.element, flowConfig.selector)).each(first => {\n        flowConfig.focusManager.set(component, first);\n      });\n    };\n    const moveLeft$2 = (element, focused, info) => horizontal(element, info.selector, focused, -1);\n    const moveRight$2 = (element, focused, info) => horizontal(element, info.selector, focused, +1);\n    const doMove$1 = movement => (component, simulatedEvent, flowConfig, flowState) => movement(component, simulatedEvent, flowConfig, flowState).bind(() => flowConfig.executeOnMove ? execute$2(component, simulatedEvent, flowConfig) : Optional.some(true));\n    const doEscape = (component, simulatedEvent, flowConfig) => flowConfig.onEscape(component, simulatedEvent);\n    const getKeydownRules$3 = (_component, _se, flowConfig, _flowState) => {\n      const westMovers = LEFT.concat(flowConfig.allowVertical ? UP : []);\n      const eastMovers = RIGHT.concat(flowConfig.allowVertical ? DOWN : []);\n      return [\n        rule(inSet(westMovers), doMove$1(west$1(moveLeft$2, moveRight$2))),\n        rule(inSet(eastMovers), doMove$1(east$1(moveLeft$2, moveRight$2))),\n        rule(inSet(ENTER), execute$2),\n        rule(inSet(SPACE), execute$2)\n      ];\n    };\n    const getKeyupRules$3 = constant$1([\n      rule(inSet(SPACE), stopEventForFirefox),\n      rule(inSet(ESCAPE), doEscape)\n    ]);\n    var FlowType = typical(schema$t, NoState.init, getKeydownRules$3, getKeyupRules$3, () => Optional.some(focusIn$2));\n\n    const toCell = (matrix, rowIndex, columnIndex) => Optional.from(matrix[rowIndex]).bind(row => Optional.from(row[columnIndex]).map(cell => ({\n      rowIndex,\n      columnIndex,\n      cell\n    })));\n    const cycleHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = cycleBy(startCol, deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const cycleVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = cycleBy(startRow, deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const moveHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = clamp(startCol + deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const moveVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = clamp(startRow + deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const cycleRight = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, +1);\n    const cycleLeft = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, -1);\n    const cycleUp = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, -1);\n    const cycleDown = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, +1);\n    const moveLeft$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, -1);\n    const moveRight$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, +1);\n    const moveUp$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, -1);\n    const moveDown$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, +1);\n\n    const schema$s = [\n      requiredObjOf('selectors', [\n        required$1('row'),\n        required$1('cell')\n      ]),\n      defaulted('cycles', true),\n      defaulted('previousSelector', Optional.none),\n      defaulted('execute', defaultExecute)\n    ];\n    const focusIn$1 = (component, matrixConfig, _state) => {\n      const focused = matrixConfig.previousSelector(component).orThunk(() => {\n        const selectors = matrixConfig.selectors;\n        return descendant(component.element, selectors.cell);\n      });\n      focused.each(cell => {\n        matrixConfig.focusManager.set(component, cell);\n      });\n    };\n    const execute$1 = (component, simulatedEvent, matrixConfig) => search(component.element).bind(focused => matrixConfig.execute(component, simulatedEvent, focused));\n    const toMatrix = (rows, matrixConfig) => map$2(rows, row => descendants(row, matrixConfig.selectors.cell));\n    const doMove = (ifCycle, ifMove) => (element, focused, matrixConfig) => {\n      const move = matrixConfig.cycles ? ifCycle : ifMove;\n      return closest$1(focused, matrixConfig.selectors.row).bind(inRow => {\n        const cellsInRow = descendants(inRow, matrixConfig.selectors.cell);\n        return findIndex(cellsInRow, focused).bind(colIndex => {\n          const allRows = descendants(element, matrixConfig.selectors.row);\n          return findIndex(allRows, inRow).bind(rowIndex => {\n            const matrix = toMatrix(allRows, matrixConfig);\n            return move(matrix, rowIndex, colIndex).map(next => next.cell);\n          });\n        });\n      });\n    };\n    const moveLeft = doMove(cycleLeft, moveLeft$1);\n    const moveRight = doMove(cycleRight, moveRight$1);\n    const moveNorth = doMove(cycleUp, moveUp$1);\n    const moveSouth = doMove(cycleDown, moveDown$1);\n    const getKeydownRules$2 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft, moveRight)),\n      rule(inSet(RIGHT), east$1(moveLeft, moveRight)),\n      rule(inSet(UP), north$1(moveNorth)),\n      rule(inSet(DOWN), south$1(moveSouth)),\n      rule(inSet(SPACE.concat(ENTER)), execute$1)\n    ]);\n    const getKeyupRules$2 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MatrixType = typical(schema$s, NoState.init, getKeydownRules$2, getKeyupRules$2, () => Optional.some(focusIn$1));\n\n    const schema$r = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      defaulted('moveOnTab', false)\n    ];\n    const execute = (component, simulatedEvent, menuConfig) => menuConfig.focusManager.get(component).bind(focused => menuConfig.execute(component, simulatedEvent, focused));\n    const focusIn = (component, menuConfig, _state) => {\n      descendant(component.element, menuConfig.selector).each(first => {\n        menuConfig.focusManager.set(component, first);\n      });\n    };\n    const moveUp = (element, focused, info) => horizontal(element, info.selector, focused, -1);\n    const moveDown = (element, focused, info) => horizontal(element, info.selector, focused, +1);\n    const fireShiftTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveUp)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const fireTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveDown)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const getKeydownRules$1 = constant$1([\n      rule(inSet(UP), move$1(moveUp)),\n      rule(inSet(DOWN), move$1(moveDown)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), fireShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), fireTab),\n      rule(inSet(ENTER), execute),\n      rule(inSet(SPACE), execute)\n    ]);\n    const getKeyupRules$1 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MenuType = typical(schema$r, NoState.init, getKeydownRules$1, getKeyupRules$1, () => Optional.some(focusIn));\n\n    const schema$q = [\n      onKeyboardHandler('onSpace'),\n      onKeyboardHandler('onEnter'),\n      onKeyboardHandler('onShiftEnter'),\n      onKeyboardHandler('onLeft'),\n      onKeyboardHandler('onRight'),\n      onKeyboardHandler('onTab'),\n      onKeyboardHandler('onShiftTab'),\n      onKeyboardHandler('onUp'),\n      onKeyboardHandler('onDown'),\n      onKeyboardHandler('onEscape'),\n      defaulted('stopSpaceKeyup', false),\n      option$3('focusIn')\n    ];\n    const getKeydownRules = (component, simulatedEvent, specialInfo) => [\n      rule(inSet(SPACE), specialInfo.onSpace),\n      rule(and([\n        isNotShift,\n        inSet(ENTER)\n      ]), specialInfo.onEnter),\n      rule(and([\n        isShift,\n        inSet(ENTER)\n      ]), specialInfo.onShiftEnter),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), specialInfo.onShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), specialInfo.onTab),\n      rule(inSet(UP), specialInfo.onUp),\n      rule(inSet(DOWN), specialInfo.onDown),\n      rule(inSet(LEFT), specialInfo.onLeft),\n      rule(inSet(RIGHT), specialInfo.onRight),\n      rule(inSet(SPACE), specialInfo.onSpace)\n    ];\n    const getKeyupRules = (component, simulatedEvent, specialInfo) => [\n      ...specialInfo.stopSpaceKeyup ? [rule(inSet(SPACE), stopEventForFirefox)] : [],\n      rule(inSet(ESCAPE), specialInfo.onEscape)\n    ];\n    var SpecialType = typical(schema$q, NoState.init, getKeydownRules, getKeyupRules, specialInfo => specialInfo.focusIn);\n\n    const acyclic = AcyclicType.schema();\n    const cyclic = CyclicType.schema();\n    const flow = FlowType.schema();\n    const flatgrid = FlatgridType.schema();\n    const matrix = MatrixType.schema();\n    const execution = ExecutionType.schema();\n    const menu = MenuType.schema();\n    const special = SpecialType.schema();\n\n    var KeyboardBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        acyclic: acyclic,\n        cyclic: cyclic,\n        flow: flow,\n        flatgrid: flatgrid,\n        matrix: matrix,\n        execution: execution,\n        menu: menu,\n        special: special\n    });\n\n    const isFlatgridState = keyState => hasNonNullableKey(keyState, 'setGridSize');\n    const Keying = createModes({\n      branchKey: 'mode',\n      branches: KeyboardBranches,\n      name: 'keying',\n      active: {\n        events: (keyingConfig, keyingState) => {\n          const handler = keyingConfig.handler;\n          return handler.toEvents(keyingConfig, keyingState);\n        }\n      },\n      apis: {\n        focusIn: (component, keyConfig, keyState) => {\n          keyConfig.sendFocusIn(keyConfig).fold(() => {\n            component.getSystem().triggerFocus(component.element, component.element);\n          }, sendFocusIn => {\n            sendFocusIn(component, keyConfig, keyState);\n          });\n        },\n        setGridSize: (component, keyConfig, keyState, numRows, numColumns) => {\n          if (!isFlatgridState(keyState)) {\n            console.error('Layout does not support setGridSize');\n          } else {\n            keyState.setGridSize(numRows, numColumns);\n          }\n        }\n      },\n      state: KeyingState\n    });\n\n    const withoutReuse = (parent, data) => {\n      preserve$1(() => {\n        replaceChildren(parent, data, () => map$2(data, parent.getSystem().build));\n      }, parent.element);\n    };\n    const withReuse = (parent, data) => {\n      preserve$1(() => {\n        virtualReplaceChildren(parent, data, () => {\n          return patchSpecChildren(parent.element, data, parent.getSystem().buildOrPatch);\n        });\n      }, parent.element);\n    };\n\n    const virtualReplace = (component, replacee, replaceeIndex, childSpec) => {\n      virtualDetach(replacee);\n      const child = patchSpecChild(component.element, replaceeIndex, childSpec, component.getSystem().buildOrPatch);\n      virtualAttach(component, child);\n      component.syncComponents();\n    };\n    const insert = (component, insertion, childSpec) => {\n      const child = component.getSystem().build(childSpec);\n      attachWith(component, child, insertion);\n    };\n    const replace = (component, replacee, replaceeIndex, childSpec) => {\n      detach(replacee);\n      insert(component, (p, c) => appendAt(p, c, replaceeIndex), childSpec);\n    };\n    const set$3 = (component, replaceConfig, replaceState, data) => {\n      const replacer = replaceConfig.reuseDom ? withReuse : withoutReuse;\n      return replacer(component, data);\n    };\n    const append = (component, replaceConfig, replaceState, appendee) => {\n      insert(component, append$2, appendee);\n    };\n    const prepend = (component, replaceConfig, replaceState, prependee) => {\n      insert(component, prepend$1, prependee);\n    };\n    const remove = (component, replaceConfig, replaceState, removee) => {\n      const children = contents(component);\n      const foundChild = find$5(children, child => eq(removee.element, child.element));\n      foundChild.each(detach);\n    };\n    const contents = (component, _replaceConfig) => component.components();\n    const replaceAt = (component, replaceConfig, replaceState, replaceeIndex, replacer) => {\n      const children = contents(component);\n      return Optional.from(children[replaceeIndex]).map(replacee => {\n        replacer.fold(() => detach(replacee), r => {\n          const replacer = replaceConfig.reuseDom ? virtualReplace : replace;\n          replacer(component, replacee, replaceeIndex, r);\n        });\n        return replacee;\n      });\n    };\n    const replaceBy = (component, replaceConfig, replaceState, replaceePred, replacer) => {\n      const children = contents(component);\n      return findIndex$1(children, replaceePred).bind(replaceeIndex => replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer));\n    };\n\n    var ReplaceApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        append: append,\n        prepend: prepend,\n        remove: remove,\n        replaceAt: replaceAt,\n        replaceBy: replaceBy,\n        set: set$3,\n        contents: contents\n    });\n\n    const Replacing = create$3({\n      fields: [defaultedBoolean('reuseDom', true)],\n      name: 'replacing',\n      apis: ReplaceApis\n    });\n\n    const events$d = (name, eventHandlers) => {\n      const events = derive$2(eventHandlers);\n      return create$3({\n        fields: [required$1('enabled')],\n        name,\n        active: { events: constant$1(events) }\n      });\n    };\n    const config = (name, eventHandlers) => {\n      const me = events$d(name, eventHandlers);\n      return {\n        key: name,\n        value: {\n          config: {},\n          me,\n          configAsRaw: constant$1({}),\n          initialConfig: {},\n          state: NoState\n        }\n      };\n    };\n\n    const focus$2 = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        focus$3(component.element);\n        focusConfig.onFocus(component);\n      }\n    };\n    const blur = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        blur$1(component.element);\n      }\n    };\n    const isFocused = component => hasFocus(component.element);\n\n    var FocusApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        focus: focus$2,\n        blur: blur,\n        isFocused: isFocused\n    });\n\n    const exhibit$4 = (base, focusConfig) => {\n      const mod = focusConfig.ignore ? {} : { attributes: { tabindex: '-1' } };\n      return nu$7(mod);\n    };\n    const events$c = focusConfig => derive$2([run$1(focus$4(), (component, simulatedEvent) => {\n        focus$2(component, focusConfig);\n        simulatedEvent.stop();\n      })].concat(focusConfig.stopMousedown ? [run$1(mousedown(), (_, simulatedEvent) => {\n        simulatedEvent.event.prevent();\n      })] : []));\n\n    var ActiveFocus = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$4,\n        events: events$c\n    });\n\n    var FocusSchema = [\n      onHandler('onFocus'),\n      defaulted('stopMousedown', false),\n      defaulted('ignore', false)\n    ];\n\n    const Focusing = create$3({\n      fields: FocusSchema,\n      name: 'focusing',\n      active: ActiveFocus,\n      apis: FocusApis\n    });\n\n    const SetupBehaviourCellState = initialState => {\n      const init = () => {\n        const cell = Cell(initialState);\n        const get = () => cell.get();\n        const set = newState => cell.set(newState);\n        const clear = () => cell.set(initialState);\n        const readState = () => cell.get();\n        return {\n          get,\n          set,\n          clear,\n          readState\n        };\n      };\n      return { init };\n    };\n\n    const updateAriaState = (component, toggleConfig, toggleState) => {\n      const ariaInfo = toggleConfig.aria;\n      ariaInfo.update(component, ariaInfo, toggleState.get());\n    };\n    const updateClass = (component, toggleConfig, toggleState) => {\n      toggleConfig.toggleClass.each(toggleClass => {\n        if (toggleState.get()) {\n          add$2(component.element, toggleClass);\n        } else {\n          remove$2(component.element, toggleClass);\n        }\n      });\n    };\n    const set$2 = (component, toggleConfig, toggleState, state) => {\n      const initialState = toggleState.get();\n      toggleState.set(state);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n      if (initialState !== state) {\n        toggleConfig.onToggled(component, state);\n      }\n    };\n    const toggle$2 = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, !toggleState.get());\n    };\n    const on = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, true);\n    };\n    const off = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, false);\n    };\n    const isOn = (component, toggleConfig, toggleState) => toggleState.get();\n    const onLoad = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, toggleConfig.selected);\n    };\n\n    var ToggleApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad,\n        toggle: toggle$2,\n        isOn: isOn,\n        on: on,\n        off: off,\n        set: set$2\n    });\n\n    const exhibit$3 = () => nu$7({});\n    const events$b = (toggleConfig, toggleState) => {\n      const execute = executeEvent(toggleConfig, toggleState, toggle$2);\n      const load = loadEvent(toggleConfig, toggleState, onLoad);\n      return derive$2(flatten([\n        toggleConfig.toggleOnExecute ? [execute] : [],\n        [load]\n      ]));\n    };\n\n    var ActiveToggle = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$3,\n        events: events$b\n    });\n\n    const updatePressed = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-pressed', status);\n      if (ariaInfo.syncWithExpanded) {\n        updateExpanded(component, ariaInfo, status);\n      }\n    };\n    const updateSelected = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-selected', status);\n    };\n    const updateChecked = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-checked', status);\n    };\n    const updateExpanded = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-expanded', status);\n    };\n\n    var ToggleSchema = [\n      defaulted('selected', false),\n      option$3('toggleClass'),\n      defaulted('toggleOnExecute', true),\n      onHandler('onToggled'),\n      defaultedOf('aria', { mode: 'none' }, choose$1('mode', {\n        pressed: [\n          defaulted('syncWithExpanded', false),\n          output$1('update', updatePressed)\n        ],\n        checked: [output$1('update', updateChecked)],\n        expanded: [output$1('update', updateExpanded)],\n        selected: [output$1('update', updateSelected)],\n        none: [output$1('update', noop)]\n      }))\n    ];\n\n    const Toggling = create$3({\n      fields: ToggleSchema,\n      name: 'toggling',\n      active: ActiveToggle,\n      apis: ToggleApis,\n      state: SetupBehaviourCellState(false)\n    });\n\n    const pointerEvents = () => {\n      const onClick = (component, simulatedEvent) => {\n        simulatedEvent.stop();\n        emitExecute(component);\n      };\n      return [\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        cutter(touchstart()),\n        cutter(mousedown())\n      ];\n    };\n    const events$a = optAction => {\n      const executeHandler = action => runOnExecute$1((component, simulatedEvent) => {\n        action(component);\n        simulatedEvent.stop();\n      });\n      return derive$2(flatten([\n        optAction.map(executeHandler).toArray(),\n        pointerEvents()\n      ]));\n    };\n\n    const hoverEvent = 'alloy.item-hover';\n    const focusEvent = 'alloy.item-focus';\n    const toggledEvent = 'alloy.item-toggled';\n    const onHover = item => {\n      if (search(item.element).isNone() || Focusing.isFocused(item)) {\n        if (!Focusing.isFocused(item)) {\n          Focusing.focus(item);\n        }\n        emitWith(item, hoverEvent, { item });\n      }\n    };\n    const onFocus$1 = item => {\n      emitWith(item, focusEvent, { item });\n    };\n    const onToggled = (item, state) => {\n      emitWith(item, toggledEvent, {\n        item,\n        state\n      });\n    };\n    const hover = constant$1(hoverEvent);\n    const focus$1 = constant$1(focusEvent);\n    const toggled = constant$1(toggledEvent);\n\n    const getItemRole = detail => detail.toggling.map(toggling => toggling.exclusive ? 'menuitemradio' : 'menuitemcheckbox').getOr('menuitem');\n    const getTogglingSpec = tConfig => ({\n      aria: { mode: 'checked' },\n      ...filter$1(tConfig, (_value, name) => name !== 'exclusive'),\n      onToggled: (component, state) => {\n        if (isFunction(tConfig.onToggled)) {\n          tConfig.onToggled(component, state);\n        }\n        onToggled(component, state);\n      }\n    });\n    const builder$2 = detail => ({\n      dom: detail.dom,\n      domModification: {\n        ...detail.domModification,\n        attributes: {\n          'role': getItemRole(detail),\n          ...detail.domModification.attributes,\n          'aria-haspopup': detail.hasSubmenu,\n          ...detail.hasSubmenu ? { 'aria-expanded': false } : {}\n        }\n      },\n      behaviours: SketchBehaviours.augment(detail.itemBehaviours, [\n        detail.toggling.fold(Toggling.revoke, tConfig => Toggling.config(getTogglingSpec(tConfig))),\n        Focusing.config({\n          ignore: detail.ignoreFocus,\n          stopMousedown: detail.ignoreFocus,\n          onFocus: component => {\n            onFocus$1(component);\n          }\n        }),\n        Keying.config({ mode: 'execution' }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.data\n          }\n        }),\n        config('item-type-events', [\n          ...pointerEvents(),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), Focusing.focus)\n        ])\n      ]),\n      components: detail.components,\n      eventOrder: detail.eventOrder\n    });\n    const schema$p = [\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('hasSubmenu', false),\n      option$3('toggling'),\n      SketchBehaviours.field('itemBehaviours', [\n        Toggling,\n        Focusing,\n        Keying,\n        Representing\n      ]),\n      defaulted('ignoreFocus', false),\n      defaulted('domModification', {}),\n      output$1('builder', builder$2),\n      defaulted('eventOrder', {})\n    ];\n\n    const builder$1 = detail => ({\n      dom: detail.dom,\n      components: detail.components,\n      events: derive$2([stopper(focusItem())])\n    });\n    const schema$o = [\n      required$1('dom'),\n      required$1('components'),\n      output$1('builder', builder$1)\n    ];\n\n    const owner$2 = constant$1('item-widget');\n    const parts$h = constant$1([required({\n        name: 'widget',\n        overrides: detail => {\n          return {\n            behaviours: derive$1([Representing.config({\n                store: {\n                  mode: 'manual',\n                  getValue: _component => {\n                    return detail.data;\n                  },\n                  setValue: noop\n                }\n              })])\n          };\n        }\n      })]);\n\n    const builder = detail => {\n      const subs = substitutes(owner$2(), detail, parts$h());\n      const components = components$1(owner$2(), detail, subs.internals());\n      const focusWidget = component => getPart(component, detail, 'widget').map(widget => {\n        Keying.focusIn(widget);\n        return widget;\n      });\n      const onHorizontalArrow = (component, simulatedEvent) => inside(simulatedEvent.event.target) ? Optional.none() : (() => {\n        if (detail.autofocus) {\n          simulatedEvent.setSource(component.element);\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      })();\n      return {\n        dom: detail.dom,\n        components,\n        domModification: detail.domModification,\n        events: derive$2([\n          runOnExecute$1((component, simulatedEvent) => {\n            focusWidget(component).each(_widget => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), (component, _simulatedEvent) => {\n            if (detail.autofocus) {\n              focusWidget(component);\n            } else {\n              Focusing.focus(component);\n            }\n          })\n        ]),\n        behaviours: SketchBehaviours.augment(detail.widgetBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            onFocus: component => {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            focusIn: detail.autofocus ? component => {\n              focusWidget(component);\n            } : revoke(),\n            onLeft: onHorizontalArrow,\n            onRight: onHorizontalArrow,\n            onEscape: (component, simulatedEvent) => {\n              if (!Focusing.isFocused(component) && !detail.autofocus) {\n                Focusing.focus(component);\n                return Optional.some(true);\n              } else if (detail.autofocus) {\n                simulatedEvent.setSource(component.element);\n                return Optional.none();\n              } else {\n                return Optional.none();\n              }\n            }\n          })\n        ])\n      };\n    };\n    const schema$n = [\n      required$1('uid'),\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('autofocus', false),\n      defaulted('ignoreFocus', false),\n      SketchBehaviours.field('widgetBehaviours', [\n        Representing,\n        Focusing,\n        Keying\n      ]),\n      defaulted('domModification', {}),\n      defaultUidsSchema(parts$h()),\n      output$1('builder', builder)\n    ];\n\n    const itemSchema$2 = choose$1('type', {\n      widget: schema$n,\n      item: schema$p,\n      separator: schema$o\n    });\n    const configureGrid = (detail, movementInfo) => ({\n      mode: 'flatgrid',\n      selector: '.' + detail.markers.item,\n      initSize: {\n        numColumns: movementInfo.initSize.numColumns,\n        numRows: movementInfo.initSize.numRows\n      },\n      focusManager: detail.focusManager\n    });\n    const configureMatrix = (detail, movementInfo) => ({\n      mode: 'matrix',\n      selectors: {\n        row: movementInfo.rowSelector,\n        cell: '.' + detail.markers.item\n      },\n      focusManager: detail.focusManager\n    });\n    const configureMenu = (detail, movementInfo) => ({\n      mode: 'menu',\n      selector: '.' + detail.markers.item,\n      moveOnTab: movementInfo.moveOnTab,\n      focusManager: detail.focusManager\n    });\n    const parts$g = constant$1([group({\n        factory: {\n          sketch: spec => {\n            const itemInfo = asRawOrDie$1('menu.spec item', itemSchema$2, spec);\n            return itemInfo.builder(itemInfo);\n          }\n        },\n        name: 'items',\n        unit: 'item',\n        defaults: (detail, u) => {\n          return has$2(u, 'uid') ? u : {\n            ...u,\n            uid: generate$5('item')\n          };\n        },\n        overrides: (detail, u) => {\n          return {\n            type: u.type,\n            ignoreFocus: detail.fakeFocus,\n            domModification: { classes: [detail.markers.item] }\n          };\n        }\n      })]);\n    const schema$m = constant$1([\n      required$1('value'),\n      required$1('items'),\n      required$1('dom'),\n      required$1('components'),\n      defaulted('eventOrder', {}),\n      field('menuBehaviours', [\n        Highlighting,\n        Representing,\n        Composing,\n        Keying\n      ]),\n      defaultedOf('movement', {\n        mode: 'menu',\n        moveOnTab: true\n      }, choose$1('mode', {\n        grid: [\n          initSize(),\n          output$1('config', configureGrid)\n        ],\n        matrix: [\n          output$1('config', configureMatrix),\n          required$1('rowSelector')\n        ],\n        menu: [\n          defaulted('moveOnTab', true),\n          output$1('config', configureMenu)\n        ]\n      })),\n      itemMarkers(),\n      defaulted('fakeFocus', false),\n      defaulted('focusManager', dom$2()),\n      onHandler('onHighlight')\n    ]);\n\n    const focus = constant$1('alloy.menu-focus');\n\n    const deselectOtherRadioItems = (menu, item) => {\n      const checkedRadioItems = descendants(menu.element, '[role=\"menuitemradio\"][aria-checked=\"true\"]');\n      each$1(checkedRadioItems, ele => {\n        if (!eq(ele, item.element)) {\n          menu.getSystem().getByDom(ele).each(c => {\n            Toggling.off(c);\n          });\n        }\n      });\n    };\n    const make$7 = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      markers: detail.markers,\n      behaviours: augment(detail.menuBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedItem,\n          itemClass: detail.markers.item,\n          onHighlight: detail.onHighlight\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        }),\n        Composing.config({ find: Optional.some }),\n        Keying.config(detail.movement.config(detail, detail.movement))\n      ]),\n      events: derive$2([\n        run$1(focus$1(), (menu, simulatedEvent) => {\n          const event = simulatedEvent.event;\n          menu.getSystem().getByDom(event.target).each(item => {\n            Highlighting.highlight(menu, item);\n            simulatedEvent.stop();\n            emitWith(menu, focus(), {\n              menu,\n              item\n            });\n          });\n        }),\n        run$1(hover(), (menu, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          Highlighting.highlight(menu, item);\n        }),\n        run$1(toggled(), (menu, simulatedEvent) => {\n          const {item, state} = simulatedEvent.event;\n          if (state && get$f(item.element, 'role') === 'menuitemradio') {\n            deselectOtherRadioItems(menu, item);\n          }\n        })\n      ]),\n      components,\n      eventOrder: detail.eventOrder,\n      domModification: { attributes: { role: 'menu' } }\n    });\n\n    const Menu = composite({\n      name: 'Menu',\n      configFields: schema$m(),\n      partFields: parts$g(),\n      factory: make$7\n    });\n\n    const transpose$1 = obj => tupleMap(obj, (v, k) => ({\n      k: v,\n      v: k\n    }));\n    const trace = (items, byItem, byMenu, finish) => get$g(byMenu, finish).bind(triggerItem => get$g(items, triggerItem).bind(triggerMenu => {\n      const rest = trace(items, byItem, byMenu, triggerMenu);\n      return Optional.some([triggerMenu].concat(rest));\n    })).getOr([]);\n    const generate$2 = (menus, expansions) => {\n      const items = {};\n      each(menus, (menuItems, menu) => {\n        each$1(menuItems, item => {\n          items[item] = menu;\n        });\n      });\n      const byItem = expansions;\n      const byMenu = transpose$1(expansions);\n      const menuPaths = map$1(byMenu, (_triggerItem, submenu) => [submenu].concat(trace(items, byItem, byMenu, submenu)));\n      return map$1(items, menu => get$g(menuPaths, menu).getOr([menu]));\n    };\n\n    const init$c = () => {\n      const expansions = Cell({});\n      const menus = Cell({});\n      const paths = Cell({});\n      const primary = value$2();\n      const directory = Cell({});\n      const clear = () => {\n        expansions.set({});\n        menus.set({});\n        paths.set({});\n        primary.clear();\n      };\n      const isClear = () => primary.get().isNone();\n      const setMenuBuilt = (menuName, built) => {\n        menus.set({\n          ...menus.get(),\n          [menuName]: {\n            type: 'prepared',\n            menu: built\n          }\n        });\n      };\n      const setContents = (sPrimary, sMenus, sExpansions, dir) => {\n        primary.set(sPrimary);\n        expansions.set(sExpansions);\n        menus.set(sMenus);\n        directory.set(dir);\n        const sPaths = generate$2(dir, sExpansions);\n        paths.set(sPaths);\n      };\n      const getTriggeringItem = menuValue => find$4(expansions.get(), (v, _k) => v === menuValue);\n      const getTriggerData = (menuValue, getItemByValue, path) => getPreparedMenu(menuValue).bind(menu => getTriggeringItem(menuValue).bind(triggeringItemValue => getItemByValue(triggeringItemValue).map(triggeredItem => ({\n        triggeredMenu: menu,\n        triggeringItem: triggeredItem,\n        triggeringPath: path\n      }))));\n      const getTriggeringPath = (itemValue, getItemByValue) => {\n        const extraPath = filter$2(lookupItem(itemValue).toArray(), menuValue => getPreparedMenu(menuValue).isSome());\n        return get$g(paths.get(), itemValue).bind(path => {\n          const revPath = reverse(extraPath.concat(path));\n          const triggers = bind$3(revPath, (menuValue, menuIndex) => getTriggerData(menuValue, getItemByValue, revPath.slice(0, menuIndex + 1)).fold(() => is$1(primary.get(), menuValue) ? [] : [Optional.none()], data => [Optional.some(data)]));\n          return sequence(triggers);\n        });\n      };\n      const expand = itemValue => get$g(expansions.get(), itemValue).map(menu => {\n        const current = get$g(paths.get(), itemValue).getOr([]);\n        return [menu].concat(current);\n      });\n      const collapse = itemValue => get$g(paths.get(), itemValue).bind(path => path.length > 1 ? Optional.some(path.slice(1)) : Optional.none());\n      const refresh = itemValue => get$g(paths.get(), itemValue);\n      const getPreparedMenu = menuValue => lookupMenu(menuValue).bind(extractPreparedMenu);\n      const lookupMenu = menuValue => get$g(menus.get(), menuValue);\n      const lookupItem = itemValue => get$g(expansions.get(), itemValue);\n      const otherMenus = path => {\n        const menuValues = directory.get();\n        return difference(keys(menuValues), path);\n      };\n      const getPrimary = () => primary.get().bind(getPreparedMenu);\n      const getMenus = () => menus.get();\n      return {\n        setMenuBuilt,\n        setContents,\n        expand,\n        refresh,\n        collapse,\n        lookupMenu,\n        lookupItem,\n        otherMenus,\n        getPrimary,\n        getMenus,\n        clear,\n        isClear,\n        getTriggeringPath\n      };\n    };\n    const extractPreparedMenu = prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n    const LayeredState = {\n      init: init$c,\n      extractPreparedMenu\n    };\n\n    const make$6 = (detail, _rawUiSpec) => {\n      const submenuParentItems = value$2();\n      const buildMenus = (container, primaryName, menus) => map$1(menus, (spec, name) => {\n        const makeSketch = () => Menu.sketch({\n          ...spec,\n          value: name,\n          markers: detail.markers,\n          fakeFocus: detail.fakeFocus,\n          onHighlight: detail.onHighlight,\n          focusManager: detail.fakeFocus ? highlights() : dom$2()\n        });\n        return name === primaryName ? {\n          type: 'prepared',\n          menu: container.getSystem().build(makeSketch())\n        } : {\n          type: 'notbuilt',\n          nbMenu: makeSketch\n        };\n      });\n      const layeredState = LayeredState.init();\n      const setup = container => {\n        const componentMap = buildMenus(container, detail.data.primary, detail.data.menus);\n        const directory = toDirectory();\n        layeredState.setContents(detail.data.primary, componentMap, detail.data.expansions, directory);\n        return layeredState.getPrimary();\n      };\n      const getItemValue = item => Representing.getValue(item).value;\n      const getItemByValue = (_container, menus, itemValue) => findMap(menus, menu => {\n        if (!menu.getSystem().isConnected()) {\n          return Optional.none();\n        }\n        const candidates = Highlighting.getCandidates(menu);\n        return find$5(candidates, c => getItemValue(c) === itemValue);\n      });\n      const toDirectory = _container => map$1(detail.data.menus, (data, _menuName) => bind$3(data.items, item => item.type === 'separator' ? [] : [item.data.value]));\n      const setActiveMenu = (container, menu) => {\n        Highlighting.highlight(container, menu);\n        Highlighting.getHighlighted(menu).orThunk(() => Highlighting.getFirst(menu)).each(item => {\n          dispatch(container, item.element, focusItem());\n        });\n      };\n      const getMenus = (state, menuValues) => cat(map$2(menuValues, mv => state.lookupMenu(mv).bind(prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none())));\n      const closeOthers = (container, state, path) => {\n        const others = getMenus(state, state.otherMenus(path));\n        each$1(others, o => {\n          remove$1(o.element, [detail.markers.backgroundMenu]);\n          if (!detail.stayInDom) {\n            Replacing.remove(container, o);\n          }\n        });\n      };\n      const getSubmenuParents = container => submenuParentItems.get().getOrThunk(() => {\n        const r = {};\n        const items = descendants(container.element, `.${ detail.markers.item }`);\n        const parentItems = filter$2(items, i => get$f(i, 'aria-haspopup') === 'true');\n        each$1(parentItems, i => {\n          container.getSystem().getByDom(i).each(itemComp => {\n            const key = getItemValue(itemComp);\n            r[key] = itemComp;\n          });\n        });\n        submenuParentItems.set(r);\n        return r;\n      });\n      const updateAriaExpansions = (container, path) => {\n        const parentItems = getSubmenuParents(container);\n        each(parentItems, (v, k) => {\n          const expanded = contains$2(path, k);\n          set$9(v.element, 'aria-expanded', expanded);\n        });\n      };\n      const updateMenuPath = (container, state, path) => Optional.from(path[0]).bind(latestMenuName => state.lookupMenu(latestMenuName).bind(menuPrep => {\n        if (menuPrep.type === 'notbuilt') {\n          return Optional.none();\n        } else {\n          const activeMenu = menuPrep.menu;\n          const rest = getMenus(state, path.slice(1));\n          each$1(rest, r => {\n            add$2(r.element, detail.markers.backgroundMenu);\n          });\n          if (!inBody(activeMenu.element)) {\n            Replacing.append(container, premade(activeMenu));\n          }\n          remove$1(activeMenu.element, [detail.markers.backgroundMenu]);\n          setActiveMenu(container, activeMenu);\n          closeOthers(container, state, path);\n          return Optional.some(activeMenu);\n        }\n      }));\n      let ExpandHighlightDecision;\n      (function (ExpandHighlightDecision) {\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu'] = 0] = 'HighlightSubmenu';\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent'] = 1] = 'HighlightParent';\n      }(ExpandHighlightDecision || (ExpandHighlightDecision = {})));\n      const buildIfRequired = (container, menuName, menuPrep) => {\n        if (menuPrep.type === 'notbuilt') {\n          const menu = container.getSystem().build(menuPrep.nbMenu());\n          layeredState.setMenuBuilt(menuName, menu);\n          return menu;\n        } else {\n          return menuPrep.menu;\n        }\n      };\n      const expandRight = (container, item, decision = ExpandHighlightDecision.HighlightSubmenu) => {\n        if (item.hasConfigured(Disabling) && Disabling.isDisabled(item)) {\n          return Optional.some(item);\n        } else {\n          const value = getItemValue(item);\n          return layeredState.expand(value).bind(path => {\n            updateAriaExpansions(container, path);\n            return Optional.from(path[0]).bind(menuName => layeredState.lookupMenu(menuName).bind(activeMenuPrep => {\n              const activeMenu = buildIfRequired(container, menuName, activeMenuPrep);\n              if (!inBody(activeMenu.element)) {\n                Replacing.append(container, premade(activeMenu));\n              }\n              detail.onOpenSubmenu(container, item, activeMenu, reverse(path));\n              if (decision === ExpandHighlightDecision.HighlightSubmenu) {\n                Highlighting.highlightFirst(activeMenu);\n                return updateMenuPath(container, layeredState, path);\n              } else {\n                Highlighting.dehighlightAll(activeMenu);\n                return Optional.some(item);\n              }\n            }));\n          });\n        }\n      };\n      const collapseLeft = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.collapse(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path).map(activeMenu => {\n            detail.onCollapseMenu(container, item, activeMenu);\n            return activeMenu;\n          });\n        });\n      };\n      const updateView = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.refresh(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path);\n        });\n      };\n      const onRight = (container, item) => inside(item.element) ? Optional.none() : expandRight(container, item, ExpandHighlightDecision.HighlightSubmenu);\n      const onLeft = (container, item) => inside(item.element) ? Optional.none() : collapseLeft(container, item);\n      const onEscape = (container, item) => collapseLeft(container, item).orThunk(() => detail.onEscape(container, item).map(() => container));\n      const keyOnItem = f => (container, simulatedEvent) => closest$1(simulatedEvent.getSource(), '.' + detail.markers.item).bind(target => container.getSystem().getByDom(target).toOptional().bind(item => f(container, item).map(always)));\n      const events = derive$2([\n        run$1(focus(), (sandbox, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          layeredState.lookupItem(getItemValue(item)).each(() => {\n            const menu = simulatedEvent.event.menu;\n            Highlighting.highlight(sandbox, menu);\n            const value = getItemValue(simulatedEvent.event.item);\n            layeredState.refresh(value).each(path => closeOthers(sandbox, layeredState, path));\n          });\n        }),\n        runOnExecute$1((component, simulatedEvent) => {\n          const target = simulatedEvent.event.target;\n          component.getSystem().getByDom(target).each(item => {\n            const itemValue = getItemValue(item);\n            if (itemValue.indexOf('collapse-item') === 0) {\n              collapseLeft(component, item);\n            }\n            expandRight(component, item, ExpandHighlightDecision.HighlightSubmenu).fold(() => {\n              detail.onExecute(component, item);\n            }, noop);\n          });\n        }),\n        runOnAttached((container, _simulatedEvent) => {\n          setup(container).each(primary => {\n            Replacing.append(container, premade(primary));\n            detail.onOpenMenu(container, primary);\n            if (detail.highlightImmediately) {\n              setActiveMenu(container, primary);\n            }\n          });\n        })\n      ].concat(detail.navigateOnHover ? [run$1(hover(), (sandbox, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          updateView(sandbox, item);\n          expandRight(sandbox, item, ExpandHighlightDecision.HighlightParent);\n          detail.onHover(sandbox, item);\n        })] : []));\n      const getActiveItem = container => Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);\n      const collapseMenuApi = container => {\n        getActiveItem(container).each(currentItem => {\n          collapseLeft(container, currentItem);\n        });\n      };\n      const highlightPrimary = container => {\n        layeredState.getPrimary().each(primary => {\n          setActiveMenu(container, primary);\n        });\n      };\n      const extractMenuFromContainer = container => Optional.from(container.components()[0]).filter(comp => get$f(comp.element, 'role') === 'menu');\n      const repositionMenus = container => {\n        const maybeActivePrimary = layeredState.getPrimary().bind(primary => getActiveItem(container).bind(currentItem => {\n          const itemValue = getItemValue(currentItem);\n          const allMenus = values(layeredState.getMenus());\n          const preparedMenus = cat(map$2(allMenus, LayeredState.extractPreparedMenu));\n          return layeredState.getTriggeringPath(itemValue, v => getItemByValue(container, preparedMenus, v));\n        }).map(triggeringPath => ({\n          primary,\n          triggeringPath\n        })));\n        maybeActivePrimary.fold(() => {\n          extractMenuFromContainer(container).each(primaryMenu => {\n            detail.onRepositionMenu(container, primaryMenu, []);\n          });\n        }, ({primary, triggeringPath}) => {\n          detail.onRepositionMenu(container, primary, triggeringPath);\n        });\n      };\n      const apis = {\n        collapseMenu: collapseMenuApi,\n        highlightPrimary,\n        repositionMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.tmenuBehaviours, [\n          Keying.config({\n            mode: 'special',\n            onRight: keyOnItem(onRight),\n            onLeft: keyOnItem(onLeft),\n            onEscape: keyOnItem(onEscape),\n            focusIn: (container, _keyInfo) => {\n              layeredState.getPrimary().each(primary => {\n                dispatch(container, primary.element, focusItem());\n              });\n            }\n          }),\n          Highlighting.config({\n            highlightClass: detail.markers.selectedMenu,\n            itemClass: detail.markers.menu\n          }),\n          Composing.config({\n            find: container => {\n              return Highlighting.getHighlighted(container);\n            }\n          }),\n          Replacing.config({})\n        ]),\n        eventOrder: detail.eventOrder,\n        apis,\n        events\n      };\n    };\n    const collapseItem$1 = constant$1('collapse-item');\n\n    const tieredData = (primary, menus, expansions) => ({\n      primary,\n      menus,\n      expansions\n    });\n    const singleData = (name, menu) => ({\n      primary: name,\n      menus: wrap$1(name, menu),\n      expansions: {}\n    });\n    const collapseItem = text => ({\n      value: generate$6(collapseItem$1()),\n      meta: { text }\n    });\n    const tieredMenu = single({\n      name: 'TieredMenu',\n      configFields: [\n        onStrictKeyboardHandler('onExecute'),\n        onStrictKeyboardHandler('onEscape'),\n        onStrictHandler('onOpenMenu'),\n        onStrictHandler('onOpenSubmenu'),\n        onHandler('onRepositionMenu'),\n        onHandler('onCollapseMenu'),\n        defaulted('highlightImmediately', true),\n        requiredObjOf('data', [\n          required$1('primary'),\n          required$1('menus'),\n          required$1('expansions')\n        ]),\n        defaulted('fakeFocus', false),\n        onHandler('onHighlight'),\n        onHandler('onHover'),\n        tieredMenuMarkers(),\n        required$1('dom'),\n        defaulted('navigateOnHover', true),\n        defaulted('stayInDom', false),\n        field('tmenuBehaviours', [\n          Keying,\n          Highlighting,\n          Composing,\n          Replacing\n        ]),\n        defaulted('eventOrder', {})\n      ],\n      apis: {\n        collapseMenu: (apis, tmenu) => {\n          apis.collapseMenu(tmenu);\n        },\n        highlightPrimary: (apis, tmenu) => {\n          apis.highlightPrimary(tmenu);\n        },\n        repositionMenus: (apis, tmenu) => {\n          apis.repositionMenus(tmenu);\n        }\n      },\n      factory: make$6,\n      extraApis: {\n        tieredData,\n        singleData,\n        collapseItem\n      }\n    });\n\n    const makeMenu = (detail, menuSandbox, placementSpec, menuSpec, getBounds) => {\n      const lazySink = () => detail.lazySink(menuSandbox);\n      const layouts = menuSpec.type === 'horizontal' ? {\n        layouts: {\n          onLtr: () => belowOrAbove(),\n          onRtl: () => belowOrAboveRtl()\n        }\n      } : {};\n      const isFirstTierSubmenu = triggeringPaths => triggeringPaths.length === 2;\n      const getSubmenuLayouts = triggeringPaths => isFirstTierSubmenu(triggeringPaths) ? layouts : {};\n      return tieredMenu.sketch({\n        dom: { tag: 'div' },\n        data: menuSpec.data,\n        markers: menuSpec.menu.markers,\n        highlightImmediately: menuSpec.menu.highlightImmediately,\n        fakeFocus: menuSpec.menu.fakeFocus,\n        onEscape: () => {\n          Sandboxing.close(menuSandbox);\n          detail.onEscape.map(handler => handler(menuSandbox));\n          return Optional.some(true);\n        },\n        onExecute: () => {\n          return Optional.some(true);\n        },\n        onOpenMenu: (tmenu, menu) => {\n          Positioning.positionWithinBounds(lazySink().getOrDie(), menu, placementSpec, getBounds());\n        },\n        onOpenSubmenu: (tmenu, item, submenu, triggeringPaths) => {\n          const sink = lazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: {\n              type: 'submenu',\n              item,\n              ...getSubmenuLayouts(triggeringPaths)\n            }\n          });\n        },\n        onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n          const sink = lazySink().getOrDie();\n          Positioning.positionWithinBounds(sink, primaryMenu, placementSpec, getBounds());\n          each$1(submenuTriggers, st => {\n            const submenuLayouts = getSubmenuLayouts(st.triggeringPath);\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: {\n                type: 'submenu',\n                item: st.triggeringItem,\n                ...submenuLayouts\n              }\n            });\n          });\n        }\n      });\n    };\n    const factory$m = (detail, spec) => {\n      const isPartOfRelated = (sandbox, queryElem) => {\n        const related = detail.getRelated(sandbox);\n        return related.exists(rel => isPartOf$1(rel, queryElem));\n      };\n      const setContent = (sandbox, thing) => {\n        Sandboxing.setContent(sandbox, thing);\n      };\n      const showAt = (sandbox, thing, placementSpec) => {\n        showWithin(sandbox, thing, placementSpec, Optional.none());\n      };\n      const showWithin = (sandbox, thing, placementSpec, boxElement) => {\n        showWithinBounds(sandbox, thing, placementSpec, () => boxElement.map(elem => box$1(elem)));\n      };\n      const showWithinBounds = (sandbox, thing, placementSpec, getBounds) => {\n        const sink = detail.lazySink(sandbox).getOrDie();\n        Sandboxing.openWhileCloaked(sandbox, thing, () => Positioning.positionWithinBounds(sink, sandbox, placementSpec, getBounds()));\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'position',\n          config: placementSpec,\n          getBounds\n        }));\n      };\n      const showMenuAt = (sandbox, placementSpec, menuSpec) => {\n        showMenuWithinBounds(sandbox, placementSpec, menuSpec, Optional.none);\n      };\n      const showMenuWithinBounds = (sandbox, placementSpec, menuSpec, getBounds) => {\n        const menu = makeMenu(detail, sandbox, placementSpec, menuSpec, getBounds);\n        Sandboxing.open(sandbox, menu);\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'menu',\n          menu\n        }));\n      };\n      const hide = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.setValue(sandbox, Optional.none());\n          Sandboxing.close(sandbox);\n        }\n      };\n      const getContent = sandbox => Sandboxing.getState(sandbox);\n      const reposition = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.getValue(sandbox).each(state => {\n            switch (state.mode) {\n            case 'menu':\n              Sandboxing.getState(sandbox).each(tieredMenu.repositionMenus);\n              break;\n            case 'position':\n              const sink = detail.lazySink(sandbox).getOrDie();\n              Positioning.positionWithinBounds(sink, sandbox, state.config, state.getBounds());\n              break;\n            }\n          });\n        }\n      };\n      const apis = {\n        setContent,\n        showAt,\n        showWithin,\n        showWithinBounds,\n        showMenuAt,\n        showMenuWithinBounds,\n        hide,\n        getContent,\n        reposition,\n        isOpen: Sandboxing.isOpen\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.inlineBehaviours, [\n          Sandboxing.config({\n            isPartOf: (sandbox, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOfRelated(sandbox, queryElem);\n            },\n            getAttachPoint: sandbox => {\n              return detail.lazySink(sandbox).getOrDie();\n            },\n            onOpen: sandbox => {\n              detail.onShow(sandbox);\n            },\n            onClose: sandbox => {\n              detail.onHide(sandbox);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: Optional.none()\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: spec.isExtraPart,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                ...detail.fireRepositionEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({}),\n                doReposition: reposition\n              })\n            }\n          })\n        ]),\n        eventOrder: detail.eventOrder,\n        apis\n      };\n    };\n    const InlineView = single({\n      name: 'InlineView',\n      configFields: [\n        required$1('lazySink'),\n        onHandler('onShow'),\n        onHandler('onHide'),\n        optionFunction('onEscape'),\n        field('inlineBehaviours', [\n          Sandboxing,\n          Representing,\n          Receiving\n        ]),\n        optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n        optionObjOf('fireRepositionEventInstead', [defaulted('event', repositionRequested())]),\n        defaulted('getRelated', Optional.none),\n        defaulted('isExtraPart', never),\n        defaulted('eventOrder', Optional.none)\n      ],\n      factory: factory$m,\n      apis: {\n        showAt: (apis, component, anchor, thing) => {\n          apis.showAt(component, anchor, thing);\n        },\n        showWithin: (apis, component, anchor, thing, boxElement) => {\n          apis.showWithin(component, anchor, thing, boxElement);\n        },\n        showWithinBounds: (apis, component, anchor, thing, bounds) => {\n          apis.showWithinBounds(component, anchor, thing, bounds);\n        },\n        showMenuAt: (apis, component, anchor, menuSpec) => {\n          apis.showMenuAt(component, anchor, menuSpec);\n        },\n        showMenuWithinBounds: (apis, component, anchor, menuSpec, bounds) => {\n          apis.showMenuWithinBounds(component, anchor, menuSpec, bounds);\n        },\n        hide: (apis, component) => {\n          apis.hide(component);\n        },\n        isOpen: (apis, component) => apis.isOpen(component),\n        getContent: (apis, component) => apis.getContent(component),\n        setContent: (apis, component, thing) => {\n          apis.setContent(component, thing);\n        },\n        reposition: (apis, component) => {\n          apis.reposition(component);\n        }\n      }\n    });\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    const factory$l = detail => {\n      const events = events$a(detail.action);\n      const tag = detail.dom.tag;\n      const lookupAttr = attr => get$g(detail.dom, 'attributes').bind(attrs => get$g(attrs, attr));\n      const getModAttributes = () => {\n        if (tag === 'button') {\n          const type = lookupAttr('type').getOr('button');\n          const roleAttrs = lookupAttr('role').map(role => ({ role })).getOr({});\n          return {\n            type,\n            ...roleAttrs\n          };\n        } else {\n          const role = lookupAttr('role').getOr('button');\n          return { role };\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events,\n        behaviours: SketchBehaviours.augment(detail.buttonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          })\n        ]),\n        domModification: { attributes: getModAttributes() },\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Button = single({\n      name: 'Button',\n      factory: factory$l,\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('dom'),\n        defaulted('components', []),\n        SketchBehaviours.field('buttonBehaviours', [\n          Focusing,\n          Keying\n        ]),\n        option$3('action'),\n        option$3('role'),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const record = spec => {\n      const uid = isSketchSpec(spec) && hasNonNullableKey(spec, 'uid') ? spec.uid : generate$5('memento');\n      const get = anyInSystem => anyInSystem.getSystem().getByUid(uid).getOrDie();\n      const getOpt = anyInSystem => anyInSystem.getSystem().getByUid(uid).toOptional();\n      const asSpec = () => ({\n        ...spec,\n        uid\n      });\n      return {\n        get,\n        getOpt,\n        asSpec\n      };\n    };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    const rtlTransform = {\n      'indent': true,\n      'outdent': true,\n      'table-insert-column-after': true,\n      'table-insert-column-before': true,\n      'paste-column-after': true,\n      'paste-column-before': true,\n      'unordered-list': true,\n      'list-bull-circle': true,\n      'list-bull-default': true,\n      'list-bull-square': true\n    };\n    const defaultIconName = 'temporary-placeholder';\n    const defaultIcon = icons => () => get$g(icons, defaultIconName).getOr('!not found!');\n    const getIconName = (name, icons) => {\n      const lcName = name.toLowerCase();\n      if (global$8.isRtl()) {\n        const rtlName = ensureTrailing(lcName, '-rtl');\n        return has$2(icons, rtlName) ? rtlName : lcName;\n      } else {\n        return lcName;\n      }\n    };\n    const lookupIcon = (name, icons) => get$g(icons, getIconName(name, icons));\n    const get$2 = (name, iconProvider) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).getOrThunk(defaultIcon(icons));\n    };\n    const getOr = (name, iconProvider, fallbackIcon) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n    };\n    const needsRtlTransform = iconName => global$8.isRtl() ? has$2(rtlTransform, iconName) : false;\n    const addFocusableBehaviour = () => config('add-focusable', [runOnAttached(comp => {\n        child(comp.element, 'svg').each(svg => set$9(svg, 'focusable', 'false'));\n      })]);\n    const renderIcon$2 = (spec, iconName, icons, fallbackIcon) => {\n      var _a, _b;\n      const rtlIconClasses = needsRtlTransform(iconName) ? ['tox-icon--flip'] : [];\n      const iconHtml = get$g(icons, getIconName(iconName, icons)).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n      return {\n        dom: {\n          tag: spec.tag,\n          attributes: (_a = spec.attributes) !== null && _a !== void 0 ? _a : {},\n          classes: spec.classes.concat(rtlIconClasses),\n          innerHtml: iconHtml\n        },\n        behaviours: derive$1([\n          ...(_b = spec.behaviours) !== null && _b !== void 0 ? _b : [],\n          addFocusableBehaviour()\n        ])\n      };\n    };\n    const render$3 = (iconName, spec, iconProvider, fallbackIcon = Optional.none()) => renderIcon$2(spec, iconName, iconProvider(), fallbackIcon);\n    const renderFirst = (iconNames, spec, iconProvider) => {\n      const icons = iconProvider();\n      const iconName = find$5(iconNames, name => has$2(icons, getIconName(name, icons)));\n      return renderIcon$2(spec, iconName.getOr(defaultIconName), icons, Optional.none());\n    };\n\n    const notificationIconMap = {\n      success: 'checkmark',\n      error: 'warning',\n      err: 'error',\n      warning: 'warning',\n      warn: 'warning',\n      info: 'info'\n    };\n    const factory$k = detail => {\n      const memBannerText = record({\n        dom: {\n          tag: 'p',\n          innerHtml: detail.translationProvider(detail.text)\n        },\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const renderPercentBar = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-bar'],\n          styles: { width: `${ percent }%` }\n        }\n      });\n      const renderPercentText = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-text'],\n          innerHtml: `${ percent }%`\n        }\n      });\n      const memBannerProgress = record({\n        dom: {\n          tag: 'div',\n          classes: detail.progress ? [\n            'tox-progress-bar',\n            'tox-progress-indicator'\n          ] : ['tox-progress-bar']\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-bar-container']\n            },\n            components: [renderPercentBar(0)]\n          },\n          renderPercentText(0)\n        ],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const updateProgress = (comp, percent) => {\n        if (comp.getSystem().isConnected()) {\n          memBannerProgress.getOpt(comp).each(progress => {\n            Replacing.set(progress, [\n              {\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-bar-container']\n                },\n                components: [renderPercentBar(percent)]\n              },\n              renderPercentText(percent)\n            ]);\n          });\n        }\n      };\n      const updateText = (comp, text) => {\n        if (comp.getSystem().isConnected()) {\n          const banner = memBannerText.get(comp);\n          Replacing.set(banner, [text$1(text)]);\n        }\n      };\n      const apis = {\n        updateProgress,\n        updateText\n      };\n      const iconChoices = flatten([\n        detail.icon.toArray(),\n        detail.level.toArray(),\n        detail.level.bind(level => Optional.from(notificationIconMap[level])).toArray()\n      ]);\n      const memButton = record(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-notification__dismiss',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ]\n        },\n        components: [render$3('close', {\n            tag: 'div',\n            classes: ['tox-icon'],\n            attributes: { 'aria-label': detail.translationProvider('Close') }\n          }, detail.iconProvider)],\n        action: comp => {\n          detail.onAction(comp);\n        }\n      }));\n      const notificationIconSpec = renderFirst(iconChoices, {\n        tag: 'div',\n        classes: ['tox-notification__icon']\n      }, detail.iconProvider);\n      const notificationBodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__body']\n        },\n        components: [memBannerText.asSpec()],\n        behaviours: derive$1([Replacing.config({})])\n      };\n      const components = [\n        notificationIconSpec,\n        notificationBodySpec\n      ];\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: detail.level.map(level => [\n            'tox-notification',\n            'tox-notification--in',\n            `tox-notification--${ level }`\n          ]).getOr([\n            'tox-notification',\n            'tox-notification--in'\n          ])\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          config('notification-events', [run$1(focusin(), comp => {\n              memButton.getOpt(comp).each(Focusing.focus);\n            })])\n        ]),\n        components: components.concat(detail.progress ? [memBannerProgress.asSpec()] : []).concat(!detail.closeButton ? [] : [memButton.asSpec()]),\n        apis\n      };\n    };\n    const Notification = single({\n      name: 'Notification',\n      factory: factory$k,\n      configFields: [\n        option$3('level'),\n        required$1('progress'),\n        required$1('icon'),\n        required$1('onAction'),\n        required$1('text'),\n        required$1('iconProvider'),\n        required$1('translationProvider'),\n        defaultedBoolean('closeButton', true)\n      ],\n      apis: {\n        updateProgress: (apis, comp, percent) => {\n          apis.updateProgress(comp, percent);\n        },\n        updateText: (apis, comp, text) => {\n          apis.updateText(comp, text);\n        }\n      }\n    });\n\n    var NotificationManagerImpl = (editor, extras, uiMothership) => {\n      const sharedBackstage = extras.backstage.shared;\n      const getBounds = () => {\n        const contentArea = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n        const win$1 = win();\n        const x = clamp(win$1.x, contentArea.x, contentArea.right);\n        const y = clamp(win$1.y, contentArea.y, contentArea.bottom);\n        const right = Math.max(contentArea.right, win$1.right);\n        const bottom = Math.max(contentArea.bottom, win$1.bottom);\n        return Optional.some(bounds(x, y, right - x, bottom - y));\n      };\n      const open = (settings, closeCallback) => {\n        const close = () => {\n          closeCallback();\n          InlineView.hide(notificationWrapper);\n        };\n        const notification = build$1(Notification.sketch({\n          text: settings.text,\n          level: contains$2([\n            'success',\n            'error',\n            'warning',\n            'warn',\n            'info'\n          ], settings.type) ? settings.type : undefined,\n          progress: settings.progressBar === true,\n          icon: Optional.from(settings.icon),\n          closeButton: settings.closeButton,\n          onAction: close,\n          iconProvider: sharedBackstage.providers.icons,\n          translationProvider: sharedBackstage.providers.translate\n        }));\n        const notificationWrapper = build$1(InlineView.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-notifications-container']\n          },\n          lazySink: sharedBackstage.getSink,\n          fireDismissalEventInstead: {},\n          ...sharedBackstage.header.isPositionedAtTop() ? {} : { fireRepositionEventInstead: {} }\n        }));\n        uiMothership.add(notificationWrapper);\n        if (settings.timeout > 0) {\n          global$9.setEditorTimeout(editor, () => {\n            close();\n          }, settings.timeout);\n        }\n        const reposition = () => {\n          const notificationSpec = premade(notification);\n          const anchorOverrides = { maxHeightFunction: expandable$1() };\n          const allNotifications = editor.notificationManager.getNotifications();\n          if (allNotifications[0] === thisNotification) {\n            const anchor = {\n              ...sharedBackstage.anchors.banner(),\n              overrides: anchorOverrides\n            };\n            InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor }, getBounds);\n          } else {\n            indexOf(allNotifications, thisNotification).each(idx => {\n              const previousNotification = allNotifications[idx - 1].getEl();\n              const nodeAnchor = {\n                type: 'node',\n                root: body(),\n                node: Optional.some(SugarElement.fromDom(previousNotification)),\n                overrides: anchorOverrides,\n                layouts: {\n                  onRtl: () => [south$2],\n                  onLtr: () => [south$2]\n                }\n              };\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: nodeAnchor }, getBounds);\n            });\n          }\n        };\n        const thisNotification = {\n          close,\n          reposition,\n          text: nuText => {\n            Notification.updateText(notification, nuText);\n          },\n          settings,\n          getEl: () => notification.element.dom,\n          progressBar: {\n            value: percent => {\n              Notification.updateProgress(notification, percent);\n            }\n          }\n        };\n        return thisNotification;\n      };\n      const close = notification => {\n        notification.close();\n      };\n      const getArgs = notification => {\n        return notification.settings;\n      };\n      return {\n        open,\n        close,\n        getArgs\n      };\n    };\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var ToolbarMode$1;\n    (function (ToolbarMode) {\n      ToolbarMode['default'] = 'wrap';\n      ToolbarMode['floating'] = 'floating';\n      ToolbarMode['sliding'] = 'sliding';\n      ToolbarMode['scrolling'] = 'scrolling';\n    }(ToolbarMode$1 || (ToolbarMode$1 = {})));\n    var ToolbarLocation$1;\n    (function (ToolbarLocation) {\n      ToolbarLocation['auto'] = 'auto';\n      ToolbarLocation['top'] = 'top';\n      ToolbarLocation['bottom'] = 'bottom';\n    }(ToolbarLocation$1 || (ToolbarLocation$1 = {})));\n    const option$2 = name => editor => editor.options.get(name);\n    const wrapOptional = fn => editor => Optional.from(fn(editor));\n    const register$e = editor => {\n      const isPhone = global$5.deviceType.isPhone();\n      const isMobile = global$5.deviceType.isTablet() || isPhone;\n      const registerOption = editor.options.register;\n      const stringOrFalseProcessor = value => isString(value) || value === false;\n      const stringOrNumberProcessor = value => isString(value) || isNumber(value);\n      registerOption('skin', {\n        processor: value => isString(value) || value === false,\n        default: 'oxide'\n      });\n      registerOption('skin_url', { processor: 'string' });\n      registerOption('height', {\n        processor: stringOrNumberProcessor,\n        default: Math.max(editor.getElement().offsetHeight, 400)\n      });\n      registerOption('width', {\n        processor: stringOrNumberProcessor,\n        default: global$7.DOM.getStyle(editor.getElement(), 'width')\n      });\n      registerOption('min_height', {\n        processor: 'number',\n        default: 100\n      });\n      registerOption('min_width', { processor: 'number' });\n      registerOption('max_height', { processor: 'number' });\n      registerOption('max_width', { processor: 'number' });\n      registerOption('style_formats', { processor: 'object[]' });\n      registerOption('style_formats_merge', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('style_formats_autohide', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('line_height_formats', {\n        processor: 'string',\n        default: '1 1.1 1.2 1.3 1.4 1.5 2'\n      });\n      registerOption('font_family_formats', {\n        processor: 'string',\n        default: 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats'\n      });\n      registerOption('font_size_formats', {\n        processor: 'string',\n        default: '8pt 10pt 12pt 14pt 18pt 24pt 36pt'\n      });\n      registerOption('block_formats', {\n        processor: 'string',\n        default: 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre'\n      });\n      registerOption('content_langs', { processor: 'object[]' });\n      registerOption('removed_menuitems', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('menubar', {\n        processor: value => isString(value) || isBoolean(value),\n        default: !isPhone\n      });\n      registerOption('menu', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar', {\n        processor: value => {\n          if (isBoolean(value) || isString(value) || isArray(value)) {\n            return {\n              value,\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a boolean, string or array.'\n            };\n          }\n        },\n        default: true\n      });\n      range$2(9, num => {\n        registerOption('toolbar' + (num + 1), { processor: 'string' });\n      });\n      registerOption('toolbar_mode', {\n        processor: 'string',\n        default: isMobile ? 'scrolling' : 'floating'\n      });\n      registerOption('toolbar_groups', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar_location', {\n        processor: 'string',\n        default: ToolbarLocation$1.auto\n      });\n      registerOption('toolbar_persist', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('toolbar_sticky', {\n        processor: 'boolean',\n        default: editor.inline\n      });\n      registerOption('toolbar_sticky_offset', {\n        processor: 'number',\n        default: 0\n      });\n      registerOption('fixed_toolbar_container', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('fixed_toolbar_container_target', { processor: 'object' });\n      registerOption('file_picker_callback', { processor: 'function' });\n      registerOption('file_picker_validator_handler', { processor: 'function' });\n      registerOption('file_picker_types', { processor: 'string' });\n      registerOption('typeahead_urls', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('anchor_top', {\n        processor: stringOrFalseProcessor,\n        default: '#top'\n      });\n      registerOption('anchor_bottom', {\n        processor: stringOrFalseProcessor,\n        default: '#bottom'\n      });\n      registerOption('draggable_modal', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('statusbar', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('elementpath', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('branding', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('resize', {\n        processor: value => value === 'both' || isBoolean(value),\n        default: !global$5.deviceType.isTouch()\n      });\n      registerOption('sidebar_show', { processor: 'string' });\n    };\n    const isReadOnly = option$2('readonly');\n    const getHeightOption = option$2('height');\n    const getWidthOption = option$2('width');\n    const getMinWidthOption = wrapOptional(option$2('min_width'));\n    const getMinHeightOption = wrapOptional(option$2('min_height'));\n    const getMaxWidthOption = wrapOptional(option$2('max_width'));\n    const getMaxHeightOption = wrapOptional(option$2('max_height'));\n    const getUserStyleFormats = wrapOptional(option$2('style_formats'));\n    const shouldMergeStyleFormats = option$2('style_formats_merge');\n    const shouldAutoHideStyleFormats = option$2('style_formats_autohide');\n    const getContentLanguages = option$2('content_langs');\n    const getRemovedMenuItems = option$2('removed_menuitems');\n    const getToolbarMode = option$2('toolbar_mode');\n    const getToolbarGroups = option$2('toolbar_groups');\n    const getToolbarLocation = option$2('toolbar_location');\n    const fixedContainerSelector = option$2('fixed_toolbar_container');\n    const fixedToolbarContainerTarget = option$2('fixed_toolbar_container_target');\n    const isToolbarPersist = option$2('toolbar_persist');\n    const getStickyToolbarOffset = option$2('toolbar_sticky_offset');\n    const getMenubar = option$2('menubar');\n    const getToolbar = option$2('toolbar');\n    const getFilePickerCallback = option$2('file_picker_callback');\n    const getFilePickerValidatorHandler = option$2('file_picker_validator_handler');\n    const getFilePickerTypes = option$2('file_picker_types');\n    const useTypeaheadUrls = option$2('typeahead_urls');\n    const getAnchorTop = option$2('anchor_top');\n    const getAnchorBottom = option$2('anchor_bottom');\n    const isDraggableModal$1 = option$2('draggable_modal');\n    const useStatusBar = option$2('statusbar');\n    const useElementPath = option$2('elementpath');\n    const useBranding = option$2('branding');\n    const getResize = option$2('resize');\n    const getPasteAsText = option$2('paste_as_text');\n    const getSidebarShow = option$2('sidebar_show');\n    const isSkinDisabled = editor => editor.options.get('skin') === false;\n    const isMenubarEnabled = editor => editor.options.get('menubar') !== false;\n    const getSkinUrl = editor => {\n      const skinUrl = editor.options.get('skin_url');\n      if (isSkinDisabled(editor)) {\n        return skinUrl;\n      } else {\n        if (skinUrl) {\n          return editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          const skin = editor.options.get('skin');\n          return global$6.baseURL + '/skins/ui/' + skin;\n        }\n      }\n    };\n    const getLineHeightFormats = editor => editor.options.get('line_height_formats').split(' ');\n    const isToolbarEnabled = editor => {\n      const toolbar = getToolbar(editor);\n      const isToolbarString = isString(toolbar);\n      const isToolbarObjectArray = isArray(toolbar) && toolbar.length > 0;\n      return !isMultipleToolbars(editor) && (isToolbarObjectArray || isToolbarString || toolbar === true);\n    };\n    const getMultipleToolbarsOption = editor => {\n      const toolbars = range$2(9, num => editor.options.get('toolbar' + (num + 1)));\n      const toolbarArray = filter$2(toolbars, isString);\n      return someIf(toolbarArray.length > 0, toolbarArray);\n    };\n    const isMultipleToolbars = editor => getMultipleToolbarsOption(editor).fold(() => {\n      const toolbar = getToolbar(editor);\n      return isArrayOf(toolbar, isString) && toolbar.length > 0;\n    }, always);\n    const isToolbarLocationBottom = editor => getToolbarLocation(editor) === ToolbarLocation$1.bottom;\n    const fixedContainerTarget = editor => {\n      if (!editor.inline) {\n        return Optional.none();\n      }\n      const selector = fixedContainerSelector(editor);\n      if (selector.length > 0) {\n        return descendant(body(), selector);\n      }\n      const element = fixedToolbarContainerTarget(editor);\n      if (isNonNullable(element)) {\n        return Optional.some(SugarElement.fromDom(element));\n      }\n      return Optional.none();\n    };\n    const useFixedContainer = editor => editor.inline && fixedContainerTarget(editor).isSome();\n    const getUiContainer = editor => {\n      const fixedContainer = fixedContainerTarget(editor);\n      return fixedContainer.getOrThunk(() => getContentContainer(getRootNode(SugarElement.fromDom(editor.getElement()))));\n    };\n    const isDistractionFree = editor => editor.inline && !isMenubarEnabled(editor) && !isToolbarEnabled(editor) && !isMultipleToolbars(editor);\n    const isStickyToolbar = editor => {\n      const isStickyToolbar = editor.options.get('toolbar_sticky');\n      return (isStickyToolbar || editor.inline) && !useFixedContainer(editor) && !isDistractionFree(editor);\n    };\n    const getMenus = editor => {\n      const menu = editor.options.get('menu');\n      return map$1(menu, menu => ({\n        ...menu,\n        items: menu.items\n      }));\n    };\n\n    var Options = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        get ToolbarMode () { return ToolbarMode$1; },\n        get ToolbarLocation () { return ToolbarLocation$1; },\n        register: register$e,\n        getSkinUrl: getSkinUrl,\n        isReadOnly: isReadOnly,\n        isSkinDisabled: isSkinDisabled,\n        getHeightOption: getHeightOption,\n        getWidthOption: getWidthOption,\n        getMinWidthOption: getMinWidthOption,\n        getMinHeightOption: getMinHeightOption,\n        getMaxWidthOption: getMaxWidthOption,\n        getMaxHeightOption: getMaxHeightOption,\n        getUserStyleFormats: getUserStyleFormats,\n        shouldMergeStyleFormats: shouldMergeStyleFormats,\n        shouldAutoHideStyleFormats: shouldAutoHideStyleFormats,\n        getLineHeightFormats: getLineHeightFormats,\n        getContentLanguages: getContentLanguages,\n        getRemovedMenuItems: getRemovedMenuItems,\n        isMenubarEnabled: isMenubarEnabled,\n        isMultipleToolbars: isMultipleToolbars,\n        isToolbarEnabled: isToolbarEnabled,\n        isToolbarPersist: isToolbarPersist,\n        getMultipleToolbarsOption: getMultipleToolbarsOption,\n        getUiContainer: getUiContainer,\n        useFixedContainer: useFixedContainer,\n        getToolbarMode: getToolbarMode,\n        isDraggableModal: isDraggableModal$1,\n        isDistractionFree: isDistractionFree,\n        isStickyToolbar: isStickyToolbar,\n        getStickyToolbarOffset: getStickyToolbarOffset,\n        getToolbarLocation: getToolbarLocation,\n        isToolbarLocationBottom: isToolbarLocationBottom,\n        getToolbarGroups: getToolbarGroups,\n        getMenus: getMenus,\n        getMenubar: getMenubar,\n        getToolbar: getToolbar,\n        getFilePickerCallback: getFilePickerCallback,\n        getFilePickerTypes: getFilePickerTypes,\n        useTypeaheadUrls: useTypeaheadUrls,\n        getAnchorTop: getAnchorTop,\n        getAnchorBottom: getAnchorBottom,\n        getFilePickerValidatorHandler: getFilePickerValidatorHandler,\n        useStatusBar: useStatusBar,\n        useElementPath: useElementPath,\n        useBranding: useBranding,\n        getResize: getResize,\n        getPasteAsText: getPasteAsText,\n        getSidebarShow: getSidebarShow\n    });\n\n    const autocompleteSelector = '[data-mce-autocompleter]';\n    const detect = elm => closest$1(elm, autocompleteSelector);\n    const findIn = elm => descendant(elm, autocompleteSelector);\n\n    const setup$e = (api, editor) => {\n      const redirectKeyToItem = (item, e) => {\n        emitWith(item, keydown(), { raw: e });\n      };\n      const getItem = () => api.getMenu().bind(Highlighting.getHighlighted);\n      editor.on('keydown', e => {\n        const keyCode = e.which;\n        if (!api.isActive()) {\n          return;\n        }\n        if (api.isMenuOpen()) {\n          if (keyCode === 13) {\n            getItem().each(emitExecute);\n            e.preventDefault();\n          } else if (keyCode === 40) {\n            getItem().fold(() => {\n              api.getMenu().each(Highlighting.highlightFirst);\n            }, item => {\n              redirectKeyToItem(item, e);\n            });\n            e.preventDefault();\n            e.stopImmediatePropagation();\n          } else if (keyCode === 37 || keyCode === 38 || keyCode === 39) {\n            getItem().each(item => {\n              redirectKeyToItem(item, e);\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            });\n          }\n        } else {\n          if (keyCode === 13 || keyCode === 38 || keyCode === 40) {\n            api.cancelIfNecessary();\n          }\n        }\n      });\n      editor.on('NodeChange', e => {\n        if (api.isActive() && !api.isProcessingAction() && detect(SugarElement.fromDom(e.element)).isNone()) {\n          api.cancelIfNecessary();\n        }\n      });\n    };\n    const AutocompleterEditorEvents = { setup: setup$e };\n\n    var ItemResponse;\n    (function (ItemResponse) {\n      ItemResponse[ItemResponse['CLOSE_ON_EXECUTE'] = 0] = 'CLOSE_ON_EXECUTE';\n      ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX'] = 1] = 'BUBBLE_TO_SANDBOX';\n    }(ItemResponse || (ItemResponse = {})));\n    var ItemResponse$1 = ItemResponse;\n\n    const navClass = 'tox-menu-nav__js';\n    const selectableClass = 'tox-collection__item';\n    const colorClass = 'tox-swatch';\n    const presetClasses = {\n      normal: navClass,\n      color: colorClass\n    };\n    const tickedClass = 'tox-collection__item--enabled';\n    const groupHeadingClass = 'tox-collection__group-heading';\n    const iconClass = 'tox-collection__item-icon';\n    const textClass = 'tox-collection__item-label';\n    const accessoryClass = 'tox-collection__item-accessory';\n    const caretClass = 'tox-collection__item-caret';\n    const checkmarkClass = 'tox-collection__item-checkmark';\n    const activeClass = 'tox-collection__item--active';\n    const containerClass = 'tox-collection__item-container';\n    const containerColumnClass = 'tox-collection__item-container--column';\n    const containerRowClass = 'tox-collection__item-container--row';\n    const containerAlignRightClass = 'tox-collection__item-container--align-right';\n    const containerAlignLeftClass = 'tox-collection__item-container--align-left';\n    const containerValignTopClass = 'tox-collection__item-container--valign-top';\n    const containerValignMiddleClass = 'tox-collection__item-container--valign-middle';\n    const containerValignBottomClass = 'tox-collection__item-container--valign-bottom';\n    const classForPreset = presets => get$g(presetClasses, presets).getOr(navClass);\n\n    const forMenu = presets => {\n      if (presets === 'color') {\n        return 'tox-swatches';\n      } else {\n        return 'tox-menu';\n      }\n    };\n    const classes = presets => ({\n      backgroundMenu: 'tox-background-menu',\n      selectedMenu: 'tox-selected-menu',\n      selectedItem: 'tox-collection__item--active',\n      hasIcons: 'tox-menu--has-icons',\n      menu: forMenu(presets),\n      tieredMenu: 'tox-tiered-menu'\n    });\n\n    const markers = presets => {\n      const menuClasses = classes(presets);\n      return {\n        backgroundMenu: menuClasses.backgroundMenu,\n        selectedMenu: menuClasses.selectedMenu,\n        menu: menuClasses.menu,\n        selectedItem: menuClasses.selectedItem,\n        item: classForPreset(presets)\n      };\n    };\n    const dom$1 = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      return {\n        tag: 'div',\n        classes: flatten([\n          [\n            menuClasses.menu,\n            `tox-menu-${ columns }-column`\n          ],\n          hasIcons ? [menuClasses.hasIcons] : []\n        ])\n      };\n    };\n    const components = [Menu.parts.items({})];\n    const part = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      const d = {\n        tag: 'div',\n        classes: flatten([[menuClasses.tieredMenu]])\n      };\n      return {\n        dom: d,\n        markers: markers(presets)\n      };\n    };\n\n    const chunk = (rowDom, numColumns) => items => {\n      const chunks = chunk$1(items, numColumns);\n      return map$2(chunks, c => ({\n        dom: rowDom,\n        components: c\n      }));\n    };\n    const forSwatch = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-swatches-menu'\n        ]\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-swatches']\n          },\n          components: [Menu.parts.items({\n              preprocess: columns !== 'auto' ? chunk({\n                tag: 'div',\n                classes: ['tox-swatches__row']\n              }, columns) : identity\n            })]\n        }]\n    });\n    const forToolbar = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection',\n          'tox-collection--toolbar',\n          'tox-collection--toolbar-lg'\n        ]\n      },\n      components: [Menu.parts.items({\n          preprocess: chunk({\n            tag: 'div',\n            classes: ['tox-collection__group']\n          }, columns)\n        })]\n    });\n    const preprocessCollection = (items, isSeparator) => {\n      const allSplits = [];\n      let currentSplit = [];\n      each$1(items, (item, i) => {\n        if (isSeparator(item, i)) {\n          if (currentSplit.length > 0) {\n            allSplits.push(currentSplit);\n          }\n          currentSplit = [];\n          if (has$2(item.dom, 'innerHtml') || item.components.length > 0) {\n            currentSplit.push(item);\n          }\n        } else {\n          currentSplit.push(item);\n        }\n      });\n      if (currentSplit.length > 0) {\n        allSplits.push(currentSplit);\n      }\n      return map$2(allSplits, s => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection__group']\n        },\n        components: s\n      }));\n    };\n    const forCollection = (columns, initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection'\n        ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n      },\n      components: [Menu.parts.items({\n          preprocess: items => {\n            if (columns !== 'auto' && columns > 1) {\n              return chunk({\n                tag: 'div',\n                classes: ['tox-collection__group']\n              }, columns)(items);\n            } else {\n              return preprocessCollection(items, (_item, i) => initItems[i].type === 'separator');\n            }\n          }\n        })]\n    });\n    const forHorizontalCollection = (initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-collection',\n          'tox-collection--horizontal'\n        ]\n      },\n      components: [Menu.parts.items({ preprocess: items => preprocessCollection(items, (_item, i) => initItems[i].type === 'separator') })]\n    });\n\n    const menuHasIcons = xs => exists(xs, item => 'icon' in item && item.icon !== undefined);\n    const handleError = error => {\n      console.error(formatError(error));\n      console.log(error);\n      return Optional.none();\n    };\n    const createHorizontalPartialMenuWithAlloyItems = (value, _hasIcons, items, _columns, _presets) => {\n      const structure = forHorizontalCollection(items);\n      return {\n        value,\n        dom: structure.dom,\n        components: structure.components,\n        items\n      };\n    };\n    const createPartialMenuWithAlloyItems = (value, hasIcons, items, columns, presets) => {\n      if (presets === 'color') {\n        const structure = forSwatch(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      }\n      if (presets === 'normal' && columns === 'auto') {\n        const structure = forCollection(columns, items);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      }\n      if (presets === 'normal' && columns === 1) {\n        const structure = forCollection(1, items);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      }\n      if (presets === 'normal') {\n        const structure = forCollection(columns, items);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      }\n      if (presets === 'listpreview' && columns !== 'auto') {\n        const structure = forToolbar(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      }\n      return {\n        value,\n        dom: dom$1(hasIcons, columns, presets),\n        components: components,\n        items\n      };\n    };\n\n    const type = requiredString('type');\n    const name$1 = requiredString('name');\n    const label = requiredString('label');\n    const text = requiredString('text');\n    const title = requiredString('title');\n    const icon = requiredString('icon');\n    const value$1 = requiredString('value');\n    const fetch$1 = requiredFunction('fetch');\n    const getSubmenuItems = requiredFunction('getSubmenuItems');\n    const onAction = requiredFunction('onAction');\n    const onItemAction = requiredFunction('onItemAction');\n    const onSetup = defaultedFunction('onSetup', () => noop);\n    const optionalName = optionString('name');\n    const optionalText = optionString('text');\n    const optionalIcon = optionString('icon');\n    const optionalTooltip = optionString('tooltip');\n    const optionalLabel = optionString('label');\n    const optionalShortcut = optionString('shortcut');\n    const optionalSelect = optionFunction('select');\n    const active = defaultedBoolean('active', false);\n    const borderless = defaultedBoolean('borderless', false);\n    const enabled = defaultedBoolean('enabled', true);\n    const primary = defaultedBoolean('primary', false);\n    const defaultedColumns = num => defaulted('columns', num);\n    const defaultedMeta = defaulted('meta', {});\n    const defaultedOnAction = defaultedFunction('onAction', noop);\n    const defaultedType = type => defaultedString('type', type);\n    const generatedName = namePrefix => field$1('name', 'name', defaultedThunk(() => generate$6(`${ namePrefix }-name`)), string);\n    const generatedValue = valuePrefix => field$1('value', 'value', defaultedThunk(() => generate$6(`${ valuePrefix }-value`)), anyValue());\n\n    const separatorMenuItemSchema = objOf([\n      type,\n      optionalText\n    ]);\n    const createSeparatorMenuItem = spec => asRaw('separatormenuitem', separatorMenuItemSchema, spec);\n\n    const autocompleterItemSchema = objOf([\n      defaultedType('autocompleteitem'),\n      active,\n      enabled,\n      defaultedMeta,\n      value$1,\n      optionalText,\n      optionalIcon\n    ]);\n    const createSeparatorItem = spec => asRaw('Autocompleter.Separator', separatorMenuItemSchema, spec);\n    const createAutocompleterItem = spec => asRaw('Autocompleter.Item', autocompleterItemSchema, spec);\n\n    const baseToolbarButtonFields = [\n      enabled,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      onSetup\n    ];\n    const toolbarButtonSchema = objOf([\n      type,\n      onAction\n    ].concat(baseToolbarButtonFields));\n    const createToolbarButton = spec => asRaw('toolbarbutton', toolbarButtonSchema, spec);\n\n    const baseToolbarToggleButtonFields = [active].concat(baseToolbarButtonFields);\n    const toggleButtonSchema = objOf(baseToolbarToggleButtonFields.concat([\n      type,\n      onAction\n    ]));\n    const createToggleButton = spec => asRaw('ToggleButton', toggleButtonSchema, spec);\n\n    const contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    const contextButtonFields = baseToolbarButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const launchButtonFields = baseToolbarButtonFields.concat([defaultedType('contextformbutton')]);\n    const launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaultedType('contextformtogglebutton')]);\n    const toggleOrNormal = choose$1('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    const contextFormSchema = objOf([\n      defaultedType('contextform'),\n      defaultedFunction('initValue', constant$1('')),\n      optionalLabel,\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose$1('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n    const createContextForm = spec => asRaw('ContextForm', contextFormSchema, spec);\n\n    const contextToolbarSchema = objOf([\n      defaultedType('contexttoolbar'),\n      requiredString('items')\n    ].concat(contextBarFields));\n    const createContextToolbar = spec => asRaw('ContextToolbar', contextToolbarSchema, spec);\n\n    const cardImageFields = [\n      type,\n      requiredString('src'),\n      optionString('alt'),\n      defaultedArrayOf('classes', [], string)\n    ];\n    const cardImageSchema = objOf(cardImageFields);\n\n    const cardTextFields = [\n      type,\n      text,\n      optionalName,\n      defaultedArrayOf('classes', ['tox-collection__item-label'], string)\n    ];\n    const cardTextSchema = objOf(cardTextFields);\n\n    const itemSchema$1 = valueThunk(() => choose$2('type', {\n      cardimage: cardImageSchema,\n      cardtext: cardTextSchema,\n      cardcontainer: cardContainerSchema\n    }));\n    const cardContainerSchema = objOf([\n      type,\n      defaultedString('direction', 'horizontal'),\n      defaultedString('align', 'left'),\n      defaultedString('valign', 'middle'),\n      requiredArrayOf('items', itemSchema$1)\n    ]);\n\n    const commonMenuItemFields = [\n      enabled,\n      optionalText,\n      optionalShortcut,\n      generatedValue('menuitem'),\n      defaultedMeta\n    ];\n\n    const cardMenuItemSchema = objOf([\n      type,\n      optionalLabel,\n      requiredArrayOf('items', itemSchema$1),\n      onSetup,\n      defaultedOnAction\n    ].concat(commonMenuItemFields));\n    const createCardMenuItem = spec => asRaw('cardmenuitem', cardMenuItemSchema, spec);\n\n    const choiceMenuItemSchema = objOf([\n      type,\n      active,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createChoiceMenuItem = spec => asRaw('choicemenuitem', choiceMenuItemSchema, spec);\n\n    const baseFields = [\n      type,\n      requiredString('fancytype'),\n      defaultedOnAction\n    ];\n    const insertTableFields = [defaulted('initData', {})].concat(baseFields);\n    const colorSwatchFields = [defaultedObjOf('initData', {}, [\n        defaultedBoolean('allowCustomColors', true),\n        optionArrayOf('colors', anyValue())\n      ])].concat(baseFields);\n    const fancyMenuItemSchema = choose$1('fancytype', {\n      inserttable: insertTableFields,\n      colorswatch: colorSwatchFields\n    });\n    const createFancyMenuItem = spec => asRaw('fancymenuitem', fancyMenuItemSchema, spec);\n\n    const menuItemSchema = objOf([\n      type,\n      onSetup,\n      defaultedOnAction,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createMenuItem = spec => asRaw('menuitem', menuItemSchema, spec);\n\n    const nestedMenuItemSchema = objOf([\n      type,\n      getSubmenuItems,\n      onSetup,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createNestedMenuItem = spec => asRaw('nestedmenuitem', nestedMenuItemSchema, spec);\n\n    const toggleMenuItemSchema = objOf([\n      type,\n      optionalIcon,\n      active,\n      onSetup,\n      onAction\n    ].concat(commonMenuItemFields));\n    const createToggleMenuItem = spec => asRaw('togglemenuitem', toggleMenuItemSchema, spec);\n\n    const detectSize = (comp, margin, selectorClass) => {\n      const descendants$1 = descendants(comp.element, '.' + selectorClass);\n      if (descendants$1.length > 0) {\n        const columnLength = findIndex$1(descendants$1, c => {\n          const thisTop = c.dom.getBoundingClientRect().top;\n          const cTop = descendants$1[0].dom.getBoundingClientRect().top;\n          return Math.abs(thisTop - cTop) > margin;\n        }).getOr(descendants$1.length);\n        return Optional.some({\n          numColumns: columnLength,\n          numRows: Math.ceil(descendants$1.length / columnLength)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const namedEvents = (name, handlers) => derive$1([config(name, handlers)]);\n    const unnamedEvents = handlers => namedEvents(generate$6('unnamed-events'), handlers);\n    const SimpleBehaviours = {\n      namedEvents,\n      unnamedEvents\n    };\n\n    const ExclusivityChannel = generate$6('tooltip.exclusive');\n    const ShowTooltipEvent = generate$6('tooltip.show');\n    const HideTooltipEvent = generate$6('tooltip.hide');\n\n    const hideAllExclusive = (component, _tConfig, _tState) => {\n      component.getSystem().broadcastOn([ExclusivityChannel], {});\n    };\n    const setComponents = (component, tConfig, tState, specs) => {\n      tState.getTooltip().each(tooltip => {\n        if (tooltip.getSystem().isConnected()) {\n          Replacing.set(tooltip, specs);\n        }\n      });\n    };\n\n    var TooltippingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        hideAllExclusive: hideAllExclusive,\n        setComponents: setComponents\n    });\n\n    const events$9 = (tooltipConfig, state) => {\n      const hide = comp => {\n        state.getTooltip().each(p => {\n          detach(p);\n          tooltipConfig.onHide(comp, p);\n          state.clearTooltip();\n        });\n        state.clearTimer();\n      };\n      const show = comp => {\n        if (!state.isShowing()) {\n          hideAllExclusive(comp);\n          const sink = tooltipConfig.lazySink(comp).getOrDie();\n          const popup = comp.getSystem().build({\n            dom: tooltipConfig.tooltipDom,\n            components: tooltipConfig.tooltipComponents,\n            events: derive$2(tooltipConfig.mode === 'normal' ? [\n              run$1(mouseover(), _ => {\n                emit(comp, ShowTooltipEvent);\n              }),\n              run$1(mouseout(), _ => {\n                emit(comp, HideTooltipEvent);\n              })\n            ] : []),\n            behaviours: derive$1([Replacing.config({})])\n          });\n          state.setTooltip(popup);\n          attach(sink, popup);\n          tooltipConfig.onShow(comp, popup);\n          Positioning.position(sink, popup, { anchor: tooltipConfig.anchor(comp) });\n        }\n      };\n      return derive$2(flatten([\n        [\n          run$1(ShowTooltipEvent, comp => {\n            state.resetTimer(() => {\n              show(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(HideTooltipEvent, comp => {\n            state.resetTimer(() => {\n              hide(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(receive(), (comp, message) => {\n            const receivingData = message;\n            if (!receivingData.universal) {\n              if (contains$2(receivingData.channels, ExclusivityChannel)) {\n                hide(comp);\n              }\n            }\n          }),\n          runOnDetached(comp => {\n            hide(comp);\n          })\n        ],\n        tooltipConfig.mode === 'normal' ? [\n          run$1(focusin(), comp => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(postBlur(), comp => {\n            emit(comp, HideTooltipEvent);\n          }),\n          run$1(mouseover(), comp => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(mouseout(), comp => {\n            emit(comp, HideTooltipEvent);\n          })\n        ] : [\n          run$1(highlight$1(), (comp, _se) => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(dehighlight$1(), comp => {\n            emit(comp, HideTooltipEvent);\n          })\n        ]\n      ]));\n    };\n\n    var ActiveTooltipping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$9\n    });\n\n    var TooltippingSchema = [\n      required$1('lazySink'),\n      required$1('tooltipDom'),\n      defaulted('exclusive', true),\n      defaulted('tooltipComponents', []),\n      defaulted('delay', 300),\n      defaultedStringEnum('mode', 'normal', [\n        'normal',\n        'follow-highlight'\n      ]),\n      defaulted('anchor', comp => ({\n        type: 'hotspot',\n        hotspot: comp,\n        layouts: {\n          onLtr: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ]),\n          onRtl: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ])\n        }\n      })),\n      onHandler('onHide'),\n      onHandler('onShow')\n    ];\n\n    const init$b = () => {\n      const timer = value$2();\n      const popup = value$2();\n      const clearTimer = () => {\n        timer.on(clearTimeout);\n      };\n      const resetTimer = (f, delay) => {\n        clearTimer();\n        timer.set(setTimeout(f, delay));\n      };\n      const readState = constant$1('not-implemented');\n      return nu$8({\n        getTooltip: popup.get,\n        isShowing: popup.isSet,\n        setTooltip: popup.set,\n        clearTooltip: popup.clear,\n        clearTimer,\n        resetTimer,\n        readState\n      });\n    };\n\n    var TooltippingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$b\n    });\n\n    const Tooltipping = create$3({\n      fields: TooltippingSchema,\n      name: 'tooltipping',\n      active: ActiveTooltipping,\n      state: TooltippingState,\n      apis: TooltippingApis\n    });\n\n    const escape = text => text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n    const ReadOnlyChannel = 'silver.readonly';\n    const ReadOnlyDataSchema = objOf([requiredBoolean('readonly')]);\n    const broadcastReadonly = (uiComponents, readonly) => {\n      const outerContainer = uiComponents.outerContainer;\n      const target = outerContainer.element;\n      if (readonly) {\n        uiComponents.mothership.broadcastOn([dismissPopups()], { target });\n        uiComponents.uiMothership.broadcastOn([dismissPopups()], { target });\n      }\n      uiComponents.mothership.broadcastOn([ReadOnlyChannel], { readonly });\n      uiComponents.uiMothership.broadcastOn([ReadOnlyChannel], { readonly });\n    };\n    const setupReadonlyModeSwitch = (editor, uiComponents) => {\n      editor.on('init', () => {\n        if (editor.mode.isReadOnly()) {\n          broadcastReadonly(uiComponents, true);\n        }\n      });\n      editor.on('SwitchMode', () => broadcastReadonly(uiComponents, editor.mode.isReadOnly()));\n      if (isReadOnly(editor)) {\n        editor.mode.set('readonly');\n      }\n    };\n    const receivingConfig = () => Receiving.config({\n      channels: {\n        [ReadOnlyChannel]: {\n          schema: ReadOnlyDataSchema,\n          onReceive: (comp, data) => {\n            Disabling.set(comp, data.readonly);\n          }\n        }\n      }\n    });\n\n    const item = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-collection__item--state-disabled'\n    });\n    const button = disabled => Disabling.config({ disabled });\n    const splitButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled'\n    });\n    const toolbarButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled',\n      useNative: false\n    });\n    const DisablingConfigs = {\n      item,\n      button,\n      splitButton,\n      toolbarButton\n    };\n\n    const runWithApi = (info, comp) => {\n      const api = info.getApi(comp);\n      return f => {\n        f(api);\n      };\n    };\n    const onControlAttached = (info, editorOffCell) => runOnAttached(comp => {\n      const run = runWithApi(info, comp);\n      run(api => {\n        const onDestroy = info.onSetup(api);\n        if (isFunction(onDestroy)) {\n          editorOffCell.set(onDestroy);\n        }\n      });\n    });\n    const onControlDetached = (getApi, editorOffCell) => runOnDetached(comp => runWithApi(getApi, comp)(editorOffCell.get()));\n\n    const onMenuItemExecute = (info, itemResponse) => runOnExecute$1((comp, simulatedEvent) => {\n      runWithApi(info, comp)(info.onAction);\n      if (!info.triggersSubmenu && itemResponse === ItemResponse$1.CLOSE_ON_EXECUTE) {\n        if (comp.getSystem().isConnected()) {\n          emit(comp, sandboxClose());\n        }\n        simulatedEvent.stop();\n      }\n    });\n    const menuItemEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'item-events'\n      ]\n    };\n\n    const componentRenderPipeline = cat;\n    const renderCommonItem = (spec, structure, itemResponse, providersbackstage) => {\n      const editorOffCell = Cell(noop);\n      return {\n        type: 'item',\n        dom: structure.dom,\n        components: componentRenderPipeline(structure.optComponents),\n        data: spec.data,\n        eventOrder: menuItemEventOrder,\n        hasSubmenu: spec.triggersSubmenu,\n        itemBehaviours: derive$1([\n          config('item-events', [\n            onMenuItemExecute(spec, itemResponse),\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          DisablingConfigs.item(() => !spec.enabled || providersbackstage.isDisabled()),\n          receivingConfig(),\n          Replacing.config({})\n        ].concat(spec.itemBehaviours))\n      };\n    };\n    const buildData = source => ({\n      value: source.value,\n      meta: {\n        text: source.text.getOr(''),\n        ...source.meta\n      }\n    });\n\n    const convertText = source => {\n      const isMac = global$5.os.isMacOS() || global$5.os.isiOS();\n      const mac = {\n        alt: '\\u2325',\n        ctrl: '\\u2303',\n        shift: '\\u21E7',\n        meta: '\\u2318',\n        access: '\\u2303\\u2325'\n      };\n      const other = {\n        meta: 'Ctrl',\n        access: 'Shift+Alt'\n      };\n      const replace = isMac ? mac : other;\n      const shortcut = source.split('+');\n      const updated = map$2(shortcut, segment => {\n        const search = segment.toLowerCase().trim();\n        return has$2(replace, search) ? replace[search] : segment;\n      });\n      return isMac ? updated.join('') : updated.join('+');\n    };\n\n    const renderIcon$1 = (name, icons, classes = [iconClass]) => render$3(name, {\n      tag: 'div',\n      classes\n    }, icons);\n    const renderText = text => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [text$1(global$8.translate(text))]\n    });\n    const renderHtml = (html, classes) => ({\n      dom: {\n        tag: 'div',\n        classes,\n        innerHtml: html\n      }\n    });\n    const renderStyledText = (style, text) => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [{\n          dom: {\n            tag: style.tag,\n            styles: style.styles\n          },\n          components: [text$1(global$8.translate(text))]\n        }]\n    });\n    const renderShortcut = shortcut => ({\n      dom: {\n        tag: 'div',\n        classes: [accessoryClass]\n      },\n      components: [text$1(convertText(shortcut))]\n    });\n    const renderCheckmark = icons => renderIcon$1('checkmark', icons, [checkmarkClass]);\n    const renderSubmenuCaret = icons => renderIcon$1('chevron-right', icons, [caretClass]);\n    const renderDownwardsCaret = icons => renderIcon$1('chevron-down', icons, [caretClass]);\n    const renderContainer = (container, components) => {\n      const directionClass = container.direction === 'vertical' ? containerColumnClass : containerRowClass;\n      const alignClass = container.align === 'left' ? containerAlignLeftClass : containerAlignRightClass;\n      const getValignClass = () => {\n        switch (container.valign) {\n        case 'top':\n          return containerValignTopClass;\n        case 'middle':\n          return containerValignMiddleClass;\n        case 'bottom':\n          return containerValignBottomClass;\n        }\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            containerClass,\n            directionClass,\n            alignClass,\n            getValignClass()\n          ]\n        },\n        components\n      };\n    };\n    const renderImage = (src, classes, alt) => ({\n      dom: {\n        tag: 'img',\n        classes,\n        attributes: {\n          src,\n          alt: alt.getOr('')\n        }\n      }\n    });\n\n    const renderColorStructure = (item, providerBackstage, fallbackIcon) => {\n      const colorPickerCommand = 'custom';\n      const removeColorCommand = 'remove';\n      const itemText = item.ariaLabel;\n      const itemValue = item.value;\n      const iconSvg = item.iconContent.map(name => getOr(name, providerBackstage.icons, fallbackIcon));\n      const getDom = () => {\n        const common = colorClass;\n        const icon = iconSvg.getOr('');\n        const attributes = itemText.map(text => ({ title: providerBackstage.translate(text) })).getOr({});\n        const baseDom = {\n          tag: 'div',\n          attributes,\n          classes: [common]\n        };\n        if (itemValue === colorPickerCommand) {\n          return {\n            ...baseDom,\n            tag: 'button',\n            classes: [\n              ...baseDom.classes,\n              'tox-swatches__picker-btn'\n            ],\n            innerHtml: icon\n          };\n        } else if (itemValue === removeColorCommand) {\n          return {\n            ...baseDom,\n            classes: [\n              ...baseDom.classes,\n              'tox-swatch--remove'\n            ],\n            innerHtml: icon\n          };\n        } else {\n          return {\n            ...baseDom,\n            attributes: {\n              ...baseDom.attributes,\n              'data-mce-color': itemValue\n            },\n            styles: { 'background-color': itemValue }\n          };\n        }\n      };\n      return {\n        dom: getDom(),\n        optComponents: []\n      };\n    };\n    const renderItemDomStructure = ariaLabel => {\n      const domTitle = ariaLabel.map(label => ({ attributes: { title: global$8.translate(label) } })).getOr({});\n      return {\n        tag: 'div',\n        classes: [\n          navClass,\n          selectableClass\n        ],\n        ...domTitle\n      };\n    };\n    const renderNormalItemStructure = (info, providersBackstage, renderIcons, fallbackIcon) => {\n      const iconSpec = {\n        tag: 'div',\n        classes: [iconClass]\n      };\n      const renderIcon = iconName => render$3(iconName, iconSpec, providersBackstage.icons, fallbackIcon);\n      const renderEmptyIcon = () => Optional.some({ dom: iconSpec });\n      const leftIcon = renderIcons ? info.iconContent.map(renderIcon).orThunk(renderEmptyIcon) : Optional.none();\n      const checkmark = info.checkMark;\n      const textRender = Optional.from(info.meta).fold(() => renderText, meta => has$2(meta, 'style') ? curry(renderStyledText, meta.style) : renderText);\n      const content = info.htmlContent.fold(() => info.textContent.map(textRender), html => Optional.some(renderHtml(html, [textClass])));\n      const menuItem = {\n        dom: renderItemDomStructure(info.ariaLabel),\n        optComponents: [\n          leftIcon,\n          content,\n          info.shortcutContent.map(renderShortcut),\n          checkmark,\n          info.caret\n        ]\n      };\n      return menuItem;\n    };\n    const renderItemStructure = (info, providersBackstage, renderIcons, fallbackIcon = Optional.none()) => {\n      if (info.presets === 'color') {\n        return renderColorStructure(info, providersBackstage, fallbackIcon);\n      } else {\n        return renderNormalItemStructure(info, providersBackstage, renderIcons, fallbackIcon);\n      }\n    };\n\n    const tooltipBehaviour = (meta, sharedBackstage) => get$g(meta, 'tooltipWorker').map(tooltipWorker => [Tooltipping.config({\n        lazySink: sharedBackstage.getSink,\n        tooltipDom: {\n          tag: 'div',\n          classes: ['tox-tooltip-worker-container']\n        },\n        tooltipComponents: [],\n        anchor: comp => ({\n          type: 'submenu',\n          item: comp,\n          overrides: { maxHeightFunction: expandable$1 }\n        }),\n        mode: 'follow-highlight',\n        onShow: (component, _tooltip) => {\n          tooltipWorker(elm => {\n            Tooltipping.setComponents(component, [external$1({ element: SugarElement.fromDom(elm) })]);\n          });\n        }\n      })]).getOr([]);\n    const encodeText = text => global$7.DOM.encode(text);\n    const replaceText = (text, matchText) => {\n      const translated = global$8.translate(text);\n      const encoded = encodeText(translated);\n      if (matchText.length > 0) {\n        const escapedMatchRegex = new RegExp(escape(matchText), 'gi');\n        return encoded.replace(escapedMatchRegex, match => `<span class=\"tox-autocompleter-highlight\">${ match }</span>`);\n      } else {\n        return encoded;\n      }\n    };\n    const renderAutocompleteItem = (spec, matchText, useText, presets, onItemValueHandler, itemResponse, sharedBackstage, renderIcons = true) => {\n      const structure = renderItemStructure({\n        presets,\n        textContent: Optional.none(),\n        htmlContent: useText ? spec.text.map(text => replaceText(text, matchText)) : Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: Optional.none(),\n        checkMark: Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, sharedBackstage.providers, renderIcons, spec.icon);\n      return renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi: constant$1({}),\n        onAction: _api => onItemValueHandler(spec.value, spec.meta),\n        onSetup: constant$1(noop),\n        triggersSubmenu: false,\n        itemBehaviours: tooltipBehaviour(spec.meta, sharedBackstage)\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const render$2 = (items, extras) => map$2(items, item => {\n      switch (item.type) {\n      case 'cardcontainer':\n        return renderContainer(item, render$2(item.items, extras));\n      case 'cardimage':\n        return renderImage(item.src, item.classes, item.alt);\n      case 'cardtext':\n        const shouldHighlight = item.name.exists(name => contains$2(extras.cardText.highlightOn, name));\n        const matchText = shouldHighlight ? Optional.from(extras.cardText.matchText).getOr('') : '';\n        return renderHtml(replaceText(item.text, matchText), item.classes);\n      }\n    });\n    const renderCardMenuItem = (spec, itemResponse, sharedBackstage, extras) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => {\n          Disabling.set(component, !state);\n          each$1(descendants(component.element, '*'), elm => {\n            component.getSystem().getByDom(elm).each(comp => {\n              if (comp.hasConfigured(Disabling)) {\n                Disabling.set(comp, !state);\n              }\n            });\n          });\n        }\n      });\n      const structure = {\n        dom: renderItemDomStructure(spec.label),\n        optComponents: [Optional.some({\n            dom: {\n              tag: 'div',\n              classes: [\n                containerClass,\n                containerRowClass\n              ]\n            },\n            components: render$2(spec.items, extras)\n          })]\n      };\n      return renderCommonItem({\n        data: buildData({\n          text: Optional.none(),\n          ...spec\n        }),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: Optional.from(extras.itemBehaviours).getOr([])\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const renderChoiceItem = (spec, useText, presets, onItemValueHandler, isSelected, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets,\n        textContent: useText ? spec.text : Optional.none(),\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: useText ? spec.shortcut : Optional.none(),\n        checkMark: useText ? Optional.some(renderCheckmark(providersBackstage.icons)) : Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: _api => onItemValueHandler(spec.value),\n        onSetup: api => {\n          api.setActive(isSelected);\n          return noop;\n        },\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active,\n          exclusive: true\n        }\n      });\n    };\n\n    const parts$f = generate$3(owner$2(), parts$h());\n\n    const hexColour = value => ({ value });\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    const longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    const isHexString = hex => shorthandRegex.test(hex) || longformRegex.test(hex);\n    const normalizeHex = hex => removeLeading(hex, '#').toUpperCase();\n    const fromString$1 = hex => isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    const getLongForm = hex => {\n      const hexString = hex.value.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n      return { value: hexString };\n    };\n    const extractValues = hex => {\n      const longForm = getLongForm(hex);\n      const splitForm = longformRegex.exec(longForm.value);\n      return splitForm === null ? [\n        'FFFFFF',\n        'FF',\n        'FF',\n        'FF'\n      ] : splitForm;\n    };\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const min = Math.min;\n    const max = Math.max;\n    const round$1 = Math.round;\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const isRgbaComponent = value => {\n      const num = parseInt(value, 10);\n      return num.toString() === value && num >= 0 && num <= 255;\n    };\n    const fromHsv = hsv => {\n      let r;\n      let g;\n      let b;\n      const hue = (hsv.hue || 0) % 360;\n      let saturation = hsv.saturation / 100;\n      let brightness = hsv.value / 100;\n      saturation = max(0, min(saturation, 1));\n      brightness = max(0, min(brightness, 1));\n      if (saturation === 0) {\n        r = g = b = round$1(255 * brightness);\n        return rgbaColour(r, g, b, 1);\n      }\n      const side = hue / 60;\n      const chroma = brightness * saturation;\n      const x = chroma * (1 - Math.abs(side % 2 - 1));\n      const match = brightness - chroma;\n      switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n      default:\n        r = g = b = 0;\n      }\n      r = round$1(255 * (r + match));\n      g = round$1(255 * (g + match));\n      b = round$1(255 * (b + match));\n      return rgbaColour(r, g, b, 1);\n    };\n    const fromHex = hexColour => {\n      const result = extractValues(hexColour);\n      const red = parseInt(result[1], 16);\n      const green = parseInt(result[2], 16);\n      const blue = parseInt(result[3], 16);\n      return rgbaColour(red, green, blue, 1);\n    };\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n    const toString = rgba => `rgba(${ rgba.red },${ rgba.green },${ rgba.blue },${ rgba.alpha })`;\n    const red = rgbaColour(255, 0, 0, 1);\n\n    const fireSkinLoaded$1 = editor => editor.dispatch('SkinLoaded');\n    const fireSkinLoadError$1 = (editor, error) => editor.dispatch('SkinLoadError', error);\n    const fireResizeEditor = editor => editor.dispatch('ResizeEditor');\n    const fireResizeContent = (editor, e) => editor.dispatch('ResizeContent', e);\n    const fireScrollContent = (editor, e) => editor.dispatch('ScrollContent', e);\n    const fireTextColorChange = (editor, data) => editor.dispatch('TextColorChange', data);\n\n    const hsvColour = (hue, saturation, value) => ({\n      hue,\n      saturation,\n      value\n    });\n    const fromRgb = rgbaColour => {\n      let h = 0;\n      let s = 0;\n      let v = 0;\n      const r = rgbaColour.red / 255;\n      const g = rgbaColour.green / 255;\n      const b = rgbaColour.blue / 255;\n      const minRGB = Math.min(r, Math.min(g, b));\n      const maxRGB = Math.max(r, Math.max(g, b));\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return hsvColour(0, 0, v * 100);\n      }\n      const d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return hsvColour(Math.round(h), Math.round(s * 100), Math.round(v * 100));\n    };\n\n    const hexToHsv = hex => fromRgb(fromHex(hex));\n    const hsvToHex = hsv => fromRgba(fromHsv(hsv));\n    const anyToHex = color => fromString$1(color).orThunk(() => fromString(color).map(fromRgba)).getOrThunk(() => {\n      const canvas = document.createElement('canvas');\n      canvas.height = 1;\n      canvas.width = 1;\n      const canvasContext = canvas.getContext('2d');\n      canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n      canvasContext.fillStyle = '#FFFFFF';\n      canvasContext.fillStyle = color;\n      canvasContext.fillRect(0, 0, 1, 1);\n      const rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n      const r = rgba[0];\n      const g = rgba[1];\n      const b = rgba[2];\n      const a = rgba[3];\n      return fromRgba(rgbaColour(r, g, b, a));\n    });\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    const storageName = 'tinymce-custom-colors';\n    var ColorCache = (max = 10) => {\n      const storageString = global$4.getItem(storageName);\n      const localstorage = isString(storageString) ? JSON.parse(storageString) : [];\n      const prune = list => {\n        const diff = max - list.length;\n        return diff < 0 ? list.slice(0, max) : list;\n      };\n      const cache = prune(localstorage);\n      const add = key => {\n        indexOf(cache, key).each(remove);\n        cache.unshift(key);\n        if (cache.length > max) {\n          cache.pop();\n        }\n        global$4.setItem(storageName, JSON.stringify(cache));\n      };\n      const remove = idx => {\n        cache.splice(idx, 1);\n      };\n      const state = () => cache.slice(0);\n      return {\n        add,\n        state\n      };\n    };\n\n    const colorCache = ColorCache(10);\n    const calcCols = colors => Math.max(5, Math.ceil(Math.sqrt(colors)));\n    const mapColors = colorMap => {\n      const colors = [];\n      for (let i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          value: '#' + anyToHex(colorMap[i]).value,\n          type: 'choiceitem'\n        });\n      }\n      return colors;\n    };\n    const option$1 = name => editor => editor.options.get(name);\n    const register$d = editor => {\n      const registerOption = editor.options.register;\n      registerOption('color_map', {\n        processor: value => {\n          if (isArrayOf(value, isString)) {\n            return {\n              value: mapColors(value),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be an array of strings.'\n            };\n          }\n        },\n        default: [\n          '#BFEDD2',\n          'Light Green',\n          '#FBEEB8',\n          'Light Yellow',\n          '#F8CAC6',\n          'Light Red',\n          '#ECCAFA',\n          'Light Purple',\n          '#C2E0F4',\n          'Light Blue',\n          '#2DC26B',\n          'Green',\n          '#F1C40F',\n          'Yellow',\n          '#E03E2D',\n          'Red',\n          '#B96AD9',\n          'Purple',\n          '#3598DB',\n          'Blue',\n          '#169179',\n          'Dark Turquoise',\n          '#E67E23',\n          'Orange',\n          '#BA372A',\n          'Dark Red',\n          '#843FA1',\n          'Dark Purple',\n          '#236FA1',\n          'Dark Blue',\n          '#ECF0F1',\n          'Light Gray',\n          '#CED4D9',\n          'Medium Gray',\n          '#95A5A6',\n          'Gray',\n          '#7E8C8D',\n          'Dark Gray',\n          '#34495E',\n          'Navy Blue',\n          '#000000',\n          'Black',\n          '#ffffff',\n          'White'\n        ]\n      });\n      registerOption('color_cols', {\n        processor: 'number',\n        default: calcCols(getColors$2(editor).length)\n      });\n      registerOption('custom_colors', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const getColorCols$1 = option$1('color_cols');\n    const hasCustomColors$1 = option$1('custom_colors');\n    const getColors$2 = option$1('color_map');\n    const getCurrentColors = () => map$2(colorCache.state(), color => ({\n      type: 'choiceitem',\n      text: color,\n      value: color\n    }));\n    const addColor = color => {\n      colorCache.add(color);\n    };\n\n    const fallbackColor = '#000000';\n    const getCurrentColor = (editor, format) => {\n      let color;\n      editor.dom.getParents(editor.selection.getStart(), elm => {\n        let value;\n        if (value = elm.style[format === 'forecolor' ? 'color' : 'background-color']) {\n          color = color ? color : value;\n        }\n      });\n      return Optional.from(color);\n    };\n    const applyFormat = (editor, format, value) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.apply(format, { value });\n        editor.nodeChanged();\n      });\n    };\n    const removeFormat = (editor, format) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.remove(format, { value: null }, null, true);\n        editor.nodeChanged();\n      });\n    };\n    const registerCommands = editor => {\n      editor.addCommand('mceApplyTextcolor', (format, value) => {\n        applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', format => {\n        removeFormat(editor, format);\n      });\n    };\n    const getAdditionalColors = hasCustom => {\n      const type = 'choiceitem';\n      const remove = {\n        type,\n        text: 'Remove color',\n        icon: 'color-swatch-remove-color',\n        value: 'remove'\n      };\n      const custom = {\n        type,\n        text: 'Custom color',\n        icon: 'color-picker',\n        value: 'custom'\n      };\n      return hasCustom ? [\n        remove,\n        custom\n      ] : [remove];\n    };\n    const applyColor = (editor, format, value, onChoice) => {\n      if (value === 'custom') {\n        const dialog = colorPickerDialog(editor);\n        dialog(colorOpt => {\n          colorOpt.each(color => {\n            addColor(color);\n            editor.execCommand('mceApplyTextcolor', format, color);\n            onChoice(color);\n          });\n        }, fallbackColor);\n      } else if (value === 'remove') {\n        onChoice('');\n        editor.execCommand('mceRemoveTextcolor', format);\n      } else {\n        onChoice(value);\n        editor.execCommand('mceApplyTextcolor', format, value);\n      }\n    };\n    const getColors$1 = (colors, hasCustom) => colors.concat(getCurrentColors().concat(getAdditionalColors(hasCustom)));\n    const getFetch$1 = (colors, hasCustom) => callback => {\n      callback(getColors$1(colors, hasCustom));\n    };\n    const setIconColor = (splitButtonApi, name, newColor) => {\n      const id = name === 'forecolor' ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n      splitButtonApi.setIconFill(id, newColor);\n    };\n    const registerTextColorButton = (editor, name, format, tooltip, lastColor) => {\n      editor.ui.registry.addSplitButton(name, {\n        tooltip,\n        presets: 'color',\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        select: value => {\n          const optCurrentRgb = getCurrentColor(editor, format);\n          return optCurrentRgb.bind(currentRgb => fromString(currentRgb).map(rgba => {\n            const currentHex = fromRgba(rgba).value;\n            return contains$1(value.toLowerCase(), currentHex);\n          })).getOr(false);\n        },\n        columns: getColorCols$1(editor),\n        fetch: getFetch$1(getColors$2(editor), hasCustomColors$1(editor)),\n        onAction: _splitButtonApi => {\n          applyColor(editor, format, lastColor.get(), noop);\n        },\n        onItemAction: (_splitButtonApi, value) => {\n          applyColor(editor, format, value, newColor => {\n            lastColor.set(newColor);\n            fireTextColorChange(editor, {\n              name,\n              color: newColor\n            });\n          });\n        },\n        onSetup: splitButtonApi => {\n          setIconColor(splitButtonApi, name, lastColor.get());\n          const handler = e => {\n            if (e.name === name) {\n              setIconColor(splitButtonApi, e.name, e.color);\n            }\n          };\n          editor.on('TextColorChange', handler);\n          return () => {\n            editor.off('TextColorChange', handler);\n          };\n        }\n      });\n    };\n    const registerTextColorMenuItem = (editor, name, format, text) => {\n      editor.ui.registry.addNestedMenuItem(name, {\n        text,\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        getSubmenuItems: () => [{\n            type: 'fancymenuitem',\n            fancytype: 'colorswatch',\n            onAction: data => {\n              applyColor(editor, format, data.value, noop);\n            }\n          }]\n      });\n    };\n    const colorPickerDialog = editor => (callback, value) => {\n      let isValid = false;\n      const onSubmit = api => {\n        const data = api.getData();\n        const hex = data.colorpicker;\n        if (isValid) {\n          callback(Optional.from(hex));\n          api.close();\n        } else {\n          editor.windowManager.alert(editor.translate([\n            'Invalid hex color code: {0}',\n            hex\n          ]));\n        }\n      };\n      const onAction = (_api, details) => {\n        if (details.name === 'hex-valid') {\n          isValid = details.value;\n        }\n      };\n      const initialData = { colorpicker: value };\n      editor.windowManager.open({\n        title: 'Color Picker',\n        size: 'normal',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'colorpicker',\n              name: 'colorpicker',\n              label: 'Color'\n            }]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData,\n        onAction,\n        onSubmit,\n        onClose: noop,\n        onCancel: () => {\n          callback(Optional.none());\n        }\n      });\n    };\n    const register$c = editor => {\n      registerCommands(editor);\n      const lastForeColor = Cell(fallbackColor);\n      const lastBackColor = Cell(fallbackColor);\n      registerTextColorButton(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorButton(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n      registerTextColorMenuItem(editor, 'forecolor', 'forecolor', 'Text color');\n      registerTextColorMenuItem(editor, 'backcolor', 'hilitecolor', 'Background color');\n    };\n\n    const createPartialChoiceMenu = (value, items, onItemValueHandler, columns, presets, itemResponse, select, providersBackstage) => {\n      const hasIcons = menuHasIcons(items);\n      const presetItemTypes = presets !== 'color' ? 'normal' : 'color';\n      const alloyItems = createChoiceItems(items, onItemValueHandler, columns, presetItemTypes, itemResponse, select, providersBackstage);\n      return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, columns, presets);\n    };\n    const createChoiceItems = (items, onItemValueHandler, columns, itemPresets, itemResponse, select, providersBackstage) => cat(map$2(items, item => {\n      if (item.type === 'choiceitem') {\n        return createChoiceMenuItem(item).fold(handleError, d => Optional.some(renderChoiceItem(d, columns === 1, itemPresets, onItemValueHandler, select(item.value), itemResponse, providersBackstage, menuHasIcons(items))));\n      } else {\n        return Optional.none();\n      }\n    }));\n\n    const deriveMenuMovement = (columns, presets) => {\n      const menuMarkers = markers(presets);\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: true\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'grid',\n          selector: '.' + menuMarkers.item,\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        const rowClass = presets === 'color' ? 'tox-swatches__row' : 'tox-collection__group';\n        return {\n          mode: 'matrix',\n          rowSelector: '.' + rowClass\n        };\n      }\n    };\n    const deriveCollectionMovement = (columns, presets) => {\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: false,\n          selector: '.tox-collection__item'\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'flatgrid',\n          selector: '.' + 'tox-collection__item',\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        return {\n          mode: 'matrix',\n          selectors: {\n            row: presets === 'color' ? '.tox-swatches__row' : '.tox-collection__group',\n            cell: presets === 'color' ? `.${ colorClass }` : `.${ selectableClass }`\n          }\n        };\n      }\n    };\n\n    const renderColorSwatchItem = (spec, backstage) => {\n      const items = getColorItems(spec, backstage);\n      const columns = backstage.colorinput.getColorCols();\n      const presets = 'color';\n      const menuSpec = createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onAction({ value });\n      }, columns, presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, backstage.shared.providers);\n      const widgetSpec = {\n        ...menuSpec,\n        markers: markers(presets),\n        movement: deriveMenuMovement(columns, presets)\n      };\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget(Menu.sketch(widgetSpec))]\n      };\n    };\n    const getColorItems = (spec, backstage) => {\n      const useCustomColors = spec.initData.allowCustomColors && backstage.colorinput.hasCustomColors();\n      return spec.initData.colors.fold(() => getColors$1(backstage.colorinput.getColors(), useCustomColors), colors => colors.concat(getAdditionalColors(useCustomColors)));\n    };\n\n    const cellOverEvent = generate$6('cell-over');\n    const cellExecuteEvent = generate$6('cell-execute');\n    const makeCell = (row, col, labelId) => {\n      const emitCellOver = c => emitWith(c, cellOverEvent, {\n        row,\n        col\n      });\n      const emitExecute = c => emitWith(c, cellExecuteEvent, {\n        row,\n        col\n      });\n      const onClick = (c, se) => {\n        se.stop();\n        emitExecute(c);\n      };\n      return build$1({\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'button',\n            ['aria-labelledby']: labelId\n          }\n        },\n        behaviours: derive$1([\n          config('insert-table-picker-cell', [\n            run$1(mouseover(), Focusing.focus),\n            run$1(execute$5(), emitExecute),\n            run$1(click(), onClick),\n            run$1(tap(), onClick)\n          ]),\n          Toggling.config({\n            toggleClass: 'tox-insert-table-picker__selected',\n            toggleOnExecute: false\n          }),\n          Focusing.config({ onFocus: emitCellOver })\n        ])\n      });\n    };\n    const makeCells = (labelId, numRows, numCols) => {\n      const cells = [];\n      for (let i = 0; i < numRows; i++) {\n        const row = [];\n        for (let j = 0; j < numCols; j++) {\n          row.push(makeCell(i, j, labelId));\n        }\n        cells.push(row);\n      }\n      return cells;\n    };\n    const selectCells = (cells, selectedRow, selectedColumn, numRows, numColumns) => {\n      for (let i = 0; i < numRows; i++) {\n        for (let j = 0; j < numColumns; j++) {\n          Toggling.set(cells[i][j], i <= selectedRow && j <= selectedColumn);\n        }\n      }\n    };\n    const makeComponents = cells => bind$3(cells, cellRow => map$2(cellRow, premade));\n    const makeLabelText = (row, col) => text$1(`${ col }x${ row }`);\n    const renderInsertTableMenuItem = spec => {\n      const numRows = 10;\n      const numColumns = 10;\n      const sizeLabelId = generate$6('size-label');\n      const cells = makeCells(sizeLabelId, numRows, numColumns);\n      const emptyLabelText = makeLabelText(0, 0);\n      const memLabel = record({\n        dom: {\n          tag: 'span',\n          classes: ['tox-insert-table-picker__label'],\n          attributes: { id: sizeLabelId }\n        },\n        components: [emptyLabelText],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget({\n            dom: {\n              tag: 'div',\n              classes: ['tox-insert-table-picker']\n            },\n            components: makeComponents(cells).concat(memLabel.asSpec()),\n            behaviours: derive$1([\n              config('insert-table-picker', [\n                runOnAttached(c => {\n                  Replacing.set(memLabel.get(c), [emptyLabelText]);\n                }),\n                runWithTarget(cellOverEvent, (c, t, e) => {\n                  const {row, col} = e.event;\n                  selectCells(cells, row, col, numRows, numColumns);\n                  Replacing.set(memLabel.get(c), [makeLabelText(row + 1, col + 1)]);\n                }),\n                runWithTarget(cellExecuteEvent, (c, _, e) => {\n                  const {row, col} = e.event;\n                  spec.onAction({\n                    numRows: row + 1,\n                    numColumns: col + 1\n                  });\n                  emit(c, sandboxClose());\n                })\n              ]),\n              Keying.config({\n                initSize: {\n                  numRows,\n                  numColumns\n                },\n                mode: 'flatgrid',\n                selector: '[role=\"button\"]'\n              })\n            ])\n          })]\n      };\n    };\n\n    const fancyMenuItems = {\n      inserttable: renderInsertTableMenuItem,\n      colorswatch: renderColorSwatchItem\n    };\n    const renderFancyMenuItem = (spec, backstage) => get$g(fancyMenuItems, spec.fancytype).map(render => render(spec, backstage));\n\n    const renderNestedItem = (spec, itemResponse, providersBackstage, renderIcons = true, downwardsCaret = false) => {\n      const caret = downwardsCaret ? renderDownwardsCaret(providersBackstage.icons) : renderSubmenuCaret(providersBackstage.icons);\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.some(caret),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: noop,\n        onSetup: spec.onSetup,\n        triggersSubmenu: true,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderNormalItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.none(),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderSeparatorItem = spec => ({\n      type: 'separator',\n      dom: {\n        tag: 'div',\n        classes: [\n          selectableClass,\n          groupHeadingClass\n        ]\n      },\n      components: spec.text.map(text$1).toArray()\n    });\n\n    const renderToggleMenuItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        checkMark: Optional.some(renderCheckmark(providersBackstage.icons)),\n        caret: Optional.none(),\n        shortcutContent: spec.shortcut,\n        presets: 'normal',\n        meta: spec.meta\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    const autocomplete = renderAutocompleteItem;\n    const separator$3 = renderSeparatorItem;\n    const normal = renderNormalItem;\n    const nested = renderNestedItem;\n    const toggle$1 = renderToggleMenuItem;\n    const fancy = renderFancyMenuItem;\n    const card = renderCardMenuItem;\n\n    var FocusMode;\n    (function (FocusMode) {\n      FocusMode[FocusMode['ContentFocus'] = 0] = 'ContentFocus';\n      FocusMode[FocusMode['UiFocus'] = 1] = 'UiFocus';\n    }(FocusMode || (FocusMode = {})));\n    const createMenuItemFromBridge = (item, itemResponse, backstage, menuHasIcons, isHorizontalMenu) => {\n      const providersBackstage = backstage.shared.providers;\n      const parseForHorizontalMenu = menuitem => !isHorizontalMenu ? menuitem : {\n        ...menuitem,\n        shortcut: Optional.none(),\n        icon: menuitem.text.isSome() ? Optional.none() : menuitem.icon\n      };\n      switch (item.type) {\n      case 'menuitem':\n        return createMenuItem(item).fold(handleError, d => Optional.some(normal(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'nestedmenuitem':\n        return createNestedMenuItem(item).fold(handleError, d => Optional.some(nested(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons, isHorizontalMenu)));\n      case 'togglemenuitem':\n        return createToggleMenuItem(item).fold(handleError, d => Optional.some(toggle$1(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'separator':\n        return createSeparatorMenuItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n      case 'fancymenuitem':\n        return createFancyMenuItem(item).fold(handleError, d => fancy(parseForHorizontalMenu(d), backstage));\n      default: {\n          console.error('Unknown item in general menu', item);\n          return Optional.none();\n        }\n      }\n    };\n    const createAutocompleteItems = (items, matchText, onItemValueHandler, columns, itemResponse, sharedBackstage, highlightOn) => {\n      const renderText = columns === 1;\n      const renderIcons = !renderText || menuHasIcons(items);\n      return cat(map$2(items, item => {\n        switch (item.type) {\n        case 'separator':\n          return createSeparatorItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n        case 'cardmenuitem':\n          return createCardMenuItem(item).fold(handleError, d => Optional.some(card({\n            ...d,\n            onAction: api => {\n              d.onAction(api);\n              onItemValueHandler(d.value, d.meta);\n            }\n          }, itemResponse, sharedBackstage, {\n            itemBehaviours: tooltipBehaviour(d.meta, sharedBackstage),\n            cardText: {\n              matchText,\n              highlightOn\n            }\n          })));\n        case 'autocompleteitem':\n        default:\n          return createAutocompleterItem(item).fold(handleError, d => Optional.some(autocomplete(d, matchText, renderText, 'normal', onItemValueHandler, itemResponse, sharedBackstage, renderIcons)));\n        }\n      }));\n    };\n    const createPartialMenu = (value, items, itemResponse, backstage, isHorizontalMenu) => {\n      const hasIcons = menuHasIcons(items);\n      const alloyItems = cat(map$2(items, item => {\n        const itemHasIcon = i => isHorizontalMenu ? !has$2(i, 'text') : hasIcons;\n        const createItem = i => createMenuItemFromBridge(i, itemResponse, backstage, itemHasIcon(i), isHorizontalMenu);\n        if (item.type === 'nestedmenuitem' && item.getSubmenuItems().length <= 0) {\n          return createItem({\n            ...item,\n            enabled: false\n          });\n        } else {\n          return createItem(item);\n        }\n      }));\n      const createPartial = isHorizontalMenu ? createHorizontalPartialMenuWithAlloyItems : createPartialMenuWithAlloyItems;\n      return createPartial(value, hasIcons, alloyItems, 1, 'normal');\n    };\n    const createTieredDataFrom = partialMenu => tieredMenu.singleData(partialMenu.value, partialMenu);\n    const createInlineMenuFrom = (partialMenu, columns, focusMode, presets) => {\n      const movement = deriveMenuMovement(columns, presets);\n      const menuMarkers = markers(presets);\n      return {\n        data: createTieredDataFrom({\n          ...partialMenu,\n          movement,\n          menuBehaviours: SimpleBehaviours.unnamedEvents(columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n              detectSize(comp, 4, menuMarkers.item).each(({numColumns, numRows}) => {\n                Keying.setGridSize(comp, numRows, numColumns);\n              });\n            })])\n        }),\n        menu: {\n          markers: markers(presets),\n          fakeFocus: focusMode === FocusMode.ContentFocus\n        }\n      };\n    };\n\n    const getAutocompleterRange = (dom, initRange) => {\n      return detect(SugarElement.fromDom(initRange.startContainer)).map(elm => {\n        const range = dom.createRng();\n        range.selectNode(elm.dom);\n        return range;\n      });\n    };\n    const register$b = (editor, sharedBackstage) => {\n      const processingAction = Cell(false);\n      const activeState = Cell(false);\n      const autocompleter = build$1(InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-autocompleter']\n        },\n        components: [],\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissAutocompleter', [run$1(dismissRequested(), () => cancelIfNecessary())])]),\n        lazySink: sharedBackstage.getSink\n      }));\n      const isMenuOpen = () => InlineView.isOpen(autocompleter);\n      const isActive = activeState.get;\n      const hideIfNecessary = () => {\n        if (isMenuOpen()) {\n          InlineView.hide(autocompleter);\n        }\n      };\n      const getMenu = () => InlineView.getContent(autocompleter).bind(tmenu => {\n        return get$h(tmenu.components(), 0);\n      });\n      const cancelIfNecessary = () => editor.execCommand('mceAutocompleterClose');\n      const getCombinedItems = matches => {\n        const columns = findMap(matches, m => Optional.from(m.columns)).getOr(1);\n        return bind$3(matches, match => {\n          const choices = match.items;\n          return createAutocompleteItems(choices, match.matchText, (itemValue, itemMeta) => {\n            const nr = editor.selection.getRng();\n            getAutocompleterRange(editor.dom, nr).each(range => {\n              const autocompleterApi = {\n                hide: () => cancelIfNecessary(),\n                reload: fetchOptions => {\n                  hideIfNecessary();\n                  editor.execCommand('mceAutocompleterReload', false, { fetchOptions });\n                }\n              };\n              processingAction.set(true);\n              match.onAction(autocompleterApi, range, itemValue, itemMeta);\n              processingAction.set(false);\n            });\n          }, columns, ItemResponse$1.BUBBLE_TO_SANDBOX, sharedBackstage, match.highlightOn);\n        });\n      };\n      const display = (lookupData, items) => {\n        findIn(SugarElement.fromDom(editor.getBody())).each(element => {\n          const columns = findMap(lookupData, ld => Optional.from(ld.columns)).getOr(1);\n          InlineView.showMenuAt(autocompleter, {\n            anchor: {\n              type: 'node',\n              root: SugarElement.fromDom(editor.getBody()),\n              node: Optional.from(element)\n            }\n          }, createInlineMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value', true, items, columns, 'normal'), columns, FocusMode.ContentFocus, 'normal'));\n        });\n        getMenu().each(Highlighting.highlightFirst);\n      };\n      const updateDisplay = lookupData => {\n        const combinedItems = getCombinedItems(lookupData);\n        if (combinedItems.length > 0) {\n          display(lookupData, combinedItems);\n        } else {\n          hideIfNecessary();\n        }\n      };\n      editor.on('AutocompleterStart', ({lookupData}) => {\n        activeState.set(true);\n        processingAction.set(false);\n        updateDisplay(lookupData);\n      });\n      editor.on('AutocompleterUpdate', ({lookupData}) => updateDisplay(lookupData));\n      editor.on('AutocompleterEnd', () => {\n        hideIfNecessary();\n        activeState.set(false);\n        processingAction.set(false);\n      });\n      const autocompleterUiApi = {\n        cancelIfNecessary,\n        isMenuOpen,\n        isActive,\n        isProcessingAction: processingAction.get,\n        getMenu\n      };\n      AutocompleterEditorEvents.setup(autocompleterUiApi, editor);\n    };\n    const Autocompleter = { register: register$b };\n\n    const closest = (scope, selector, isRoot) => closest$1(scope, selector, isRoot).isSome();\n\n    const DelayedFunction = (fun, delay) => {\n      let ref = null;\n      const schedule = (...args) => {\n        ref = setTimeout(() => {\n          fun.apply(null, args);\n          ref = null;\n        }, delay);\n      };\n      const cancel = () => {\n        if (ref !== null) {\n          clearTimeout(ref);\n          ref = null;\n        }\n      };\n      return {\n        cancel,\n        schedule\n      };\n    };\n\n    const SIGNIFICANT_MOVE = 5;\n    const LONGPRESS_DELAY = 400;\n    const getTouch = event => {\n      const raw = event.raw;\n      if (raw.touches === undefined || raw.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(raw.touches[0]);\n    };\n    const isFarEnough = (touch, data) => {\n      const distX = Math.abs(touch.clientX - data.x);\n      const distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    const monitor = settings => {\n      const startData = value$2();\n      const longpressFired = Cell(false);\n      const longpress$1 = DelayedFunction(event => {\n        settings.triggerEvent(longpress(), event);\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      const handleTouchstart = event => {\n        getTouch(event).each(touch => {\n          longpress$1.cancel();\n          const data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: event.target\n          };\n          longpress$1.schedule(event);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n        return Optional.none();\n      };\n      const handleTouchmove = event => {\n        longpress$1.cancel();\n        getTouch(event).each(touch => {\n          startData.on(data => {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n            }\n          });\n        });\n        return Optional.none();\n      };\n      const handleTouchend = event => {\n        longpress$1.cancel();\n        const isSame = data => eq(data.target, event.target);\n        return startData.get().filter(isSame).map(_data => {\n          if (longpressFired.get()) {\n            event.prevent();\n            return false;\n          } else {\n            return settings.triggerEvent(tap(), event);\n          }\n        });\n      };\n      const handlers = wrapAll([\n        {\n          key: touchstart(),\n          value: handleTouchstart\n        },\n        {\n          key: touchmove(),\n          value: handleTouchmove\n        },\n        {\n          key: touchend(),\n          value: handleTouchend\n        }\n      ]);\n      const fireIfReady = (event, type) => get$g(handlers, type).bind(handler => handler(event));\n      return { fireIfReady };\n    };\n\n    const isDangerous = event => {\n      const keyEv = event.raw;\n      return keyEv.which === BACKSPACE[0] && !contains$2([\n        'input',\n        'textarea'\n      ], name$3(event.target)) && !closest(event.target, '[contenteditable=\"true\"]');\n    };\n    const setup$d = (container, rawSettings) => {\n      const settings = {\n        stopBackspace: true,\n        ...rawSettings\n      };\n      const pointerEvents = [\n        'touchstart',\n        'touchmove',\n        'touchend',\n        'touchcancel',\n        'gesturestart',\n        'mousedown',\n        'mouseup',\n        'mouseover',\n        'mousemove',\n        'mouseout',\n        'click'\n      ];\n      const tapEvent = monitor(settings);\n      const simpleEvents = map$2(pointerEvents.concat([\n        'selectstart',\n        'input',\n        'contextmenu',\n        'change',\n        'transitionend',\n        'transitioncancel',\n        'drag',\n        'dragstart',\n        'dragend',\n        'dragenter',\n        'dragleave',\n        'dragover',\n        'drop',\n        'keyup'\n      ]), type => bind(container, type, event => {\n        tapEvent.fireIfReady(event, type).each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent(type, event);\n        if (stopped) {\n          event.kill();\n        }\n      }));\n      const pasteTimeout = value$2();\n      const onPaste = bind(container, 'paste', event => {\n        tapEvent.fireIfReady(event, 'paste').each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent('paste', event);\n        if (stopped) {\n          event.kill();\n        }\n        pasteTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postPaste(), event);\n        }, 0));\n      });\n      const onKeydown = bind(container, 'keydown', event => {\n        const stopped = settings.triggerEvent('keydown', event);\n        if (stopped) {\n          event.kill();\n        } else if (settings.stopBackspace && isDangerous(event)) {\n          event.prevent();\n        }\n      });\n      const onFocusIn = bind(container, 'focusin', event => {\n        const stopped = settings.triggerEvent('focusin', event);\n        if (stopped) {\n          event.kill();\n        }\n      });\n      const focusoutTimeout = value$2();\n      const onFocusOut = bind(container, 'focusout', event => {\n        const stopped = settings.triggerEvent('focusout', event);\n        if (stopped) {\n          event.kill();\n        }\n        focusoutTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postBlur(), event);\n        }, 0));\n      });\n      const unbind = () => {\n        each$1(simpleEvents, e => {\n          e.unbind();\n        });\n        onKeydown.unbind();\n        onFocusIn.unbind();\n        onFocusOut.unbind();\n        onPaste.unbind();\n        pasteTimeout.on(clearTimeout);\n        focusoutTimeout.on(clearTimeout);\n      };\n      return { unbind };\n    };\n\n    const derive = (rawEvent, rawTarget) => {\n      const source = get$g(rawEvent, 'target').getOr(rawTarget);\n      return Cell(source);\n    };\n\n    const fromSource = (event, source) => {\n      const stopper = Cell(false);\n      const cutter = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      const cut = () => {\n        cutter.set(true);\n      };\n      return {\n        stop,\n        cut,\n        isStopped: stopper.get,\n        isCut: cutter.get,\n        event,\n        setSource: source.set,\n        getSource: source.get\n      };\n    };\n    const fromExternal = event => {\n      const stopper = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      return {\n        stop,\n        cut: noop,\n        isStopped: stopper.get,\n        isCut: never,\n        event,\n        setSource: die('Cannot set source of a broadcasted event'),\n        getSource: die('Cannot get source of a broadcasted event')\n      };\n    };\n\n    const adt$1 = Adt.generate([\n      { stopped: [] },\n      { resume: ['element'] },\n      { complete: [] }\n    ]);\n    const doTriggerHandler = (lookup, eventType, rawEvent, target, source, logger) => {\n      const handler = lookup(eventType, target);\n      const simulatedEvent = fromSource(rawEvent, source);\n      return handler.fold(() => {\n        logger.logEventNoHandlers(eventType, target);\n        return adt$1.complete();\n      }, handlerInfo => {\n        const descHandler = handlerInfo.descHandler;\n        const eventHandler = getCurried(descHandler);\n        eventHandler(simulatedEvent);\n        if (simulatedEvent.isStopped()) {\n          logger.logEventStopped(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.stopped();\n        } else if (simulatedEvent.isCut()) {\n          logger.logEventCut(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.complete();\n        } else {\n          return parent(handlerInfo.element).fold(() => {\n            logger.logNoParent(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.complete();\n          }, parent => {\n            logger.logEventResponse(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.resume(parent);\n          });\n        }\n      });\n    };\n    const doTriggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, source, logger) => doTriggerHandler(lookup, eventType, rawEvent, rawTarget, source, logger).fold(always, parent => doTriggerOnUntilStopped(lookup, eventType, rawEvent, parent, source, logger), never);\n    const triggerHandler = (lookup, eventType, rawEvent, target, logger) => {\n      const source = derive(rawEvent, target);\n      return doTriggerHandler(lookup, eventType, rawEvent, target, source, logger);\n    };\n    const broadcast = (listeners, rawEvent, _logger) => {\n      const simulatedEvent = fromExternal(rawEvent);\n      each$1(listeners, listener => {\n        const descHandler = listener.descHandler;\n        const handler = getCurried(descHandler);\n        handler(simulatedEvent);\n      });\n      return simulatedEvent.isStopped();\n    };\n    const triggerUntilStopped = (lookup, eventType, rawEvent, logger) => triggerOnUntilStopped(lookup, eventType, rawEvent, rawEvent.target, logger);\n    const triggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, logger) => {\n      const source = derive(rawEvent, rawTarget);\n      return doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger);\n    };\n\n    const eventHandler = (element, descHandler) => ({\n      element,\n      descHandler\n    });\n    const broadcastHandler = (id, handler) => ({\n      id,\n      descHandler: handler\n    });\n    const EventRegistry = () => {\n      const registry = {};\n      const registerId = (extraArgs, id, events) => {\n        each(events, (v, k) => {\n          const handlers = registry[k] !== undefined ? registry[k] : {};\n          handlers[id] = curryArgs(v, extraArgs);\n          registry[k] = handlers;\n        });\n      };\n      const findHandler = (handlers, elem) => read$1(elem).bind(id => get$g(handlers, id)).map(descHandler => eventHandler(elem, descHandler));\n      const filterByType = type => get$g(registry, type).map(handlers => mapToArray(handlers, (f, id) => broadcastHandler(id, f))).getOr([]);\n      const find = (isAboveRoot, type, target) => get$g(registry, type).bind(handlers => closest$4(target, elem => findHandler(handlers, elem), isAboveRoot));\n      const unregisterId = id => {\n        each(registry, (handlersById, _eventName) => {\n          if (has$2(handlersById, id)) {\n            delete handlersById[id];\n          }\n        });\n      };\n      return {\n        registerId,\n        unregisterId,\n        filterByType,\n        find\n      };\n    };\n\n    const Registry = () => {\n      const events = EventRegistry();\n      const components = {};\n      const readOrTag = component => {\n        const elem = component.element;\n        return read$1(elem).getOrThunk(() => write('uid-', component.element));\n      };\n      const failOnDuplicate = (component, tagId) => {\n        const conflict = components[tagId];\n        if (conflict === component) {\n          unregister(component);\n        } else {\n          throw new Error('The tagId \"' + tagId + '\" is already used by: ' + element(conflict.element) + '\\nCannot use it for: ' + element(component.element) + '\\n' + 'The conflicting element is' + (inBody(conflict.element) ? ' ' : ' not ') + 'already in the DOM');\n        }\n      };\n      const register = component => {\n        const tagId = readOrTag(component);\n        if (hasNonNullableKey(components, tagId)) {\n          failOnDuplicate(component, tagId);\n        }\n        const extraArgs = [component];\n        events.registerId(extraArgs, tagId, component.events);\n        components[tagId] = component;\n      };\n      const unregister = component => {\n        read$1(component.element).each(tagId => {\n          delete components[tagId];\n          events.unregisterId(tagId);\n        });\n      };\n      const filter = type => events.filterByType(type);\n      const find = (isAboveRoot, type, target) => events.find(isAboveRoot, type, target);\n      const getById = id => get$g(components, id);\n      return {\n        find,\n        filter,\n        register,\n        unregister,\n        getById\n      };\n    };\n\n    const factory$j = detail => {\n      const {attributes, ...domWithoutAttributes} = detail.dom;\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'presentation',\n            ...attributes\n          },\n          ...domWithoutAttributes\n        },\n        components: detail.components,\n        behaviours: get$3(detail.containerBehaviours),\n        events: detail.events,\n        domModification: detail.domModification,\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Container = single({\n      name: 'Container',\n      factory: factory$j,\n      configFields: [\n        defaulted('components', []),\n        field('containerBehaviours', []),\n        defaulted('events', {}),\n        defaulted('domModification', {}),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const takeover = root => {\n      const isAboveRoot = el => parent(root.element).fold(always, parent => eq(el, parent));\n      const registry = Registry();\n      const lookup = (eventName, target) => registry.find(isAboveRoot, eventName, target);\n      const domEvents = setup$d(root.element, {\n        triggerEvent: (eventName, event) => {\n          return monitorEvent(eventName, event.target, logger => triggerUntilStopped(lookup, eventName, event, logger));\n        }\n      });\n      const systemApi = {\n        debugInfo: constant$1('real'),\n        triggerEvent: (eventName, target, data) => {\n          monitorEvent(eventName, target, logger => triggerOnUntilStopped(lookup, eventName, data, target, logger));\n        },\n        triggerFocus: (target, originator) => {\n          read$1(target).fold(() => {\n            focus$3(target);\n          }, _alloyId => {\n            monitorEvent(focus$4(), target, logger => {\n              triggerHandler(lookup, focus$4(), {\n                originator,\n                kill: noop,\n                prevent: noop,\n                target\n              }, target, logger);\n              return false;\n            });\n          });\n        },\n        triggerEscape: (comp, simulatedEvent) => {\n          systemApi.triggerEvent('keydown', comp.element, simulatedEvent.event);\n        },\n        getByUid: uid => {\n          return getByUid(uid);\n        },\n        getByDom: elem => {\n          return getByDom(elem);\n        },\n        build: build$1,\n        buildOrPatch: buildOrPatch,\n        addToGui: c => {\n          add(c);\n        },\n        removeFromGui: c => {\n          remove(c);\n        },\n        addToWorld: c => {\n          addToWorld(c);\n        },\n        removeFromWorld: c => {\n          removeFromWorld(c);\n        },\n        broadcast: message => {\n          broadcast$1(message);\n        },\n        broadcastOn: (channels, message) => {\n          broadcastOn(channels, message);\n        },\n        broadcastEvent: (eventName, event) => {\n          broadcastEvent(eventName, event);\n        },\n        isConnected: always\n      };\n      const addToWorld = component => {\n        component.connect(systemApi);\n        if (!isText(component.element)) {\n          registry.register(component);\n          each$1(component.components(), addToWorld);\n          systemApi.triggerEvent(systemInit(), component.element, { target: component.element });\n        }\n      };\n      const removeFromWorld = component => {\n        if (!isText(component.element)) {\n          each$1(component.components(), removeFromWorld);\n          registry.unregister(component);\n        }\n        component.disconnect();\n      };\n      const add = component => {\n        attach(root, component);\n      };\n      const remove = component => {\n        detach(component);\n      };\n      const destroy = () => {\n        domEvents.unbind();\n        remove$5(root.element);\n      };\n      const broadcastData = data => {\n        const receivers = registry.filter(receive());\n        each$1(receivers, receiver => {\n          const descHandler = receiver.descHandler;\n          const handler = getCurried(descHandler);\n          handler(data);\n        });\n      };\n      const broadcast$1 = message => {\n        broadcastData({\n          universal: true,\n          data: message\n        });\n      };\n      const broadcastOn = (channels, message) => {\n        broadcastData({\n          universal: false,\n          channels,\n          data: message\n        });\n      };\n      const broadcastEvent = (eventName, event) => {\n        const listeners = registry.filter(eventName);\n        return broadcast(listeners, event);\n      };\n      const getByUid = uid => registry.getById(uid).fold(() => Result.error(new Error('Could not find component with uid: \"' + uid + '\" in system.')), Result.value);\n      const getByDom = elem => {\n        const uid = read$1(elem).getOr('not found');\n        return getByUid(uid);\n      };\n      addToWorld(root);\n      return {\n        root,\n        element: root.element,\n        destroy,\n        add,\n        remove,\n        getByUid,\n        getByDom,\n        addToWorld,\n        removeFromWorld,\n        broadcast: broadcast$1,\n        broadcastOn,\n        broadcastEvent\n      };\n    };\n\n    const renderBar = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-bar',\n          'tox-form__controls-h-stack'\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const schema$l = constant$1([\n      defaulted('prefix', 'form-field'),\n      field('fieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    const parts$e = constant$1([\n      optional({\n        schema: [required$1('dom')],\n        name: 'label'\n      }),\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      required({\n        factory: {\n          sketch: spec => {\n            const excludeFactory = exclude(spec, ['factory']);\n            return spec.factory.sketch(excludeFactory);\n          }\n        },\n        schema: [required$1('factory')],\n        name: 'field'\n      })\n    ]);\n\n    const factory$i = (detail, components, _spec, _externals) => {\n      const behaviours = augment(detail.fieldBehaviours, [\n        Composing.config({\n          find: container => {\n            return getPart(container, detail, 'field');\n          }\n        }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: field => {\n              return Composing.getCurrent(field).bind(Representing.getValue);\n            },\n            setValue: (field, value) => {\n              Composing.getCurrent(field).each(current => {\n                Representing.setValue(current, value);\n              });\n            }\n          }\n        })\n      ]);\n      const events = derive$2([runOnAttached((component, _simulatedEvent) => {\n          const ps = getParts(component, detail, [\n            'label',\n            'field',\n            'aria-descriptor'\n          ]);\n          ps.field().each(field => {\n            const id = generate$6(detail.prefix);\n            ps.label().each(label => {\n              set$9(label.element, 'for', id);\n              set$9(field.element, 'id', id);\n            });\n            ps['aria-descriptor']().each(descriptor => {\n              const descriptorId = generate$6(detail.prefix);\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(field.element, 'aria-describedby', descriptorId);\n            });\n          });\n        })]);\n      const apis = {\n        getField: container => getPart(container, detail, 'field'),\n        getLabel: container => getPart(container, detail, 'label')\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours,\n        events,\n        apis\n      };\n    };\n    const FormField = composite({\n      name: 'FormField',\n      configFields: schema$l(),\n      partFields: parts$e(),\n      factory: factory$i,\n      apis: {\n        getField: (apis, comp) => apis.getField(comp),\n        getLabel: (apis, comp) => apis.getLabel(comp)\n      }\n    });\n\n    const exhibit$2 = (base, tabConfig) => nu$7({\n      attributes: wrapAll([{\n          key: tabConfig.tabAttr,\n          value: 'true'\n        }])\n    });\n\n    var ActiveTabstopping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$2\n    });\n\n    var TabstopSchema = [defaulted('tabAttr', 'data-alloy-tabstop')];\n\n    const Tabstopping = create$3({\n      fields: TabstopSchema,\n      name: 'tabstopping',\n      active: ActiveTabstopping\n    });\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    const renderFormFieldWith = (pLabel, pField, extraClasses, extraBehaviours) => {\n      const spec = renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours);\n      return FormField.sketch(spec);\n    };\n    const renderFormField = (pLabel, pField) => renderFormFieldWith(pLabel, pField, [], []);\n    const renderFormFieldSpecWith = (pLabel, pField, extraClasses, extraBehaviours) => ({\n      dom: renderFormFieldDomWith(extraClasses),\n      components: pLabel.toArray().concat([pField]),\n      fieldBehaviours: derive$1(extraBehaviours)\n    });\n    const renderFormFieldDom = () => renderFormFieldDomWith([]);\n    const renderFormFieldDomWith = extraClasses => ({\n      tag: 'div',\n      classes: ['tox-form__group'].concat(extraClasses)\n    });\n    const renderLabel$2 = (label, providersBackstage) => FormField.parts.label({\n      dom: {\n        tag: 'label',\n        classes: ['tox-label']\n      },\n      components: [text$1(providersBackstage.translate(label))]\n    });\n\n    const formChangeEvent = generate$6('form-component-change');\n    const formCloseEvent = generate$6('form-close');\n    const formCancelEvent = generate$6('form-cancel');\n    const formActionEvent = generate$6('form-action');\n    const formSubmitEvent = generate$6('form-submit');\n    const formBlockEvent = generate$6('form-block');\n    const formUnblockEvent = generate$6('form-unblock');\n    const formTabChangeEvent = generate$6('form-tabchange');\n    const formResizeEvent = generate$6('form-resize');\n\n    const renderCollection = (spec, providersBackstage, initialData) => {\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const runOnItem = f => (comp, se) => {\n        closest$1(se.event.target, '[data-collection-item-value]').each(target => {\n          f(comp, se, target, get$f(target, 'data-collection-item-value'));\n        });\n      };\n      const setContents = (comp, items) => {\n        const htmlLines = map$2(items, item => {\n          const itemText = global$8.translate(item.text);\n          const textContent = spec.columns === 1 ? `<div class=\"tox-collection__item-label\">${ itemText }</div>` : '';\n          const iconContent = `<div class=\"tox-collection__item-icon\">${ item.icon }</div>`;\n          const mapItemName = {\n            '_': ' ',\n            ' - ': ' ',\n            '-': ' '\n          };\n          const ariaLabel = itemText.replace(/\\_| \\- |\\-/g, match => mapItemName[match]);\n          const disabledClass = providersBackstage.isDisabled() ? ' tox-collection__item--state-disabled' : '';\n          return `<div class=\"tox-collection__item${ disabledClass }\" tabindex=\"-1\" data-collection-item-value=\"${ global$3.encodeAllRaw(item.value) }\" title=\"${ ariaLabel }\" aria-label=\"${ ariaLabel }\">${ iconContent }${ textContent }</div>`;\n        });\n        const chunks = spec.columns !== 'auto' && spec.columns > 1 ? chunk$1(htmlLines, spec.columns) : [htmlLines];\n        const html = map$2(chunks, ch => `<div class=\"tox-collection__group\">${ ch.join('') }</div>`);\n        set$6(comp.element, html.join(''));\n      };\n      const onClick = runOnItem((comp, se, tgt, itemValue) => {\n        se.stop();\n        if (!providersBackstage.isDisabled()) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }\n      });\n      const collectionEvents = [\n        run$1(mouseover(), runOnItem((comp, se, tgt) => {\n          focus$3(tgt);\n        })),\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        run$1(focusin(), runOnItem((comp, se, tgt) => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$2(currentActive, activeClass);\n          });\n          add$2(tgt, activeClass);\n        })),\n        run$1(focusout(), runOnItem(comp => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$2(currentActive, activeClass);\n          });\n        })),\n        runOnExecute$1(runOnItem((comp, se, tgt, itemValue) => {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }))\n      ];\n      const iterCollectionItems = (comp, applyAttributes) => map$2(descendants(comp.element, '.tox-collection__item'), applyAttributes);\n      const pField = FormField.parts.field({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection'].concat(spec.columns !== 1 ? ['tox-collection--grid'] : ['tox-collection--list'])\n        },\n        components: [],\n        factory: { sketch: identity },\n        behaviours: derive$1([\n          Disabling.config({\n            disabled: providersBackstage.isDisabled,\n            onDisabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                add$2(childElm, 'tox-collection__item--state-disabled');\n                set$9(childElm, 'aria-disabled', true);\n              });\n            },\n            onEnabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                remove$2(childElm, 'tox-collection__item--state-disabled');\n                remove$7(childElm, 'aria-disabled');\n              });\n            }\n          }),\n          receivingConfig(),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: initialData.getOr([])\n            },\n            onSetValue: (comp, items) => {\n              setContents(comp, items);\n              if (spec.columns === 'auto') {\n                detectSize(comp, 5, 'tox-collection__item').each(({numRows, numColumns}) => {\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              }\n              emit(comp, formResizeEvent);\n            }\n          }),\n          Tabstopping.config({}),\n          Keying.config(deriveCollectionMovement(spec.columns, 'normal')),\n          config('collection-events', collectionEvents)\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'collection-events'\n          ]\n        }\n      });\n      const extraClasses = ['tox-form__group--collection'];\n      return renderFormFieldWith(pLabel, pField, extraClasses, []);\n    };\n\n    const schema$k = constant$1([\n      option$3('data'),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('tag', 'input'),\n      defaulted('inputClasses', []),\n      onHandler('onSetValue'),\n      defaulted('styles', {}),\n      defaulted('eventOrder', {}),\n      field('inputBehaviours', [\n        Representing,\n        Focusing\n      ]),\n      defaulted('selectOnFocus', true)\n    ]);\n    const focusBehaviours = detail => derive$1([Focusing.config({\n        onFocus: !detail.selectOnFocus ? noop : component => {\n          const input = component.element;\n          const value = get$6(input);\n          input.dom.setSelectionRange(0, value.length);\n        }\n      })]);\n    const behaviours = detail => ({\n      ...focusBehaviours(detail),\n      ...augment(detail.inputBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            ...detail.data.map(data => ({ initialValue: data })).getOr({}),\n            getValue: input => {\n              return get$6(input.element);\n            },\n            setValue: (input, data) => {\n              const current = get$6(input.element);\n              if (current !== data) {\n                set$5(input.element, data);\n              }\n            }\n          },\n          onSetValue: detail.onSetValue\n        })])\n    });\n    const dom = detail => ({\n      tag: detail.tag,\n      attributes: {\n        type: 'text',\n        ...detail.inputAttributes\n      },\n      styles: detail.inputStyles,\n      classes: detail.inputClasses\n    });\n\n    const factory$h = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: dom(detail),\n      components: [],\n      behaviours: behaviours(detail),\n      eventOrder: detail.eventOrder\n    });\n    const Input = single({\n      name: 'Input',\n      configFields: schema$k(),\n      factory: factory$h\n    });\n\n    const nu$3 = baseFn => {\n      let data = Optional.none();\n      let callbacks = [];\n      const map = f => nu$3(nCallback => {\n        get(data => {\n          nCallback(f(data));\n        });\n      });\n      const get = nCallback => {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      const set = x => {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      const isReady = () => data.isSome();\n      const run = cbs => {\n        each$1(cbs, call);\n      };\n      const call = cb => {\n        data.each(x => {\n          setTimeout(() => {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get,\n        map,\n        isReady\n      };\n    };\n    const pure$1 = a => nu$3(callback => {\n      callback(a);\n    });\n    const LazyValue = {\n      nu: nu$3,\n      pure: pure$1\n    };\n\n    const errorReporter = err => {\n      setTimeout(() => {\n        throw err;\n      }, 0);\n    };\n    const make$5 = run => {\n      const get = callback => {\n        run().then(callback, errorReporter);\n      };\n      const map = fab => {\n        return make$5(() => run().then(fab));\n      };\n      const bind = aFutureB => {\n        return make$5(() => run().then(v => aFutureB(v).toPromise()));\n      };\n      const anonBind = futureB => {\n        return make$5(() => run().then(() => futureB.toPromise()));\n      };\n      const toLazy = () => {\n        return LazyValue.nu(get);\n      };\n      const toCached = () => {\n        let cache = null;\n        return make$5(() => {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      const toPromise = run;\n      return {\n        map,\n        bind,\n        anonBind,\n        toLazy,\n        toCached,\n        toPromise,\n        get\n      };\n    };\n    const nu$2 = baseFn => {\n      return make$5(() => new Promise(baseFn));\n    };\n    const pure = a => {\n      return make$5(() => Promise.resolve(a));\n    };\n    const Future = {\n      nu: nu$2,\n      pure\n    };\n\n    const ariaElements = [\n      'input',\n      'textarea'\n    ];\n    const isAriaElement = elem => {\n      const name = name$3(elem);\n      return contains$2(ariaElements, name);\n    };\n    const markValid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      remove$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', false);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, notifyInfo.validHtml);\n        });\n        notifyInfo.onValid(component);\n      });\n    };\n    const markInvalid = (component, invalidConfig, invalidState, text) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      add$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', true);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, text);\n        });\n        notifyInfo.onInvalid(component, text);\n      });\n    };\n    const query = (component, invalidConfig, _invalidState) => invalidConfig.validator.fold(() => Future.pure(Result.value(true)), validatorInfo => validatorInfo.validate(component));\n    const run = (component, invalidConfig, invalidState) => {\n      invalidConfig.notify.each(notifyInfo => {\n        notifyInfo.onValidate(component);\n      });\n      return query(component, invalidConfig).map(valid => {\n        if (component.getSystem().isConnected()) {\n          return valid.fold(err => {\n            markInvalid(component, invalidConfig, invalidState, err);\n            return Result.error(err);\n          }, v => {\n            markValid(component, invalidConfig);\n            return Result.value(v);\n          });\n        } else {\n          return Result.error('No longer in system');\n        }\n      });\n    };\n    const isInvalid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      return has(elem, invalidConfig.invalidClass);\n    };\n\n    var InvalidateApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        markValid: markValid,\n        markInvalid: markInvalid,\n        query: query,\n        run: run,\n        isInvalid: isInvalid\n    });\n\n    const events$8 = (invalidConfig, invalidState) => invalidConfig.validator.map(validatorInfo => derive$2([run$1(validatorInfo.onEvent, component => {\n        run(component, invalidConfig, invalidState).get(identity);\n      })].concat(validatorInfo.validateOnLoad ? [runOnAttached(component => {\n        run(component, invalidConfig, invalidState).get(noop);\n      })] : []))).getOr({});\n\n    var ActiveInvalidate = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$8\n    });\n\n    var InvalidateSchema = [\n      required$1('invalidClass'),\n      defaulted('getRoot', Optional.none),\n      optionObjOf('notify', [\n        defaulted('aria', 'alert'),\n        defaulted('getContainer', Optional.none),\n        defaulted('validHtml', ''),\n        onHandler('onValid'),\n        onHandler('onInvalid'),\n        onHandler('onValidate')\n      ]),\n      optionObjOf('validator', [\n        required$1('validate'),\n        defaulted('onEvent', 'input'),\n        defaulted('validateOnLoad', true)\n      ])\n    ];\n\n    const Invalidating = create$3({\n      fields: InvalidateSchema,\n      name: 'invalidating',\n      active: ActiveInvalidate,\n      apis: InvalidateApis,\n      extra: {\n        validation: validator => {\n          return component => {\n            const v = Representing.getValue(component);\n            return Future.pure(validator(v));\n          };\n        }\n      }\n    });\n\n    const getCoupled = (component, coupleConfig, coupleState, name) => coupleState.getOrCreate(component, coupleConfig, name);\n\n    var CouplingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCoupled: getCoupled\n    });\n\n    var CouplingSchema = [requiredOf('others', setOf(Result.value, anyValue()))];\n\n    const init$a = () => {\n      const coupled = {};\n      const getOrCreate = (component, coupleConfig, name) => {\n        const available = keys(coupleConfig.others);\n        if (!available) {\n          throw new Error('Cannot find coupled component: ' + name + '. Known coupled components: ' + JSON.stringify(available, null, 2));\n        } else {\n          return get$g(coupled, name).getOrThunk(() => {\n            const builder = get$g(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n            const spec = builder(component);\n            const built = component.getSystem().build(spec);\n            coupled[name] = built;\n            return built;\n          });\n        }\n      };\n      const readState = constant$1({});\n      return nu$8({\n        readState,\n        getOrCreate\n      });\n    };\n\n    var CouplingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$a\n    });\n\n    const Coupling = create$3({\n      fields: CouplingSchema,\n      name: 'coupling',\n      apis: CouplingApis,\n      state: CouplingState\n    });\n\n    const suffix = constant$1('sink');\n    const partType$1 = constant$1(optional({\n      name: suffix(),\n      overrides: constant$1({\n        dom: { tag: 'div' },\n        behaviours: derive$1([Positioning.config({ useFixed: always })]),\n        events: derive$2([\n          cutter(keydown()),\n          cutter(mousedown()),\n          cutter(click())\n        ])\n      })\n    }));\n\n    var HighlightOnOpen;\n    (function (HighlightOnOpen) {\n      HighlightOnOpen[HighlightOnOpen['HighlightFirst'] = 0] = 'HighlightFirst';\n      HighlightOnOpen[HighlightOnOpen['HighlightNone'] = 1] = 'HighlightNone';\n    }(HighlightOnOpen || (HighlightOnOpen = {})));\n    const getAnchor = (detail, component) => {\n      const hotspot = detail.getHotspot(component).getOr(component);\n      const type = 'hotspot';\n      const overrides = detail.getAnchorOverrides();\n      return detail.layouts.fold(() => ({\n        type,\n        hotspot,\n        overrides\n      }), layouts => ({\n        type,\n        hotspot,\n        overrides,\n        layouts\n      }));\n    };\n    const fetch = (detail, mapFetch, component) => {\n      const fetcher = detail.fetch;\n      return fetcher(component).map(mapFetch);\n    };\n    const openF = (detail, mapFetch, anchor, component, sandbox, externals, highlightOnOpen) => {\n      const futureData = fetch(detail, mapFetch, component);\n      const getLazySink = getSink(component, detail);\n      return futureData.map(tdata => tdata.bind(data => Optional.from(tieredMenu.sketch({\n        ...externals.menu(),\n        uid: generate$5(''),\n        data,\n        highlightImmediately: highlightOnOpen === HighlightOnOpen.HighlightFirst,\n        onOpenMenu: (tmenu, menu) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, menu, { anchor });\n          Sandboxing.decloak(sandbox);\n        },\n        onOpenSubmenu: (tmenu, item, submenu) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: {\n              type: 'submenu',\n              item\n            }\n          });\n          Sandboxing.decloak(sandbox);\n        },\n        onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, primaryMenu, { anchor });\n          each$1(submenuTriggers, st => {\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: {\n                type: 'submenu',\n                item: st.triggeringItem\n              }\n            });\n          });\n        },\n        onEscape: () => {\n          Focusing.focus(component);\n          Sandboxing.close(sandbox);\n          return Optional.some(true);\n        }\n      }))));\n    };\n    const open = (detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen) => {\n      const anchor = getAnchor(detail, hotspot);\n      const processed = openF(detail, mapFetch, anchor, hotspot, sandbox, externals, highlightOnOpen);\n      return processed.map(tdata => {\n        tdata.fold(() => {\n          if (Sandboxing.isOpen(sandbox)) {\n            Sandboxing.close(sandbox);\n          }\n        }, data => {\n          Sandboxing.cloak(sandbox);\n          Sandboxing.open(sandbox, data);\n          onOpenSync(sandbox);\n        });\n        return sandbox;\n      });\n    };\n    const close = (detail, mapFetch, component, sandbox, _externals, _onOpenSync, _highlightOnOpen) => {\n      Sandboxing.close(sandbox);\n      return Future.pure(sandbox);\n    };\n    const togglePopup = (detail, mapFetch, hotspot, externals, onOpenSync, highlightOnOpen) => {\n      const sandbox = Coupling.getCoupled(hotspot, 'sandbox');\n      const showing = Sandboxing.isOpen(sandbox);\n      const action = showing ? close : open;\n      return action(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen);\n    };\n    const matchWidth = (hotspot, container, useMinWidth) => {\n      const menu = Composing.getCurrent(container).getOr(container);\n      const buttonWidth = get$c(hotspot.element);\n      if (useMinWidth) {\n        set$8(menu.element, 'min-width', buttonWidth + 'px');\n      } else {\n        set$7(menu.element, buttonWidth);\n      }\n    };\n    const getSink = (anyInSystem, sinkDetail) => anyInSystem.getSystem().getByUid(sinkDetail.uid + '-' + suffix()).map(internalSink => () => Result.value(internalSink)).getOrThunk(() => sinkDetail.lazySink.fold(() => () => Result.error(new Error('No internal sink is specified, nor could an external sink be found')), lazySinkFn => () => lazySinkFn(anyInSystem)));\n    const doRepositionMenus = sandbox => {\n      Sandboxing.getState(sandbox).each(tmenu => {\n        tieredMenu.repositionMenus(tmenu);\n      });\n    };\n    const makeSandbox$1 = (detail, hotspot, extras) => {\n      const ariaControls = manager();\n      const onOpen = (component, menu) => {\n        const anchor = getAnchor(detail, hotspot);\n        ariaControls.link(hotspot.element);\n        if (detail.matchWidth) {\n          matchWidth(anchor.hotspot, menu, detail.useMinWidth);\n        }\n        detail.onOpen(anchor, component, menu);\n        if (extras !== undefined && extras.onOpen !== undefined) {\n          extras.onOpen(component, menu);\n        }\n      };\n      const onClose = (component, menu) => {\n        ariaControls.unlink(hotspot.element);\n        if (extras !== undefined && extras.onClose !== undefined) {\n          extras.onClose(component, menu);\n        }\n      };\n      const lazySink = getSink(hotspot, detail);\n      return {\n        dom: {\n          tag: 'div',\n          classes: detail.sandboxClasses,\n          attributes: {\n            id: ariaControls.id,\n            role: 'listbox'\n          }\n        },\n        behaviours: SketchBehaviours.augment(detail.sandboxBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: hotspot\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(hotspot, queryElem);\n            },\n            getAttachPoint: () => {\n              return lazySink().getOrDie();\n            }\n          }),\n          Composing.config({\n            find: sandbox => {\n              return Sandboxing.getState(sandbox).bind(menu => Composing.getCurrent(menu));\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({ isExtraPart: never }),\n              ...receivingChannel({ doReposition: doRepositionMenus })\n            }\n          })\n        ])\n      };\n    };\n    const repositionMenus = comp => {\n      const sandbox = Coupling.getCoupled(comp, 'sandbox');\n      doRepositionMenus(sandbox);\n    };\n\n    const sandboxFields = () => [\n      defaulted('sandboxClasses', []),\n      SketchBehaviours.field('sandboxBehaviours', [\n        Composing,\n        Receiving,\n        Sandboxing,\n        Representing\n      ])\n    ];\n\n    const schema$j = constant$1([\n      required$1('dom'),\n      required$1('fetch'),\n      onHandler('onOpen'),\n      onKeyboardHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      field('dropdownBehaviours', [\n        Toggling,\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      required$1('toggleClass'),\n      defaulted('eventOrder', {}),\n      option$3('lazySink'),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      option$3('role')\n    ].concat(sandboxFields()));\n    const parts$d = constant$1([\n      external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: detail => {\n          return { onExecute: detail.onExecute };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$g = (detail, components, _spec, externals) => {\n      const lookupAttr = attr => get$g(detail.dom, 'attributes').bind(attrs => get$g(attrs, attr));\n      const switchToMenu = sandbox => {\n        Sandboxing.getState(sandbox).each(tmenu => {\n          tieredMenu.highlightPrimary(tmenu);\n        });\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup(detail, identity, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      const apis = {\n        expand: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, identity, comp, externals, noop, HighlightOnOpen.HighlightNone).get(noop);\n          }\n        },\n        open: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, identity, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        isOpen: Toggling.isOn,\n        close: comp => {\n          if (Toggling.isOn(comp)) {\n            togglePopup(detail, identity, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      const triggerExecute = (comp, _se) => {\n        emitExecute(comp);\n        return Optional.some(true);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.dropdownBehaviours, [\n          Toggling.config({\n            toggleClass: detail.toggleClass,\n            aria: { mode: 'expanded' }\n          }),\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                return makeSandbox$1(detail, hotspot, {\n                  onOpen: () => Toggling.on(hotspot),\n                  onClose: () => Toggling.off(hotspot)\n                });\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: triggerExecute,\n            onEnter: triggerExecute,\n            onDown: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                const sandbox = Coupling.getCoupled(comp, 'sandbox');\n                switchToMenu(sandbox);\n              } else {\n                Dropdown.open(comp);\n              }\n              return Optional.some(true);\n            },\n            onEscape: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                Dropdown.close(comp);\n                return Optional.some(true);\n              } else {\n                return Optional.none();\n              }\n            }\n          }),\n          Focusing.config({})\n        ]),\n        events: events$a(Optional.some(action)),\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        apis,\n        domModification: {\n          attributes: {\n            'aria-haspopup': 'true',\n            ...detail.role.fold(() => ({}), role => ({ role })),\n            ...detail.dom.tag === 'button' ? { type: lookupAttr('type').getOr('button') } : {}\n          }\n        }\n      };\n    };\n    const Dropdown = composite({\n      name: 'Dropdown',\n      configFields: schema$j(),\n      partFields: parts$d(),\n      factory: factory$g,\n      apis: {\n        open: (apis, comp) => apis.open(comp),\n        expand: (apis, comp) => apis.expand(comp),\n        close: (apis, comp) => apis.close(comp),\n        isOpen: (apis, comp) => apis.isOpen(comp),\n        repositionMenus: (apis, comp) => apis.repositionMenus(comp)\n      }\n    });\n\n    const exhibit$1 = () => nu$7({\n      styles: {\n        '-webkit-user-select': 'none',\n        'user-select': 'none',\n        '-ms-user-select': 'none',\n        '-moz-user-select': '-moz-none'\n      },\n      attributes: { unselectable: 'on' }\n    });\n    const events$7 = () => derive$2([abort(selectstart(), always)]);\n\n    var ActiveUnselecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$7,\n        exhibit: exhibit$1\n    });\n\n    const Unselecting = create$3({\n      fields: [],\n      name: 'unselecting',\n      active: ActiveUnselecting\n    });\n\n    const renderPanelButton = (spec, sharedBackstage) => Dropdown.sketch({\n      dom: spec.dom,\n      components: spec.components,\n      toggleClass: 'mce-active',\n      dropdownBehaviours: derive$1([\n        DisablingConfigs.button(sharedBackstage.providers.isDisabled),\n        receivingConfig(),\n        Unselecting.config({}),\n        Tabstopping.config({})\n      ]),\n      layouts: spec.layouts,\n      sandboxClasses: ['tox-dialog__popups'],\n      lazySink: sharedBackstage.getSink,\n      fetch: comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onItemAction(comp, value);\n      }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, sharedBackstage.providers), { movement: deriveMenuMovement(spec.columns, spec.presets) })))),\n      parts: { menu: part(false, 1, spec.presets) }\n    });\n\n    const colorInputChangeEvent = generate$6('color-input-change');\n    const colorSwatchChangeEvent = generate$6('color-swatch-change');\n    const colorPickerCancelEvent = generate$6('color-picker-cancel');\n    const renderColorInput = (spec, sharedBackstage, colorInputBackstage, initialData) => {\n      const pField = FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        data: initialData,\n        onSetValue: c => Invalidating.run(c).get(noop),\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: sharedBackstage.providers.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Invalidating.config({\n            invalidClass: 'tox-textbox-field-invalid',\n            getRoot: comp => parentElement(comp.element),\n            notify: {\n              onValid: comp => {\n                const val = Representing.getValue(comp);\n                emitWith(comp, colorInputChangeEvent, { color: val });\n              }\n            },\n            validator: {\n              validateOnLoad: false,\n              validate: input => {\n                const inputValue = Representing.getValue(input);\n                if (inputValue.length === 0) {\n                  return Future.pure(Result.value(true));\n                } else {\n                  const span = SugarElement.fromTag('span');\n                  set$8(span, 'background-color', inputValue);\n                  const res = getRaw(span, 'background-color').fold(() => Result.error('blah'), _ => Result.value(inputValue));\n                  return Future.pure(res);\n                }\n              }\n            }\n          })\n        ]),\n        selectOnFocus: false\n      });\n      const pLabel = spec.label.map(label => renderLabel$2(label, sharedBackstage.providers));\n      const emitSwatchChange = (colorBit, value) => {\n        emitWith(colorBit, colorSwatchChangeEvent, { value });\n      };\n      const onItemAction = (comp, value) => {\n        memColorButton.getOpt(comp).each(colorBit => {\n          if (value === 'custom') {\n            colorInputBackstage.colorPicker(valueOpt => {\n              valueOpt.fold(() => emit(colorBit, colorPickerCancelEvent), value => {\n                emitSwatchChange(colorBit, value);\n                addColor(value);\n              });\n            }, '#ffffff');\n          } else if (value === 'remove') {\n            emitSwatchChange(colorBit, '');\n          } else {\n            emitSwatchChange(colorBit, value);\n          }\n        });\n      };\n      const memColorButton = record(renderPanelButton({\n        dom: {\n          tag: 'span',\n          attributes: { 'aria-label': sharedBackstage.providers.translate('Color swatch') }\n        },\n        layouts: {\n          onRtl: () => [\n            southwest$2,\n            southeast$2,\n            south$2\n          ],\n          onLtr: () => [\n            southeast$2,\n            southwest$2,\n            south$2\n          ]\n        },\n        components: [],\n        fetch: getFetch$1(colorInputBackstage.getColors(), colorInputBackstage.hasCustomColors()),\n        columns: colorInputBackstage.getColorCols(),\n        presets: 'color',\n        onItemAction\n      }, sharedBackstage));\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: pLabel.toArray().concat([{\n            dom: {\n              tag: 'div',\n              classes: ['tox-color-input']\n            },\n            components: [\n              pField,\n              memColorButton.asSpec()\n            ]\n          }]),\n        fieldBehaviours: derive$1([config('form-field-events', [\n            run$1(colorInputChangeEvent, (comp, se) => {\n              memColorButton.getOpt(comp).each(colorButton => {\n                set$8(colorButton.element, 'background-color', se.event.color);\n              });\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            }),\n            run$1(colorSwatchChangeEvent, (comp, se) => {\n              FormField.getField(comp).each(field => {\n                Representing.setValue(field, se.event.value);\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            }),\n            run$1(colorPickerCancelEvent, (comp, _se) => {\n              FormField.getField(comp).each(_field => {\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            })\n          ])])\n      });\n    };\n\n    const labelPart = optional({\n      schema: [required$1('dom')],\n      name: 'label'\n    });\n    const edgePart = name => optional({\n      name: '' + name + '-edge',\n      overrides: detail => {\n        const action = detail.model.manager.edgeActions[name];\n        return action.fold(() => ({}), a => ({\n          events: derive$2([\n            runActionExtra(touchstart(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousedown(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousemove(), (comp, se, det) => {\n              if (det.mouseIsDown.get()) {\n                a(comp, det);\n              }\n            }, [detail])\n          ])\n        }));\n      }\n    });\n    const tlEdgePart = edgePart('top-left');\n    const tedgePart = edgePart('top');\n    const trEdgePart = edgePart('top-right');\n    const redgePart = edgePart('right');\n    const brEdgePart = edgePart('bottom-right');\n    const bedgePart = edgePart('bottom');\n    const blEdgePart = edgePart('bottom-left');\n    const ledgePart = edgePart('left');\n    const thumbPart = required({\n      name: 'thumb',\n      defaults: constant$1({ dom: { styles: { position: 'absolute' } } }),\n      overrides: detail => {\n        return {\n          events: derive$2([\n            redirectToPart(touchstart(), detail, 'spectrum'),\n            redirectToPart(touchmove(), detail, 'spectrum'),\n            redirectToPart(touchend(), detail, 'spectrum'),\n            redirectToPart(mousedown(), detail, 'spectrum'),\n            redirectToPart(mousemove(), detail, 'spectrum'),\n            redirectToPart(mouseup(), detail, 'spectrum')\n          ])\n        };\n      }\n    });\n    const spectrumPart = required({\n      schema: [customField('mouseIsDown', () => Cell(false))],\n      name: 'spectrum',\n      overrides: detail => {\n        const modelDetail = detail.model;\n        const model = modelDetail.manager;\n        const setValueFrom = (component, simulatedEvent) => model.getValueFromEvent(simulatedEvent).map(value => model.setValueFrom(component, detail, value));\n        return {\n          behaviours: derive$1([\n            Keying.config({\n              mode: 'special',\n              onLeft: spectrum => model.onLeft(spectrum, detail),\n              onRight: spectrum => model.onRight(spectrum, detail),\n              onUp: spectrum => model.onUp(spectrum, detail),\n              onDown: spectrum => model.onDown(spectrum, detail)\n            }),\n            Focusing.config({})\n          ]),\n          events: derive$2([\n            run$1(touchstart(), setValueFrom),\n            run$1(touchmove(), setValueFrom),\n            run$1(mousedown(), setValueFrom),\n            run$1(mousemove(), (spectrum, se) => {\n              if (detail.mouseIsDown.get()) {\n                setValueFrom(spectrum, se);\n              }\n            })\n          ])\n        };\n      }\n    });\n    var SliderParts = [\n      labelPart,\n      ledgePart,\n      redgePart,\n      tedgePart,\n      bedgePart,\n      tlEdgePart,\n      trEdgePart,\n      blEdgePart,\n      brEdgePart,\n      thumbPart,\n      spectrumPart\n    ];\n\n    const _sliderChangeEvent = 'slider.change.value';\n    const sliderChangeEvent = constant$1(_sliderChangeEvent);\n    const isTouchEvent$1 = evt => evt.type.indexOf('touch') !== -1;\n    const getEventSource = simulatedEvent => {\n      const evt = simulatedEvent.event.raw;\n      if (isTouchEvent$1(evt)) {\n        const touchEvent = evt;\n        return touchEvent.touches !== undefined && touchEvent.touches.length === 1 ? Optional.some(touchEvent.touches[0]).map(t => SugarPosition(t.clientX, t.clientY)) : Optional.none();\n      } else {\n        const mouseEvent = evt;\n        return mouseEvent.clientX !== undefined ? Optional.some(mouseEvent).map(me => SugarPosition(me.clientX, me.clientY)) : Optional.none();\n      }\n    };\n\n    const t = 'top', r = 'right', b = 'bottom', l = 'left';\n    const minX = detail => detail.model.minX;\n    const minY = detail => detail.model.minY;\n    const min1X = detail => detail.model.minX - 1;\n    const min1Y = detail => detail.model.minY - 1;\n    const maxX = detail => detail.model.maxX;\n    const maxY = detail => detail.model.maxY;\n    const max1X = detail => detail.model.maxX + 1;\n    const max1Y = detail => detail.model.maxY + 1;\n    const range = (detail, max, min) => max(detail) - min(detail);\n    const xRange = detail => range(detail, maxX, minX);\n    const yRange = detail => range(detail, maxY, minY);\n    const halfX = detail => xRange(detail) / 2;\n    const halfY = detail => yRange(detail) / 2;\n    const step = detail => detail.stepSize;\n    const snap = detail => detail.snapToGrid;\n    const snapStart = detail => detail.snapStart;\n    const rounded = detail => detail.rounded;\n    const hasEdge = (detail, edgeName) => detail[edgeName + '-edge'] !== undefined;\n    const hasLEdge = detail => hasEdge(detail, l);\n    const hasREdge = detail => hasEdge(detail, r);\n    const hasTEdge = detail => hasEdge(detail, t);\n    const hasBEdge = detail => hasEdge(detail, b);\n    const currentValue = detail => detail.model.value.get();\n\n    const xyValue = (x, y) => ({\n      x,\n      y\n    });\n    const fireSliderChange$3 = (component, value) => {\n      emitWith(component, sliderChangeEvent(), { value });\n    };\n    const setToTLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), min1Y(detail)));\n    };\n    const setToTEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1Y(detail));\n    };\n    const setToTEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), min1Y(detail)));\n    };\n    const setToTREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), min1Y(detail)));\n    };\n    const setToREdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1X(detail));\n    };\n    const setToREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), halfY(detail)));\n    };\n    const setToBREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), max1Y(detail)));\n    };\n    const setToBEdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1Y(detail));\n    };\n    const setToBEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), max1Y(detail)));\n    };\n    const setToBLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), max1Y(detail)));\n    };\n    const setToLEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1X(detail));\n    };\n    const setToLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), halfY(detail)));\n    };\n\n    const reduceBy = (value, min, max, step) => {\n      if (value < min) {\n        return value;\n      } else if (value > max) {\n        return max;\n      } else if (value === min) {\n        return min - 1;\n      } else {\n        return Math.max(min, value - step);\n      }\n    };\n    const increaseBy = (value, min, max, step) => {\n      if (value > max) {\n        return value;\n      } else if (value < min) {\n        return min;\n      } else if (value === max) {\n        return max + 1;\n      } else {\n        return Math.min(max, value + step);\n      }\n    };\n    const capValue = (value, min, max) => Math.max(min, Math.min(max, value));\n    const snapValueOf = (value, min, max, step, snapStart) => snapStart.fold(() => {\n      const initValue = value - min;\n      const extraValue = Math.round(initValue / step) * step;\n      return capValue(min + extraValue, min - 1, max + 1);\n    }, start => {\n      const remainder = (value - start) % step;\n      const adjustment = Math.round(remainder / step);\n      const rawSteps = Math.floor((value - start) / step);\n      const maxSteps = Math.floor((max - start) / step);\n      const numSteps = Math.min(maxSteps, rawSteps + adjustment);\n      const r = start + numSteps * step;\n      return Math.max(start, r);\n    });\n    const findOffsetOf = (value, min, max) => Math.min(max, Math.max(value, min)) - min;\n    const findValueOf = args => {\n      const {min, max, range, value, step, snap, snapStart, rounded, hasMinEdge, hasMaxEdge, minBound, maxBound, screenRange} = args;\n      const capMin = hasMinEdge ? min - 1 : min;\n      const capMax = hasMaxEdge ? max + 1 : max;\n      if (value < minBound) {\n        return capMin;\n      } else if (value > maxBound) {\n        return capMax;\n      } else {\n        const offset = findOffsetOf(value, minBound, maxBound);\n        const newValue = capValue(offset / screenRange * range + min, capMin, capMax);\n        if (snap && newValue >= min && newValue <= max) {\n          return snapValueOf(newValue, min, max, step, snapStart);\n        } else if (rounded) {\n          return Math.round(newValue);\n        } else {\n          return newValue;\n        }\n      }\n    };\n    const findOffsetOfValue$2 = args => {\n      const {min, max, range, value, hasMinEdge, hasMaxEdge, maxBound, maxOffset, centerMinEdge, centerMaxEdge} = args;\n      if (value < min) {\n        return hasMinEdge ? 0 : centerMinEdge;\n      } else if (value > max) {\n        return hasMaxEdge ? maxBound : centerMaxEdge;\n      } else {\n        return (value - min) / range * maxOffset;\n      }\n    };\n\n    const top = 'top', right = 'right', bottom = 'bottom', left = 'left', width = 'width', height = 'height';\n    const getBounds = component => component.element.dom.getBoundingClientRect();\n    const getBoundsProperty = (bounds, property) => bounds[property];\n    const getMinXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, left);\n    };\n    const getMaxXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, right);\n    };\n    const getMinYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, top);\n    };\n    const getMaxYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, bottom);\n    };\n    const getXScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, width);\n    };\n    const getYScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, height);\n    };\n    const getCenterOffsetOf = (componentMinEdge, componentMaxEdge, spectrumMinEdge) => (componentMinEdge + componentMaxEdge) / 2 - spectrumMinEdge;\n    const getXCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, left);\n      const componentMaxEdge = getBoundsProperty(componentBounds, right);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, left);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n    const getYCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, top);\n      const componentMaxEdge = getBoundsProperty(componentBounds, bottom);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, top);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n\n    const fireSliderChange$2 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset$1 = (spectrum, detail, left) => {\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: left,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        maxBound: getMaxXBounds(spectrum),\n        screenRange: getXScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$2 = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value);\n      const sliderVal = xValue;\n      fireSliderChange$2(spectrum, sliderVal);\n      return xValue;\n    };\n    const setToMin$2 = (spectrum, detail) => {\n      const min = minX(detail);\n      fireSliderChange$2(spectrum, min);\n    };\n    const setToMax$2 = (spectrum, detail) => {\n      const max = maxX(detail);\n      fireSliderChange$2(spectrum, max);\n    };\n    const moveBy$2 = (direction, spectrum, detail) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = f(currentValue(detail), minX(detail), maxX(detail), step(detail));\n      fireSliderChange$2(spectrum, xValue);\n      return Optional.some(xValue);\n    };\n    const handleMovement$2 = direction => (spectrum, detail) => moveBy$2(direction, spectrum, detail).map(always);\n    const getValueFromEvent$2 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => p.left);\n    };\n    const findOffsetOfValue$1 = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getXScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value,\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        minOffset,\n        maxBound: getMaxXBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue$1 = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge);\n      return getMinXBounds(spectrum) - getMinXBounds(slider) + offset;\n    };\n    const setPositionFromValue$2 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const thumbRadius = get$c(thumb.element) / 2;\n      set$8(thumb.element, 'left', pos - thumbRadius + 'px');\n    };\n    const onLeft$2 = handleMovement$2(-1);\n    const onRight$2 = handleMovement$2(1);\n    const onUp$2 = Optional.none;\n    const onDown$2 = Optional.none;\n    const edgeActions$2 = {\n      'top-left': Optional.none(),\n      'top': Optional.none(),\n      'top-right': Optional.none(),\n      'right': Optional.some(setToREdge),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.none(),\n      'bottom-left': Optional.none(),\n      'left': Optional.some(setToLEdge)\n    };\n\n    var HorizontalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$2,\n        setToMin: setToMin$2,\n        setToMax: setToMax$2,\n        findValueOfOffset: findValueOfOffset$1,\n        getValueFromEvent: getValueFromEvent$2,\n        findPositionOfValue: findPositionOfValue$1,\n        setPositionFromValue: setPositionFromValue$2,\n        onLeft: onLeft$2,\n        onRight: onRight$2,\n        onUp: onUp$2,\n        onDown: onDown$2,\n        edgeActions: edgeActions$2\n    });\n\n    const fireSliderChange$1 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset = (spectrum, detail, top) => {\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: top,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        maxBound: getMaxYBounds(spectrum),\n        screenRange: getYScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$1 = (spectrum, detail, value) => {\n      const yValue = findValueOfOffset(spectrum, detail, value);\n      const sliderVal = yValue;\n      fireSliderChange$1(spectrum, sliderVal);\n      return yValue;\n    };\n    const setToMin$1 = (spectrum, detail) => {\n      const min = minY(detail);\n      fireSliderChange$1(spectrum, min);\n    };\n    const setToMax$1 = (spectrum, detail) => {\n      const max = maxY(detail);\n      fireSliderChange$1(spectrum, max);\n    };\n    const moveBy$1 = (direction, spectrum, detail) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const yValue = f(currentValue(detail), minY(detail), maxY(detail), step(detail));\n      fireSliderChange$1(spectrum, yValue);\n      return Optional.some(yValue);\n    };\n    const handleMovement$1 = direction => (spectrum, detail) => moveBy$1(direction, spectrum, detail).map(always);\n    const getValueFromEvent$1 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => {\n        return p.top;\n      });\n    };\n    const findOffsetOfValue = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getYScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value,\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        minOffset,\n        maxBound: getMaxYBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue(spectrum, detail, value, minEdge, maxEdge);\n      return getMinYBounds(spectrum) - getMinYBounds(slider) + offset;\n    };\n    const setPositionFromValue$1 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue(slider, edges.getSpectrum(slider), value, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbRadius = get$d(thumb.element) / 2;\n      set$8(thumb.element, 'top', pos - thumbRadius + 'px');\n    };\n    const onLeft$1 = Optional.none;\n    const onRight$1 = Optional.none;\n    const onUp$1 = handleMovement$1(-1);\n    const onDown$1 = handleMovement$1(1);\n    const edgeActions$1 = {\n      'top-left': Optional.none(),\n      'top': Optional.some(setToTEdge),\n      'top-right': Optional.none(),\n      'right': Optional.none(),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.some(setToBEdge),\n      'bottom-left': Optional.none(),\n      'left': Optional.none()\n    };\n\n    var VerticalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$1,\n        setToMin: setToMin$1,\n        setToMax: setToMax$1,\n        findValueOfOffset: findValueOfOffset,\n        getValueFromEvent: getValueFromEvent$1,\n        findPositionOfValue: findPositionOfValue,\n        setPositionFromValue: setPositionFromValue$1,\n        onLeft: onLeft$1,\n        onRight: onRight$1,\n        onUp: onUp$1,\n        onDown: onDown$1,\n        edgeActions: edgeActions$1\n    });\n\n    const fireSliderChange = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const sliderValue = (x, y) => ({\n      x,\n      y\n    });\n    const setValueFrom = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value.left);\n      const yValue = findValueOfOffset(spectrum, detail, value.top);\n      const val = sliderValue(xValue, yValue);\n      fireSliderChange(spectrum, val);\n      return val;\n    };\n    const moveBy = (direction, isVerticalMovement, spectrum, detail) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = isVerticalMovement ? currentValue(detail).x : f(currentValue(detail).x, minX(detail), maxX(detail), step(detail));\n      const yValue = !isVerticalMovement ? currentValue(detail).y : f(currentValue(detail).y, minY(detail), maxY(detail), step(detail));\n      fireSliderChange(spectrum, sliderValue(xValue, yValue));\n      return Optional.some(xValue);\n    };\n    const handleMovement = (direction, isVerticalMovement) => (spectrum, detail) => moveBy(direction, isVerticalMovement, spectrum, detail).map(always);\n    const setToMin = (spectrum, detail) => {\n      const mX = minX(detail);\n      const mY = minY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const setToMax = (spectrum, detail) => {\n      const mX = maxX(detail);\n      const mY = maxY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const getValueFromEvent = simulatedEvent => getEventSource(simulatedEvent);\n    const setPositionFromValue = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const xPos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const yPos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbXRadius = get$c(thumb.element) / 2;\n      const thumbYRadius = get$d(thumb.element) / 2;\n      set$8(thumb.element, 'left', xPos - thumbXRadius + 'px');\n      set$8(thumb.element, 'top', yPos - thumbYRadius + 'px');\n    };\n    const onLeft = handleMovement(-1, false);\n    const onRight = handleMovement(1, false);\n    const onUp = handleMovement(-1, true);\n    const onDown = handleMovement(1, true);\n    const edgeActions = {\n      'top-left': Optional.some(setToTLEdgeXY),\n      'top': Optional.some(setToTEdgeXY),\n      'top-right': Optional.some(setToTREdgeXY),\n      'right': Optional.some(setToREdgeXY),\n      'bottom-right': Optional.some(setToBREdgeXY),\n      'bottom': Optional.some(setToBEdgeXY),\n      'bottom-left': Optional.some(setToBLEdgeXY),\n      'left': Optional.some(setToLEdgeXY)\n    };\n\n    var TwoDModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom,\n        setToMin: setToMin,\n        setToMax: setToMax,\n        getValueFromEvent: getValueFromEvent,\n        setPositionFromValue: setPositionFromValue,\n        onLeft: onLeft,\n        onRight: onRight,\n        onUp: onUp,\n        onDown: onDown,\n        edgeActions: edgeActions\n    });\n\n    const SliderSchema = [\n      defaulted('stepSize', 1),\n      defaulted('onChange', noop),\n      defaulted('onChoose', noop),\n      defaulted('onInit', noop),\n      defaulted('onDragStart', noop),\n      defaulted('onDragEnd', noop),\n      defaulted('snapToGrid', false),\n      defaulted('rounded', true),\n      option$3('snapStart'),\n      requiredOf('model', choose$1('mode', {\n        x: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          customField('value', spec => Cell(spec.mode.minX)),\n          required$1('getInitialValue'),\n          output$1('manager', HorizontalModel)\n        ],\n        y: [\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell(spec.mode.minY)),\n          required$1('getInitialValue'),\n          output$1('manager', VerticalModel)\n        ],\n        xy: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell({\n            x: spec.mode.minX,\n            y: spec.mode.minY\n          })),\n          required$1('getInitialValue'),\n          output$1('manager', TwoDModel)\n        ]\n      })),\n      field('sliderBehaviours', [\n        Keying,\n        Representing\n      ]),\n      customField('mouseIsDown', () => Cell(false))\n    ];\n\n    const sketch$2 = (detail, components, _spec, _externals) => {\n      const getThumb = component => getPartOrDie(component, detail, 'thumb');\n      const getSpectrum = component => getPartOrDie(component, detail, 'spectrum');\n      const getLeftEdge = component => getPart(component, detail, 'left-edge');\n      const getRightEdge = component => getPart(component, detail, 'right-edge');\n      const getTopEdge = component => getPart(component, detail, 'top-edge');\n      const getBottomEdge = component => getPart(component, detail, 'bottom-edge');\n      const modelDetail = detail.model;\n      const model = modelDetail.manager;\n      const refresh = (slider, thumb) => {\n        model.setPositionFromValue(slider, thumb, detail, {\n          getLeftEdge,\n          getRightEdge,\n          getTopEdge,\n          getBottomEdge,\n          getSpectrum\n        });\n      };\n      const setValue = (slider, newValue) => {\n        modelDetail.value.set(newValue);\n        const thumb = getThumb(slider);\n        refresh(slider, thumb);\n      };\n      const changeValue = (slider, newValue) => {\n        setValue(slider, newValue);\n        const thumb = getThumb(slider);\n        detail.onChange(slider, thumb, newValue);\n        return Optional.some(true);\n      };\n      const resetToMin = slider => {\n        model.setToMin(slider, detail);\n      };\n      const resetToMax = slider => {\n        model.setToMax(slider, detail);\n      };\n      const choose = slider => {\n        const fireOnChoose = () => {\n          getPart(slider, detail, 'thumb').each(thumb => {\n            const value = modelDetail.value.get();\n            detail.onChoose(slider, thumb, value);\n          });\n        };\n        const wasDown = detail.mouseIsDown.get();\n        detail.mouseIsDown.set(false);\n        if (wasDown) {\n          fireOnChoose();\n        }\n      };\n      const onDragStart = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.mouseIsDown.set(true);\n        detail.onDragStart(slider, getThumb(slider));\n      };\n      const onDragEnd = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.onDragEnd(slider, getThumb(slider));\n        choose(slider);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.sliderBehaviours, [\n          Keying.config({\n            mode: 'special',\n            focusIn: slider => {\n              return getPart(slider, detail, 'spectrum').map(Keying.focusIn).map(always);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: _ => {\n                return modelDetail.value.get();\n              },\n              setValue\n            }\n          }),\n          Receiving.config({ channels: { [mouseReleased()]: { onReceive: choose } } })\n        ]),\n        events: derive$2([\n          run$1(sliderChangeEvent(), (slider, simulatedEvent) => {\n            changeValue(slider, simulatedEvent.event.value);\n          }),\n          runOnAttached((slider, _simulatedEvent) => {\n            const getInitial = modelDetail.getInitialValue();\n            modelDetail.value.set(getInitial);\n            const thumb = getThumb(slider);\n            refresh(slider, thumb);\n            const spectrum = getSpectrum(slider);\n            detail.onInit(slider, thumb, spectrum, modelDetail.value.get());\n          }),\n          run$1(touchstart(), onDragStart),\n          run$1(touchend(), onDragEnd),\n          run$1(mousedown(), onDragStart),\n          run$1(mouseup(), onDragEnd)\n        ]),\n        apis: {\n          resetToMin,\n          resetToMax,\n          setValue,\n          refresh\n        },\n        domModification: { styles: { position: 'relative' } }\n      };\n    };\n\n    const Slider = composite({\n      name: 'Slider',\n      configFields: SliderSchema,\n      partFields: SliderParts,\n      factory: sketch$2,\n      apis: {\n        setValue: (apis, slider, value) => {\n          apis.setValue(slider, value);\n        },\n        resetToMin: (apis, slider) => {\n          apis.resetToMin(slider);\n        },\n        resetToMax: (apis, slider) => {\n          apis.resetToMax(slider);\n        },\n        refresh: (apis, slider) => {\n          apis.refresh(slider);\n        }\n      }\n    });\n\n    const fieldsUpdate = generate$6('rgb-hex-update');\n    const sliderUpdate = generate$6('slider-update');\n    const paletteUpdate = generate$6('palette-update');\n\n    const sliderFactory = (translate, getClass) => {\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-spectrum')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-thumb')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider')],\n          attributes: { role: 'presentation' }\n        },\n        rounded: false,\n        model: {\n          mode: 'y',\n          getInitialValue: constant$1(0)\n        },\n        components: [\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([Focusing.config({})]),\n        onChange: (slider, _thumb, value) => {\n          emitWith(slider, sliderUpdate, { value });\n        }\n      });\n    };\n\n    const owner$1 = 'form';\n    const schema$i = [field('formBehaviours', [Representing])];\n    const getPartName$1 = name => '<alloy.field.' + name + '>';\n    const sketch$1 = fSpec => {\n      const parts = (() => {\n        const record = [];\n        const field = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner$1, getPartName$1(name), config);\n        };\n        return {\n          field,\n          record: constant$1(record)\n        };\n      })();\n      const spec = fSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName$1(n)\n      }));\n      return composite$1(owner$1, schema$i, fieldParts, make$4, spec);\n    };\n    const toResult = (o, e) => o.fold(() => Result.error(e), Result.value);\n    const make$4 = (detail, components) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.formBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: form => {\n              const resPs = getAllParts(form, detail);\n              return map$1(resPs, (resPThunk, pName) => resPThunk().bind(v => {\n                const opt = Composing.getCurrent(v);\n                return toResult(opt, new Error(`Cannot find a current component to extract the value from for form part '${ pName }': ` + element(v.element)));\n              }).map(Representing.getValue));\n            },\n            setValue: (form, values) => {\n              each(values, (newValue, key) => {\n                getPart(form, detail, key).each(wrapper => {\n                  Composing.getCurrent(wrapper).each(field => {\n                    Representing.setValue(field, newValue);\n                  });\n                });\n              });\n            }\n          }\n        })]),\n      apis: {\n        getField: (form, key) => {\n          return getPart(form, detail, key).bind(Composing.getCurrent);\n        }\n      }\n    });\n    const Form = {\n      getField: makeApi((apis, component, key) => apis.getField(component, key)),\n      sketch: sketch$1\n    };\n\n    const validInput = generate$6('valid-input');\n    const invalidInput = generate$6('invalid-input');\n    const validatingInput = generate$6('validating-input');\n    const translatePrefix = 'colorcustom.rgb.';\n    const rgbFormFactory = (translate, getClass, onValidHexx, onInvalidHexx) => {\n      const invalidation = (label, isValid) => Invalidating.config({\n        invalidClass: getClass('invalid'),\n        notify: {\n          onValidate: comp => {\n            emitWith(comp, validatingInput, { type: label });\n          },\n          onValid: comp => {\n            emitWith(comp, validInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          },\n          onInvalid: comp => {\n            emitWith(comp, invalidInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          }\n        },\n        validator: {\n          validate: comp => {\n            const value = Representing.getValue(comp);\n            const res = isValid(value) ? Result.value(true) : Result.error(translate('aria.input.invalid'));\n            return Future.pure(res);\n          },\n          validateOnLoad: false\n        }\n      });\n      const renderTextField = (isValid, name, label, description, data) => {\n        const helptext = translate(translatePrefix + 'range');\n        const pLabel = FormField.parts.label({\n          dom: {\n            tag: 'label',\n            attributes: { 'aria-label': description }\n          },\n          components: [text$1(label)]\n        });\n        const pField = FormField.parts.field({\n          data,\n          factory: Input,\n          inputAttributes: {\n            type: 'text',\n            ...name === 'hex' ? { 'aria-live': 'polite' } : {}\n          },\n          inputClasses: [getClass('textfield')],\n          inputBehaviours: derive$1([\n            invalidation(name, isValid),\n            Tabstopping.config({})\n          ]),\n          onSetValue: input => {\n            if (Invalidating.isInvalid(input)) {\n              const run = Invalidating.run(input);\n              run.get(noop);\n            }\n          }\n        });\n        const comps = [\n          pLabel,\n          pField\n        ];\n        const concats = name !== 'hex' ? [FormField.parts['aria-descriptor']({ text: helptext })] : [];\n        const components = comps.concat(concats);\n        return {\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' }\n          },\n          components\n        };\n      };\n      const copyRgbToHex = (form, rgba) => {\n        const hex = fromRgba(rgba);\n        Form.getField(form, 'hex').each(hexField => {\n          if (!Focusing.isFocused(hexField)) {\n            Representing.setValue(form, { hex: hex.value });\n          }\n        });\n        return hex;\n      };\n      const copyRgbToForm = (form, rgb) => {\n        const red = rgb.red;\n        const green = rgb.green;\n        const blue = rgb.blue;\n        Representing.setValue(form, {\n          red,\n          green,\n          blue\n        });\n      };\n      const memPreview = record({\n        dom: {\n          tag: 'div',\n          classes: [getClass('rgba-preview')],\n          styles: { 'background-color': 'white' },\n          attributes: { role: 'presentation' }\n        }\n      });\n      const updatePreview = (anyInSystem, hex) => {\n        memPreview.getOpt(anyInSystem).each(preview => {\n          set$8(preview.element, 'background-color', '#' + hex.value);\n        });\n      };\n      const factory = () => {\n        const state = {\n          red: Cell(Optional.some(255)),\n          green: Cell(Optional.some(255)),\n          blue: Cell(Optional.some(255)),\n          hex: Cell(Optional.some('ffffff'))\n        };\n        const copyHexToRgb = (form, hex) => {\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n        };\n        const get = prop => state[prop].get();\n        const set = (prop, value) => {\n          state[prop].set(value);\n        };\n        const getValueRgb = () => get('red').bind(red => get('green').bind(green => get('blue').map(blue => rgbaColour(red, green, blue, 1))));\n        const setValueRgb = rgb => {\n          const red = rgb.red;\n          const green = rgb.green;\n          const blue = rgb.blue;\n          set('red', Optional.some(red));\n          set('green', Optional.some(green));\n          set('blue', Optional.some(blue));\n        };\n        const onInvalidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (data.type !== 'hex') {\n            set(data.type, Optional.none());\n          } else {\n            onInvalidHexx(form);\n          }\n        };\n        const onValidHex = (form, value) => {\n          onValidHexx(form);\n          const hex = hexColour(value);\n          set('hex', Optional.some(value));\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n          emitWith(form, fieldsUpdate, { hex });\n          updatePreview(form, hex);\n        };\n        const onValidRgb = (form, prop, value) => {\n          const val = parseInt(value, 10);\n          set(prop, Optional.some(val));\n          getValueRgb().each(rgb => {\n            const hex = copyRgbToHex(form, rgb);\n            emitWith(form, fieldsUpdate, { hex });\n            updatePreview(form, hex);\n          });\n        };\n        const isHexInputEvent = data => data.type === 'hex';\n        const onValidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (isHexInputEvent(data)) {\n            onValidHex(form, data.value);\n          } else {\n            onValidRgb(form, data.type, data.value);\n          }\n        };\n        const formPartStrings = key => ({\n          label: translate(translatePrefix + key + '.label'),\n          description: translate(translatePrefix + key + '.description')\n        });\n        const redStrings = formPartStrings('red');\n        const greenStrings = formPartStrings('green');\n        const blueStrings = formPartStrings('blue');\n        const hexStrings = formPartStrings('hex');\n        return deepMerge(Form.sketch(parts => ({\n          dom: {\n            tag: 'form',\n            classes: [getClass('rgb-form')],\n            attributes: { 'aria-label': translate('aria.color.picker') }\n          },\n          components: [\n            parts.field('red', FormField.sketch(renderTextField(isRgbaComponent, 'red', redStrings.label, redStrings.description, 255))),\n            parts.field('green', FormField.sketch(renderTextField(isRgbaComponent, 'green', greenStrings.label, greenStrings.description, 255))),\n            parts.field('blue', FormField.sketch(renderTextField(isRgbaComponent, 'blue', blueStrings.label, blueStrings.description, 255))),\n            parts.field('hex', FormField.sketch(renderTextField(isHexString, 'hex', hexStrings.label, hexStrings.description, 'ffffff'))),\n            memPreview.asSpec()\n          ],\n          formBehaviours: derive$1([\n            Invalidating.config({ invalidClass: getClass('form-invalid') }),\n            config('rgb-form-events', [\n              run$1(validInput, onValidInput),\n              run$1(invalidInput, onInvalidInput),\n              run$1(validatingInput, onInvalidInput)\n            ])\n          ])\n        })), {\n          apis: {\n            updateHex: (form, hex) => {\n              Representing.setValue(form, { hex: hex.value });\n              copyHexToRgb(form, hex);\n              updatePreview(form, hex);\n            }\n          }\n        });\n      };\n      const rgbFormSketcher = single({\n        factory,\n        name: 'RgbForm',\n        configFields: [],\n        apis: {\n          updateHex: (apis, form, hex) => {\n            apis.updateHex(form, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return rgbFormSketcher;\n    };\n\n    const paletteFactory = (_translate, getClass) => {\n      const spectrumPart = Slider.parts.spectrum({\n        dom: {\n          tag: 'canvas',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-spectrum')]\n        }\n      });\n      const thumbPart = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-thumb')],\n          innerHtml: `<div class=${ getClass('sv-palette-inner-thumb') } role=\"presentation\"></div>`\n        }\n      });\n      const setColour = (canvas, rgba) => {\n        const {width, height} = canvas;\n        const ctx = canvas.getContext('2d');\n        if (ctx === null) {\n          return;\n        }\n        ctx.fillStyle = rgba;\n        ctx.fillRect(0, 0, width, height);\n        const grdWhite = ctx.createLinearGradient(0, 0, width, 0);\n        grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\n        grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\n        ctx.fillStyle = grdWhite;\n        ctx.fillRect(0, 0, width, height);\n        const grdBlack = ctx.createLinearGradient(0, 0, 0, height);\n        grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\n        grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\n        ctx.fillStyle = grdBlack;\n        ctx.fillRect(0, 0, width, height);\n      };\n      const setPaletteHue = (slider, hue) => {\n        const canvas = slider.components()[0].element.dom;\n        const hsv = hsvColour(hue, 100, 100);\n        const rgba = fromHsv(hsv);\n        setColour(canvas, toString(rgba));\n      };\n      const setPaletteThumb = (slider, hex) => {\n        const hsv = fromRgb(fromHex(hex));\n        Slider.setValue(slider, {\n          x: hsv.saturation,\n          y: 100 - hsv.value\n        });\n      };\n      const factory = _detail => {\n        const getInitialValue = constant$1({\n          x: 0,\n          y: 0\n        });\n        const onChange = (slider, _thumb, value) => {\n          emitWith(slider, paletteUpdate, { value });\n        };\n        const onInit = (_slider, _thumb, spectrum, _value) => {\n          setColour(spectrum.element.dom, toString(red));\n        };\n        const sliderBehaviours = derive$1([\n          Composing.config({ find: Optional.some }),\n          Focusing.config({})\n        ]);\n        return Slider.sketch({\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' },\n            classes: [getClass('sv-palette')]\n          },\n          model: {\n            mode: 'xy',\n            getInitialValue\n          },\n          rounded: false,\n          components: [\n            spectrumPart,\n            thumbPart\n          ],\n          onChange,\n          onInit,\n          sliderBehaviours\n        });\n      };\n      const saturationBrightnessPaletteSketcher = single({\n        factory,\n        name: 'SaturationBrightnessPalette',\n        configFields: [],\n        apis: {\n          setHue: (_apis, slider, hue) => {\n            setPaletteHue(slider, hue);\n          },\n          setThumb: (_apis, slider, hex) => {\n            setPaletteThumb(slider, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return saturationBrightnessPaletteSketcher;\n    };\n\n    const makeFactory = (translate, getClass) => {\n      const factory = detail => {\n        const rgbForm = rgbFormFactory(translate, getClass, detail.onValidHex, detail.onInvalidHex);\n        const sbPalette = paletteFactory(translate, getClass);\n        const hueSliderToDegrees = hue => (100 - hue) / 100 * 360;\n        const hueDegreesToSlider = hue => 100 - hue / 360 * 100;\n        const state = {\n          paletteRgba: Cell(red),\n          paletteHue: Cell(0)\n        };\n        const memSlider = record(sliderFactory(translate, getClass));\n        const memPalette = record(sbPalette.sketch({}));\n        const memRgb = record(rgbForm.sketch({}));\n        const updatePalette = (anyInSystem, _hex, hue) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setHue(palette, hue);\n          });\n        };\n        const updateFields = (anyInSystem, hex) => {\n          memRgb.getOpt(anyInSystem).each(form => {\n            rgbForm.updateHex(form, hex);\n          });\n        };\n        const updateSlider = (anyInSystem, _hex, hue) => {\n          memSlider.getOpt(anyInSystem).each(slider => {\n            Slider.setValue(slider, hueDegreesToSlider(hue));\n          });\n        };\n        const updatePaletteThumb = (anyInSystem, hex) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setThumb(palette, hex);\n          });\n        };\n        const updateState = (hex, hue) => {\n          const rgba = fromHex(hex);\n          state.paletteRgba.set(rgba);\n          state.paletteHue.set(hue);\n        };\n        const runUpdates = (anyInSystem, hex, hue, updates) => {\n          updateState(hex, hue);\n          each$1(updates, update => {\n            update(anyInSystem, hex, hue);\n          });\n        };\n        const onPaletteUpdate = () => {\n          const updates = [updateFields];\n          return (form, simulatedEvent) => {\n            const value = simulatedEvent.event.value;\n            const oldHue = state.paletteHue.get();\n            const newHsv = hsvColour(oldHue, value.x, 100 - value.y);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, oldHue, updates);\n          };\n        };\n        const onSliderUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateFields\n          ];\n          return (form, simulatedEvent) => {\n            const hue = hueSliderToDegrees(simulatedEvent.event.value);\n            const oldRgb = state.paletteRgba.get();\n            const oldHsv = fromRgb(oldRgb);\n            const newHsv = hsvColour(hue, oldHsv.saturation, oldHsv.value);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, hue, updates);\n          };\n        };\n        const onFieldsUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateSlider,\n            updatePaletteThumb\n          ];\n          return (form, simulatedEvent) => {\n            const hex = simulatedEvent.event.hex;\n            const hsv = hexToHsv(hex);\n            runUpdates(form, hex, hsv.hue, updates);\n          };\n        };\n        return {\n          uid: detail.uid,\n          dom: detail.dom,\n          components: [\n            memPalette.asSpec(),\n            memSlider.asSpec(),\n            memRgb.asSpec()\n          ],\n          behaviours: derive$1([\n            config('colour-picker-events', [\n              run$1(fieldsUpdate, onFieldsUpdate()),\n              run$1(paletteUpdate, onPaletteUpdate()),\n              run$1(sliderUpdate, onSliderUpdate())\n            ]),\n            Composing.config({ find: comp => memRgb.getOpt(comp) }),\n            Keying.config({ mode: 'acyclic' })\n          ])\n        };\n      };\n      const colourPickerSketcher = single({\n        name: 'ColourPicker',\n        configFields: [\n          required$1('dom'),\n          defaulted('onValidHex', noop),\n          defaulted('onInvalidHex', noop)\n        ],\n        factory\n      });\n      return colourPickerSketcher;\n    };\n\n    const self = () => Composing.config({ find: Optional.some });\n    const memento$1 = mem => Composing.config({ find: mem.getOpt });\n    const childAt = index => Composing.config({ find: comp => child$2(comp.element, index).bind(element => comp.getSystem().getByDom(element).toOptional()) });\n    const ComposingConfigs = {\n      self,\n      memento: memento$1,\n      childAt\n    };\n\n    const processors = objOf([\n      defaulted('preprocess', identity),\n      defaulted('postprocess', identity)\n    ]);\n    const memento = (mem, rawProcessors) => {\n      const ps = asRawOrDie$1('RepresentingConfigs.memento processors', processors, rawProcessors);\n      return Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: comp => {\n            const other = mem.get(comp);\n            const rawValue = Representing.getValue(other);\n            return ps.postprocess(rawValue);\n          },\n          setValue: (comp, rawValue) => {\n            const newValue = ps.preprocess(rawValue);\n            const other = mem.get(comp);\n            Representing.setValue(other, newValue);\n          }\n        }\n      });\n    };\n    const withComp = (optInitialValue, getter, setter) => Representing.config({\n      store: {\n        mode: 'manual',\n        ...optInitialValue.map(initialValue => ({ initialValue })).getOr({}),\n        getValue: getter,\n        setValue: setter\n      }\n    });\n    const withElement = (initialValue, getter, setter) => withComp(initialValue, c => getter(c.element), (c, v) => setter(c.element, v));\n    const domValue = optInitialValue => withElement(optInitialValue, get$6, set$5);\n    const domHtml = optInitialValue => withElement(optInitialValue, get$9, set$6);\n    const memory = initialValue => Representing.config({\n      store: {\n        mode: 'memory',\n        initialValue\n      }\n    });\n    const RepresentingConfigs = {\n      memento,\n      withElement,\n      withComp,\n      domValue,\n      domHtml,\n      memory\n    };\n\n    const english = {\n      'colorcustom.rgb.red.label': 'R',\n      'colorcustom.rgb.red.description': 'Red component',\n      'colorcustom.rgb.green.label': 'G',\n      'colorcustom.rgb.green.description': 'Green component',\n      'colorcustom.rgb.blue.label': 'B',\n      'colorcustom.rgb.blue.description': 'Blue component',\n      'colorcustom.rgb.hex.label': '#',\n      'colorcustom.rgb.hex.description': 'Hex color code',\n      'colorcustom.rgb.range': 'Range 0 to 255',\n      'aria.color.picker': 'Color Picker',\n      'aria.input.invalid': 'Invalid input'\n    };\n    const translate$1 = providerBackstage => key => {\n      return providerBackstage.translate(english[key]);\n    };\n    const renderColorPicker = (_spec, providerBackstage, initialData) => {\n      const getClass = key => 'tox-' + key;\n      const colourPickerFactory = makeFactory(translate$1(providerBackstage), getClass);\n      const onValidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: true\n        });\n      };\n      const onInvalidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: false\n        });\n      };\n      const memPicker = record(colourPickerFactory.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('color-picker-container')],\n          attributes: { role: 'presentation' }\n        },\n        onValidHex,\n        onInvalidHex\n      }));\n      return {\n        dom: { tag: 'div' },\n        components: [memPicker.asSpec()],\n        behaviours: derive$1([\n          RepresentingConfigs.withComp(initialData, comp => {\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            const optHex = optRgbForm.bind(rgbForm => {\n              const formValues = Representing.getValue(rgbForm);\n              return formValues.hex;\n            });\n            return optHex.map(hex => '#' + hex).getOr('');\n          }, (comp, newValue) => {\n            const pattern = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;\n            const m = pattern.exec(newValue);\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            optRgbForm.fold(() => {\n              console.log('Can not find form');\n            }, rgbForm => {\n              Representing.setValue(rgbForm, { hex: Optional.from(m[1]).getOr('') });\n              Form.getField(rgbForm, 'hex').each(hexField => {\n                emit(hexField, input());\n              });\n            });\n          }),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Resource');\n\n    const isOldCustomEditor = spec => has$2(spec, 'init');\n    const renderCustomEditor = spec => {\n      const editorApi = value$2();\n      const memReplaced = record({ dom: { tag: spec.tag } });\n      const initialValue = value$2();\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-custom-editor']\n        },\n        behaviours: derive$1([\n          config('custom-editor-events', [runOnAttached(component => {\n              memReplaced.getOpt(component).each(ta => {\n                (isOldCustomEditor(spec) ? spec.init(ta.element.dom) : global$2.load(spec.scriptId, spec.scriptUrl).then(init => init(ta.element.dom, spec.settings))).then(ea => {\n                  initialValue.on(cvalue => {\n                    ea.setValue(cvalue);\n                  });\n                  initialValue.clear();\n                  editorApi.set(ea);\n                });\n              });\n            })]),\n          RepresentingConfigs.withComp(Optional.none(), () => editorApi.get().fold(() => initialValue.get().getOr(''), ed => ed.getValue()), (component, value) => {\n            editorApi.get().fold(() => initialValue.set(value), ed => ed.setValue(value));\n          }),\n          ComposingConfigs.self()\n        ]),\n        components: [memReplaced.asSpec()]\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const filterByExtension = (files, providersBackstage) => {\n      const allowedImageFileTypes = global$1.explode(providersBackstage.getOption('images_file_types'));\n      const isFileInAllowedTypes = file => exists(allowedImageFileTypes, type => endsWith(file.name.toLowerCase(), `.${ type.toLowerCase() }`));\n      return filter$2(from(files), isFileInAllowedTypes);\n    };\n    const renderDropZone = (spec, providersBackstage, initialData) => {\n      const stopper = (_, se) => {\n        se.stop();\n      };\n      const sequence = actions => (comp, se) => {\n        each$1(actions, a => {\n          a(comp, se);\n        });\n      };\n      const onDrop = (comp, se) => {\n        if (!Disabling.isDisabled(comp)) {\n          const transferEvent = se.event.raw;\n          handleFiles(comp, transferEvent.dataTransfer.files);\n        }\n      };\n      const onSelect = (component, simulatedEvent) => {\n        const input = simulatedEvent.event.raw.target;\n        handleFiles(component, input.files);\n      };\n      const handleFiles = (component, files) => {\n        Representing.setValue(component, filterByExtension(files, providersBackstage));\n        emitWith(component, formChangeEvent, { name: spec.name });\n      };\n      const memInput = record({\n        dom: {\n          tag: 'input',\n          attributes: {\n            type: 'file',\n            accept: 'image/*'\n          },\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([config('input-file-events', [\n            cutter(click()),\n            cutter(tap())\n          ])])\n      });\n      const renderField = s => ({\n        uid: s.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-dropzone-container']\n        },\n        behaviours: derive$1([\n          RepresentingConfigs.memory(initialData.getOr([])),\n          ComposingConfigs.self(),\n          Disabling.config({}),\n          Toggling.config({\n            toggleClass: 'dragenter',\n            toggleOnExecute: false\n          }),\n          config('dropzone-events', [\n            run$1('dragenter', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragleave', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragover', stopper),\n            run$1('drop', sequence([\n              stopper,\n              onDrop\n            ])),\n            run$1(change(), onSelect)\n          ])\n        ]),\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dropzone'],\n              styles: {}\n            },\n            components: [\n              {\n                dom: { tag: 'p' },\n                components: [text$1(providersBackstage.translate('Drop an image here'))]\n              },\n              Button.sketch({\n                dom: {\n                  tag: 'button',\n                  styles: { position: 'relative' },\n                  classes: [\n                    'tox-button',\n                    'tox-button--secondary'\n                  ]\n                },\n                components: [\n                  text$1(providersBackstage.translate('Browse for an image')),\n                  memInput.asSpec()\n                ],\n                action: comp => {\n                  const inputComp = memInput.get(comp);\n                  inputComp.element.dom.click();\n                },\n                buttonBehaviours: derive$1([\n                  Tabstopping.config({}),\n                  DisablingConfigs.button(providersBackstage.isDisabled),\n                  receivingConfig()\n                ])\n              })\n            ]\n          }]\n      });\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const pField = FormField.parts.field({ factory: { sketch: renderField } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    const renderGrid = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-form__grid',\n          `tox-form__grid--${ spec.columns }col`\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const beforeObject = generate$6('alloy-fake-before-tabstop');\n    const afterObject = generate$6('alloy-fake-after-tabstop');\n    const craftWithClasses = classes => {\n      return {\n        dom: {\n          tag: 'div',\n          styles: {\n            width: '1px',\n            height: '1px',\n            outline: 'none'\n          },\n          attributes: { tabindex: '0' },\n          classes\n        },\n        behaviours: derive$1([\n          Focusing.config({ ignore: true }),\n          Tabstopping.config({})\n        ])\n      };\n    };\n    const craft = spec => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-navobj']\n        },\n        components: [\n          craftWithClasses([beforeObject]),\n          spec,\n          craftWithClasses([afterObject])\n        ],\n        behaviours: derive$1([ComposingConfigs.childAt(1)])\n      };\n    };\n    const triggerTab = (placeholder, shiftKey) => {\n      emitWith(placeholder, keydown(), {\n        raw: {\n          which: 9,\n          shiftKey\n        }\n      });\n    };\n    const onFocus = (container, targetComp) => {\n      const target = targetComp.element;\n      if (has(target, beforeObject)) {\n        triggerTab(container, true);\n      } else if (has(target, afterObject)) {\n        triggerTab(container, false);\n      }\n    };\n    const isPseudoStop = element => {\n      return closest(element, [\n        '.' + beforeObject,\n        '.' + afterObject\n      ].join(','), never);\n    };\n\n    const getDynamicSource = initialData => {\n      const cachedValue = Cell(initialData.getOr(''));\n      return {\n        getValue: _frameComponent => cachedValue.get(),\n        setValue: (frameComponent, html) => {\n          if (cachedValue.get() !== html) {\n            set$9(frameComponent.element, 'srcdoc', html);\n          }\n          cachedValue.set(html);\n        }\n      };\n    };\n    const renderIFrame = (spec, providersBackstage, initialData) => {\n      const isSandbox = spec.sandboxed;\n      const isTransparent = spec.transparent;\n      const baseClass = 'tox-dialog__iframe';\n      const attributes = {\n        ...spec.label.map(title => ({ title })).getOr({}),\n        ...initialData.map(html => ({ srcdoc: html })).getOr({}),\n        ...isSandbox ? { sandbox: 'allow-scripts allow-same-origin' } : {}\n      };\n      const sourcing = getDynamicSource(initialData);\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const factory = newSpec => craft({\n        uid: newSpec.uid,\n        dom: {\n          tag: 'iframe',\n          attributes,\n          classes: isTransparent ? [baseClass] : [\n            baseClass,\n            `${ baseClass }--opaque`\n          ]\n        },\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({}),\n          RepresentingConfigs.withComp(initialData, sourcing.getValue, sourcing.setValue)\n        ])\n      });\n      const pField = FormField.parts.field({ factory: { sketch: factory } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    const image = image => new Promise((resolve, reject) => {\n      const loaded = () => {\n        destroy();\n        resolve(image);\n      };\n      const listeners = [\n        bind(image, 'load', loaded),\n        bind(image, 'error', () => {\n          destroy();\n          reject('Unable to load data from image: ' + image.dom.src);\n        })\n      ];\n      const destroy = () => each$1(listeners, l => l.unbind());\n      if (image.dom.complete) {\n        loaded();\n      }\n    });\n\n    const calculateImagePosition = (panelWidth, panelHeight, imageWidth, imageHeight, zoom) => {\n      const width = imageWidth * zoom;\n      const height = imageHeight * zoom;\n      const left = Math.max(0, panelWidth / 2 - width / 2);\n      const top = Math.max(0, panelHeight / 2 - height / 2);\n      return {\n        left: left.toString() + 'px',\n        top: top.toString() + 'px',\n        width: width.toString() + 'px',\n        height: height.toString() + 'px'\n      };\n    };\n    const zoomToFit = (panel, width, height) => {\n      const panelW = get$c(panel);\n      const panelH = get$d(panel);\n      return Math.min(panelW / width, panelH / height, 1);\n    };\n    const renderImagePreview = (spec, initialData) => {\n      const cachedData = Cell(initialData.getOr({ url: '' }));\n      const memImage = record({\n        dom: {\n          tag: 'img',\n          classes: ['tox-imagepreview__image'],\n          attributes: initialData.map(data => ({ src: data.url })).getOr({})\n        }\n      });\n      const memContainer = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview__container'],\n          attributes: { role: 'presentation' }\n        },\n        components: [memImage.asSpec()]\n      });\n      const setValue = (frameComponent, data) => {\n        const translatedData = { url: data.url };\n        data.zoom.each(z => translatedData.zoom = z);\n        data.cachedWidth.each(z => translatedData.cachedWidth = z);\n        data.cachedHeight.each(z => translatedData.cachedHeight = z);\n        cachedData.set(translatedData);\n        const applyFramePositioning = () => {\n          const imageWidth = translatedData.cachedWidth;\n          const imageHeight = translatedData.cachedHeight;\n          if (isUndefined(translatedData.zoom)) {\n            const z = zoomToFit(frameComponent.element, imageWidth, imageHeight);\n            translatedData.zoom = z;\n          }\n          const position = calculateImagePosition(get$c(frameComponent.element), get$d(frameComponent.element), imageWidth, imageHeight, translatedData.zoom);\n          memContainer.getOpt(frameComponent).each(container => {\n            setAll(container.element, position);\n          });\n        };\n        memImage.getOpt(frameComponent).each(imageComponent => {\n          const img = imageComponent.element;\n          if (data.url !== get$f(img, 'src')) {\n            set$9(img, 'src', data.url);\n            remove$2(frameComponent.element, 'tox-imagepreview__loaded');\n          }\n          if (!isUndefined(translatedData.cachedWidth) && !isUndefined(translatedData.cachedHeight)) {\n            applyFramePositioning();\n          }\n          image(img).then(img => {\n            if (frameComponent.getSystem().isConnected()) {\n              add$2(frameComponent.element, 'tox-imagepreview__loaded');\n              translatedData.cachedWidth = img.dom.naturalWidth;\n              translatedData.cachedHeight = img.dom.naturalHeight;\n              applyFramePositioning();\n            }\n          });\n        });\n      };\n      const styles = {};\n      spec.height.each(h => styles.height = h);\n      const fakeValidatedData = initialData.map(d => ({\n        url: d.url,\n        zoom: Optional.from(d.zoom),\n        cachedWidth: Optional.from(d.cachedWidth),\n        cachedHeight: Optional.from(d.cachedHeight)\n      }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview'],\n          styles,\n          attributes: { role: 'presentation' }\n        },\n        components: [memContainer.asSpec()],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          RepresentingConfigs.withComp(fakeValidatedData, () => cachedData.get(), setValue)\n        ])\n      };\n    };\n\n    const renderLabel$1 = (spec, backstageShared) => {\n      const label = {\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$1(backstageShared.providers.translate(spec.label))]\n      };\n      const comps = map$2(spec.items, backstageShared.interpreter);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [\n          label,\n          ...comps\n        ],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Replacing.config({}),\n          RepresentingConfigs.domHtml(Optional.none()),\n          Keying.config({ mode: 'acyclic' })\n        ])\n      };\n    };\n\n    const internalToolbarButtonExecute = generate$6('toolbar.button.execute');\n    const onToolbarButtonExecute = info => runOnExecute$1((comp, _simulatedEvent) => {\n      runWithApi(info, comp)(itemApi => {\n        emitWith(comp, internalToolbarButtonExecute, { buttonApi: itemApi });\n        info.onAction(itemApi);\n      });\n    });\n    const toolbarButtonEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'toolbar-button-events'\n      ]\n    };\n\n    const renderIcon = (iconName, iconsProvider, behaviours) => render$3(iconName, {\n      tag: 'span',\n      classes: [\n        'tox-icon',\n        'tox-tbtn__icon-wrap'\n      ],\n      behaviours\n    }, iconsProvider);\n    const renderIconFromPack = (iconName, iconsProvider) => renderIcon(iconName, iconsProvider, []);\n    const renderReplacableIconFromPack = (iconName, iconsProvider) => renderIcon(iconName, iconsProvider, [Replacing.config({})]);\n    const renderLabel = (text, prefix, providersBackstage) => ({\n      dom: {\n        tag: 'span',\n        classes: [`${ prefix }__select-label`]\n      },\n      components: [text$1(providersBackstage.translate(text))],\n      behaviours: derive$1([Replacing.config({})])\n    });\n\n    const updateMenuText = generate$6('update-menu-text');\n    const updateMenuIcon = generate$6('update-menu-icon');\n    const renderCommonDropdown = (spec, prefix, sharedBackstage) => {\n      const editorOffCell = Cell(noop);\n      const optMemDisplayText = spec.text.map(text => record(renderLabel(text, prefix, sharedBackstage.providers)));\n      const optMemDisplayIcon = spec.icon.map(iconName => record(renderReplacableIconFromPack(iconName, sharedBackstage.providers.icons)));\n      const onLeftOrRightInMenu = (comp, se) => {\n        const dropdown = Representing.getValue(comp);\n        Focusing.focus(dropdown);\n        emitWith(dropdown, 'keydown', { raw: se.event.raw });\n        Dropdown.close(dropdown);\n        return Optional.some(true);\n      };\n      const role = spec.role.fold(() => ({}), role => ({ role }));\n      const tooltipAttributes = spec.tooltip.fold(() => ({}), tooltip => {\n        const translatedTooltip = sharedBackstage.providers.translate(tooltip);\n        return {\n          'title': translatedTooltip,\n          'aria-label': translatedTooltip\n        };\n      });\n      const iconSpec = render$3('chevron-down', {\n        tag: 'div',\n        classes: [`${ prefix }__select-chevron`]\n      }, sharedBackstage.providers.icons);\n      const memDropdown = record(Dropdown.sketch({\n        ...spec.uid ? { uid: spec.uid } : {},\n        ...role,\n        dom: {\n          tag: 'button',\n          classes: [\n            prefix,\n            `${ prefix }--select`\n          ].concat(map$2(spec.classes, c => `${ prefix }--${ c }`)),\n          attributes: { ...tooltipAttributes }\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(mem => mem.asSpec()),\n          optMemDisplayText.map(mem => mem.asSpec()),\n          Optional.some(iconSpec)\n        ]),\n        matchWidth: true,\n        useMinWidth: true,\n        dropdownBehaviours: derive$1([\n          ...spec.dropdownBehaviours,\n          DisablingConfigs.button(() => spec.disabled || sharedBackstage.providers.isDisabled()),\n          receivingConfig(),\n          Unselecting.config({}),\n          Replacing.config({}),\n          config('dropdown-events', [\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          config('menubutton-update-display-text', [\n            run$1(updateMenuText, (comp, se) => {\n              optMemDisplayText.bind(mem => mem.getOpt(comp)).each(displayText => {\n                Replacing.set(displayText, [text$1(sharedBackstage.providers.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, (comp, se) => {\n              optMemDisplayIcon.bind(mem => mem.getOpt(comp)).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplacableIconFromPack(se.event.icon, sharedBackstage.providers.icons)]);\n              });\n            })\n          ])\n        ]),\n        eventOrder: deepMerge(toolbarButtonEventOrder, {\n          mousedown: [\n            'focusing',\n            'alloy.base.behaviour',\n            'item-type-events',\n            'normal-dropdown-events'\n          ]\n        }),\n        sandboxBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onLeft: onLeftOrRightInMenu,\n            onRight: onLeftOrRightInMenu\n          })]),\n        lazySink: sharedBackstage.getSink,\n        toggleClass: `${ prefix }--active`,\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        fetch: comp => Future.nu(curry(spec.fetch, comp))\n      }));\n      return memDropdown.asSpec();\n    };\n\n    const isMenuItemReference = item => isString(item);\n    const isSeparator$1 = item => item.type === 'separator';\n    const isExpandingMenuItem = item => has$2(item, 'getSubmenuItems');\n    const separator$2 = { type: 'separator' };\n    const unwrapReferences = (items, menuItems) => {\n      const realItems = foldl(items, (acc, item) => {\n        if (isMenuItemReference(item)) {\n          if (item === '') {\n            return acc;\n          } else if (item === '|') {\n            return acc.length > 0 && !isSeparator$1(acc[acc.length - 1]) ? acc.concat([separator$2]) : acc;\n          } else if (has$2(menuItems, item.toLowerCase())) {\n            return acc.concat([menuItems[item.toLowerCase()]]);\n          } else {\n            return acc;\n          }\n        } else {\n          return acc.concat([item]);\n        }\n      }, []);\n      if (realItems.length > 0 && isSeparator$1(realItems[realItems.length - 1])) {\n        realItems.pop();\n      }\n      return realItems;\n    };\n    const getFromExpandingItem = (item, menuItems) => {\n      const submenuItems = item.getSubmenuItems();\n      const rest = expand(submenuItems, menuItems);\n      const newMenus = deepMerge(rest.menus, wrap$1(item.value, rest.items));\n      const newExpansions = deepMerge(rest.expansions, wrap$1(item.value, item.value));\n      return {\n        item,\n        menus: newMenus,\n        expansions: newExpansions\n      };\n    };\n    const getFromItem = (item, menuItems) => isExpandingMenuItem(item) ? getFromExpandingItem(item, menuItems) : {\n      item,\n      menus: {},\n      expansions: {}\n    };\n    const generateValueIfRequired = item => {\n      if (isSeparator$1(item)) {\n        return item;\n      } else {\n        const itemValue = get$g(item, 'value').getOrThunk(() => generate$6('generated-menu-item'));\n        return deepMerge({ value: itemValue }, item);\n      }\n    };\n    const expand = (items, menuItems) => {\n      const realItems = unwrapReferences(isString(items) ? items.split(' ') : items, menuItems);\n      return foldr(realItems, (acc, item) => {\n        const itemWithValue = generateValueIfRequired(item);\n        const newData = getFromItem(itemWithValue, menuItems);\n        return {\n          menus: deepMerge(acc.menus, newData.menus),\n          items: [newData.item].concat(acc.items),\n          expansions: deepMerge(acc.expansions, newData.expansions)\n        };\n      }, {\n        menus: {},\n        expansions: {},\n        items: []\n      });\n    };\n\n    const build = (items, itemResponse, backstage, isHorizontalMenu) => {\n      const primary = generate$6('primary-menu');\n      const data = expand(items, backstage.shared.providers.menuItems());\n      if (data.items.length === 0) {\n        return Optional.none();\n      }\n      const mainMenu = createPartialMenu(primary, data.items, itemResponse, backstage, isHorizontalMenu);\n      const submenus = map$1(data.menus, (menuItems, menuName) => createPartialMenu(menuName, menuItems, itemResponse, backstage, false));\n      const menus = deepMerge(submenus, wrap$1(primary, mainMenu));\n      return Optional.from(tieredMenu.tieredData(primary, menus, data.expansions));\n    };\n\n    const isSingleListItem = item => !has$2(item, 'items');\n    const dataAttribute = 'data-value';\n    const fetchItems = (dropdownComp, name, items, selectedValue) => map$2(items, item => {\n      if (!isSingleListItem(item)) {\n        return {\n          type: 'nestedmenuitem',\n          text: item.text,\n          getSubmenuItems: () => fetchItems(dropdownComp, name, item.items, selectedValue)\n        };\n      } else {\n        return {\n          type: 'togglemenuitem',\n          text: item.text,\n          value: item.value,\n          active: item.value === selectedValue,\n          onAction: () => {\n            Representing.setValue(dropdownComp, item.value);\n            emitWith(dropdownComp, formChangeEvent, { name });\n            Focusing.focus(dropdownComp);\n          }\n        };\n      }\n    });\n    const findItemByValue = (items, value) => findMap(items, item => {\n      if (!isSingleListItem(item)) {\n        return findItemByValue(item.items, value);\n      } else {\n        return someIf(item.value === value, item);\n      }\n    });\n    const renderListBox = (spec, backstage, initialData) => {\n      const providersBackstage = backstage.shared.providers;\n      const initialItem = initialData.bind(value => findItemByValue(spec.items, value)).orThunk(() => head(spec.items).filter(isSingleListItem));\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        factory: {\n          sketch: sketchSpec => renderCommonDropdown({\n            uid: sketchSpec.uid,\n            text: initialItem.map(item => item.text),\n            icon: Optional.none(),\n            tooltip: spec.label,\n            role: Optional.none(),\n            fetch: (comp, callback) => {\n              const items = fetchItems(comp, spec.name, spec.items, Representing.getValue(comp));\n              callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false));\n            },\n            onSetup: constant$1(noop),\n            getApi: constant$1({}),\n            columns: 1,\n            presets: 'normal',\n            classes: [],\n            dropdownBehaviours: [\n              Tabstopping.config({}),\n              RepresentingConfigs.withComp(initialItem.map(item => item.value), comp => get$f(comp.element, dataAttribute), (comp, data) => {\n                findItemByValue(spec.items, data).each(item => {\n                  set$9(comp.element, dataAttribute, item.value);\n                  emitWith(comp, updateMenuText, { text: item.text });\n                });\n              })\n            ]\n          }, 'tox-listbox', backstage.shared)\n        }\n      });\n      const listBoxWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-listboxfield']\n        },\n        components: [pField]\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [listBoxWrap]\n        ]),\n        fieldBehaviours: derive$1([Disabling.config({\n            disabled: constant$1(!spec.enabled),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          })])\n      });\n    };\n\n    const renderPanel = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: spec.classes\n      },\n      components: map$2(spec.items, backstage.shared.interpreter)\n    });\n\n    const factory$f = (detail, _spec) => {\n      const options = map$2(detail.options, option => ({\n        dom: {\n          tag: 'option',\n          value: option.value,\n          innerHtml: option.text\n        }\n      }));\n      const initialValues = detail.data.map(v => wrap$1('initialValue', v)).getOr({});\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'select',\n          classes: detail.selectClasses,\n          attributes: detail.selectAttributes\n        },\n        components: options,\n        behaviours: augment(detail.selectBehaviours, [\n          Focusing.config({}),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: select => {\n                return get$6(select.element);\n              },\n              setValue: (select, newValue) => {\n                const found = find$5(detail.options, opt => opt.value === newValue);\n                if (found.isSome()) {\n                  set$5(select.element, newValue);\n                }\n              },\n              ...initialValues\n            }\n          })\n        ])\n      };\n    };\n    const HtmlSelect = single({\n      name: 'HtmlSelect',\n      configFields: [\n        required$1('options'),\n        field('selectBehaviours', [\n          Focusing,\n          Representing\n        ]),\n        defaulted('selectClasses', []),\n        defaulted('selectAttributes', {}),\n        option$3('data')\n      ],\n      factory: factory$f\n    });\n\n    const renderSelectBox = (spec, providersBackstage, initialData) => {\n      const translatedOptions = map$2(spec.items, item => ({\n        text: providersBackstage.translate(item.text),\n        value: item.value\n      }));\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        ...initialData.map(data => ({ data })).getOr({}),\n        selectAttributes: { size: spec.size },\n        options: translatedOptions,\n        factory: HtmlSelect,\n        selectBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          config('selectbox-change', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const chevron = spec.size > 1 ? Optional.none() : Optional.some(render$3('chevron-down', {\n        tag: 'div',\n        classes: ['tox-selectfield__icon-js']\n      }, providersBackstage.icons));\n      const selectWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-selectfield']\n        },\n        components: flatten([\n          [pField],\n          chevron.toArray()\n        ])\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [selectWrap]\n        ]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    const schema$h = constant$1([\n      defaulted('field1Name', 'field1'),\n      defaulted('field2Name', 'field2'),\n      onStrictHandler('onLockedChange'),\n      markers$1(['lockClass']),\n      defaulted('locked', false),\n      SketchBehaviours.field('coupledFieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    const getField = (comp, detail, partName) => getPart(comp, detail, partName).bind(Composing.getCurrent);\n    const coupledPart = (selfName, otherName) => required({\n      factory: FormField,\n      name: selfName,\n      overrides: detail => {\n        return {\n          fieldBehaviours: derive$1([config('coupled-input-behaviour', [run$1(input(), me => {\n                getField(me, detail, otherName).each(other => {\n                  getPart(me, detail, 'lock').each(lock => {\n                    if (Toggling.isOn(lock)) {\n                      detail.onLockedChange(me, other, lock);\n                    }\n                  });\n                });\n              })])])\n        };\n      }\n    });\n    const parts$c = constant$1([\n      coupledPart('field1', 'field2'),\n      coupledPart('field2', 'field1'),\n      required({\n        factory: Button,\n        schema: [required$1('dom')],\n        name: 'lock',\n        overrides: detail => {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                selected: detail.locked,\n                toggleClass: detail.markers.lockClass,\n                aria: { mode: 'pressed' }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const factory$e = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: SketchBehaviours.augment(detail.coupledFieldBehaviours, [\n        Composing.config({ find: Optional.some }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: comp => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              return {\n                [detail.field1Name]: Representing.getValue(parts.field1()),\n                [detail.field2Name]: Representing.getValue(parts.field2())\n              };\n            },\n            setValue: (comp, value) => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              if (hasNonNullableKey(value, detail.field1Name)) {\n                Representing.setValue(parts.field1(), value[detail.field1Name]);\n              }\n              if (hasNonNullableKey(value, detail.field2Name)) {\n                Representing.setValue(parts.field2(), value[detail.field2Name]);\n              }\n            }\n          }\n        })\n      ]),\n      apis: {\n        getField1: component => getPart(component, detail, 'field1'),\n        getField2: component => getPart(component, detail, 'field2'),\n        getLock: component => getPart(component, detail, 'lock')\n      }\n    });\n    const FormCoupledInputs = composite({\n      name: 'FormCoupledInputs',\n      configFields: schema$h(),\n      partFields: parts$c(),\n      factory: factory$e,\n      apis: {\n        getField1: (apis, component) => apis.getField1(component),\n        getField2: (apis, component) => apis.getField2(component),\n        getLock: (apis, component) => apis.getLock(component)\n      }\n    });\n\n    const formatSize = size => {\n      const unitDec = {\n        '': 0,\n        'px': 0,\n        'pt': 1,\n        'mm': 1,\n        'pc': 2,\n        'ex': 2,\n        'em': 2,\n        'ch': 2,\n        'rem': 2,\n        'cm': 3,\n        'in': 4,\n        '%': 4\n      };\n      const maxDecimal = unit => unit in unitDec ? unitDec[unit] : 1;\n      let numText = size.value.toFixed(maxDecimal(size.unit));\n      if (numText.indexOf('.') !== -1) {\n        numText = numText.replace(/\\.?0*$/, '');\n      }\n      return numText + size.unit;\n    };\n    const parseSize = sizeText => {\n      const numPattern = /^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;\n      const match = numPattern.exec(sizeText);\n      if (match !== null) {\n        const value = parseFloat(match[1]);\n        const unit = match[2];\n        return Result.value({\n          value,\n          unit\n        });\n      } else {\n        return Result.error(sizeText);\n      }\n    };\n    const convertUnit = (size, unit) => {\n      const inInch = {\n        '': 96,\n        'px': 96,\n        'pt': 72,\n        'cm': 2.54,\n        'pc': 12,\n        'mm': 25.4,\n        'in': 1\n      };\n      const supported = u => has$2(inInch, u);\n      if (size.unit === unit) {\n        return Optional.some(size.value);\n      } else if (supported(size.unit) && supported(unit)) {\n        if (inInch[size.unit] === inInch[unit]) {\n          return Optional.some(size.value);\n        } else {\n          return Optional.some(size.value / inInch[size.unit] * inInch[unit]);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    const noSizeConversion = _input => Optional.none();\n    const ratioSizeConversion = (scale, unit) => size => convertUnit(size, unit).map(value => ({\n      value: value * scale,\n      unit\n    }));\n    const makeRatioConverter = (currentFieldText, otherFieldText) => {\n      const cValue = parseSize(currentFieldText).toOptional();\n      const oValue = parseSize(otherFieldText).toOptional();\n      return lift2(cValue, oValue, (cSize, oSize) => convertUnit(cSize, oSize.unit).map(val => oSize.value / val).map(r => ratioSizeConversion(r, oSize.unit)).getOr(noSizeConversion)).getOr(noSizeConversion);\n    };\n\n    const renderSizeInput = (spec, providersBackstage) => {\n      let converter = noSizeConversion;\n      const ratioEvent = generate$6('ratio-event');\n      const makeIcon = iconName => render$3(iconName, {\n        tag: 'span',\n        classes: [\n          'tox-icon',\n          'tox-lock-icon__' + iconName\n        ]\n      }, providersBackstage.icons);\n      const pLock = FormCoupledInputs.parts.lock({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-lock',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: { title: providersBackstage.translate(spec.label.getOr('Constrain proportions')) }\n        },\n        components: [\n          makeIcon('lock'),\n          makeIcon('unlock')\n        ],\n        buttonBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          receivingConfig(),\n          Tabstopping.config({})\n        ])\n      });\n      const formGroup = components => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components\n      });\n      const getFieldPart = isField1 => FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('size-input-events', [\n            run$1(focusin(), (component, _simulatedEvent) => {\n              emitWith(component, ratioEvent, { isField1 });\n            }),\n            run$1(change(), (component, _simulatedEvent) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })\n          ])\n        ]),\n        selectOnFocus: false\n      });\n      const getLabel = label => ({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$1(providersBackstage.translate(label))]\n      });\n      const widthField = FormCoupledInputs.parts.field1(formGroup([\n        FormField.parts.label(getLabel('Width')),\n        getFieldPart(true)\n      ]));\n      const heightField = FormCoupledInputs.parts.field2(formGroup([\n        FormField.parts.label(getLabel('Height')),\n        getFieldPart(false)\n      ]));\n      return FormCoupledInputs.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-form__controls-h-stack']\n            },\n            components: [\n              widthField,\n              heightField,\n              formGroup([\n                getLabel(nbsp),\n                pLock\n              ])\n            ]\n          }],\n        field1Name: 'width',\n        field2Name: 'height',\n        locked: true,\n        markers: { lockClass: 'tox-locked' },\n        onLockedChange: (current, other, _lock) => {\n          parseSize(Representing.getValue(current)).each(size => {\n            converter(size).each(newSize => {\n              Representing.setValue(other, formatSize(newSize));\n            });\n          });\n        },\n        coupledFieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getLock(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getLock(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('size-input-events2', [run$1(ratioEvent, (component, simulatedEvent) => {\n              const isField1 = simulatedEvent.event.isField1;\n              const optCurrent = isField1 ? FormCoupledInputs.getField1(component) : FormCoupledInputs.getField2(component);\n              const optOther = isField1 ? FormCoupledInputs.getField2(component) : FormCoupledInputs.getField1(component);\n              const value1 = optCurrent.map(Representing.getValue).getOr('');\n              const value2 = optOther.map(Representing.getValue).getOr('');\n              converter = makeRatioConverter(value1, value2);\n            })])\n        ])\n      });\n    };\n\n    const renderSlider = (spec, providerBackstage, initialData) => {\n      const labelPart = Slider.parts.label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$1(providerBackstage.translate(spec.label))]\n      });\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__rail'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__handle'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider'],\n          attributes: { role: 'presentation' }\n        },\n        model: {\n          mode: 'x',\n          minX: spec.min,\n          maxX: spec.max,\n          getInitialValue: constant$1(initialData.getOrThunk(() => (Math.abs(spec.max) - Math.abs(spec.min)) / 2))\n        },\n        components: [\n          labelPart,\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([\n          ComposingConfigs.self(),\n          Focusing.config({})\n        ]),\n        onChoose: (component, thumb, value) => {\n          emitWith(component, formChangeEvent, {\n            name: spec.name,\n            value\n          });\n        }\n      });\n    };\n\n    const renderTable = (spec, providersBackstage) => {\n      const renderTh = text => ({\n        dom: {\n          tag: 'th',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderHeader = header => ({\n        dom: { tag: 'thead' },\n        components: [{\n            dom: { tag: 'tr' },\n            components: map$2(header, renderTh)\n          }]\n      });\n      const renderTd = text => ({\n        dom: {\n          tag: 'td',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderTr = row => ({\n        dom: { tag: 'tr' },\n        components: map$2(row, renderTd)\n      });\n      const renderRows = rows => ({\n        dom: { tag: 'tbody' },\n        components: map$2(rows, renderTr)\n      });\n      return {\n        dom: {\n          tag: 'table',\n          classes: ['tox-dialog__table']\n        },\n        components: [\n          renderHeader(spec.header),\n          renderRows(spec.cells)\n        ],\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n\n    const renderTextField = (spec, providersBackstage) => {\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const baseInputBehaviours = [\n        Disabling.config({ disabled: () => spec.disabled || providersBackstage.isDisabled() }),\n        receivingConfig(),\n        Keying.config({\n          mode: 'execution',\n          useEnter: spec.multiline !== true,\n          useControlEnter: spec.multiline === true,\n          execute: comp => {\n            emit(comp, formSubmitEvent);\n            return Optional.some(true);\n          }\n        }),\n        config('textfield-change', [\n          run$1(input(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          }),\n          run$1(postPaste(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          })\n        ]),\n        Tabstopping.config({})\n      ];\n      const validatingBehaviours = spec.validation.map(vl => Invalidating.config({\n        getRoot: input => {\n          return parentElement(input.element);\n        },\n        invalidClass: 'tox-invalid',\n        validator: {\n          validate: input => {\n            const v = Representing.getValue(input);\n            const result = vl.validator(v);\n            return Future.pure(result === true ? Result.value(v) : Result.error(result));\n          },\n          validateOnLoad: vl.validateOnLoad\n        }\n      })).toArray();\n      const placeholder = spec.placeholder.fold(constant$1({}), p => ({ placeholder: providersBackstage.translate(p) }));\n      const inputMode = spec.inputMode.fold(constant$1({}), mode => ({ inputmode: mode }));\n      const inputAttributes = {\n        ...placeholder,\n        ...inputMode\n      };\n      const pField = FormField.parts.field({\n        tag: spec.multiline === true ? 'textarea' : 'input',\n        ...spec.data.map(data => ({ data })).getOr({}),\n        inputAttributes,\n        inputClasses: [spec.classname],\n        inputBehaviours: derive$1(flatten([\n          baseInputBehaviours,\n          validatingBehaviours\n        ])),\n        selectOnFocus: false,\n        factory: Input\n      });\n      const extraClasses = spec.flex ? ['tox-form__group--stretched'] : [];\n      const extraClasses2 = extraClasses.concat(spec.maximized ? ['tox-form-group--maximize'] : []);\n      const extraBehaviours = [\n        Disabling.config({\n          disabled: () => spec.disabled || providersBackstage.isDisabled(),\n          onDisabled: comp => {\n            FormField.getField(comp).each(Disabling.disable);\n          },\n          onEnabled: comp => {\n            FormField.getField(comp).each(Disabling.enable);\n          }\n        }),\n        receivingConfig()\n      ];\n      return renderFormFieldWith(pLabel, pField, extraClasses2, extraBehaviours);\n    };\n    const renderInput = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: false,\n      label: spec.label,\n      inputMode: spec.inputMode,\n      placeholder: spec.placeholder,\n      flex: false,\n      disabled: !spec.enabled,\n      classname: 'tox-textfield',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData\n    }, providersBackstage);\n    const renderTextarea = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: true,\n      label: spec.label,\n      inputMode: Optional.none(),\n      placeholder: spec.placeholder,\n      flex: true,\n      disabled: !spec.enabled,\n      classname: 'tox-textarea',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData\n    }, providersBackstage);\n\n    const events$6 = (streamConfig, streamState) => {\n      const streams = streamConfig.stream.streams;\n      const processor = streams.setup(streamConfig, streamState);\n      return derive$2([\n        run$1(streamConfig.event, processor),\n        runOnDetached(() => streamState.cancel())\n      ].concat(streamConfig.cancelEvent.map(e => [run$1(e, () => streamState.cancel())]).getOr([])));\n    };\n\n    var ActiveStreaming = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$6\n    });\n\n    const first = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        if (isNull(timer)) {\n          timer = setTimeout(() => {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n    const last = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const throttle = _config => {\n      const state = Cell(null);\n      const readState = () => ({ timer: state.get() !== null ? 'set' : 'unset' });\n      const setTimer = t => {\n        state.set(t);\n      };\n      const cancel = () => {\n        const t = state.get();\n        if (t !== null) {\n          t.cancel();\n        }\n      };\n      return nu$8({\n        readState,\n        setTimer,\n        cancel\n      });\n    };\n    const init$9 = spec => spec.stream.streams.state(spec);\n\n    var StreamingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        throttle: throttle,\n        init: init$9\n    });\n\n    const setup$c = (streamInfo, streamState) => {\n      const sInfo = streamInfo.stream;\n      const throttler = last(streamInfo.onStream, sInfo.delay);\n      streamState.setTimer(throttler);\n      return (component, simulatedEvent) => {\n        throttler.throttle(component, simulatedEvent);\n        if (sInfo.stopEvent) {\n          simulatedEvent.stop();\n        }\n      };\n    };\n    var StreamingSchema = [\n      requiredOf('stream', choose$1('mode', {\n        throttle: [\n          required$1('delay'),\n          defaulted('stopEvent', true),\n          output$1('streams', {\n            setup: setup$c,\n            state: throttle\n          })\n        ]\n      })),\n      defaulted('event', 'input'),\n      option$3('cancelEvent'),\n      onStrictHandler('onStream')\n    ];\n\n    const Streaming = create$3({\n      fields: StreamingSchema,\n      name: 'streaming',\n      active: ActiveStreaming,\n      state: StreamingState\n    });\n\n    const setValueFromItem = (model, input, item) => {\n      const itemData = Representing.getValue(item);\n      Representing.setValue(input, itemData);\n      setCursorAtEnd(input);\n    };\n    const setSelectionOn = (input, f) => {\n      const el = input.element;\n      const value = get$6(el);\n      const node = el.dom;\n      if (get$f(el, 'type') !== 'number') {\n        f(node, value);\n      }\n    };\n    const setCursorAtEnd = input => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(value.length, value.length));\n    };\n    const setSelectionToEnd = (input, startOffset) => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(startOffset, value.length));\n    };\n    const attemptSelectOver = (model, input, item) => {\n      if (!model.selectsOver) {\n        return Optional.none();\n      } else {\n        const currentValue = Representing.getValue(input);\n        const inputDisplay = model.getDisplayText(currentValue);\n        const itemValue = Representing.getValue(item);\n        const itemDisplay = model.getDisplayText(itemValue);\n        return itemDisplay.indexOf(inputDisplay) === 0 ? Optional.some(() => {\n          setValueFromItem(model, input, item);\n          setSelectionToEnd(input, inputDisplay.length);\n        }) : Optional.none();\n      }\n    };\n\n    const itemExecute = constant$1('alloy.typeahead.itemexecute');\n\n    const make$3 = (detail, components, spec, externals) => {\n      const navigateList = (comp, simulatedEvent, highlighter) => {\n        detail.previewing.set(false);\n        const sandbox = Coupling.getCoupled(comp, 'sandbox');\n        if (Sandboxing.isOpen(sandbox)) {\n          Composing.getCurrent(sandbox).each(menu => {\n            Highlighting.getHighlighted(menu).fold(() => {\n              highlighter(menu);\n            }, () => {\n              dispatchEvent(sandbox, menu.element, 'keydown', simulatedEvent);\n            });\n          });\n        } else {\n          const onOpenSync = sandbox => {\n            Composing.getCurrent(sandbox).each(highlighter);\n          };\n          open(detail, mapFetch(comp), comp, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n        }\n      };\n      const focusBehaviours$1 = focusBehaviours(detail);\n      const mapFetch = comp => tdata => tdata.map(data => {\n        const menus = values(data.menus);\n        const items = bind$3(menus, menu => filter$2(menu.items, item => item.type === 'item'));\n        const repState = Representing.getState(comp);\n        repState.update(map$2(items, item => item.data));\n        return data;\n      });\n      const behaviours = [\n        Focusing.config({}),\n        Representing.config({\n          onSetValue: detail.onSetValue,\n          store: {\n            mode: 'dataset',\n            getDataKey: comp => get$6(comp.element),\n            getFallbackEntry: itemString => ({\n              value: itemString,\n              meta: {}\n            }),\n            setValue: (comp, data) => {\n              set$5(comp.element, detail.model.getDisplayText(data));\n            },\n            ...detail.initialData.map(d => wrap$1('initialValue', d)).getOr({})\n          }\n        }),\n        Streaming.config({\n          stream: {\n            mode: 'throttle',\n            delay: detail.responseTime,\n            stopEvent: false\n          },\n          onStream: (component, _simulatedEvent) => {\n            const sandbox = Coupling.getCoupled(component, 'sandbox');\n            const focusInInput = Focusing.isFocused(component);\n            if (focusInInput) {\n              if (get$6(component.element).length >= detail.minChars) {\n                const previousValue = Composing.getCurrent(sandbox).bind(menu => Highlighting.getHighlighted(menu).map(Representing.getValue));\n                detail.previewing.set(true);\n                const onOpenSync = _sandbox => {\n                  Composing.getCurrent(sandbox).each(menu => {\n                    previousValue.fold(() => {\n                      if (detail.model.selectsOver) {\n                        Highlighting.highlightFirst(menu);\n                      }\n                    }, pv => {\n                      Highlighting.highlightBy(menu, item => {\n                        const itemData = Representing.getValue(item);\n                        return itemData.value === pv.value;\n                      });\n                      Highlighting.getHighlighted(menu).orThunk(() => {\n                        Highlighting.highlightFirst(menu);\n                        return Optional.none();\n                      });\n                    });\n                  });\n                };\n                open(detail, mapFetch(component), component, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n              }\n            }\n          },\n          cancelEvent: typeaheadCancel()\n        }),\n        Keying.config({\n          mode: 'special',\n          onDown: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightFirst);\n            return Optional.some(true);\n          },\n          onEscape: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            if (Sandboxing.isOpen(sandbox)) {\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n            return Optional.none();\n          },\n          onUp: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightLast);\n            return Optional.some(true);\n          },\n          onEnter: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            const sandboxIsOpen = Sandboxing.isOpen(sandbox);\n            if (sandboxIsOpen && !detail.previewing.get()) {\n              return Composing.getCurrent(sandbox).bind(menu => Highlighting.getHighlighted(menu)).map(item => {\n                emitWith(comp, itemExecute(), { item });\n                return true;\n              });\n            } else {\n              const currentValue = Representing.getValue(comp);\n              emit(comp, typeaheadCancel());\n              detail.onExecute(sandbox, comp, currentValue);\n              if (sandboxIsOpen) {\n                Sandboxing.close(sandbox);\n              }\n              return Optional.some(true);\n            }\n          }\n        }),\n        Toggling.config({\n          toggleClass: detail.markers.openClass,\n          aria: { mode: 'expanded' }\n        }),\n        Coupling.config({\n          others: {\n            sandbox: hotspot => {\n              return makeSandbox$1(detail, hotspot, {\n                onOpen: () => Toggling.on(hotspot),\n                onClose: () => Toggling.off(hotspot)\n              });\n            }\n          }\n        }),\n        config('typeaheadevents', [\n          runOnExecute$1(comp => {\n            const onOpenSync = noop;\n            togglePopup(detail, mapFetch(comp), comp, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n          }),\n          run$1(itemExecute(), (comp, se) => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            setValueFromItem(detail.model, comp, se.event.item);\n            emit(comp, typeaheadCancel());\n            detail.onItemExecute(comp, sandbox, se.event.item, Representing.getValue(comp));\n            Sandboxing.close(sandbox);\n            setCursorAtEnd(comp);\n          })\n        ].concat(detail.dismissOnBlur ? [run$1(postBlur(), typeahead => {\n            const sandbox = Coupling.getCoupled(typeahead, 'sandbox');\n            if (search(sandbox.element).isNone()) {\n              Sandboxing.close(sandbox);\n            }\n          })] : []))\n      ];\n      return {\n        uid: detail.uid,\n        dom: dom(deepMerge(detail, {\n          inputAttributes: {\n            'role': 'combobox',\n            'aria-autocomplete': 'list',\n            'aria-haspopup': 'true'\n          }\n        })),\n        behaviours: {\n          ...focusBehaviours$1,\n          ...augment(detail.typeaheadBehaviours, behaviours)\n        },\n        eventOrder: detail.eventOrder\n      };\n    };\n\n    const schema$g = constant$1([\n      option$3('lazySink'),\n      required$1('fetch'),\n      defaulted('minChars', 5),\n      defaulted('responseTime', 1000),\n      onHandler('onOpen'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      defaulted('layouts', Optional.none()),\n      defaulted('eventOrder', {}),\n      defaultedObjOf('model', {}, [\n        defaulted('getDisplayText', itemData => itemData.meta !== undefined && itemData.meta.text !== undefined ? itemData.meta.text : itemData.value),\n        defaulted('selectsOver', true),\n        defaulted('populateFromBrowse', true)\n      ]),\n      onHandler('onSetValue'),\n      onKeyboardHandler('onExecute'),\n      onHandler('onItemExecute'),\n      defaulted('inputClasses', []),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('matchWidth', true),\n      defaulted('useMinWidth', false),\n      defaulted('dismissOnBlur', true),\n      markers$1(['openClass']),\n      option$3('initialData'),\n      field('typeaheadBehaviours', [\n        Focusing,\n        Representing,\n        Streaming,\n        Keying,\n        Toggling,\n        Coupling\n      ]),\n      customField('previewing', () => Cell(true))\n    ].concat(schema$k()).concat(sandboxFields()));\n    const parts$b = constant$1([external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        overrides: detail => {\n          return {\n            fakeFocus: true,\n            onHighlight: (menu, item) => {\n              if (!detail.previewing.get()) {\n                menu.getSystem().getByUid(detail.uid).each(input => {\n                  if (detail.model.populateFromBrowse) {\n                    setValueFromItem(detail.model, input, item);\n                  }\n                });\n              } else {\n                menu.getSystem().getByUid(detail.uid).each(input => {\n                  attemptSelectOver(detail.model, input, item).fold(() => Highlighting.dehighlight(menu, item), fn => fn());\n                });\n              }\n              detail.previewing.set(false);\n            },\n            onExecute: (menu, item) => {\n              return menu.getSystem().getByUid(detail.uid).toOptional().map(typeahead => {\n                emitWith(typeahead, itemExecute(), { item });\n                return true;\n              });\n            },\n            onHover: (menu, item) => {\n              detail.previewing.set(false);\n              menu.getSystem().getByUid(detail.uid).each(input => {\n                if (detail.model.populateFromBrowse) {\n                  setValueFromItem(detail.model, input, item);\n                }\n              });\n            }\n          };\n        }\n      })]);\n\n    const Typeahead = composite({\n      name: 'Typeahead',\n      configFields: schema$g(),\n      partFields: parts$b(),\n      factory: make$3\n    });\n\n    const wrap = delegate => {\n      const toCached = () => {\n        return wrap(delegate.toCached());\n      };\n      const bindFuture = f => {\n        return wrap(delegate.bind(resA => resA.fold(err => Future.pure(Result.error(err)), a => f(a))));\n      };\n      const bindResult = f => {\n        return wrap(delegate.map(resA => resA.bind(f)));\n      };\n      const mapResult = f => {\n        return wrap(delegate.map(resA => resA.map(f)));\n      };\n      const mapError = f => {\n        return wrap(delegate.map(resA => resA.mapError(f)));\n      };\n      const foldResult = (whenError, whenValue) => {\n        return delegate.map(res => res.fold(whenError, whenValue));\n      };\n      const withTimeout = (timeout, errorThunk) => {\n        return wrap(Future.nu(callback => {\n          let timedOut = false;\n          const timer = setTimeout(() => {\n            timedOut = true;\n            callback(Result.error(errorThunk()));\n          }, timeout);\n          delegate.get(result => {\n            if (!timedOut) {\n              clearTimeout(timer);\n              callback(result);\n            }\n          });\n        }));\n      };\n      return {\n        ...delegate,\n        toCached,\n        bindFuture,\n        bindResult,\n        mapResult,\n        mapError,\n        foldResult,\n        withTimeout\n      };\n    };\n    const nu$1 = worker => {\n      return wrap(Future.nu(worker));\n    };\n    const value = value => {\n      return wrap(Future.pure(Result.value(value)));\n    };\n    const error = error => {\n      return wrap(Future.pure(Result.error(error)));\n    };\n    const fromResult = result => {\n      return wrap(Future.pure(result));\n    };\n    const fromFuture = future => {\n      return wrap(future.map(Result.value));\n    };\n    const fromPromise = promise => {\n      return nu$1(completer => {\n        promise.then(value => {\n          completer(Result.value(value));\n        }, error => {\n          completer(Result.error(error));\n        });\n      });\n    };\n    const FutureResult = {\n      nu: nu$1,\n      wrap,\n      pure: value,\n      value,\n      error,\n      fromResult,\n      fromFuture,\n      fromPromise\n    };\n\n    const getMenuButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setActive: state => {\n        const elm = component.element;\n        if (state) {\n          add$2(elm, 'tox-tbtn--enabled');\n          set$9(elm, 'aria-pressed', true);\n        } else {\n          remove$2(elm, 'tox-tbtn--enabled');\n          remove$7(elm, 'aria-pressed');\n        }\n      },\n      isActive: () => has(component.element, 'tox-tbtn--enabled')\n    });\n    const renderMenuButton = (spec, prefix, backstage, role) => renderCommonDropdown({\n      text: spec.text,\n      icon: spec.icon,\n      tooltip: spec.tooltip,\n      role,\n      fetch: (_comp, callback) => {\n        spec.fetch(items => {\n          callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false));\n        });\n      },\n      onSetup: spec.onSetup,\n      getApi: getMenuButtonApi,\n      columns: 1,\n      presets: 'normal',\n      classes: [],\n      dropdownBehaviours: [Tabstopping.config({})]\n    }, prefix, backstage.shared);\n    const getFetch = (items, getButton, backstage) => {\n      const getMenuItemAction = item => api => {\n        const newValue = !api.isActive();\n        api.setActive(newValue);\n        item.storage.set(newValue);\n        backstage.shared.getSink().each(sink => {\n          getButton().getOpt(sink).each(orig => {\n            focus$3(orig.element);\n            emitWith(orig, formActionEvent, {\n              name: item.name,\n              value: item.storage.get()\n            });\n          });\n        });\n      };\n      const getMenuItemSetup = item => api => {\n        api.setActive(item.storage.get());\n      };\n      return success => {\n        success(map$2(items, item => {\n          const text = item.text.fold(() => ({}), text => ({ text }));\n          return {\n            type: item.type,\n            active: false,\n            ...text,\n            onAction: getMenuItemAction(item),\n            onSetup: getMenuItemSetup(item)\n          };\n        }));\n      };\n    };\n\n    const renderCommonSpec = (spec, actionOpt, extraBehaviours = [], dom, components, providersBackstage) => {\n      const action = actionOpt.fold(() => ({}), action => ({ action }));\n      const common = {\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(() => !spec.enabled || providersBackstage.isDisabled()),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('button press', [\n            preventDefault('click'),\n            preventDefault('mousedown')\n          ])\n        ].concat(extraBehaviours)),\n        eventOrder: {\n          click: [\n            'button press',\n            'alloy.base.behaviour'\n          ],\n          mousedown: [\n            'button press',\n            'alloy.base.behaviour'\n          ]\n        },\n        ...action\n      };\n      const domFinal = deepMerge(common, { dom });\n      return deepMerge(domFinal, { components });\n    };\n    const renderIconButtonSpec = (spec, action, providersBackstage, extraBehaviours = []) => {\n      const tooltipAttributes = spec.tooltip.map(tooltip => ({\n        'aria-label': providersBackstage.translate(tooltip),\n        'title': providersBackstage.translate(tooltip)\n      })).getOr({});\n      const dom = {\n        tag: 'button',\n        classes: ['tox-tbtn'],\n        attributes: tooltipAttributes\n      };\n      const icon = spec.icon.map(iconName => renderIconFromPack(iconName, providersBackstage.icons));\n      const components = componentRenderPipeline([icon]);\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    const calculateClassesFromButtonType = buttonType => {\n      switch (buttonType) {\n      case 'primary':\n        return ['tox-button'];\n      case 'toolbar':\n        return ['tox-tbtn'];\n      case 'secondary':\n      default:\n        return [\n          'tox-button',\n          'tox-button--secondary'\n        ];\n      }\n    };\n    const renderButtonSpec = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const translatedText = providersBackstage.translate(spec.text);\n      const icon = spec.icon.map(iconName => renderIconFromPack(iconName, providersBackstage.icons));\n      const components = [icon.getOrThunk(() => text$1(translatedText))];\n      const buttonType = spec.buttonType.getOr(!spec.primary && !spec.borderless ? 'secondary' : 'primary');\n      const baseClasses = calculateClassesFromButtonType(buttonType);\n      const classes = [\n        ...baseClasses,\n        ...icon.isSome() ? ['tox-button--icon'] : [],\n        ...spec.borderless ? ['tox-button--naked'] : [],\n        ...extraClasses\n      ];\n      const dom = {\n        tag: 'button',\n        classes,\n        attributes: { title: translatedText }\n      };\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    const renderButton = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const buttonSpec = renderButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours, extraClasses);\n      return Button.sketch(buttonSpec);\n    };\n    const getAction = (name, buttonType) => comp => {\n      if (buttonType === 'custom') {\n        emitWith(comp, formActionEvent, {\n          name,\n          value: {}\n        });\n      } else if (buttonType === 'submit') {\n        emit(comp, formSubmitEvent);\n      } else if (buttonType === 'cancel') {\n        emit(comp, formCancelEvent);\n      } else {\n        console.error('Unknown button type: ', buttonType);\n      }\n    };\n    const isMenuFooterButtonSpec = (spec, buttonType) => buttonType === 'menu';\n    const isNormalFooterButtonSpec = (spec, buttonType) => buttonType === 'custom' || buttonType === 'cancel' || buttonType === 'submit';\n    const renderFooterButton = (spec, buttonType, backstage) => {\n      if (isMenuFooterButtonSpec(spec, buttonType)) {\n        const getButton = () => memButton;\n        const menuButtonSpec = spec;\n        const fixedSpec = {\n          ...spec,\n          onSetup: api => {\n            api.setEnabled(spec.enabled);\n            return noop;\n          },\n          fetch: getFetch(menuButtonSpec.items, getButton, backstage)\n        };\n        const memButton = record(renderMenuButton(fixedSpec, 'tox-tbtn', backstage, Optional.none()));\n        return memButton.asSpec();\n      } else if (isNormalFooterButtonSpec(spec, buttonType)) {\n        const action = getAction(spec.name, buttonType);\n        const buttonSpec = {\n          ...spec,\n          borderless: false\n        };\n        return renderButton(buttonSpec, action, backstage.shared.providers, []);\n      } else {\n        console.error('Unknown footer button type: ', buttonType);\n      }\n    };\n    const renderDialogButton = (spec, providersBackstage) => {\n      const action = getAction(spec.name, 'custom');\n      return renderFormField(Optional.none(), FormField.parts.field({\n        factory: Button,\n        ...renderButtonSpec(spec, Optional.some(action), providersBackstage, [\n          RepresentingConfigs.memory(''),\n          ComposingConfigs.self()\n        ])\n      }));\n    };\n\n    const separator$1 = { type: 'separator' };\n    const toMenuItem = target => ({\n      type: 'menuitem',\n      value: target.url,\n      text: target.title,\n      meta: { attach: target.attach },\n      onAction: noop\n    });\n    const staticMenuItem = (title, url) => ({\n      type: 'menuitem',\n      value: url,\n      text: title,\n      meta: { attach: undefined },\n      onAction: noop\n    });\n    const toMenuItems = targets => map$2(targets, toMenuItem);\n    const filterLinkTargets = (type, targets) => filter$2(targets, target => target.type === type);\n    const filteredTargets = (type, targets) => toMenuItems(filterLinkTargets(type, targets));\n    const headerTargets = linkInfo => filteredTargets('header', linkInfo.targets);\n    const anchorTargets = linkInfo => filteredTargets('anchor', linkInfo.targets);\n    const anchorTargetTop = linkInfo => Optional.from(linkInfo.anchorTop).map(url => staticMenuItem('<top>', url)).toArray();\n    const anchorTargetBottom = linkInfo => Optional.from(linkInfo.anchorBottom).map(url => staticMenuItem('<bottom>', url)).toArray();\n    const historyTargets = history => map$2(history, url => staticMenuItem(url, url));\n    const joinMenuLists = items => {\n      return foldl(items, (a, b) => {\n        const bothEmpty = a.length === 0 || b.length === 0;\n        return bothEmpty ? a.concat(b) : a.concat(separator$1, b);\n      }, []);\n    };\n    const filterByQuery = (term, menuItems) => {\n      const lowerCaseTerm = term.toLowerCase();\n      return filter$2(menuItems, item => {\n        const text = item.meta !== undefined && item.meta.text !== undefined ? item.meta.text : item.text;\n        return contains$1(text.toLowerCase(), lowerCaseTerm) || contains$1(item.value.toLowerCase(), lowerCaseTerm);\n      });\n    };\n\n    const getItems = (fileType, input, urlBackstage) => {\n      const urlInputValue = Representing.getValue(input);\n      const term = urlInputValue.meta.text !== undefined ? urlInputValue.meta.text : urlInputValue.value;\n      const info = urlBackstage.getLinkInformation();\n      return info.fold(() => [], linkInfo => {\n        const history = filterByQuery(term, historyTargets(urlBackstage.getHistory(fileType)));\n        return fileType === 'file' ? joinMenuLists([\n          history,\n          filterByQuery(term, headerTargets(linkInfo)),\n          filterByQuery(term, flatten([\n            anchorTargetTop(linkInfo),\n            anchorTargets(linkInfo),\n            anchorTargetBottom(linkInfo)\n          ]))\n        ]) : history;\n      });\n    };\n    const errorId = generate$6('aria-invalid');\n    const renderUrlInput = (spec, backstage, urlBackstage, initialData) => {\n      const providersBackstage = backstage.shared.providers;\n      const updateHistory = component => {\n        const urlEntry = Representing.getValue(component);\n        urlBackstage.addToHistory(urlEntry.value, spec.filetype);\n      };\n      const pField = FormField.parts.field({\n        factory: Typeahead,\n        ...initialData.map(initialData => ({ initialData })).getOr({}),\n        dismissOnBlur: true,\n        inputClasses: ['tox-textfield'],\n        sandboxClasses: ['tox-dialog__popups'],\n        inputAttributes: {\n          'aria-errormessage': errorId,\n          'type': 'url'\n        },\n        minChars: 0,\n        responseTime: 0,\n        fetch: input => {\n          const items = getItems(spec.filetype, input, urlBackstage);\n          const tdata = build(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage, false);\n          return Future.pure(tdata);\n        },\n        getHotspot: comp => memUrlBox.getOpt(comp),\n        onSetValue: (comp, _newValue) => {\n          if (comp.hasConfigured(Invalidating)) {\n            Invalidating.run(comp).get(noop);\n          }\n        },\n        typeaheadBehaviours: derive$1(flatten([\n          urlBackstage.getValidationHandler().map(handler => Invalidating.config({\n            getRoot: comp => parentElement(comp.element),\n            invalidClass: 'tox-control-wrap--status-invalid',\n            notify: {\n              onInvalid: (comp, err) => {\n                memInvalidIcon.getOpt(comp).each(invalidComp => {\n                  set$9(invalidComp.element, 'title', providersBackstage.translate(err));\n                });\n              }\n            },\n            validator: {\n              validate: input => {\n                const urlEntry = Representing.getValue(input);\n                return FutureResult.nu(completer => {\n                  handler({\n                    type: spec.filetype,\n                    url: urlEntry.value\n                  }, validation => {\n                    if (validation.status === 'invalid') {\n                      const err = Result.error(validation.message);\n                      completer(err);\n                    } else {\n                      const val = Result.value(validation.message);\n                      completer(val);\n                    }\n                  });\n                });\n              },\n              validateOnLoad: false\n            }\n          })).toArray(),\n          [\n            Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n            Tabstopping.config({}),\n            config('urlinput-events', flatten([\n              spec.filetype === 'file' ? [run$1(input(), comp => {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                })] : [],\n              [\n                run$1(change(), comp => {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                }),\n                run$1(postPaste(), comp => {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                })\n              ]\n            ]))\n          ]\n        ])),\n        eventOrder: {\n          [input()]: [\n            'streaming',\n            'urlinput-events',\n            'invalidating'\n          ]\n        },\n        model: {\n          getDisplayText: itemData => itemData.value,\n          selectsOver: false,\n          populateFromBrowse: false\n        },\n        markers: { openClass: 'tox-textfield--popup-open' },\n        lazySink: backstage.shared.getSink,\n        parts: { menu: part(false, 1, 'normal') },\n        onExecute: (_menu, component, _entry) => {\n          emitWith(component, formSubmitEvent, {});\n        },\n        onItemExecute: (typeahead, _sandbox, _item, _value) => {\n          updateHistory(typeahead);\n          emitWith(typeahead, formChangeEvent, { name: spec.name });\n        }\n      });\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const makeIcon = (name, errId, icon = name, label = name) => render$3(icon, {\n        tag: 'div',\n        classes: [\n          'tox-icon',\n          'tox-control-wrap__status-icon-' + name\n        ],\n        attributes: {\n          'title': providersBackstage.translate(label),\n          'aria-live': 'polite',\n          ...errId.fold(() => ({}), id => ({ id }))\n        }\n      }, providersBackstage.icons);\n      const memInvalidIcon = record(makeIcon('invalid', Optional.some(errorId), 'warning'));\n      const memStatus = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap__status-icon-wrap']\n        },\n        components: [memInvalidIcon.asSpec()]\n      });\n      const optUrlPicker = urlBackstage.getUrlPicker(spec.filetype);\n      const browseUrlEvent = generate$6('browser.url.event');\n      const memUrlBox = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap']\n        },\n        components: [\n          pField,\n          memStatus.asSpec()\n        ],\n        behaviours: derive$1([Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() })])\n      });\n      const memUrlPickerButton = record(renderButton({\n        name: spec.name,\n        icon: Optional.some('browse'),\n        text: spec.label.getOr(''),\n        enabled: spec.enabled,\n        primary: false,\n        buttonType: Optional.none(),\n        borderless: true\n      }, component => emit(component, browseUrlEvent), providersBackstage, [], ['tox-browse-url']));\n      const controlHWrapper = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__controls-h-stack']\n        },\n        components: flatten([\n          [memUrlBox.asSpec()],\n          optUrlPicker.map(() => memUrlPickerButton.asSpec()).toArray()\n        ])\n      });\n      const openUrlPicker = comp => {\n        Composing.getCurrent(comp).each(field => {\n          const componentData = Representing.getValue(field);\n          const urlData = {\n            fieldname: spec.name,\n            ...componentData\n          };\n          optUrlPicker.each(picker => {\n            picker(urlData).get(chosenData => {\n              Representing.setValue(field, chosenData);\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            });\n          });\n        });\n      };\n      return FormField.sketch({\n        dom: renderFormFieldDom(),\n        components: pLabel.toArray().concat([controlHWrapper()]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('url-input-events', [run$1(browseUrlEvent, openUrlPicker)])\n        ])\n      });\n    };\n\n    const renderAlertBanner = (spec, providersBackstage) => Container.sketch({\n      dom: {\n        tag: 'div',\n        attributes: { role: 'alert' },\n        classes: [\n          'tox-notification',\n          'tox-notification--in',\n          `tox-notification--${ spec.level }`\n        ]\n      },\n      components: [\n        {\n          dom: {\n            tag: 'div',\n            classes: ['tox-notification__icon']\n          },\n          components: [Button.sketch({\n              dom: {\n                tag: 'button',\n                classes: [\n                  'tox-button',\n                  'tox-button--naked',\n                  'tox-button--icon'\n                ],\n                innerHtml: get$2(spec.icon, providersBackstage.icons),\n                attributes: { title: providersBackstage.translate(spec.iconTooltip) }\n              },\n              action: comp => {\n                emitWith(comp, formActionEvent, {\n                  name: 'alert-banner',\n                  value: spec.url\n                });\n              },\n              buttonBehaviours: derive$1([addFocusableBehaviour()])\n            })]\n        },\n        {\n          dom: {\n            tag: 'div',\n            classes: ['tox-notification__body'],\n            innerHtml: providersBackstage.translate(spec.text)\n          }\n        }\n      ]\n    });\n\n    const set$1 = (element, status) => {\n      element.dom.checked = status;\n    };\n    const get$1 = element => element.dom.checked;\n\n    const renderCheckbox = (spec, providerBackstage, initialData) => {\n      const toggleCheckboxHandler = comp => {\n        comp.element.dom.click();\n        return Optional.some(true);\n      };\n      const pField = FormField.parts.field({\n        factory: { sketch: identity },\n        dom: {\n          tag: 'input',\n          classes: ['tox-checkbox__input'],\n          attributes: { type: 'checkbox' }\n        },\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Disabling.config({ disabled: () => !spec.enabled || providerBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          RepresentingConfigs.withElement(initialData, get$1, set$1),\n          Keying.config({\n            mode: 'special',\n            onEnter: toggleCheckboxHandler,\n            onSpace: toggleCheckboxHandler,\n            stopSpaceKeyup: true\n          }),\n          config('checkbox-events', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const pLabel = FormField.parts.label({\n        dom: {\n          tag: 'span',\n          classes: ['tox-checkbox__label']\n        },\n        components: [text$1(providerBackstage.translate(spec.label))],\n        behaviours: derive$1([Unselecting.config({})])\n      });\n      const makeIcon = className => {\n        const iconName = className === 'checked' ? 'selected' : 'unselected';\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-checkbox-icon__' + className\n          ]\n        }, providerBackstage.icons);\n      };\n      const memIcons = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-checkbox__icons']\n        },\n        components: [\n          makeIcon('checked'),\n          makeIcon('unchecked')\n        ]\n      });\n      return FormField.sketch({\n        dom: {\n          tag: 'label',\n          classes: ['tox-checkbox']\n        },\n        components: [\n          pField,\n          memIcons.asSpec(),\n          pLabel\n        ],\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providerBackstage.isDisabled(),\n            disableClass: 'tox-checkbox--disabled',\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    const renderHtmlPanel = spec => {\n      if (spec.presets === 'presentation') {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html\n          }\n        });\n      } else {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html,\n            attributes: { role: 'document' }\n          },\n          containerBehaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({})\n          ])\n        });\n      }\n    };\n\n    const make$2 = render => {\n      return (parts, spec, dialogData, backstage) => get$g(spec, 'name').fold(() => render(spec, backstage, Optional.none()), fieldName => parts.field(fieldName, render(spec, backstage, get$g(dialogData, fieldName))));\n    };\n    const makeIframe = render => (parts, spec, dialogData, backstage) => {\n      const iframeSpec = deepMerge(spec, { source: 'dynamic' });\n      return make$2(render)(parts, iframeSpec, dialogData, backstage);\n    };\n    const factories = {\n      bar: make$2((spec, backstage) => renderBar(spec, backstage.shared)),\n      collection: make$2((spec, backstage, data) => renderCollection(spec, backstage.shared.providers, data)),\n      alertbanner: make$2((spec, backstage) => renderAlertBanner(spec, backstage.shared.providers)),\n      input: make$2((spec, backstage, data) => renderInput(spec, backstage.shared.providers, data)),\n      textarea: make$2((spec, backstage, data) => renderTextarea(spec, backstage.shared.providers, data)),\n      label: make$2((spec, backstage) => renderLabel$1(spec, backstage.shared)),\n      iframe: makeIframe((spec, backstage, data) => renderIFrame(spec, backstage.shared.providers, data)),\n      button: make$2((spec, backstage) => renderDialogButton(spec, backstage.shared.providers)),\n      checkbox: make$2((spec, backstage, data) => renderCheckbox(spec, backstage.shared.providers, data)),\n      colorinput: make$2((spec, backstage, data) => renderColorInput(spec, backstage.shared, backstage.colorinput, data)),\n      colorpicker: make$2((spec, backstage, data) => renderColorPicker(spec, backstage.shared.providers, data)),\n      dropzone: make$2((spec, backstage, data) => renderDropZone(spec, backstage.shared.providers, data)),\n      grid: make$2((spec, backstage) => renderGrid(spec, backstage.shared)),\n      listbox: make$2((spec, backstage, data) => renderListBox(spec, backstage, data)),\n      selectbox: make$2((spec, backstage, data) => renderSelectBox(spec, backstage.shared.providers, data)),\n      sizeinput: make$2((spec, backstage) => renderSizeInput(spec, backstage.shared.providers)),\n      slider: make$2((spec, backstage, data) => renderSlider(spec, backstage.shared.providers, data)),\n      urlinput: make$2((spec, backstage, data) => renderUrlInput(spec, backstage, backstage.urlinput, data)),\n      customeditor: make$2(renderCustomEditor),\n      htmlpanel: make$2(renderHtmlPanel),\n      imagepreview: make$2((spec, _, data) => renderImagePreview(spec, data)),\n      table: make$2((spec, backstage) => renderTable(spec, backstage.shared.providers)),\n      panel: make$2((spec, backstage) => renderPanel(spec, backstage))\n    };\n    const noFormParts = {\n      field: (_name, spec) => spec,\n      record: constant$1([])\n    };\n    const interpretInForm = (parts, spec, dialogData, oldBackstage) => {\n      const newBackstage = deepMerge(oldBackstage, { shared: { interpreter: childSpec => interpretParts(parts, childSpec, dialogData, newBackstage) } });\n      return interpretParts(parts, spec, dialogData, newBackstage);\n    };\n    const interpretParts = (parts, spec, dialogData, backstage) => get$g(factories, spec.type).fold(() => {\n      console.error(`Unknown factory type \"${ spec.type }\", defaulting to container: `, spec);\n      return spec;\n    }, factory => factory(parts, spec, dialogData, backstage));\n    const interpretWithoutForm = (spec, dialogData, backstage) => interpretParts(noFormParts, spec, dialogData, backstage);\n\n    const labelPrefix = 'layout-inset';\n    const westEdgeX = anchor => anchor.x;\n    const middleX = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const eastEdgeX = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY = anchor => anchor.y;\n    const southY = (anchor, element) => anchor.y + anchor.height - element.height;\n    const centreY = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const southwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), southY(anchor, element), bubbles.insetSouthwest(), northwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 3\n    }), labelPrefix);\n    const southeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), southY(anchor, element), bubbles.insetSoutheast(), northeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 3\n    }), labelPrefix);\n    const northwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), northY(anchor), bubbles.insetNorthwest(), southwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 2\n    }), labelPrefix);\n    const northeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), northY(anchor), bubbles.insetNortheast(), southeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 2\n    }), labelPrefix);\n    const north = (anchor, element, bubbles) => nu$6(middleX(anchor, element), northY(anchor), bubbles.insetNorth(), south$3(), 'north', boundsRestriction(anchor, { top: 2 }), labelPrefix);\n    const south = (anchor, element, bubbles) => nu$6(middleX(anchor, element), southY(anchor, element), bubbles.insetSouth(), north$3(), 'south', boundsRestriction(anchor, { bottom: 3 }), labelPrefix);\n    const east = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), centreY(anchor, element), bubbles.insetEast(), west$3(), 'east', boundsRestriction(anchor, { right: 0 }), labelPrefix);\n    const west = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), centreY(anchor, element), bubbles.insetWest(), east$3(), 'west', boundsRestriction(anchor, { left: 1 }), labelPrefix);\n    const lookupPreserveLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return north;\n      case 'northeast':\n        return northeast;\n      case 'northwest':\n        return northwest;\n      case 'south':\n        return south;\n      case 'southeast':\n        return southeast;\n      case 'southwest':\n        return southwest;\n      case 'east':\n        return east;\n      case 'west':\n        return west;\n      }\n    };\n    const preserve = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupPreserveLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n    const lookupFlippedLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return south;\n      case 'northeast':\n        return southeast;\n      case 'northwest':\n        return southwest;\n      case 'south':\n        return north;\n      case 'southeast':\n        return northeast;\n      case 'southwest':\n        return northwest;\n      case 'east':\n        return west;\n      case 'west':\n        return east;\n      }\n    };\n    const flip = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupFlippedLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n\n    const bubbleAlignments$2 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: [],\n      alignRight: [],\n      right: [],\n      left: [],\n      bottom: [],\n      top: []\n    };\n    const getInlineDialogAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const bubbleSize = 12;\n      const overrides = { maxHeightFunction: expandable$1() };\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(contentAreaElement()),\n        node: Optional.from(contentAreaElement()),\n        bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [northeast],\n          onLtr: () => [northwest]\n        },\n        overrides\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        bubble: nu$5(-bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [southeast$2],\n          onLtr: () => [southwest$2]\n        },\n        overrides\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getBannerAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(contentAreaElement()),\n        node: Optional.from(contentAreaElement()),\n        layouts: {\n          onRtl: () => [north],\n          onLtr: () => [north]\n        }\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        layouts: {\n          onRtl: () => [south$2],\n          onLtr: () => [south$2]\n        }\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getCursorAnchor = (editor, bodyElement) => () => ({\n      type: 'selection',\n      root: bodyElement(),\n      getSelection: () => {\n        const rng = editor.selection.getRng();\n        return Optional.some(SimSelection.range(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n      }\n    });\n    const getNodeAnchor$1 = bodyElement => element => ({\n      type: 'node',\n      root: bodyElement(),\n      node: element\n    });\n    const getAnchors = (editor, lazyAnchorbar, isToolbarTop) => {\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const bodyElement = () => SugarElement.fromDom(editor.getBody());\n      const contentAreaElement = () => SugarElement.fromDom(editor.getContentAreaContainer());\n      const lazyUseEditableAreaAnchor = () => useFixedToolbarContainer || !isToolbarTop();\n      return {\n        inlineDialog: getInlineDialogAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        banner: getBannerAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        cursor: getCursorAnchor(editor, bodyElement),\n        node: getNodeAnchor$1(bodyElement)\n      };\n    };\n\n    const colorPicker = editor => (callback, value) => {\n      const dialog = colorPickerDialog(editor);\n      dialog(callback, value);\n    };\n    const hasCustomColors = editor => () => hasCustomColors$1(editor);\n    const getColors = editor => () => getColors$2(editor);\n    const getColorCols = editor => () => getColorCols$1(editor);\n    const ColorInputBackstage = editor => ({\n      colorPicker: colorPicker(editor),\n      hasCustomColors: hasCustomColors(editor),\n      getColors: getColors(editor),\n      getColorCols: getColorCols(editor)\n    });\n\n    const isDraggableModal = editor => () => isDraggableModal$1(editor);\n    const DialogBackstage = editor => ({ isDraggableModal: isDraggableModal(editor) });\n\n    const HeaderBackstage = editor => {\n      const mode = Cell(isToolbarLocationBottom(editor) ? 'bottom' : 'top');\n      return {\n        isPositionedAtTop: () => mode.get() === 'top',\n        getDockingMode: mode.get,\n        setDockingMode: mode.set\n      };\n    };\n\n    const defaultStyleFormats = [\n      {\n        title: 'Headings',\n        items: [\n          {\n            title: 'Heading 1',\n            format: 'h1'\n          },\n          {\n            title: 'Heading 2',\n            format: 'h2'\n          },\n          {\n            title: 'Heading 3',\n            format: 'h3'\n          },\n          {\n            title: 'Heading 4',\n            format: 'h4'\n          },\n          {\n            title: 'Heading 5',\n            format: 'h5'\n          },\n          {\n            title: 'Heading 6',\n            format: 'h6'\n          }\n        ]\n      },\n      {\n        title: 'Inline',\n        items: [\n          {\n            title: 'Bold',\n            format: 'bold'\n          },\n          {\n            title: 'Italic',\n            format: 'italic'\n          },\n          {\n            title: 'Underline',\n            format: 'underline'\n          },\n          {\n            title: 'Strikethrough',\n            format: 'strikethrough'\n          },\n          {\n            title: 'Superscript',\n            format: 'superscript'\n          },\n          {\n            title: 'Subscript',\n            format: 'subscript'\n          },\n          {\n            title: 'Code',\n            format: 'code'\n          }\n        ]\n      },\n      {\n        title: 'Blocks',\n        items: [\n          {\n            title: 'Paragraph',\n            format: 'p'\n          },\n          {\n            title: 'Blockquote',\n            format: 'blockquote'\n          },\n          {\n            title: 'Div',\n            format: 'div'\n          },\n          {\n            title: 'Pre',\n            format: 'pre'\n          }\n        ]\n      },\n      {\n        title: 'Align',\n        items: [\n          {\n            title: 'Left',\n            format: 'alignleft'\n          },\n          {\n            title: 'Center',\n            format: 'aligncenter'\n          },\n          {\n            title: 'Right',\n            format: 'alignright'\n          },\n          {\n            title: 'Justify',\n            format: 'alignjustify'\n          }\n        ]\n      }\n    ];\n    const isNestedFormat = format => has$2(format, 'items');\n    const isBlockFormat = format => has$2(format, 'block');\n    const isInlineFormat = format => has$2(format, 'inline');\n    const isSelectorFormat = format => has$2(format, 'selector');\n    const mapFormats = userFormats => foldl(userFormats, (acc, fmt) => {\n      if (isNestedFormat(fmt)) {\n        const result = mapFormats(fmt.items);\n        return {\n          customFormats: acc.customFormats.concat(result.customFormats),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              items: result.formats\n            }])\n        };\n      } else if (isInlineFormat(fmt) || isBlockFormat(fmt) || isSelectorFormat(fmt)) {\n        const formatName = isString(fmt.name) ? fmt.name : fmt.title.toLowerCase();\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        return {\n          customFormats: acc.customFormats.concat([{\n              name: formatNameWithPrefix,\n              format: fmt\n            }]),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              format: formatNameWithPrefix,\n              icon: fmt.icon\n            }])\n        };\n      } else {\n        return {\n          ...acc,\n          formats: acc.formats.concat(fmt)\n        };\n      }\n    }, {\n      customFormats: [],\n      formats: []\n    });\n    const registerCustomFormats = (editor, userFormats) => {\n      const result = mapFormats(userFormats);\n      const registerFormats = customFormats => {\n        each$1(customFormats, fmt => {\n          if (!editor.formatter.has(fmt.name)) {\n            editor.formatter.register(fmt.name, fmt.format);\n          }\n        });\n      };\n      if (editor.formatter) {\n        registerFormats(result.customFormats);\n      } else {\n        editor.on('init', () => {\n          registerFormats(result.customFormats);\n        });\n      }\n      return result.formats;\n    };\n    const getStyleFormats = editor => getUserStyleFormats(editor).map(userFormats => {\n      const registeredUserFormats = registerCustomFormats(editor, userFormats);\n      return shouldMergeStyleFormats(editor) ? defaultStyleFormats.concat(registeredUserFormats) : registeredUserFormats;\n    }).getOr(defaultStyleFormats);\n\n    const processBasic = (item, isSelectedFor, getPreviewFor) => {\n      const formatterSpec = {\n        type: 'formatter',\n        isSelected: isSelectedFor(item.format),\n        getStylePreview: getPreviewFor(item.format)\n      };\n      return deepMerge(item, formatterSpec);\n    };\n    const register$a = (editor, formats, isSelectedFor, getPreviewFor) => {\n      const enrichSupported = item => processBasic(item, isSelectedFor, getPreviewFor);\n      const enrichMenu = item => {\n        const submenuSpec = { type: 'submenu' };\n        return deepMerge(item, submenuSpec);\n      };\n      const enrichCustom = item => {\n        const formatName = isString(item.name) ? item.name : generate$6(item.title);\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        const customSpec = {\n          type: 'formatter',\n          format: formatNameWithPrefix,\n          isSelected: isSelectedFor(formatNameWithPrefix),\n          getStylePreview: getPreviewFor(formatNameWithPrefix)\n        };\n        const newItem = deepMerge(item, customSpec);\n        editor.formatter.register(formatName, newItem);\n        return newItem;\n      };\n      const doEnrich = items => map$2(items, item => {\n        const keys$1 = keys(item);\n        if (hasNonNullableKey(item, 'items')) {\n          const newItems = doEnrich(item.items);\n          return deepMerge(enrichMenu(item), { getStyleItems: constant$1(newItems) });\n        } else if (hasNonNullableKey(item, 'format')) {\n          return enrichSupported(item);\n        } else if (keys$1.length === 1 && contains$2(keys$1, 'title')) {\n          return deepMerge(item, { type: 'separator' });\n        } else {\n          return enrichCustom(item);\n        }\n      });\n      return doEnrich(formats);\n    };\n\n    const init$8 = editor => {\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const flatten = fmt => {\n        const subs = fmt.items;\n        return subs !== undefined && subs.length > 0 ? bind$3(subs, flatten) : [fmt.format];\n      };\n      const settingsFormats = Cell([]);\n      const settingsFlattenedFormats = Cell([]);\n      const eventsFormats = Cell([]);\n      const eventsFlattenedFormats = Cell([]);\n      const replaceSettings = Cell(false);\n      editor.on('PreInit', _e => {\n        const formats = getStyleFormats(editor);\n        const enriched = register$a(editor, formats, isSelectedFor, getPreviewFor);\n        settingsFormats.set(enriched);\n        settingsFlattenedFormats.set(bind$3(enriched, flatten));\n      });\n      editor.on('addStyleModifications', e => {\n        const modifications = register$a(editor, e.items, isSelectedFor, getPreviewFor);\n        eventsFormats.set(modifications);\n        replaceSettings.set(e.replace);\n        eventsFlattenedFormats.set(bind$3(modifications, flatten));\n      });\n      const getData = () => {\n        const fromSettings = replaceSettings.get() ? [] : settingsFormats.get();\n        const fromEvents = eventsFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      const getFlattenedKeys = () => {\n        const fromSettings = replaceSettings.get() ? [] : settingsFlattenedFormats.get();\n        const fromEvents = eventsFlattenedFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      return {\n        getData,\n        getFlattenedKeys\n      };\n    };\n\n    const isElement = node => isNonNullable(node) && node.nodeType === 1;\n    const trim = global$1.trim;\n    const hasContentEditableState = value => {\n      return node => {\n        if (isElement(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    const isContentEditableTrue = hasContentEditableState('true');\n    const isContentEditableFalse = hasContentEditableState('false');\n    const create = (type, title, url, level, attach) => {\n      return {\n        type,\n        title,\n        url,\n        level,\n        attach\n      };\n    };\n    const isChildOfContentEditableTrue = node => {\n      while (node = node.parentNode) {\n        const value = node.contentEditable;\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(node);\n        }\n      }\n      return false;\n    };\n    const select = (selector, root) => {\n      return map$2(descendants(SugarElement.fromDom(root), selector), element => {\n        return element.dom;\n      });\n    };\n    const getElementText = elm => {\n      return elm.innerText || elm.textContent;\n    };\n    const getOrGenerateId = elm => {\n      return elm.id ? elm.id : generate$6('h');\n    };\n    const isAnchor = elm => {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name) !== undefined;\n    };\n    const isValidAnchor = elm => {\n      return isAnchor(elm) && isEditable(elm);\n    };\n    const isHeader = elm => {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n    const isEditable = elm => {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n    const isValidHeader = elm => {\n      return isHeader(elm) && isEditable(elm);\n    };\n    const getLevel = elm => {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n    const headerTarget = elm => {\n      const headerId = getOrGenerateId(elm);\n      const attach = () => {\n        elm.id = headerId;\n      };\n      return create('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);\n    };\n    const anchorTarget = elm => {\n      const anchorId = elm.id || elm.name;\n      const anchorText = getElementText(elm);\n      return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n    const getHeaderTargets = elms => {\n      return map$2(filter$2(elms, isValidHeader), headerTarget);\n    };\n    const getAnchorTargets = elms => {\n      return map$2(filter$2(elms, isValidAnchor), anchorTarget);\n    };\n    const getTargetElements = elm => {\n      const elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n    const hasTitle = target => {\n      return trim(target.title).length > 0;\n    };\n    const find = elm => {\n      const elms = getTargetElements(elm);\n      return filter$2(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n    const LinkTargets = { find };\n\n    const STORAGE_KEY = 'tinymce-url-history';\n    const HISTORY_LENGTH = 5;\n    const isHttpUrl = url => isString(url) && /^https?/.test(url);\n    const isArrayOfUrl = a => isArray(a) && a.length <= HISTORY_LENGTH && forall(a, isHttpUrl);\n    const isRecordOfUrlArray = r => isObject(r) && find$4(r, value => !isArrayOfUrl(value)).isNone();\n    const getAllHistory = () => {\n      const unparsedHistory = global$4.getItem(STORAGE_KEY);\n      if (unparsedHistory === null) {\n        return {};\n      }\n      let history;\n      try {\n        history = JSON.parse(unparsedHistory);\n      } catch (e) {\n        if (e instanceof SyntaxError) {\n          console.log('Local storage ' + STORAGE_KEY + ' was not valid JSON', e);\n          return {};\n        }\n        throw e;\n      }\n      if (!isRecordOfUrlArray(history)) {\n        console.log('Local storage ' + STORAGE_KEY + ' was not valid format', history);\n        return {};\n      }\n      return history;\n    };\n    const setAllHistory = history => {\n      if (!isRecordOfUrlArray(history)) {\n        throw new Error('Bad format for history:\\n' + JSON.stringify(history));\n      }\n      global$4.setItem(STORAGE_KEY, JSON.stringify(history));\n    };\n    const getHistory = fileType => {\n      const history = getAllHistory();\n      return get$g(history, fileType).getOr([]);\n    };\n    const addToHistory = (url, fileType) => {\n      if (!isHttpUrl(url)) {\n        return;\n      }\n      const history = getAllHistory();\n      const items = get$g(history, fileType).getOr([]);\n      const itemsWithoutUrl = filter$2(items, item => item !== url);\n      history[fileType] = [url].concat(itemsWithoutUrl).slice(0, HISTORY_LENGTH);\n      setAllHistory(history);\n    };\n\n    const isTruthy = value => !!value;\n    const makeMap = value => map$1(global$1.makeMap(value, /[, ]/), isTruthy);\n    const getPicker = editor => Optional.from(getFilePickerCallback(editor));\n    const getPickerTypes = editor => {\n      const optFileTypes = Optional.from(getFilePickerTypes(editor)).filter(isTruthy).map(makeMap);\n      return getPicker(editor).fold(never, _picker => optFileTypes.fold(always, types => keys(types).length > 0 ? types : false));\n    };\n    const getPickerSetting = (editor, filetype) => {\n      const pickerTypes = getPickerTypes(editor);\n      if (isBoolean(pickerTypes)) {\n        return pickerTypes ? getPicker(editor) : Optional.none();\n      } else {\n        return pickerTypes[filetype] ? getPicker(editor) : Optional.none();\n      }\n    };\n    const getUrlPicker = (editor, filetype) => getPickerSetting(editor, filetype).map(picker => entry => Future.nu(completer => {\n      const handler = (value, meta) => {\n        if (!isString(value)) {\n          throw new Error('Expected value to be string');\n        }\n        if (meta !== undefined && !isObject(meta)) {\n          throw new Error('Expected meta to be a object');\n        }\n        const r = {\n          value,\n          meta\n        };\n        completer(r);\n      };\n      const meta = {\n        filetype,\n        fieldname: entry.fieldname,\n        ...Optional.from(entry.meta).getOr({})\n      };\n      picker.call(editor, handler, entry.value, meta);\n    }));\n    const getTextSetting = value => Optional.from(value).filter(isString).getOrUndefined();\n    const getLinkInformation = editor => {\n      if (!useTypeaheadUrls(editor)) {\n        return Optional.none();\n      }\n      return Optional.some({\n        targets: LinkTargets.find(editor.getBody()),\n        anchorTop: getTextSetting(getAnchorTop(editor)),\n        anchorBottom: getTextSetting(getAnchorBottom(editor))\n      });\n    };\n    const getValidationHandler = editor => Optional.from(getFilePickerValidatorHandler(editor));\n    const UrlInputBackstage = editor => ({\n      getHistory,\n      addToHistory,\n      getLinkInformation: () => getLinkInformation(editor),\n      getValidationHandler: () => getValidationHandler(editor),\n      getUrlPicker: filetype => getUrlPicker(editor, filetype)\n    });\n\n    const init$7 = (lazySink, editor, lazyAnchorbar) => {\n      const contextMenuState = Cell(false);\n      const toolbar = HeaderBackstage(editor);\n      const backstage = {\n        shared: {\n          providers: {\n            icons: () => editor.ui.registry.getAll().icons,\n            menuItems: () => editor.ui.registry.getAll().menuItems,\n            translate: global$8.translate,\n            isDisabled: () => editor.mode.isReadOnly() || !editor.ui.isEnabled(),\n            getOption: editor.options.get\n          },\n          interpreter: s => interpretWithoutForm(s, {}, backstage),\n          anchors: getAnchors(editor, lazyAnchorbar, toolbar.isPositionedAtTop),\n          header: toolbar,\n          getSink: lazySink\n        },\n        urlinput: UrlInputBackstage(editor),\n        styles: init$8(editor),\n        colorinput: ColorInputBackstage(editor),\n        dialog: DialogBackstage(editor),\n        isContextMenuOpen: () => contextMenuState.get(),\n        setContextMenuState: state => contextMenuState.set(state)\n      };\n      return backstage;\n    };\n\n    const setup$b = (editor, mothership, uiMothership) => {\n      const broadcastEvent = (name, evt) => {\n        each$1([\n          mothership,\n          uiMothership\n        ], ship => {\n          ship.broadcastEvent(name, evt);\n        });\n      };\n      const broadcastOn = (channel, message) => {\n        each$1([\n          mothership,\n          uiMothership\n        ], ship => {\n          ship.broadcastOn([channel], message);\n        });\n      };\n      const fireDismissPopups = evt => broadcastOn(dismissPopups(), { target: evt.target });\n      const doc = getDocument();\n      const onTouchstart = bind(doc, 'touchstart', fireDismissPopups);\n      const onTouchmove = bind(doc, 'touchmove', evt => broadcastEvent(documentTouchmove(), evt));\n      const onTouchend = bind(doc, 'touchend', evt => broadcastEvent(documentTouchend(), evt));\n      const onMousedown = bind(doc, 'mousedown', fireDismissPopups);\n      const onMouseup = bind(doc, 'mouseup', evt => {\n        if (evt.raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: evt.target });\n        }\n      });\n      const onContentClick = raw => broadcastOn(dismissPopups(), { target: SugarElement.fromDom(raw.target) });\n      const onContentMouseup = raw => {\n        if (raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: SugarElement.fromDom(raw.target) });\n        }\n      };\n      const onContentMousedown = () => {\n        each$1(editor.editorManager.get(), loopEditor => {\n          if (editor !== loopEditor) {\n            loopEditor.dispatch('DismissPopups', { relatedTarget: editor });\n          }\n        });\n      };\n      const onWindowScroll = evt => broadcastEvent(windowScroll(), fromRawEvent(evt));\n      const onWindowResize = evt => {\n        broadcastOn(repositionPopups(), {});\n        broadcastEvent(windowResize(), fromRawEvent(evt));\n      };\n      const onEditorResize = () => broadcastOn(repositionPopups(), {});\n      const onEditorProgress = evt => {\n        if (evt.state) {\n          broadcastOn(dismissPopups(), { target: SugarElement.fromDom(editor.getContainer()) });\n        }\n      };\n      const onDismissPopups = event => {\n        broadcastOn(dismissPopups(), { target: SugarElement.fromDom(event.relatedTarget.getContainer()) });\n      };\n      editor.on('PostRender', () => {\n        editor.on('click', onContentClick);\n        editor.on('tap', onContentClick);\n        editor.on('mouseup', onContentMouseup);\n        editor.on('mousedown', onContentMousedown);\n        editor.on('ScrollWindow', onWindowScroll);\n        editor.on('ResizeWindow', onWindowResize);\n        editor.on('ResizeEditor', onEditorResize);\n        editor.on('AfterProgressState', onEditorProgress);\n        editor.on('DismissPopups', onDismissPopups);\n      });\n      editor.on('remove', () => {\n        editor.off('click', onContentClick);\n        editor.off('tap', onContentClick);\n        editor.off('mouseup', onContentMouseup);\n        editor.off('mousedown', onContentMousedown);\n        editor.off('ScrollWindow', onWindowScroll);\n        editor.off('ResizeWindow', onWindowResize);\n        editor.off('ResizeEditor', onEditorResize);\n        editor.off('AfterProgressState', onEditorProgress);\n        editor.off('DismissPopups', onDismissPopups);\n        onMousedown.unbind();\n        onTouchstart.unbind();\n        onTouchmove.unbind();\n        onTouchend.unbind();\n        onMouseup.unbind();\n      });\n      editor.on('detach', () => {\n        detachSystem(mothership);\n        detachSystem(uiMothership);\n        mothership.destroy();\n        uiMothership.destroy();\n      });\n    };\n\n    const parts$a = AlloyParts;\n    const partType = PartType;\n\n    const schema$f = constant$1([\n      defaulted('shell', false),\n      required$1('makeItem'),\n      defaulted('setupItem', noop),\n      SketchBehaviours.field('listBehaviours', [Replacing])\n    ]);\n    const customListDetail = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const itemsPart = optional({\n      name: 'items',\n      overrides: customListDetail\n    });\n    const parts$9 = constant$1([itemsPart]);\n    const name = constant$1('CustomList');\n\n    const factory$d = (detail, components, _spec, _external) => {\n      const setItems = (list, items) => {\n        getListContainer(list).fold(() => {\n          console.error('Custom List was defined to not be a shell, but no item container was specified in components');\n          throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');\n        }, container => {\n          const itemComps = Replacing.contents(container);\n          const numListsRequired = items.length;\n          const numListsToAdd = numListsRequired - itemComps.length;\n          const itemsToAdd = numListsToAdd > 0 ? range$2(numListsToAdd, () => detail.makeItem()) : [];\n          const itemsToRemove = itemComps.slice(numListsRequired);\n          each$1(itemsToRemove, item => Replacing.remove(container, item));\n          each$1(itemsToAdd, item => Replacing.append(container, item));\n          const builtLists = Replacing.contents(container);\n          each$1(builtLists, (item, i) => {\n            detail.setupItem(list, item, items[i], i);\n          });\n        });\n      };\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      const getListContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'items');\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.listBehaviours, extra.behaviours),\n        apis: { setItems }\n      };\n    };\n    const CustomList = composite({\n      name: name(),\n      configFields: schema$f(),\n      partFields: parts$9(),\n      factory: factory$d,\n      apis: {\n        setItems: (apis, list, items) => {\n          apis.setItems(list, items);\n        }\n      }\n    });\n\n    const schema$e = constant$1([\n      required$1('dom'),\n      defaulted('shell', true),\n      field('toolbarBehaviours', [Replacing])\n    ]);\n    const enhanceGroups = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const parts$8 = constant$1([optional({\n        name: 'groups',\n        overrides: enhanceGroups\n      })]);\n\n    const factory$c = (detail, components, _spec, _externals) => {\n      const setGroups = (toolbar, groups) => {\n        getGroupContainer(toolbar).fold(() => {\n          console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n          throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n        }, container => {\n          Replacing.set(container, groups);\n        });\n      };\n      const getGroupContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'groups');\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.toolbarBehaviours, extra.behaviours),\n        apis: { setGroups },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const Toolbar = composite({\n      name: 'Toolbar',\n      configFields: schema$e(),\n      partFields: parts$8(),\n      factory: factory$c,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        }\n      }\n    });\n\n    const setup$a = noop;\n    const isDocked$2 = never;\n    const getBehaviours$1 = constant$1([]);\n\n    var StaticHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$a,\n        isDocked: isDocked$2,\n        getBehaviours: getBehaviours$1\n    });\n\n    const getOffsetParent = element => {\n      const isFixed = is$1(getRaw(element, 'position'), 'fixed');\n      const offsetParent$1 = isFixed ? Optional.none() : offsetParent(element);\n      return offsetParent$1.orThunk(() => {\n        const marker = SugarElement.fromTag('span');\n        return parent(element).bind(parent => {\n          append$2(parent, marker);\n          const offsetParent$1 = offsetParent(marker);\n          remove$5(marker);\n          return offsetParent$1;\n        });\n      });\n    };\n    const getOrigin = element => getOffsetParent(element).map(absolute$3).getOrThunk(() => SugarPosition(0, 0));\n\n    const morphAdt = Adt.generate([\n      { static: [] },\n      { absolute: ['positionCss'] },\n      { fixed: ['positionCss'] }\n    ]);\n    const appear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeOutClass);\n      add$2(elem, contextualInfo.fadeInClass);\n      contextualInfo.onShow(component);\n    };\n    const disappear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeInClass);\n      add$2(elem, contextualInfo.fadeOutClass);\n      contextualInfo.onHide(component);\n    };\n    const isPartiallyVisible = (box, viewport) => box.y < viewport.bottom && box.bottom > viewport.y;\n    const isTopCompletelyVisible = (box, viewport) => box.y >= viewport.y;\n    const isBottomCompletelyVisible = (box, viewport) => box.bottom <= viewport.bottom;\n    const isVisibleForModes = (modes, box, viewport) => forall(modes, mode => {\n      switch (mode) {\n      case 'bottom':\n        return isBottomCompletelyVisible(box, viewport);\n      case 'top':\n        return isTopCompletelyVisible(box, viewport);\n      }\n    });\n    const getPrior = (elem, state) => state.getInitialPos().map(pos => bounds(pos.bounds.x, pos.bounds.y, get$c(elem), get$d(elem)));\n    const storePrior = (elem, box, state) => {\n      state.setInitialPos({\n        style: getAllRaw(elem),\n        position: get$e(elem, 'position') || 'static',\n        bounds: box\n      });\n    };\n    const revertToOriginal = (elem, box, state) => state.getInitialPos().bind(position => {\n      state.clearInitialPos();\n      switch (position.position) {\n      case 'static':\n        return Optional.some(morphAdt.static());\n      case 'absolute':\n        const offsetBox = getOffsetParent(elem).map(box$1).getOrThunk(() => box$1(body()));\n        return Optional.some(morphAdt.absolute(NuPositionCss('absolute', get$g(position.style, 'left').map(_left => box.x - offsetBox.x), get$g(position.style, 'top').map(_top => box.y - offsetBox.y), get$g(position.style, 'right').map(_right => offsetBox.right - box.right), get$g(position.style, 'bottom').map(_bottom => offsetBox.bottom - box.bottom))));\n      default:\n        return Optional.none();\n      }\n    });\n    const morphToOriginal = (elem, viewport, state) => getPrior(elem, state).filter(box => isVisibleForModes(state.getModes(), box, viewport)).bind(box => revertToOriginal(elem, box, state));\n    const morphToFixed = (elem, viewport, state) => {\n      const box = box$1(elem);\n      if (!isVisibleForModes(state.getModes(), box, viewport)) {\n        storePrior(elem, box, state);\n        const winBox = win();\n        const left = box.x - winBox.x;\n        const top = viewport.y - winBox.y;\n        const bottom = winBox.bottom - viewport.bottom;\n        const isTop = box.y <= viewport.y;\n        return Optional.some(morphAdt.fixed(NuPositionCss('fixed', Optional.some(left), isTop ? Optional.some(top) : Optional.none(), Optional.none(), !isTop ? Optional.some(bottom) : Optional.none())));\n      } else {\n        return Optional.none();\n      }\n    };\n    const getMorph = (component, viewport, state) => {\n      const elem = component.element;\n      const isDocked = is$1(getRaw(elem, 'position'), 'fixed');\n      return isDocked ? morphToOriginal(elem, viewport, state) : morphToFixed(elem, viewport, state);\n    };\n    const getMorphToOriginal = (component, state) => {\n      const elem = component.element;\n      return getPrior(elem, state).bind(box => revertToOriginal(elem, box, state));\n    };\n\n    const morphToStatic = (component, config, state) => {\n      state.setDocked(false);\n      each$1([\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'position'\n      ], prop => remove$6(component.element, prop));\n      config.onUndocked(component);\n    };\n    const morphToCoord = (component, config, state, position) => {\n      const isDocked = position.position === 'fixed';\n      state.setDocked(isDocked);\n      applyPositionCss(component.element, position);\n      const method = isDocked ? config.onDocked : config.onUndocked;\n      method(component);\n    };\n    const updateVisibility = (component, config, state, viewport, morphToDocked = false) => {\n      config.contextual.each(contextInfo => {\n        contextInfo.lazyContext(component).each(box => {\n          const isVisible = isPartiallyVisible(box, viewport);\n          if (isVisible !== state.isVisible()) {\n            state.setVisible(isVisible);\n            if (morphToDocked && !isVisible) {\n              add$1(component.element, [contextInfo.fadeOutClass]);\n              contextInfo.onHide(component);\n            } else {\n              const method = isVisible ? appear : disappear;\n              method(component, contextInfo);\n            }\n          }\n        });\n      });\n    };\n    const refreshInternal = (component, config, state) => {\n      const viewport = config.lazyViewport(component);\n      const isDocked = state.isDocked();\n      if (isDocked) {\n        updateVisibility(component, config, state, viewport);\n      }\n      getMorph(component, viewport, state).each(morph => {\n        morph.fold(() => morphToStatic(component, config, state), position => morphToCoord(component, config, state, position), position => {\n          updateVisibility(component, config, state, viewport, true);\n          morphToCoord(component, config, state, position);\n        });\n      });\n    };\n    const resetInternal = (component, config, state) => {\n      const elem = component.element;\n      state.setDocked(false);\n      getMorphToOriginal(component, state).each(morph => {\n        morph.fold(() => morphToStatic(component, config, state), position => morphToCoord(component, config, state, position), noop);\n      });\n      state.setVisible(true);\n      config.contextual.each(contextInfo => {\n        remove$1(elem, [\n          contextInfo.fadeInClass,\n          contextInfo.fadeOutClass,\n          contextInfo.transitionClass\n        ]);\n        contextInfo.onShow(component);\n      });\n      refresh$4(component, config, state);\n    };\n    const refresh$4 = (component, config, state) => {\n      if (component.getSystem().isConnected()) {\n        refreshInternal(component, config, state);\n      }\n    };\n    const reset = (component, config, state) => {\n      if (state.isDocked()) {\n        resetInternal(component, config, state);\n      }\n    };\n    const isDocked$1 = (component, config, state) => state.isDocked();\n    const setModes = (component, config, state, modes) => state.setModes(modes);\n    const getModes = (component, config, state) => state.getModes();\n\n    var DockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$4,\n        reset: reset,\n        isDocked: isDocked$1,\n        getModes: getModes,\n        setModes: setModes\n    });\n\n    const events$5 = (dockInfo, dockState) => derive$2([\n      runOnSource(transitionend(), (component, simulatedEvent) => {\n        dockInfo.contextual.each(contextInfo => {\n          if (has(component.element, contextInfo.transitionClass)) {\n            remove$1(component.element, [\n              contextInfo.transitionClass,\n              contextInfo.fadeInClass\n            ]);\n            const notify = dockState.isVisible() ? contextInfo.onShown : contextInfo.onHidden;\n            notify(component);\n          }\n          simulatedEvent.stop();\n        });\n      }),\n      run$1(windowScroll(), (component, _) => {\n        refresh$4(component, dockInfo, dockState);\n      }),\n      run$1(windowResize(), (component, _) => {\n        reset(component, dockInfo, dockState);\n      })\n    ]);\n\n    var ActiveDocking = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$5\n    });\n\n    var DockingSchema = [\n      optionObjOf('contextual', [\n        requiredString('fadeInClass'),\n        requiredString('fadeOutClass'),\n        requiredString('transitionClass'),\n        requiredFunction('lazyContext'),\n        onHandler('onShow'),\n        onHandler('onShown'),\n        onHandler('onHide'),\n        onHandler('onHidden')\n      ]),\n      defaultedFunction('lazyViewport', win),\n      defaultedArrayOf('modes', [\n        'top',\n        'bottom'\n      ], string),\n      onHandler('onDocked'),\n      onHandler('onUndocked')\n    ];\n\n    const init$6 = spec => {\n      const docked = Cell(false);\n      const visible = Cell(true);\n      const initialBounds = value$2();\n      const modes = Cell(spec.modes);\n      const readState = () => `docked:  ${ docked.get() }, visible: ${ visible.get() }, modes: ${ modes.get().join(',') }`;\n      return nu$8({\n        isDocked: docked.get,\n        setDocked: docked.set,\n        getInitialPos: initialBounds.get,\n        setInitialPos: initialBounds.set,\n        clearInitialPos: initialBounds.clear,\n        isVisible: visible.get,\n        setVisible: visible.set,\n        getModes: modes.get,\n        setModes: modes.set,\n        readState\n      });\n    };\n\n    var DockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$6\n    });\n\n    const Docking = create$3({\n      fields: DockingSchema,\n      name: 'docking',\n      active: ActiveDocking,\n      apis: DockingApis,\n      state: DockingState\n    });\n\n    const toolbarHeightChange = constant$1(generate$6('toolbar-height-change'));\n\n    const visibility = {\n      fadeInClass: 'tox-editor-dock-fadein',\n      fadeOutClass: 'tox-editor-dock-fadeout',\n      transitionClass: 'tox-editor-dock-transition'\n    };\n    const editorStickyOnClass = 'tox-tinymce--toolbar-sticky-on';\n    const editorStickyOffClass = 'tox-tinymce--toolbar-sticky-off';\n    const scrollFromBehindHeader = (e, containerHeader) => {\n      const doc = owner$4(containerHeader);\n      const viewHeight = doc.dom.defaultView.innerHeight;\n      const scrollPos = get$b(doc);\n      const markerElement = SugarElement.fromDom(e.elm);\n      const markerPos = absolute$2(markerElement);\n      const markerHeight = get$d(markerElement);\n      const markerTop = markerPos.y;\n      const markerBottom = markerTop + markerHeight;\n      const editorHeaderPos = absolute$3(containerHeader);\n      const editorHeaderHeight = get$d(containerHeader);\n      const editorHeaderTop = editorHeaderPos.top;\n      const editorHeaderBottom = editorHeaderTop + editorHeaderHeight;\n      const editorHeaderDockedAtTop = Math.abs(editorHeaderTop - scrollPos.top) < 2;\n      const editorHeaderDockedAtBottom = Math.abs(editorHeaderBottom - (scrollPos.top + viewHeight)) < 2;\n      if (editorHeaderDockedAtTop && markerTop < editorHeaderBottom) {\n        to(scrollPos.left, markerTop - editorHeaderHeight, doc);\n      } else if (editorHeaderDockedAtBottom && markerBottom > editorHeaderTop) {\n        const y = markerTop - viewHeight + markerHeight + editorHeaderHeight;\n        to(scrollPos.left, y, doc);\n      }\n    };\n    const isDockedMode = (header, mode) => contains$2(Docking.getModes(header), mode);\n    const updateIframeContentFlow = header => {\n      const getOccupiedHeight = elm => getOuter$2(elm) + (parseInt(get$e(elm, 'margin-top'), 10) || 0) + (parseInt(get$e(elm, 'margin-bottom'), 10) || 0);\n      const elm = header.element;\n      parent(elm).each(parentElem => {\n        const padding = 'padding-' + Docking.getModes(header)[0];\n        if (Docking.isDocked(header)) {\n          const parentWidth = get$c(parentElem);\n          set$8(elm, 'width', parentWidth + 'px');\n          set$8(parentElem, padding, getOccupiedHeight(elm) + 'px');\n        } else {\n          remove$6(elm, 'width');\n          remove$6(parentElem, padding);\n        }\n      });\n    };\n    const updateSinkVisibility = (sinkElem, visible) => {\n      if (visible) {\n        remove$2(sinkElem, visibility.fadeOutClass);\n        add$1(sinkElem, [\n          visibility.transitionClass,\n          visibility.fadeInClass\n        ]);\n      } else {\n        remove$2(sinkElem, visibility.fadeInClass);\n        add$1(sinkElem, [\n          visibility.fadeOutClass,\n          visibility.transitionClass\n        ]);\n      }\n    };\n    const updateEditorClasses = (editor, docked) => {\n      const editorContainer = SugarElement.fromDom(editor.getContainer());\n      if (docked) {\n        add$2(editorContainer, editorStickyOnClass);\n        remove$2(editorContainer, editorStickyOffClass);\n      } else {\n        add$2(editorContainer, editorStickyOffClass);\n        remove$2(editorContainer, editorStickyOnClass);\n      }\n    };\n    const restoreFocus = (headerElem, focusedElem) => {\n      const ownerDoc = owner$4(focusedElem);\n      active$1(ownerDoc).filter(activeElm => !eq(focusedElem, activeElm)).filter(activeElm => eq(activeElm, SugarElement.fromDom(ownerDoc.dom.body)) || contains(headerElem, activeElm)).each(() => focus$3(focusedElem));\n    };\n    const findFocusedElem = (rootElm, lazySink) => search(rootElm).orThunk(() => lazySink().toOptional().bind(sink => search(sink.element)));\n    const setup$9 = (editor, sharedBackstage, lazyHeader) => {\n      if (!editor.inline) {\n        if (!sharedBackstage.header.isPositionedAtTop()) {\n          editor.on('ResizeEditor', () => {\n            lazyHeader().each(Docking.reset);\n          });\n        }\n        editor.on('ResizeWindow ResizeEditor', () => {\n          lazyHeader().each(updateIframeContentFlow);\n        });\n        editor.on('SkinLoaded', () => {\n          lazyHeader().each(comp => {\n            Docking.isDocked(comp) ? Docking.reset(comp) : Docking.refresh(comp);\n          });\n        });\n        editor.on('FullscreenStateChanged', () => {\n          lazyHeader().each(Docking.reset);\n        });\n      }\n      editor.on('AfterScrollIntoView', e => {\n        lazyHeader().each(header => {\n          Docking.refresh(header);\n          const headerElem = header.element;\n          if (isVisible(headerElem)) {\n            scrollFromBehindHeader(e, headerElem);\n          }\n        });\n      });\n      editor.on('PostRender', () => {\n        updateEditorClasses(editor, false);\n      });\n    };\n    const isDocked = lazyHeader => lazyHeader().map(Docking.isDocked).getOr(false);\n    const getIframeBehaviours = () => [Receiving.config({ channels: { [toolbarHeightChange()]: { onReceive: updateIframeContentFlow } } })];\n    const getBehaviours = (editor, sharedBackstage) => {\n      const focusedElm = value$2();\n      const lazySink = sharedBackstage.getSink;\n      const runOnSinkElement = f => {\n        lazySink().each(sink => f(sink.element));\n      };\n      const onDockingSwitch = comp => {\n        if (!editor.inline) {\n          updateIframeContentFlow(comp);\n        }\n        updateEditorClasses(editor, Docking.isDocked(comp));\n        comp.getSystem().broadcastOn([repositionPopups()], {});\n        lazySink().each(sink => sink.getSystem().broadcastOn([repositionPopups()], {}));\n      };\n      const additionalBehaviours = editor.inline ? [] : getIframeBehaviours();\n      return [\n        Focusing.config({}),\n        Docking.config({\n          contextual: {\n            lazyContext: comp => {\n              const headerHeight = getOuter$2(comp.element);\n              const container = editor.inline ? editor.getContentAreaContainer() : editor.getContainer();\n              const box = box$1(SugarElement.fromDom(container));\n              const boxHeight = box.height - headerHeight;\n              const topBound = box.y + (isDockedMode(comp, 'top') ? 0 : headerHeight);\n              return Optional.some(bounds(box.x, topBound, box.width, boxHeight));\n            },\n            onShow: () => {\n              runOnSinkElement(elem => updateSinkVisibility(elem, true));\n            },\n            onShown: comp => {\n              runOnSinkElement(elem => remove$1(elem, [\n                visibility.transitionClass,\n                visibility.fadeInClass\n              ]));\n              focusedElm.get().each(elem => {\n                restoreFocus(comp.element, elem);\n                focusedElm.clear();\n              });\n            },\n            onHide: comp => {\n              findFocusedElem(comp.element, lazySink).fold(focusedElm.clear, focusedElm.set);\n              runOnSinkElement(elem => updateSinkVisibility(elem, false));\n            },\n            onHidden: () => {\n              runOnSinkElement(elem => remove$1(elem, [visibility.transitionClass]));\n            },\n            ...visibility\n          },\n          lazyViewport: comp => {\n            const win$1 = win();\n            const offset = getStickyToolbarOffset(editor);\n            const top = win$1.y + (isDockedMode(comp, 'top') ? offset : 0);\n            const height = win$1.height - (isDockedMode(comp, 'bottom') ? offset : 0);\n            return bounds(win$1.x, top, win$1.width, height);\n          },\n          modes: [sharedBackstage.header.getDockingMode()],\n          onDocked: onDockingSwitch,\n          onUndocked: onDockingSwitch\n        }),\n        ...additionalBehaviours\n      ];\n    };\n\n    var StickyHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$9,\n        isDocked: isDocked,\n        getBehaviours: getBehaviours\n    });\n\n    const renderHeader = spec => {\n      const editor = spec.editor;\n      const getBehaviours$2 = spec.sticky ? getBehaviours : getBehaviours$1;\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: spec.components,\n        behaviours: derive$1(getBehaviours$2(editor, spec.sharedBackstage))\n      };\n    };\n\n    const groupToolbarButtonSchema = objOf([\n      type,\n      requiredOf('items', oneOf([\n        arrOfObj([\n          name$1,\n          requiredArrayOf('items', string)\n        ]),\n        string\n      ]))\n    ].concat(baseToolbarButtonFields));\n    const createGroupToolbarButton = spec => asRaw('GroupToolbarButton', groupToolbarButtonSchema, spec);\n\n    const baseMenuButtonFields = [\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', () => noop)\n    ];\n\n    const MenuButtonSchema = objOf([\n      type,\n      ...baseMenuButtonFields\n    ]);\n    const createMenuButton = spec => asRaw('menubutton', MenuButtonSchema, spec);\n\n    const splitButtonSchema = objOf([\n      type,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      optionalSelect,\n      fetch$1,\n      onSetup,\n      defaultedStringEnum('presets', 'normal', [\n        'normal',\n        'color',\n        'listpreview'\n      ]),\n      defaultedColumns(1),\n      onAction,\n      onItemAction\n    ]);\n    const createSplitButton = spec => asRaw('SplitButton', splitButtonSchema, spec);\n\n    const factory$b = (detail, spec) => {\n      const setMenus = (comp, menus) => {\n        const newMenus = map$2(menus, m => {\n          const buttonSpec = {\n            type: 'menubutton',\n            text: m.text,\n            fetch: callback => {\n              callback(m.getItems());\n            }\n          };\n          const internal = createMenuButton(buttonSpec).mapError(errInfo => formatError(errInfo)).getOrDie();\n          return renderMenuButton(internal, 'tox-mbtn', spec.backstage, Optional.some('menuitem'));\n        });\n        Replacing.set(comp, newMenus);\n      };\n      const apis = {\n        focus: Keying.focusIn,\n        setMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          config('menubar-events', [\n            runOnAttached(component => {\n              detail.onSetup(component);\n            }),\n            run$1(mouseover(), (comp, se) => {\n              descendant(comp.element, '.' + 'tox-mbtn--active').each(activeButton => {\n                closest$1(se.event.target, '.' + 'tox-mbtn').each(hoveredButton => {\n                  if (!eq(activeButton, hoveredButton)) {\n                    comp.getSystem().getByDom(activeButton).each(activeComp => {\n                      comp.getSystem().getByDom(hoveredButton).each(hoveredComp => {\n                        Dropdown.expand(hoveredComp);\n                        Dropdown.close(activeComp);\n                        Focusing.focus(hoveredComp);\n                      });\n                    });\n                  }\n                });\n              });\n            }),\n            run$1(focusShifted(), (comp, se) => {\n              se.event.prevFocus.bind(prev => comp.getSystem().getByDom(prev).toOptional()).each(prev => {\n                se.event.newFocus.bind(nu => comp.getSystem().getByDom(nu).toOptional()).each(nu => {\n                  if (Dropdown.isOpen(prev)) {\n                    Dropdown.expand(nu);\n                    Dropdown.close(prev);\n                  }\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'flow',\n            selector: '.' + 'tox-mbtn',\n            onEscape: comp => {\n              detail.onEscape(comp);\n              return Optional.some(true);\n            }\n          }),\n          Tabstopping.config({})\n        ]),\n        apis,\n        domModification: { attributes: { role: 'menubar' } }\n      };\n    };\n    var SilverMenubar = single({\n      factory: factory$b,\n      name: 'silver.Menubar',\n      configFields: [\n        required$1('dom'),\n        required$1('uid'),\n        required$1('onEscape'),\n        required$1('backstage'),\n        defaulted('onSetup', noop)\n      ],\n      apis: {\n        focus: (apis, comp) => {\n          apis.focus(comp);\n        },\n        setMenus: (apis, comp, menus) => {\n          apis.setMenus(comp, menus);\n        }\n      }\n    });\n\n    const getAnimationRoot = (component, slideConfig) => slideConfig.getAnimationRoot.fold(() => component.element, get => get(component));\n\n    const getDimensionProperty = slideConfig => slideConfig.dimension.property;\n    const getDimension = (slideConfig, elem) => slideConfig.dimension.getDimension(elem);\n    const disableTransitions = (component, slideConfig) => {\n      const root = getAnimationRoot(component, slideConfig);\n      remove$1(root, [\n        slideConfig.shrinkingClass,\n        slideConfig.growingClass\n      ]);\n    };\n    const setShrunk = (component, slideConfig) => {\n      remove$2(component.element, slideConfig.openClass);\n      add$2(component.element, slideConfig.closedClass);\n      set$8(component.element, getDimensionProperty(slideConfig), '0px');\n      reflow(component.element);\n    };\n    const setGrown = (component, slideConfig) => {\n      remove$2(component.element, slideConfig.closedClass);\n      add$2(component.element, slideConfig.openClass);\n      remove$6(component.element, getDimensionProperty(slideConfig));\n    };\n    const doImmediateShrink = (component, slideConfig, slideState, _calculatedSize) => {\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n      disableTransitions(component, slideConfig);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n      slideConfig.onShrunk(component);\n    };\n    const doStartShrink = (component, slideConfig, slideState, calculatedSize) => {\n      const size = calculatedSize.getOrThunk(() => getDimension(slideConfig, component.element));\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), size);\n      reflow(component.element);\n      const root = getAnimationRoot(component, slideConfig);\n      remove$2(root, slideConfig.growingClass);\n      add$2(root, slideConfig.shrinkingClass);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n    };\n    const doStartSmartShrink = (component, slideConfig, slideState) => {\n      const size = getDimension(slideConfig, component.element);\n      const shrinker = size === '0px' ? doImmediateShrink : doStartShrink;\n      shrinker(component, slideConfig, slideState, Optional.some(size));\n    };\n    const doStartGrow = (component, slideConfig, slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      const wasShrinking = has(root, slideConfig.shrinkingClass);\n      const beforeSize = getDimension(slideConfig, component.element);\n      setGrown(component, slideConfig);\n      const fullSize = getDimension(slideConfig, component.element);\n      const startPartialGrow = () => {\n        set$8(component.element, getDimensionProperty(slideConfig), beforeSize);\n        reflow(component.element);\n      };\n      const startCompleteGrow = () => {\n        setShrunk(component, slideConfig);\n      };\n      const setStartSize = wasShrinking ? startPartialGrow : startCompleteGrow;\n      setStartSize();\n      remove$2(root, slideConfig.shrinkingClass);\n      add$2(root, slideConfig.growingClass);\n      setGrown(component, slideConfig);\n      set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      slideState.setExpanded();\n      slideConfig.onStartGrow(component);\n    };\n    const refresh$3 = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        remove$6(component.element, getDimensionProperty(slideConfig));\n        const fullSize = getDimension(slideConfig, component.element);\n        set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      }\n    };\n    const grow = (component, slideConfig, slideState) => {\n      if (!slideState.isExpanded()) {\n        doStartGrow(component, slideConfig, slideState);\n      }\n    };\n    const shrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doStartSmartShrink(component, slideConfig, slideState);\n      }\n    };\n    const immediateShrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doImmediateShrink(component, slideConfig, slideState);\n      }\n    };\n    const hasGrown = (component, slideConfig, slideState) => slideState.isExpanded();\n    const hasShrunk = (component, slideConfig, slideState) => slideState.isCollapsed();\n    const isGrowing = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.growingClass) === true;\n    };\n    const isShrinking = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.shrinkingClass) === true;\n    };\n    const isTransitioning = (component, slideConfig, slideState) => isGrowing(component, slideConfig) || isShrinking(component, slideConfig);\n    const toggleGrow = (component, slideConfig, slideState) => {\n      const f = slideState.isExpanded() ? doStartSmartShrink : doStartGrow;\n      f(component, slideConfig, slideState);\n    };\n    const immediateGrow = (component, slideConfig, slideState) => {\n      if (!slideState.isExpanded()) {\n        setGrown(component, slideConfig);\n        set$8(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n        disableTransitions(component, slideConfig);\n        slideState.setExpanded();\n        slideConfig.onStartGrow(component);\n        slideConfig.onGrown(component);\n      }\n    };\n\n    var SlidingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$3,\n        grow: grow,\n        shrink: shrink,\n        immediateShrink: immediateShrink,\n        hasGrown: hasGrown,\n        hasShrunk: hasShrunk,\n        isGrowing: isGrowing,\n        isShrinking: isShrinking,\n        isTransitioning: isTransitioning,\n        toggleGrow: toggleGrow,\n        disableTransitions: disableTransitions,\n        immediateGrow: immediateGrow\n    });\n\n    const exhibit = (base, slideConfig, _slideState) => {\n      const expanded = slideConfig.expanded;\n      return expanded ? nu$7({\n        classes: [slideConfig.openClass],\n        styles: {}\n      }) : nu$7({\n        classes: [slideConfig.closedClass],\n        styles: wrap$1(slideConfig.dimension.property, '0px')\n      });\n    };\n    const events$4 = (slideConfig, slideState) => derive$2([runOnSource(transitionend(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.propertyName === slideConfig.dimension.property) {\n          disableTransitions(component, slideConfig);\n          if (slideState.isExpanded()) {\n            remove$6(component.element, slideConfig.dimension.property);\n          }\n          const notify = slideState.isExpanded() ? slideConfig.onGrown : slideConfig.onShrunk;\n          notify(component);\n        }\n      })]);\n\n    var ActiveSliding = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit,\n        events: events$4\n    });\n\n    var SlidingSchema = [\n      required$1('closedClass'),\n      required$1('openClass'),\n      required$1('shrinkingClass'),\n      required$1('growingClass'),\n      option$3('getAnimationRoot'),\n      onHandler('onShrunk'),\n      onHandler('onStartShrink'),\n      onHandler('onGrown'),\n      onHandler('onStartGrow'),\n      defaulted('expanded', false),\n      requiredOf('dimension', choose$1('property', {\n        width: [\n          output$1('property', 'width'),\n          output$1('getDimension', elem => get$c(elem) + 'px')\n        ],\n        height: [\n          output$1('property', 'height'),\n          output$1('getDimension', elem => get$d(elem) + 'px')\n        ]\n      }))\n    ];\n\n    const init$5 = spec => {\n      const state = Cell(spec.expanded);\n      const readState = () => 'expanded: ' + state.get();\n      return nu$8({\n        isExpanded: () => state.get() === true,\n        isCollapsed: () => state.get() === false,\n        setCollapsed: curry(state.set, false),\n        setExpanded: curry(state.set, true),\n        readState\n      });\n    };\n\n    var SlidingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$5\n    });\n\n    const Sliding = create$3({\n      fields: SlidingSchema,\n      name: 'sliding',\n      active: ActiveSliding,\n      apis: SlidingApis,\n      state: SlidingState\n    });\n\n    const owner = 'container';\n    const schema$d = [field('slotBehaviours', [])];\n    const getPartName = name => '<alloy.field.' + name + '>';\n    const sketch = sSpec => {\n      const parts = (() => {\n        const record = [];\n        const slot = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner, getPartName(name), config);\n        };\n        return {\n          slot,\n          record: constant$1(record)\n        };\n      })();\n      const spec = sSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName(n)\n      }));\n      return composite$1(owner, schema$d, fieldParts, make$1, spec);\n    };\n    const make$1 = (detail, components) => {\n      const getSlotNames = _ => getAllPartNames(detail);\n      const getSlot = (container, key) => getPart(container, detail, key);\n      const onSlot = (f, def) => (container, key) => getPart(container, detail, key).map(slot => f(slot, key)).getOr(def);\n      const onSlots = f => (container, keys) => {\n        each$1(keys, key => f(container, key));\n      };\n      const doShowing = (comp, _key) => get$f(comp.element, 'aria-hidden') !== 'true';\n      const doShow = (comp, key) => {\n        if (!doShowing(comp)) {\n          const element = comp.element;\n          remove$6(element, 'display');\n          remove$7(element, 'aria-hidden');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: true\n          });\n        }\n      };\n      const doHide = (comp, key) => {\n        if (doShowing(comp)) {\n          const element = comp.element;\n          set$8(element, 'display', 'none');\n          set$9(element, 'aria-hidden', 'true');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: false\n          });\n        }\n      };\n      const isShowing = onSlot(doShowing, false);\n      const hideSlot = onSlot(doHide);\n      const hideSlots = onSlots(hideSlot);\n      const hideAllSlots = container => hideSlots(container, getSlotNames());\n      const showSlot = onSlot(doShow);\n      const apis = {\n        getSlotNames,\n        getSlot,\n        isShowing,\n        hideSlot,\n        hideAllSlots,\n        showSlot\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$3(detail.slotBehaviours),\n        apis\n      };\n    };\n    const slotApis = map$1({\n      getSlotNames: (apis, c) => apis.getSlotNames(c),\n      getSlot: (apis, c, key) => apis.getSlot(c, key),\n      isShowing: (apis, c, key) => apis.isShowing(c, key),\n      hideSlot: (apis, c, key) => apis.hideSlot(c, key),\n      hideAllSlots: (apis, c) => apis.hideAllSlots(c),\n      showSlot: (apis, c, key) => apis.showSlot(c, key)\n    }, value => makeApi(value));\n    const SlotContainer = {\n      ...slotApis,\n      ...{ sketch }\n    };\n\n    const sidebarSchema = objOf([\n      optionalIcon,\n      optionalTooltip,\n      defaultedFunction('onShow', noop),\n      defaultedFunction('onHide', noop),\n      onSetup\n    ]);\n    const createSidebar = spec => asRaw('sidebar', sidebarSchema, spec);\n\n    const setup$8 = editor => {\n      const {sidebars} = editor.ui.registry.getAll();\n      each$1(keys(sidebars), name => {\n        const spec = sidebars[name];\n        const isActive = () => is$1(Optional.from(editor.queryCommandValue('ToggleSidebar')), name);\n        editor.ui.registry.addToggleButton(name, {\n          icon: spec.icon,\n          tooltip: spec.tooltip,\n          onAction: buttonApi => {\n            editor.execCommand('ToggleSidebar', false, name);\n            buttonApi.setActive(isActive());\n          },\n          onSetup: buttonApi => {\n            buttonApi.setActive(isActive());\n            const handleToggle = () => buttonApi.setActive(isActive());\n            editor.on('ToggleSidebar', handleToggle);\n            return () => {\n              editor.off('ToggleSidebar', handleToggle);\n            };\n          }\n        });\n      });\n    };\n    const getApi = comp => ({ element: () => comp.element.dom });\n    const makePanels = (parts, panelConfigs) => {\n      const specs = map$2(keys(panelConfigs), name => {\n        const spec = panelConfigs[name];\n        const bridged = getOrDie(createSidebar(spec));\n        return {\n          name,\n          getApi,\n          onSetup: bridged.onSetup,\n          onShow: bridged.onShow,\n          onHide: bridged.onHide\n        };\n      });\n      return map$2(specs, spec => {\n        const editorOffCell = Cell(noop);\n        return parts.slot(spec.name, {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane']\n          },\n          behaviours: SimpleBehaviours.unnamedEvents([\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell),\n            run$1(slotVisibility(), (sidepanel, se) => {\n              const data = se.event;\n              const optSidePanelSpec = find$5(specs, config => config.name === data.name);\n              optSidePanelSpec.each(sidePanelSpec => {\n                const handler = data.visible ? sidePanelSpec.onShow : sidePanelSpec.onHide;\n                handler(sidePanelSpec.getApi(sidepanel));\n              });\n            })\n          ])\n        });\n      });\n    };\n    const makeSidebar = panelConfigs => SlotContainer.sketch(parts => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar__pane-container']\n      },\n      components: makePanels(parts, panelConfigs),\n      slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer => SlotContainer.hideAllSlots(slotContainer))])\n    }));\n    const setSidebar = (sidebar, panelConfigs, showSidebar) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => {\n        Replacing.set(slider, [makeSidebar(panelConfigs)]);\n        const configKey = showSidebar === null || showSidebar === void 0 ? void 0 : showSidebar.toLowerCase();\n        if (isString(showSidebar) && has$2(panelConfigs, configKey)) {\n          Composing.getCurrent(slider).each(slotContainer => {\n            SlotContainer.showSlot(slotContainer, configKey);\n            Sliding.immediateGrow(slider);\n            remove$6(slider.element, 'width');\n          });\n        }\n      });\n    };\n    const toggleSidebar = (sidebar, name) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => {\n        const optSlotContainer = Composing.getCurrent(slider);\n        optSlotContainer.each(slotContainer => {\n          if (Sliding.hasGrown(slider)) {\n            if (SlotContainer.isShowing(slotContainer, name)) {\n              Sliding.shrink(slider);\n            } else {\n              SlotContainer.hideAllSlots(slotContainer);\n              SlotContainer.showSlot(slotContainer, name);\n            }\n          } else {\n            SlotContainer.hideAllSlots(slotContainer);\n            SlotContainer.showSlot(slotContainer, name);\n            Sliding.grow(slider);\n          }\n        });\n      });\n    };\n    const whichSidebar = sidebar => {\n      const optSlider = Composing.getCurrent(sidebar);\n      return optSlider.bind(slider => {\n        const sidebarOpen = Sliding.isGrowing(slider) || Sliding.hasGrown(slider);\n        if (sidebarOpen) {\n          const optSlotContainer = Composing.getCurrent(slider);\n          return optSlotContainer.bind(slotContainer => find$5(SlotContainer.getSlotNames(slotContainer), name => SlotContainer.isShowing(slotContainer, name)));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const fixSize = generate$6('FixSizeEvent');\n    const autoSize = generate$6('AutoSizeEvent');\n    const renderSidebar = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar'],\n        attributes: { role: 'complementary' }\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__slider']\n          },\n          components: [],\n          behaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({}),\n            Sliding.config({\n              dimension: { property: 'width' },\n              closedClass: 'tox-sidebar--sliding-closed',\n              openClass: 'tox-sidebar--sliding-open',\n              shrinkingClass: 'tox-sidebar--sliding-shrinking',\n              growingClass: 'tox-sidebar--sliding-growing',\n              onShrunk: slider => {\n                const optSlotContainer = Composing.getCurrent(slider);\n                optSlotContainer.each(SlotContainer.hideAllSlots);\n                emit(slider, autoSize);\n              },\n              onGrown: slider => {\n                emit(slider, autoSize);\n              },\n              onStartGrow: slider => {\n                emitWith(slider, fixSize, { width: getRaw(slider.element, 'width').getOr('') });\n              },\n              onStartShrink: slider => {\n                emitWith(slider, fixSize, { width: get$c(slider.element) + 'px' });\n              }\n            }),\n            Replacing.config({}),\n            Composing.config({\n              find: comp => {\n                const children = Replacing.contents(comp);\n                return head(children);\n              }\n            })\n          ])\n        }],\n      behaviours: derive$1([\n        ComposingConfigs.childAt(0),\n        config('sidebar-sliding-events', [\n          run$1(fixSize, (comp, se) => {\n            set$8(comp.element, 'width', se.event.width);\n          }),\n          run$1(autoSize, (comp, _se) => {\n            remove$6(comp.element, 'width');\n          })\n        ])\n      ])\n    });\n\n    const block = (component, config, state, getBusySpec) => {\n      set$9(component.element, 'aria-busy', true);\n      const root = config.getRoot(component).getOr(component);\n      const blockerBehaviours = derive$1([\n        Keying.config({\n          mode: 'special',\n          onTab: () => Optional.some(true),\n          onShiftTab: () => Optional.some(true)\n        }),\n        Focusing.config({})\n      ]);\n      const blockSpec = getBusySpec(root, blockerBehaviours);\n      const blocker = root.getSystem().build(blockSpec);\n      Replacing.append(root, premade(blocker));\n      if (blocker.hasConfigured(Keying) && config.focus) {\n        Keying.focusIn(blocker);\n      }\n      if (!state.isBlocked()) {\n        config.onBlock(component);\n      }\n      state.blockWith(() => Replacing.remove(root, blocker));\n    };\n    const unblock = (component, config, state) => {\n      remove$7(component.element, 'aria-busy');\n      if (state.isBlocked()) {\n        config.onUnblock(component);\n      }\n      state.clear();\n    };\n\n    var BlockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        block: block,\n        unblock: unblock\n    });\n\n    var BlockingSchema = [\n      defaultedFunction('getRoot', Optional.none),\n      defaultedBoolean('focus', true),\n      onHandler('onBlock'),\n      onHandler('onUnblock')\n    ];\n\n    const init$4 = () => {\n      const blocker = destroyable();\n      const blockWith = destroy => {\n        blocker.set({ destroy });\n      };\n      return nu$8({\n        readState: blocker.isSet,\n        blockWith,\n        clear: blocker.clear,\n        isBlocked: blocker.isSet\n      });\n    };\n\n    var BlockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$4\n    });\n\n    const Blocking = create$3({\n      fields: BlockingSchema,\n      name: 'blocking',\n      apis: BlockingApis,\n      state: BlockingState\n    });\n\n    const getAttrs = elem => {\n      const attributes = elem.dom.attributes !== undefined ? elem.dom.attributes : [];\n      return foldl(attributes, (b, attr) => {\n        if (attr.name === 'class') {\n          return b;\n        } else {\n          return {\n            ...b,\n            [attr.name]: attr.value\n          };\n        }\n      }, {});\n    };\n    const getClasses = elem => Array.prototype.slice.call(elem.dom.classList, 0);\n    const fromHtml = html => {\n      const elem = SugarElement.fromHtml(html);\n      const children$1 = children(elem);\n      const attrs = getAttrs(elem);\n      const classes = getClasses(elem);\n      const contents = children$1.length === 0 ? {} : { innerHtml: get$9(elem) };\n      return {\n        tag: name$3(elem),\n        classes,\n        attributes: attrs,\n        ...contents\n      };\n    };\n\n    const getBusySpec$1 = providerBackstage => (_root, _behaviours) => ({\n      dom: {\n        tag: 'div',\n        attributes: {\n          'aria-label': providerBackstage.translate('Loading...'),\n          'tabindex': '0'\n        },\n        classes: ['tox-throbber__busy-spinner']\n      },\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const focusBusyComponent = throbber => Composing.getCurrent(throbber).each(comp => focus$3(comp.element));\n    const toggleEditorTabIndex = (editor, state) => {\n      const tabIndexAttr = 'tabindex';\n      const dataTabIndexAttr = `data-mce-${ tabIndexAttr }`;\n      Optional.from(editor.iframeElement).map(SugarElement.fromDom).each(iframe => {\n        if (state) {\n          getOpt(iframe, tabIndexAttr).each(tabIndex => set$9(iframe, dataTabIndexAttr, tabIndex));\n          set$9(iframe, tabIndexAttr, -1);\n        } else {\n          remove$7(iframe, tabIndexAttr);\n          getOpt(iframe, dataTabIndexAttr).each(tabIndex => {\n            set$9(iframe, tabIndexAttr, tabIndex);\n            remove$7(iframe, dataTabIndexAttr);\n          });\n        }\n      });\n    };\n    const toggleThrobber = (editor, comp, state, providerBackstage) => {\n      const element = comp.element;\n      toggleEditorTabIndex(editor, state);\n      if (state) {\n        Blocking.block(comp, getBusySpec$1(providerBackstage));\n        remove$6(element, 'display');\n        remove$7(element, 'aria-hidden');\n        if (editor.hasFocus()) {\n          focusBusyComponent(comp);\n        }\n      } else {\n        const throbberFocus = Composing.getCurrent(comp).exists(busyComp => hasFocus(busyComp.element));\n        Blocking.unblock(comp);\n        set$8(element, 'display', 'none');\n        set$9(element, 'aria-hidden', 'true');\n        if (throbberFocus) {\n          editor.focus();\n        }\n      }\n    };\n    const renderThrobber = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        attributes: { 'aria-hidden': 'true' },\n        classes: ['tox-throbber'],\n        styles: { display: 'none' }\n      },\n      behaviours: derive$1([\n        Replacing.config({}),\n        Blocking.config({ focus: false }),\n        Composing.config({ find: comp => head(comp.components()) })\n      ]),\n      components: []\n    });\n    const isFocusEvent = event => event.type === 'focusin';\n    const isPasteBinTarget = event => {\n      if (isFocusEvent(event)) {\n        const node = event.composed ? head(event.composedPath()) : Optional.from(event.target);\n        return node.map(SugarElement.fromDom).filter(isElement$1).exists(targetElm => has(targetElm, 'mce-pastebin'));\n      } else {\n        return false;\n      }\n    };\n    const setup$7 = (editor, lazyThrobber, sharedBackstage) => {\n      const throbberState = Cell(false);\n      const timer = value$2();\n      const stealFocus = e => {\n        if (throbberState.get() && !isPasteBinTarget(e)) {\n          e.preventDefault();\n          focusBusyComponent(lazyThrobber());\n          editor.editorManager.setActive(editor);\n        }\n      };\n      if (!editor.inline) {\n        editor.on('PreInit', () => {\n          editor.dom.bind(editor.getWin(), 'focusin', stealFocus);\n          editor.on('BeforeExecCommand', e => {\n            if (e.command.toLowerCase() === 'mcefocus' && e.value !== true) {\n              stealFocus(e);\n            }\n          });\n        });\n      }\n      const toggle = state => {\n        if (state !== throbberState.get()) {\n          throbberState.set(state);\n          toggleThrobber(editor, lazyThrobber(), state, sharedBackstage.providers);\n          editor.dispatch('AfterProgressState', { state });\n        }\n      };\n      editor.on('ProgressState', e => {\n        timer.on(clearTimeout);\n        if (isNumber(e.time)) {\n          const timerId = global$9.setEditorTimeout(editor, () => toggle(e.state), e.time);\n          timer.set(timerId);\n        } else {\n          toggle(e.state);\n          timer.clear();\n        }\n      });\n    };\n\n    const generate$1 = (xs, f) => {\n      const init = {\n        len: 0,\n        list: []\n      };\n      const r = foldl(xs, (b, a) => {\n        const value = f(a, b.len);\n        return value.fold(constant$1(b), v => ({\n          len: v.finish,\n          list: b.list.concat([v])\n        }));\n      }, init);\n      return r.list;\n    };\n\n    const output = (within, extra, withinWidth) => ({\n      within,\n      extra,\n      withinWidth\n    });\n    const apportion = (units, total, len) => {\n      const parray = generate$1(units, (unit, current) => {\n        const width = len(unit);\n        return Optional.some({\n          element: unit,\n          start: current,\n          finish: current + width,\n          width\n        });\n      });\n      const within = filter$2(parray, unit => unit.finish <= total);\n      const withinWidth = foldr(within, (acc, el) => acc + el.width, 0);\n      const extra = parray.slice(within.length);\n      return {\n        within,\n        extra,\n        withinWidth\n      };\n    };\n    const toUnit = parray => map$2(parray, unit => unit.element);\n    const fitLast = (within, extra, withinWidth) => {\n      const fits = toUnit(within.concat(extra));\n      return output(fits, [], withinWidth);\n    };\n    const overflow = (within, extra, overflower, withinWidth) => {\n      const fits = toUnit(within).concat([overflower]);\n      return output(fits, toUnit(extra), withinWidth);\n    };\n    const fitAll = (within, extra, withinWidth) => output(toUnit(within), [], withinWidth);\n    const tryFit = (total, units, len) => {\n      const divide = apportion(units, total, len);\n      return divide.extra.length === 0 ? Optional.some(divide) : Optional.none();\n    };\n    const partition = (total, units, len, overflower) => {\n      const divide = tryFit(total, units, len).getOrThunk(() => apportion(units, total - len(overflower), len));\n      const within = divide.within;\n      const extra = divide.extra;\n      const withinWidth = divide.withinWidth;\n      if (extra.length === 1 && extra[0].width <= len(overflower)) {\n        return fitLast(within, extra, withinWidth);\n      } else if (extra.length >= 1) {\n        return overflow(within, extra, overflower, withinWidth);\n      } else {\n        return fitAll(within, extra, withinWidth);\n      }\n    };\n\n    const setGroups$1 = (toolbar, storedGroups) => {\n      const bGroups = map$2(storedGroups, g => premade(g));\n      Toolbar.setGroups(toolbar, bGroups);\n    };\n    const findFocusedComp = comps => findMap(comps, comp => search(comp.element).bind(focusedElm => comp.getSystem().getByDom(focusedElm).toOptional()));\n    const refresh$2 = (toolbar, detail, setOverflow) => {\n      const builtGroups = detail.builtGroups.get();\n      if (builtGroups.length === 0) {\n        return;\n      }\n      const primary = getPartOrDie(toolbar, detail, 'primary');\n      const overflowGroup = Coupling.getCoupled(toolbar, 'overflowGroup');\n      set$8(primary.element, 'visibility', 'hidden');\n      const groups = builtGroups.concat([overflowGroup]);\n      const focusedComp = findFocusedComp(groups);\n      setOverflow([]);\n      setGroups$1(primary, groups);\n      const availableWidth = get$c(primary.element);\n      const overflows = partition(availableWidth, detail.builtGroups.get(), comp => get$c(comp.element), overflowGroup);\n      if (overflows.extra.length === 0) {\n        Replacing.remove(primary, overflowGroup);\n        setOverflow([]);\n      } else {\n        setGroups$1(primary, overflows.within);\n        setOverflow(overflows.extra);\n      }\n      remove$6(primary.element, 'visibility');\n      reflow(primary.element);\n      focusedComp.each(Focusing.focus);\n    };\n\n    const schema$c = constant$1([\n      field('splitToolbarBehaviours', [Coupling]),\n      customField('builtGroups', () => Cell([]))\n    ]);\n\n    const schema$b = constant$1([\n      markers$1(['overflowToggledClass']),\n      optionFunction('getOverflowBounds'),\n      required$1('lazySink'),\n      customField('overflowGroups', () => Cell([]))\n    ].concat(schema$c()));\n    const parts$7 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      external({\n        schema: schema$e(),\n        name: 'overflow'\n      }),\n      external({ name: 'overflow-button' }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const expandable = constant$1((element, available) => {\n      setMax(element, Math.floor(available));\n    });\n\n    const schema$a = constant$1([\n      markers$1(['toggledClass']),\n      required$1('lazySink'),\n      requiredFunction('fetch'),\n      optionFunction('getBounds'),\n      optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n      schema$y()\n    ]);\n    const parts$6 = constant$1([\n      external({\n        name: 'button',\n        overrides: detail => ({\n          dom: { attributes: { 'aria-haspopup': 'true' } },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.toggledClass,\n              aria: { mode: 'expanded' },\n              toggleOnExecute: false\n            })])\n        })\n      }),\n      external({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'toolbar',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([Keying.config({\n                mode: 'cyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'button').each(Focusing.focus);\n                  return Optional.none();\n                }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const toggle = (button, externals) => {\n      const toolbarSandbox = Coupling.getCoupled(button, 'toolbarSandbox');\n      if (Sandboxing.isOpen(toolbarSandbox)) {\n        Sandboxing.close(toolbarSandbox);\n      } else {\n        Sandboxing.open(toolbarSandbox, externals.toolbar());\n      }\n    };\n    const position = (button, toolbar, detail, layouts) => {\n      const bounds = detail.getBounds.map(bounder => bounder());\n      const sink = detail.lazySink(button).getOrDie();\n      Positioning.positionWithinBounds(sink, toolbar, {\n        anchor: {\n          type: 'hotspot',\n          hotspot: button,\n          layouts,\n          overrides: { maxWidthFunction: expandable() }\n        }\n      }, bounds);\n    };\n    const setGroups = (button, toolbar, detail, layouts, groups) => {\n      Toolbar.setGroups(toolbar, groups);\n      position(button, toolbar, detail, layouts);\n      Toggling.on(button);\n    };\n    const makeSandbox = (button, spec, detail) => {\n      const ariaControls = manager();\n      const onOpen = (sandbox, toolbar) => {\n        detail.fetch().get(groups => {\n          setGroups(button, toolbar, detail, spec.layouts, groups);\n          ariaControls.link(button.element);\n          Keying.focusIn(toolbar);\n        });\n      };\n      const onClose = () => {\n        Toggling.off(button);\n        Focusing.focus(button);\n        ariaControls.unlink(button.element);\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { id: ariaControls.id }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => {\n              Sandboxing.close(comp);\n              return Optional.some(true);\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(button, queryElem);\n            },\n            getAttachPoint: () => {\n              return detail.lazySink(button).getOrDie();\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: never,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                doReposition: () => {\n                  Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n                    position(button, toolbar, detail, spec.layouts);\n                  });\n                }\n              })\n            }\n          })\n        ])\n      };\n    };\n    const factory$a = (detail, components, spec, externals) => ({\n      ...Button.sketch({\n        ...externals.button(),\n        action: button => {\n          toggle(button, externals);\n        },\n        buttonBehaviours: SketchBehaviours.augment({ dump: externals.button().buttonBehaviours }, [Coupling.config({\n            others: {\n              toolbarSandbox: button => {\n                return makeSandbox(button, spec, detail);\n              }\n            }\n          })])\n      }),\n      apis: {\n        setGroups: (button, groups) => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            setGroups(button, toolbar, detail, spec.layouts, groups);\n          });\n        },\n        reposition: button => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            position(button, toolbar, detail, spec.layouts);\n          });\n        },\n        toggle: button => {\n          toggle(button, externals);\n        },\n        getToolbar: button => {\n          return Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox'));\n        },\n        isOpen: button => {\n          return Sandboxing.isOpen(Coupling.getCoupled(button, 'toolbarSandbox'));\n        }\n      }\n    });\n    const FloatingToolbarButton = composite({\n      name: 'FloatingToolbarButton',\n      factory: factory$a,\n      configFields: schema$a(),\n      partFields: parts$6(),\n      apis: {\n        setGroups: (apis, button, groups) => {\n          apis.setGroups(button, groups);\n        },\n        reposition: (apis, button) => {\n          apis.reposition(button);\n        },\n        toggle: (apis, button) => {\n          apis.toggle(button);\n        },\n        getToolbar: (apis, button) => apis.getToolbar(button),\n        isOpen: (apis, button) => apis.isOpen(button)\n      }\n    });\n\n    const schema$9 = constant$1([\n      required$1('items'),\n      markers$1(['itemSelector']),\n      field('tgroupBehaviours', [Keying])\n    ]);\n    const parts$5 = constant$1([group({\n        name: 'items',\n        unit: 'item'\n      })]);\n\n    const factory$9 = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.tgroupBehaviours, [Keying.config({\n          mode: 'flow',\n          selector: detail.markers.itemSelector\n        })]),\n      domModification: { attributes: { role: 'toolbar' } }\n    });\n    const ToolbarGroup = composite({\n      name: 'ToolbarGroup',\n      configFields: schema$9(),\n      partFields: parts$5(),\n      factory: factory$9\n    });\n\n    const buildGroups = comps => map$2(comps, g => premade(g));\n    const refresh$1 = (toolbar, memFloatingToolbarButton, detail) => {\n      refresh$2(toolbar, detail, overflowGroups => {\n        detail.overflowGroups.set(overflowGroups);\n        memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n          FloatingToolbarButton.setGroups(floatingToolbarButton, buildGroups(overflowGroups));\n        });\n      });\n    };\n    const factory$8 = (detail, components, spec, externals) => {\n      const memFloatingToolbarButton = record(FloatingToolbarButton.sketch({\n        fetch: () => Future.nu(resolve => {\n          resolve(buildGroups(detail.overflowGroups.get()));\n        }),\n        layouts: {\n          onLtr: () => [\n            southwest$2,\n            southeast$2\n          ],\n          onRtl: () => [\n            southeast$2,\n            southwest$2\n          ],\n          onBottomLtr: () => [\n            northwest$2,\n            northeast$2\n          ],\n          onBottomRtl: () => [\n            northeast$2,\n            northwest$2\n          ]\n        },\n        getBounds: spec.getOverflowBounds,\n        lazySink: detail.lazySink,\n        fireDismissalEventInstead: {},\n        markers: { toggledClass: detail.markers.overflowToggledClass },\n        parts: {\n          button: externals['overflow-button'](),\n          toolbar: externals.overflow()\n        }\n      }));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [Coupling.config({\n            others: {\n              overflowGroup: () => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [memFloatingToolbarButton.asSpec()]\n                });\n              }\n            }\n          })]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            detail.builtGroups.set(map$2(groups, toolbar.getSystem().build));\n            refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          refresh: toolbar => refresh$1(toolbar, memFloatingToolbarButton, detail),\n          toggle: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.toggle(floatingToolbarButton);\n            });\n          },\n          isOpen: toolbar => memFloatingToolbarButton.getOpt(toolbar).map(FloatingToolbarButton.isOpen).getOr(false),\n          reposition: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.reposition(floatingToolbarButton);\n            });\n          },\n          getOverflow: toolbar => memFloatingToolbarButton.getOpt(toolbar).bind(FloatingToolbarButton.getToolbar)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitFloatingToolbar = composite({\n      name: 'SplitFloatingToolbar',\n      configFields: schema$b(),\n      partFields: parts$7(),\n      factory: factory$8,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        reposition: (apis, toolbar) => {\n          apis.reposition(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar),\n        getOverflow: (apis, toolbar) => apis.getOverflow(toolbar)\n      }\n    });\n\n    const schema$8 = constant$1([\n      markers$1([\n        'closedClass',\n        'openClass',\n        'shrinkingClass',\n        'growingClass',\n        'overflowToggledClass'\n      ]),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    const parts$4 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'overflow',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([\n              Sliding.config({\n                dimension: { property: 'height' },\n                closedClass: detail.markers.closedClass,\n                openClass: detail.markers.openClass,\n                shrinkingClass: detail.markers.shrinkingClass,\n                growingClass: detail.markers.growingClass,\n                onShrunk: comp => {\n                  getPart(comp, detail, 'overflow-button').each(button => {\n                    Toggling.off(button);\n                    Focusing.focus(button);\n                  });\n                  detail.onClosed(comp);\n                },\n                onGrown: comp => {\n                  Keying.focusIn(comp);\n                  detail.onOpened(comp);\n                },\n                onStartGrow: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Toggling.on);\n                }\n              }),\n              Keying.config({\n                mode: 'acyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n                  return Optional.some(true);\n                }\n              })\n            ])\n          };\n        }\n      }),\n      external({\n        name: 'overflow-button',\n        overrides: detail => ({\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.overflowToggledClass,\n              aria: { mode: 'pressed' },\n              toggleOnExecute: false\n            })])\n        })\n      }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const isOpen = (toolbar, detail) => getPart(toolbar, detail, 'overflow').map(Sliding.hasGrown).getOr(false);\n    const toggleToolbar = (toolbar, detail) => {\n      getPart(toolbar, detail, 'overflow-button').bind(() => getPart(toolbar, detail, 'overflow')).each(overf => {\n        refresh(toolbar, detail);\n        Sliding.toggleGrow(overf);\n      });\n    };\n    const refresh = (toolbar, detail) => {\n      getPart(toolbar, detail, 'overflow').each(overflow => {\n        refresh$2(toolbar, detail, groups => {\n          const builtGroups = map$2(groups, g => premade(g));\n          Toolbar.setGroups(overflow, builtGroups);\n        });\n        getPart(toolbar, detail, 'overflow-button').each(button => {\n          if (Sliding.hasGrown(overflow)) {\n            Toggling.on(button);\n          }\n        });\n        Sliding.refresh(overflow);\n      });\n    };\n    const factory$7 = (detail, components, spec, externals) => {\n      const toolbarToggleEvent = 'alloy.toolbar.toggle';\n      const doSetGroups = (toolbar, groups) => {\n        const built = map$2(groups, toolbar.getSystem().build);\n        detail.builtGroups.set(built);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [\n          Coupling.config({\n            others: {\n              overflowGroup: toolbar => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [Button.sketch({\n                      ...externals['overflow-button'](),\n                      action: _button => {\n                        emit(toolbar, toolbarToggleEvent);\n                      }\n                    })]\n                });\n              }\n            }\n          }),\n          config('toolbar-toggle-events', [run$1(toolbarToggleEvent, toolbar => {\n              toggleToolbar(toolbar, detail);\n            })])\n        ]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            doSetGroups(toolbar, groups);\n            refresh(toolbar, detail);\n          },\n          refresh: toolbar => refresh(toolbar, detail),\n          toggle: toolbar => toggleToolbar(toolbar, detail),\n          isOpen: toolbar => isOpen(toolbar, detail)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitSlidingToolbar = composite({\n      name: 'SplitSlidingToolbar',\n      configFields: schema$8(),\n      partFields: parts$4(),\n      factory: factory$7,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar)\n      }\n    });\n\n    const renderToolbarGroupCommon = toolbarGroup => {\n      const attributes = toolbarGroup.title.fold(() => ({}), title => ({ attributes: { title } }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__group'],\n          ...attributes\n        },\n        components: [ToolbarGroup.parts.items({})],\n        items: toolbarGroup.items,\n        markers: { itemSelector: '*:not(.tox-split-button) > .tox-tbtn:not([disabled]), ' + '.tox-split-button:not([disabled]), ' + '.tox-toolbar-nav-js:not([disabled])' },\n        tgroupBehaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n    const renderToolbarGroup = toolbarGroup => ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));\n    const getToolbarbehaviours = (toolbarSpec, modeName) => {\n      const onAttached = runOnAttached(component => {\n        const groups = map$2(toolbarSpec.initGroups, renderToolbarGroup);\n        Toolbar.setGroups(component, groups);\n      });\n      return derive$1([\n        DisablingConfigs.toolbarButton(toolbarSpec.providers.isDisabled),\n        receivingConfig(),\n        Keying.config({\n          mode: modeName,\n          onEscape: toolbarSpec.onEscape,\n          selector: '.tox-toolbar__group'\n        }),\n        config('toolbar-events', [onAttached])\n      ]);\n    };\n    const renderMoreToolbarCommon = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return {\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        parts: {\n          'overflow-group': renderToolbarGroupCommon({\n            title: Optional.none(),\n            items: []\n          }),\n          'overflow-button': renderIconButtonSpec({\n            name: 'more',\n            icon: Optional.some('more-drawer'),\n            enabled: true,\n            tooltip: Optional.some('More...'),\n            primary: false,\n            buttonType: Optional.none(),\n            borderless: false\n          }, Optional.none(), toolbarSpec.providers)\n        },\n        splitToolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName)\n      };\n    };\n    const renderFloatingMoreToolbar = toolbarSpec => {\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      const overflowXOffset = 4;\n      const primary = SplitFloatingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      return SplitFloatingToolbar.sketch({\n        ...baseSpec,\n        lazySink: toolbarSpec.getSink,\n        getOverflowBounds: () => {\n          const headerElem = toolbarSpec.moreDrawerData.lazyHeader().element;\n          const headerBounds = absolute$2(headerElem);\n          const docElem = documentElement(headerElem);\n          const docBounds = absolute$2(docElem);\n          const height = Math.max(docElem.dom.scrollHeight, docBounds.height);\n          return bounds(headerBounds.x + overflowXOffset, docBounds.y, headerBounds.width - overflowXOffset * 2, height);\n        },\n        parts: {\n          ...baseSpec.parts,\n          overflow: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: toolbarSpec.attributes\n            }\n          }\n        },\n        components: [primary],\n        markers: { overflowToggledClass: 'tox-tbtn--enabled' }\n      });\n    };\n    const renderSlidingMoreToolbar = toolbarSpec => {\n      const primary = SplitSlidingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      const overflow = SplitSlidingToolbar.parts.overflow({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__overflow']\n        }\n      });\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      return SplitSlidingToolbar.sketch({\n        ...baseSpec,\n        components: [\n          primary,\n          overflow\n        ],\n        markers: {\n          openClass: 'tox-toolbar__overflow--open',\n          closedClass: 'tox-toolbar__overflow--closed',\n          growingClass: 'tox-toolbar__overflow--growing',\n          shrinkingClass: 'tox-toolbar__overflow--shrinking',\n          overflowToggledClass: 'tox-tbtn--enabled'\n        },\n        onOpened: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'opened' });\n        },\n        onClosed: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'closed' });\n        }\n      });\n    };\n    const renderToolbar = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return Toolbar.sketch({\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar'].concat(toolbarSpec.type === ToolbarMode$1.scrolling ? ['tox-toolbar--scrolling'] : [])\n        },\n        components: [Toolbar.parts.groups({})],\n        toolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName)\n      });\n    };\n\n    const factory$6 = (detail, components, _spec) => {\n      const apis = {\n        getSocket: comp => {\n          return parts$a.getPart(comp, detail, 'socket');\n        },\n        setSidebar: (comp, panelConfigs, showSidebar) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => setSidebar(sidebar, panelConfigs, showSidebar));\n        },\n        toggleSidebar: (comp, name) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => toggleSidebar(sidebar, name));\n        },\n        whichSidebar: comp => {\n          return parts$a.getPart(comp, detail, 'sidebar').bind(whichSidebar).getOrNull();\n        },\n        getHeader: comp => {\n          return parts$a.getPart(comp, detail, 'header');\n        },\n        getToolbar: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar');\n        },\n        setToolbar: (comp, groups) => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            toolbar.getApis().setGroups(toolbar, groups);\n          });\n        },\n        setToolbars: (comp, toolbars) => {\n          parts$a.getPart(comp, detail, 'multiple-toolbar').each(mToolbar => {\n            CustomList.setItems(mToolbar, toolbars);\n          });\n        },\n        refreshToolbar: comp => {\n          const toolbar = parts$a.getPart(comp, detail, 'toolbar');\n          toolbar.each(toolbar => toolbar.getApis().refresh(toolbar));\n        },\n        toggleToolbarDrawer: comp => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            mapFrom(toolbar.getApis().toggle, toggle => toggle(toolbar));\n          });\n        },\n        isToolbarDrawerToggled: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar').bind(toolbar => Optional.from(toolbar.getApis().isOpen).map(isOpen => isOpen(toolbar))).getOr(false);\n        },\n        getThrobber: comp => {\n          return parts$a.getPart(comp, detail, 'throbber');\n        },\n        focusToolbar: comp => {\n          const optToolbar = parts$a.getPart(comp, detail, 'toolbar').orThunk(() => parts$a.getPart(comp, detail, 'multiple-toolbar'));\n          optToolbar.each(toolbar => {\n            Keying.focusIn(toolbar);\n          });\n        },\n        setMenubar: (comp, menus) => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.setMenus(menubar, menus);\n          });\n        },\n        focusMenubar: comp => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.focus(menubar);\n          });\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        behaviours: detail.behaviours\n      };\n    };\n    const partMenubar = partType.optional({\n      factory: SilverMenubar,\n      name: 'menubar',\n      schema: [required$1('backstage')]\n    });\n    const toolbarFactory = spec => {\n      if (spec.type === ToolbarMode$1.sliding) {\n        return renderSlidingMoreToolbar;\n      } else if (spec.type === ToolbarMode$1.floating) {\n        return renderFloatingMoreToolbar;\n      } else {\n        return renderToolbar;\n      }\n    };\n    const partMultipleToolbar = partType.optional({\n      factory: {\n        sketch: spec => CustomList.sketch({\n          uid: spec.uid,\n          dom: spec.dom,\n          listBehaviours: derive$1([Keying.config({\n              mode: 'acyclic',\n              selector: '.tox-toolbar'\n            })]),\n          makeItem: () => renderToolbar({\n            type: spec.type,\n            uid: generate$6('multiple-toolbar-item'),\n            cyclicKeying: false,\n            initGroups: [],\n            providers: spec.providers,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            }\n          }),\n          setupItem: (_mToolbar, tc, data, _index) => {\n            Toolbar.setGroups(tc, data);\n          },\n          shell: true\n        })\n      },\n      name: 'multiple-toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape')\n      ]\n    });\n    const partToolbar = partType.optional({\n      factory: {\n        sketch: spec => {\n          const renderer = toolbarFactory(spec);\n          const toolbarSpec = {\n            type: spec.type,\n            uid: spec.uid,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            },\n            cyclicKeying: false,\n            initGroups: [],\n            getSink: spec.getSink,\n            providers: spec.providers,\n            moreDrawerData: {\n              lazyToolbar: spec.lazyToolbar,\n              lazyMoreButton: spec.lazyMoreButton,\n              lazyHeader: spec.lazyHeader\n            },\n            attributes: spec.attributes\n          };\n          return renderer(toolbarSpec);\n        }\n      },\n      name: 'toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape'),\n        required$1('getSink')\n      ]\n    });\n    const partHeader = partType.optional({\n      factory: { sketch: renderHeader },\n      name: 'header',\n      schema: [required$1('dom')]\n    });\n    const partSocket = partType.optional({\n      name: 'socket',\n      schema: [required$1('dom')]\n    });\n    const partSidebar = partType.optional({\n      factory: { sketch: renderSidebar },\n      name: 'sidebar',\n      schema: [required$1('dom')]\n    });\n    const partThrobber = partType.optional({\n      factory: { sketch: renderThrobber },\n      name: 'throbber',\n      schema: [required$1('dom')]\n    });\n    var OuterContainer = composite({\n      name: 'OuterContainer',\n      factory: factory$6,\n      configFields: [\n        required$1('dom'),\n        required$1('behaviours')\n      ],\n      partFields: [\n        partHeader,\n        partMenubar,\n        partToolbar,\n        partMultipleToolbar,\n        partSocket,\n        partSidebar,\n        partThrobber\n      ],\n      apis: {\n        getSocket: (apis, comp) => {\n          return apis.getSocket(comp);\n        },\n        setSidebar: (apis, comp, panelConfigs, showSidebar) => {\n          apis.setSidebar(comp, panelConfigs, showSidebar);\n        },\n        toggleSidebar: (apis, comp, name) => {\n          apis.toggleSidebar(comp, name);\n        },\n        whichSidebar: (apis, comp) => {\n          return apis.whichSidebar(comp);\n        },\n        getHeader: (apis, comp) => {\n          return apis.getHeader(comp);\n        },\n        getToolbar: (apis, comp) => {\n          return apis.getToolbar(comp);\n        },\n        setToolbar: (apis, comp, grps) => {\n          const groups = map$2(grps, grp => {\n            return renderToolbarGroup(grp);\n          });\n          apis.setToolbar(comp, groups);\n        },\n        setToolbars: (apis, comp, ts) => {\n          const renderedToolbars = map$2(ts, g => map$2(g, renderToolbarGroup));\n          apis.setToolbars(comp, renderedToolbars);\n        },\n        refreshToolbar: (apis, comp) => {\n          return apis.refreshToolbar(comp);\n        },\n        toggleToolbarDrawer: (apis, comp) => {\n          apis.toggleToolbarDrawer(comp);\n        },\n        isToolbarDrawerToggled: (apis, comp) => {\n          return apis.isToolbarDrawerToggled(comp);\n        },\n        getThrobber: (apis, comp) => {\n          return apis.getThrobber(comp);\n        },\n        setMenubar: (apis, comp, menus) => {\n          apis.setMenubar(comp, menus);\n        },\n        focusMenubar: (apis, comp) => {\n          apis.focusMenubar(comp);\n        },\n        focusToolbar: (apis, comp) => {\n          apis.focusToolbar(comp);\n        }\n      }\n    });\n\n    const defaultMenubar = 'file edit view insert format tools table help';\n    const defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | export print | deleteallconversations'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall | searchreplace'\n      },\n      view: {\n        title: 'View',\n        items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'spellchecker spellcheckerlanguage | a11ycheck code wordcount'\n      },\n      table: {\n        title: 'Table',\n        items: 'inserttable | cell row column | advtablesort | tableprops deletetable'\n      },\n      help: {\n        title: 'Help',\n        items: 'help'\n      }\n    };\n    const make = (menu, registry, editor) => {\n      const removedMenuItems = getRemovedMenuItems(editor).split(/[ ,]/);\n      return {\n        text: menu.title,\n        getItems: () => bind$3(menu.items, i => {\n          const itemName = i.toLowerCase();\n          if (itemName.trim().length === 0) {\n            return [];\n          } else if (exists(removedMenuItems, removedMenuItem => removedMenuItem === itemName)) {\n            return [];\n          } else if (itemName === 'separator' || itemName === '|') {\n            return [{ type: 'separator' }];\n          } else if (registry.menuItems[itemName]) {\n            return [registry.menuItems[itemName]];\n          } else {\n            return [];\n          }\n        })\n      };\n    };\n    const parseItemsString = items => {\n      if (typeof items === 'string') {\n        return items.split(' ');\n      }\n      return items;\n    };\n    const identifyMenus = (editor, registry) => {\n      const rawMenuData = {\n        ...defaultMenus,\n        ...registry.menus\n      };\n      const userDefinedMenus = keys(registry.menus).length > 0;\n      const menubar = registry.menubar === undefined || registry.menubar === true ? parseItemsString(defaultMenubar) : parseItemsString(registry.menubar === false ? '' : registry.menubar);\n      const validMenus = filter$2(menubar, menuName => {\n        const isDefaultMenu = has$2(defaultMenus, menuName);\n        if (userDefinedMenus) {\n          return isDefaultMenu || get$g(registry.menus, menuName).exists(menu => has$2(menu, 'items'));\n        } else {\n          return isDefaultMenu;\n        }\n      });\n      const menus = map$2(validMenus, menuName => {\n        const menuData = rawMenuData[menuName];\n        return make({\n          title: menuData.title,\n          items: parseItemsString(menuData.items)\n        }, registry, editor);\n      });\n      return filter$2(menus, menu => {\n        const isNotSeparator = item => item.type !== 'separator';\n        return menu.getItems().length > 0 && exists(menu.getItems(), isNotSeparator);\n      });\n    };\n\n    const fireSkinLoaded = editor => {\n      const done = () => {\n        editor._skinLoaded = true;\n        fireSkinLoaded$1(editor);\n      };\n      return () => {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n    const fireSkinLoadError = (editor, err) => () => fireSkinLoadError$1(editor, { message: err });\n\n    const loadStylesheet = (editor, stylesheetUrl, styleSheetLoader) => {\n      editor.on('remove', () => styleSheetLoader.unload(stylesheetUrl));\n      return styleSheetLoader.load(stylesheetUrl);\n    };\n    const loadUiSkins = (editor, skinUrl) => {\n      const skinUiCss = skinUrl + '/skin.min.css';\n      return loadStylesheet(editor, skinUiCss, editor.ui.styleSheetLoader);\n    };\n    const loadShadowDomUiSkins = (editor, skinUrl) => {\n      const isInShadowRoot$1 = isInShadowRoot(SugarElement.fromDom(editor.getElement()));\n      if (isInShadowRoot$1) {\n        const shadowDomSkinCss = skinUrl + '/skin.shadowdom.min.css';\n        return loadStylesheet(editor, shadowDomSkinCss, global$7.DOM.styleSheetLoader);\n      } else {\n        return Promise.resolve();\n      }\n    };\n    const loadSkin = (isInline, editor) => {\n      const skinUrl = getSkinUrl(editor);\n      if (skinUrl) {\n        editor.contentCSS.push(skinUrl + (isInline ? '/content.inline' : '/content') + '.min.css');\n      }\n      if (!isSkinDisabled(editor) && isString(skinUrl)) {\n        Promise.all([\n          loadUiSkins(editor, skinUrl),\n          loadShadowDomUiSkins(editor, skinUrl)\n        ]).then(fireSkinLoaded(editor), fireSkinLoadError(editor, 'Skin could not be loaded'));\n      } else {\n        fireSkinLoaded(editor)();\n      }\n    };\n    const iframe = curry(loadSkin, false);\n    const inline = curry(loadSkin, true);\n\n    const onSetupFormatToggle = (editor, name) => api => {\n      const boundCallback = unbindable();\n      const init = () => {\n        api.setActive(editor.formatter.match(name));\n        const binding = editor.formatter.formatChanged(name, api.setActive);\n        boundCallback.set(binding);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        boundCallback.clear();\n      };\n    };\n    const onSetupEvent = (editor, event, f) => api => {\n      const handleEvent = () => f(api);\n      const init = () => {\n        f(api);\n        editor.on(event, handleEvent);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        editor.off(event, handleEvent);\n      };\n    };\n    const onActionToggleFormat$1 = editor => rawItem => () => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.execCommand('mceToggleFormat', false, rawItem.format);\n      });\n    };\n    const onActionExecCommand = (editor, command) => () => editor.execCommand(command);\n\n    const generateSelectItems = (_editor, backstage, spec) => {\n      const generateItem = (rawItem, response, invalid, value) => {\n        const translatedText = backstage.shared.providers.translate(rawItem.title);\n        if (rawItem.type === 'separator') {\n          return Optional.some({\n            type: 'separator',\n            text: translatedText\n          });\n        } else if (rawItem.type === 'submenu') {\n          const items = bind$3(rawItem.getStyleItems(), si => validate(si, response, value));\n          if (response === 0 && items.length <= 0) {\n            return Optional.none();\n          } else {\n            return Optional.some({\n              type: 'nestedmenuitem',\n              text: translatedText,\n              enabled: items.length > 0,\n              getSubmenuItems: () => bind$3(rawItem.getStyleItems(), si => validate(si, response, value))\n            });\n          }\n        } else {\n          return Optional.some({\n            type: 'togglemenuitem',\n            text: translatedText,\n            icon: rawItem.icon,\n            active: rawItem.isSelected(value),\n            enabled: !invalid,\n            onAction: spec.onAction(rawItem),\n            ...rawItem.getStylePreview().fold(() => ({}), preview => ({ meta: { style: preview } }))\n          });\n        }\n      };\n      const validate = (item, response, value) => {\n        const invalid = item.type === 'formatter' && spec.isInvalid(item);\n        if (response === 0) {\n          return invalid ? [] : generateItem(item, response, false, value).toArray();\n        } else {\n          return generateItem(item, response, invalid, value).toArray();\n        }\n      };\n      const validateItems = preItems => {\n        const value = spec.getCurrentValue();\n        const response = spec.shouldHide ? 0 : 1;\n        return bind$3(preItems, item => validate(item, response, value));\n      };\n      const getFetch = (backstage, getStyleItems) => (comp, callback) => {\n        const preItems = getStyleItems();\n        const items = validateItems(preItems);\n        const menu = build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false);\n        callback(menu);\n      };\n      return {\n        validateItems,\n        getFetch\n      };\n    };\n    const createMenuItems = (editor, backstage, spec) => {\n      const dataset = spec.dataset;\n      const getStyleItems = dataset.type === 'basic' ? () => map$2(dataset.data, d => processBasic(d, spec.isSelectedFor, spec.getPreviewFor)) : dataset.getData;\n      return {\n        items: generateSelectItems(editor, backstage, spec),\n        getStyleItems\n      };\n    };\n    const createSelectButton = (editor, backstage, spec) => {\n      const {items, getStyleItems} = createMenuItems(editor, backstage, spec);\n      const getApi = comp => ({ getComponent: constant$1(comp) });\n      const onSetup = onSetupEvent(editor, 'NodeChange', api => {\n        const comp = api.getComponent();\n        spec.updateText(comp);\n      });\n      return renderCommonDropdown({\n        text: spec.icon.isSome() ? Optional.none() : spec.text,\n        icon: spec.icon,\n        tooltip: Optional.from(spec.tooltip),\n        role: Optional.none(),\n        fetch: items.getFetch(backstage, getStyleItems),\n        onSetup,\n        getApi,\n        columns: 1,\n        presets: 'normal',\n        classes: spec.icon.isSome() ? [] : ['bespoke'],\n        dropdownBehaviours: []\n      }, 'tox-tbtn', backstage.shared);\n    };\n\n    const process = rawFormats => map$2(rawFormats, item => {\n      let title = item, format = item;\n      const values = item.split('=');\n      if (values.length > 1) {\n        title = values[0];\n        format = values[1];\n      }\n      return {\n        title,\n        format\n      };\n    });\n    const buildBasicStaticDataset = data => ({\n      type: 'basic',\n      data\n    });\n    var Delimiter;\n    (function (Delimiter) {\n      Delimiter[Delimiter['SemiColon'] = 0] = 'SemiColon';\n      Delimiter[Delimiter['Space'] = 1] = 'Space';\n    }(Delimiter || (Delimiter = {})));\n    const split = (rawFormats, delimiter) => {\n      if (delimiter === Delimiter.SemiColon) {\n        return rawFormats.replace(/;$/, '').split(';');\n      } else {\n        return rawFormats.split(' ');\n      }\n    };\n    const buildBasicSettingsDataset = (editor, settingName, delimiter) => {\n      const rawFormats = editor.options.get(settingName);\n      const data = process(split(rawFormats, delimiter));\n      return {\n        type: 'basic',\n        data\n      };\n    };\n\n    const alignMenuItems = [\n      {\n        title: 'Left',\n        icon: 'align-left',\n        format: 'alignleft',\n        command: 'JustifyLeft'\n      },\n      {\n        title: 'Center',\n        icon: 'align-center',\n        format: 'aligncenter',\n        command: 'JustifyCenter'\n      },\n      {\n        title: 'Right',\n        icon: 'align-right',\n        format: 'alignright',\n        command: 'JustifyRight'\n      },\n      {\n        title: 'Justify',\n        icon: 'align-justify',\n        format: 'alignjustify',\n        command: 'JustifyFull'\n      }\n    ];\n    const getSpec$4 = editor => {\n      const getMatchingValue = () => find$5(alignMenuItems, item => editor.formatter.match(item.format));\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = _format => Optional.none;\n      const updateSelectMenuIcon = comp => {\n        const match = getMatchingValue();\n        const alignment = match.fold(constant$1('left'), item => item.title.toLowerCase());\n        emitWith(comp, updateMenuIcon, { icon: `align-${ alignment }` });\n      };\n      const dataset = buildBasicStaticDataset(alignMenuItems);\n      const onAction = rawItem => () => find$5(alignMenuItems, item => item.format === rawItem.format).each(item => editor.execCommand(item.command));\n      return {\n        tooltip: 'Align',\n        text: Optional.none(),\n        icon: Optional.some('align-left'),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuIcon,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createAlignButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$4(editor));\n    const createAlignMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$4(editor));\n      editor.ui.registry.addNestedMenuItem('align', {\n        text: backstage.shared.providers.translate('Align'),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const findNearest = (editor, getStyles) => {\n      const styles = getStyles();\n      const formats = map$2(styles, style => style.format);\n      return Optional.from(editor.formatter.closest(formats)).bind(fmt => find$5(styles, data => data.format === fmt)).orThunk(() => someIf(editor.formatter.match('p'), {\n        title: 'Paragraph',\n        format: 'p'\n      }));\n    };\n\n    const getSpec$3 = editor => {\n      const fallbackFormat = 'Paragraph';\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const detectedFormat = findNearest(editor, () => dataset.data);\n        const text = detectedFormat.fold(constant$1(fallbackFormat), fmt => fmt.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'block_formats', Delimiter.SemiColon);\n      return {\n        tooltip: 'Blocks',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createBlocksButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$3(editor));\n    const createBlocksMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$3(editor));\n      editor.ui.registry.addNestedMenuItem('blocks', {\n        text: 'Blocks',\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const systemStackFonts = [\n      '-apple-system',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica Neue',\n      'sans-serif'\n    ];\n    const splitFonts = fontFamily => {\n      const fonts = fontFamily.split(/\\s*,\\s*/);\n      return map$2(fonts, font => font.replace(/^['\"]+|['\"]+$/g, ''));\n    };\n    const isSystemFontStack = fontFamily => {\n      const matchesSystemStack = () => {\n        const fonts = splitFonts(fontFamily.toLowerCase());\n        return forall(systemStackFonts, font => fonts.indexOf(font.toLowerCase()) > -1);\n      };\n      return fontFamily.indexOf('-apple-system') === 0 && matchesSystemStack();\n    };\n    const getSpec$2 = editor => {\n      const systemFont = 'System Font';\n      const getMatchingValue = () => {\n        const getFirstFont = fontFamily => fontFamily ? splitFonts(fontFamily)[0] : '';\n        const fontFamily = editor.queryCommandValue('FontName');\n        const items = dataset.data;\n        const font = fontFamily ? fontFamily.toLowerCase() : '';\n        const matchOpt = find$5(items, item => {\n          const format = item.format;\n          return format.toLowerCase() === font || getFirstFont(format).toLowerCase() === getFirstFont(font).toLowerCase();\n        }).orThunk(() => {\n          return someIf(isSystemFontStack(font), {\n            title: systemFont,\n            format: font\n          });\n        });\n        return {\n          matchOpt,\n          font: fontFamily\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = item => () => Optional.some({\n        tag: 'div',\n        styles: item.indexOf('dings') === -1 ? { 'font-family': item } : {}\n      });\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontName', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, font} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(font), item => item.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_family_formats', Delimiter.SemiColon);\n      return {\n        tooltip: 'Fonts',\n        text: Optional.some(systemFont),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontFamilyButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$2(editor));\n    const createFontFamilyMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$2(editor));\n      editor.ui.registry.addNestedMenuItem('fontfamily', {\n        text: backstage.shared.providers.translate('Fonts'),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const legacyFontSizes = {\n      '8pt': '1',\n      '10pt': '2',\n      '12pt': '3',\n      '14pt': '4',\n      '18pt': '5',\n      '24pt': '6',\n      '36pt': '7'\n    };\n    const keywordFontSizes = {\n      'xx-small': '7pt',\n      'x-small': '8pt',\n      'small': '10pt',\n      'medium': '12pt',\n      'large': '14pt',\n      'x-large': '18pt',\n      'xx-large': '24pt'\n    };\n    const round = (number, precision) => {\n      const factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    const toPt = (fontSize, precision) => {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      } else {\n        return get$g(keywordFontSizes, fontSize).getOr(fontSize);\n      }\n    };\n    const toLegacy = fontSize => get$g(legacyFontSizes, fontSize).getOr('');\n    const getSpec$1 = editor => {\n      const getMatchingValue = () => {\n        let matchOpt = Optional.none();\n        const items = dataset.data;\n        const fontSize = editor.queryCommandValue('FontSize');\n        if (fontSize) {\n          for (let precision = 3; matchOpt.isNone() && precision >= 0; precision--) {\n            const pt = toPt(fontSize, precision);\n            const legacy = toLegacy(pt);\n            matchOpt = find$5(items, item => item.format === fontSize || item.format === pt || item.format === legacy);\n          }\n        }\n        return {\n          matchOpt,\n          size: fontSize\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = constant$1(Optional.none);\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontSize', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, size} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(size), match => match.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_size_formats', Delimiter.Space);\n      return {\n        tooltip: 'Font sizes',\n        text: Optional.some('12pt'),\n        icon: Optional.none(),\n        isSelectedFor,\n        getPreviewFor,\n        getCurrentValue,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontSizeButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$1(editor));\n    const createFontSizeMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$1(editor));\n      editor.ui.registry.addNestedMenuItem('fontsize', {\n        text: 'Font sizes',\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const getSpec = (editor, dataset) => {\n      const fallbackFormat = 'Paragraph';\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const updateSelectMenuText = comp => {\n        const getFormatItems = fmt => {\n          const subs = fmt.items;\n          return subs !== undefined && subs.length > 0 ? bind$3(subs, getFormatItems) : [{\n              title: fmt.title,\n              format: fmt.format\n            }];\n        };\n        const flattenedItems = bind$3(getStyleFormats(editor), getFormatItems);\n        const detectedFormat = findNearest(editor, constant$1(flattenedItems));\n        const text = detectedFormat.fold(constant$1(fallbackFormat), fmt => fmt.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      return {\n        tooltip: 'Formats',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        shouldHide: shouldAutoHideStyleFormats(editor),\n        isInvalid: item => !editor.formatter.canApply(item.format),\n        dataset\n      };\n    };\n    const createStylesButton = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      return createSelectButton(editor, backstage, getSpec(editor, dataset));\n    };\n    const createStylesMenu = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      const menuItems = createMenuItems(editor, backstage, getSpec(editor, dataset));\n      editor.ui.registry.addNestedMenuItem('styles', {\n        text: 'Formats',\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const events$3 = (reflectingConfig, reflectingState) => {\n      const update = (component, data) => {\n        reflectingConfig.updateState.each(updateState => {\n          const newState = updateState(component, data);\n          reflectingState.set(newState);\n        });\n        reflectingConfig.renderComponents.each(renderComponents => {\n          const newComponents = renderComponents(data, reflectingState.get());\n          const replacer = reflectingConfig.reuseDom ? withReuse : withoutReuse;\n          replacer(component, newComponents);\n        });\n      };\n      return derive$2([\n        run$1(receive(), (component, message) => {\n          const receivingData = message;\n          if (!receivingData.universal) {\n            const channel = reflectingConfig.channel;\n            if (contains$2(receivingData.channels, channel)) {\n              update(component, receivingData.data);\n            }\n          }\n        }),\n        runOnAttached((comp, _se) => {\n          reflectingConfig.initialData.each(rawData => {\n            update(comp, rawData);\n          });\n        })\n      ]);\n    };\n\n    var ActiveReflecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$3\n    });\n\n    const getState = (component, replaceConfig, reflectState) => reflectState;\n\n    var ReflectingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getState: getState\n    });\n\n    var ReflectingSchema = [\n      required$1('channel'),\n      option$3('renderComponents'),\n      option$3('updateState'),\n      option$3('initialData'),\n      defaultedBoolean('reuseDom', true)\n    ];\n\n    const init$3 = () => {\n      const cell = Cell(Optional.none());\n      const clear = () => cell.set(Optional.none());\n      const readState = () => cell.get().getOr('none');\n      return {\n        readState,\n        get: cell.get,\n        set: cell.set,\n        clear\n      };\n    };\n\n    var ReflectingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$3\n    });\n\n    const Reflecting = create$3({\n      fields: ReflectingSchema,\n      name: 'reflecting',\n      active: ActiveReflecting,\n      apis: ReflectingApis,\n      state: ReflectingState\n    });\n\n    const schema$7 = constant$1([\n      required$1('toggleClass'),\n      required$1('fetch'),\n      onStrictHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      onStrictHandler('onItemExecute'),\n      option$3('lazySink'),\n      required$1('dom'),\n      onHandler('onOpen'),\n      field('splitDropdownBehaviours', [\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      defaulted('eventOrder', {}),\n      option$3('role')\n    ].concat(sandboxFields()));\n    const arrowPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'arrow',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: arrow => {\n            arrow.getSystem().getByUid(detail.uid).each(emitExecute);\n          },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleOnExecute: false,\n              toggleClass: detail.toggleClass\n            })])\n        };\n      }\n    });\n    const buttonPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'button',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: btn => {\n            btn.getSystem().getByUid(detail.uid).each(splitDropdown => {\n              detail.onExecute(splitDropdown, btn);\n            });\n          }\n        };\n      }\n    });\n    const parts$3 = constant$1([\n      arrowPart,\n      buttonPart,\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: detail => {\n          return {\n            onExecute: (tmenu, item) => {\n              tmenu.getSystem().getByUid(detail.uid).each(splitDropdown => {\n                detail.onItemExecute(splitDropdown, tmenu, item);\n              });\n            }\n          };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$5 = (detail, components, spec, externals) => {\n      const switchToMenu = sandbox => {\n        Composing.getCurrent(sandbox).each(current => {\n          Highlighting.highlightFirst(current);\n          Keying.focusIn(current);\n        });\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup(detail, identity, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      const openMenu = comp => {\n        action(comp);\n        return Optional.some(true);\n      };\n      const executeOnButton = comp => {\n        const button = getPartOrDie(comp, detail, 'button');\n        emitExecute(button);\n        return Optional.some(true);\n      };\n      const buttonEvents = {\n        ...derive$2([runOnAttached((component, _simulatedEvent) => {\n            const ariaDescriptor = getPart(component, detail, 'aria-descriptor');\n            ariaDescriptor.each(descriptor => {\n              const descriptorId = generate$6('aria');\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(component.element, 'aria-describedby', descriptorId);\n            });\n          })]),\n        ...events$a(Optional.some(action))\n      };\n      const apis = {\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        events: buttonEvents,\n        behaviours: augment(detail.splitDropdownBehaviours, [\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                const arrow = getPartOrDie(hotspot, detail, 'arrow');\n                const extras = {\n                  onOpen: () => {\n                    Toggling.on(arrow);\n                    Toggling.on(hotspot);\n                  },\n                  onClose: () => {\n                    Toggling.off(arrow);\n                    Toggling.off(hotspot);\n                  }\n                };\n                return makeSandbox$1(detail, hotspot, extras);\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: executeOnButton,\n            onEnter: executeOnButton,\n            onDown: openMenu\n          }),\n          Focusing.config({}),\n          Toggling.config({\n            toggleOnExecute: false,\n            aria: { mode: 'expanded' }\n          })\n        ]),\n        domModification: {\n          attributes: {\n            'role': detail.role.getOr('button'),\n            'aria-haspopup': true\n          }\n        }\n      };\n    };\n    const SplitDropdown = composite({\n      name: 'SplitDropdown',\n      configFields: schema$7(),\n      partFields: parts$3(),\n      factory: factory$5,\n      apis: { repositionMenus: (apis, comp) => apis.repositionMenus(comp) }\n    });\n\n    const getButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state)\n    });\n    const getToggleApi = component => ({\n      setActive: state => {\n        Toggling.set(component, state);\n      },\n      isActive: () => Toggling.isOn(component),\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state)\n    });\n    const getTooltipAttributes = (tooltip, providersBackstage) => tooltip.map(tooltip => ({\n      'aria-label': providersBackstage.translate(tooltip),\n      'title': providersBackstage.translate(tooltip)\n    })).getOr({});\n    const focusButtonEvent = generate$6('focus-button');\n    const renderCommonStructure = (icon, text, tooltip, receiver, behaviours, providersBackstage) => {\n      return {\n        dom: {\n          tag: 'button',\n          classes: ['tox-tbtn'].concat(text.isSome() ? ['tox-tbtn--select'] : []),\n          attributes: getTooltipAttributes(tooltip, providersBackstage)\n        },\n        components: componentRenderPipeline([\n          icon.map(iconName => renderIconFromPack(iconName, providersBackstage.icons)),\n          text.map(text => renderLabel(text, 'tox-tbtn', providersBackstage))\n        ]),\n        eventOrder: {\n          [mousedown()]: [\n            'focusing',\n            'alloy.base.behaviour',\n            'common-button-display-events'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          DisablingConfigs.toolbarButton(providersBackstage.isDisabled),\n          receivingConfig(),\n          config('common-button-display-events', [run$1(mousedown(), (button, se) => {\n              se.event.prevent();\n              emit(button, focusButtonEvent);\n            })])\n        ].concat(receiver.map(r => Reflecting.config({\n          channel: r,\n          initialData: {\n            icon,\n            text\n          },\n          renderComponents: (data, _state) => componentRenderPipeline([\n            data.icon.map(iconName => renderIconFromPack(iconName, providersBackstage.icons)),\n            data.text.map(text => renderLabel(text, 'tox-tbtn', providersBackstage))\n          ])\n        })).toArray()).concat(behaviours.getOr([])))\n      };\n    };\n    const renderFloatingToolbarButton = (spec, backstage, identifyButtons, attributes) => {\n      const sharedBackstage = backstage.shared;\n      return FloatingToolbarButton.sketch({\n        lazySink: sharedBackstage.getSink,\n        fetch: () => Future.nu(resolve => {\n          resolve(map$2(identifyButtons(spec.items), renderToolbarGroup));\n        }),\n        markers: { toggledClass: 'tox-tbtn--enabled' },\n        parts: {\n          button: renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), sharedBackstage.providers),\n          toolbar: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes\n            }\n          }\n        }\n      });\n    };\n    const renderCommonToolbarButton = (spec, specialisation, providersBackstage) => {\n      const editorOffCell = Cell(noop);\n      const structure = renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), providersBackstage);\n      return Button.sketch({\n        dom: structure.dom,\n        components: structure.components,\n        eventOrder: toolbarButtonEventOrder,\n        buttonBehaviours: derive$1([\n          config('toolbar-button-events', [\n            onToolbarButtonExecute({\n              onAction: spec.onAction,\n              getApi: specialisation.getApi\n            }),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          DisablingConfigs.toolbarButton(() => !spec.enabled || providersBackstage.isDisabled()),\n          receivingConfig()\n        ].concat(specialisation.toolbarButtonBehaviours))\n      });\n    };\n    const renderToolbarButton = (spec, providersBackstage) => renderToolbarButtonWith(spec, providersBackstage, []);\n    const renderToolbarButtonWith = (spec, providersBackstage, bonusEvents) => renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: [].concat(bonusEvents.length > 0 ? [config('toolbarButtonWith', bonusEvents)] : []),\n      getApi: getButtonApi,\n      onSetup: spec.onSetup\n    }, providersBackstage);\n    const renderToolbarToggleButton = (spec, providersBackstage) => renderToolbarToggleButtonWith(spec, providersBackstage, []);\n    const renderToolbarToggleButtonWith = (spec, providersBackstage, bonusEvents) => deepMerge(renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: [\n        Replacing.config({}),\n        Toggling.config({\n          toggleClass: 'tox-tbtn--enabled',\n          aria: { mode: 'pressed' },\n          toggleOnExecute: false\n        })\n      ].concat(bonusEvents.length > 0 ? [config('toolbarToggleButtonWith', bonusEvents)] : []),\n      getApi: getToggleApi,\n      onSetup: spec.onSetup\n    }, providersBackstage));\n    const fetchChoices = (getApi, spec, providersBackstage) => comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n      spec.onItemAction(getApi(comp), value);\n    }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), providersBackstage), {\n      movement: deriveMenuMovement(spec.columns, spec.presets),\n      menuBehaviours: SimpleBehaviours.unnamedEvents(spec.columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n          detectSize(comp, 4, classForPreset(spec.presets)).each(({numRows, numColumns}) => {\n            Keying.setGridSize(comp, numRows, numColumns);\n          });\n        })])\n    }))));\n    const renderSplitButton = (spec, sharedBackstage) => {\n      const displayChannel = generate$6('channel-update-split-dropdown-display');\n      const getApi = comp => ({\n        isEnabled: () => !Disabling.isDisabled(comp),\n        setEnabled: state => Disabling.set(comp, !state),\n        setIconFill: (id, value) => {\n          descendant(comp.element, 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(underlinePath => {\n            set$9(underlinePath, 'fill', value);\n          });\n        },\n        setActive: state => {\n          set$9(comp.element, 'aria-pressed', state);\n          descendant(comp.element, 'span').each(button => {\n            comp.getSystem().getByDom(button).each(buttonComp => Toggling.set(buttonComp, state));\n          });\n        },\n        isActive: () => descendant(comp.element, 'span').exists(button => comp.getSystem().getByDom(button).exists(Toggling.isOn))\n      });\n      const editorOffCell = Cell(noop);\n      const specialisation = {\n        getApi,\n        onSetup: spec.onSetup\n      };\n      return SplitDropdown.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-split-button'],\n          attributes: {\n            'aria-pressed': false,\n            ...getTooltipAttributes(spec.tooltip, sharedBackstage.providers)\n          }\n        },\n        onExecute: button => {\n          spec.onAction(getApi(button));\n        },\n        onItemExecute: (_a, _b, _c) => {\n        },\n        splitDropdownBehaviours: derive$1([\n          DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          config('split-dropdown-events', [\n            run$1(focusButtonEvent, Focusing.focus),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          Unselecting.config({})\n        ]),\n        eventOrder: {\n          [attachedToDom()]: [\n            'alloy.base.behaviour',\n            'split-dropdown-events'\n          ]\n        },\n        toggleClass: 'tox-tbtn--enabled',\n        lazySink: sharedBackstage.getSink,\n        fetch: fetchChoices(getApi, spec, sharedBackstage.providers),\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        components: [\n          SplitDropdown.parts.button(renderCommonStructure(spec.icon, spec.text, Optional.none(), Optional.some(displayChannel), Optional.some([Toggling.config({\n              toggleClass: 'tox-tbtn--enabled',\n              toggleOnExecute: false\n            })]), sharedBackstage.providers)),\n          SplitDropdown.parts.arrow({\n            dom: {\n              tag: 'button',\n              classes: [\n                'tox-tbtn',\n                'tox-split-button__chevron'\n              ],\n              innerHtml: get$2('chevron-down', sharedBackstage.providers.icons)\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n              receivingConfig(),\n              addFocusableBehaviour()\n            ])\n          }),\n          SplitDropdown.parts['aria-descriptor']({ text: sharedBackstage.providers.translate('To open the popup, press Shift+Enter') })\n        ]\n      });\n    };\n\n    const defaultToolbar = [\n      {\n        name: 'history',\n        items: [\n          'undo',\n          'redo'\n        ]\n      },\n      {\n        name: 'styles',\n        items: ['styles']\n      },\n      {\n        name: 'formatting',\n        items: [\n          'bold',\n          'italic'\n        ]\n      },\n      {\n        name: 'alignment',\n        items: [\n          'alignleft',\n          'aligncenter',\n          'alignright',\n          'alignjustify'\n        ]\n      },\n      {\n        name: 'indentation',\n        items: [\n          'outdent',\n          'indent'\n        ]\n      },\n      {\n        name: 'permanent pen',\n        items: ['permanentpen']\n      },\n      {\n        name: 'comments',\n        items: ['addcomment']\n      }\n    ];\n    const renderFromBridge = (bridgeBuilder, render) => (spec, extras, editor) => {\n      const internal = bridgeBuilder(spec).mapError(errInfo => formatError(errInfo)).getOrDie();\n      return render(internal, extras, editor);\n    };\n    const types = {\n      button: renderFromBridge(createToolbarButton, (s, extras) => renderToolbarButton(s, extras.backstage.shared.providers)),\n      togglebutton: renderFromBridge(createToggleButton, (s, extras) => renderToolbarToggleButton(s, extras.backstage.shared.providers)),\n      menubutton: renderFromBridge(createMenuButton, (s, extras) => renderMenuButton(s, 'tox-tbtn', extras.backstage, Optional.none())),\n      splitbutton: renderFromBridge(createSplitButton, (s, extras) => renderSplitButton(s, extras.backstage.shared)),\n      grouptoolbarbutton: renderFromBridge(createGroupToolbarButton, (s, extras, editor) => {\n        const buttons = editor.ui.registry.getAll().buttons;\n        const identify = toolbar => identifyButtons(editor, {\n          buttons,\n          toolbar,\n          allowToolbarGroups: false\n        }, extras, Optional.none());\n        const attributes = { [Attribute]: extras.backstage.shared.header.isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop };\n        switch (getToolbarMode(editor)) {\n        case ToolbarMode$1.floating:\n          return renderFloatingToolbarButton(s, extras.backstage, identify, attributes);\n        default:\n          throw new Error('Toolbar groups are only supported when using floating toolbar mode');\n        }\n      }),\n      styleSelectButton: (editor, extras) => createStylesButton(editor, extras.backstage),\n      fontsizeSelectButton: (editor, extras) => createFontSizeButton(editor, extras.backstage),\n      fontSelectButton: (editor, extras) => createFontFamilyButton(editor, extras.backstage),\n      formatButton: (editor, extras) => createBlocksButton(editor, extras.backstage),\n      alignMenuButton: (editor, extras) => createAlignButton(editor, extras.backstage)\n    };\n    const extractFrom = (spec, extras, editor) => get$g(types, spec.type).fold(() => {\n      console.error('skipping button defined by', spec);\n      return Optional.none();\n    }, render => Optional.some(render(spec, extras, editor)));\n    const bespokeButtons = {\n      styles: types.styleSelectButton,\n      fontsize: types.fontsizeSelectButton,\n      fontfamily: types.fontSelectButton,\n      blocks: types.formatButton,\n      align: types.alignMenuButton\n    };\n    const removeUnusedDefaults = buttons => {\n      const filteredItemGroups = map$2(defaultToolbar, group => {\n        const items = filter$2(group.items, subItem => has$2(buttons, subItem) || has$2(bespokeButtons, subItem));\n        return {\n          name: group.name,\n          items\n        };\n      });\n      return filter$2(filteredItemGroups, group => group.items.length > 0);\n    };\n    const convertStringToolbar = strToolbar => {\n      const groupsStrings = strToolbar.split('|');\n      return map$2(groupsStrings, g => ({ items: g.trim().split(' ') }));\n    };\n    const isToolbarGroupSettingArray = toolbar => isArrayOf(toolbar, t => has$2(t, 'name') && has$2(t, 'items'));\n    const createToolbar = toolbarConfig => {\n      const toolbar = toolbarConfig.toolbar;\n      const buttons = toolbarConfig.buttons;\n      if (toolbar === false) {\n        return [];\n      } else if (toolbar === undefined || toolbar === true) {\n        return removeUnusedDefaults(buttons);\n      } else if (isString(toolbar)) {\n        return convertStringToolbar(toolbar);\n      } else if (isToolbarGroupSettingArray(toolbar)) {\n        return toolbar;\n      } else {\n        console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');\n        return [];\n      }\n    };\n    const lookupButton = (editor, buttons, toolbarItem, allowToolbarGroups, extras, prefixes) => get$g(buttons, toolbarItem.toLowerCase()).orThunk(() => prefixes.bind(ps => findMap(ps, prefix => get$g(buttons, prefix + toolbarItem.toLowerCase())))).fold(() => get$g(bespokeButtons, toolbarItem.toLowerCase()).map(r => r(editor, extras)).orThunk(() => Optional.none()), spec => {\n      if (spec.type === 'grouptoolbarbutton' && !allowToolbarGroups) {\n        console.warn(`Ignoring the '${ toolbarItem }' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`);\n        return Optional.none();\n      } else {\n        return extractFrom(spec, extras, editor);\n      }\n    });\n    const identifyButtons = (editor, toolbarConfig, extras, prefixes) => {\n      const toolbarGroups = createToolbar(toolbarConfig);\n      const groups = map$2(toolbarGroups, group => {\n        const items = bind$3(group.items, toolbarItem => toolbarItem.trim().length === 0 ? [] : lookupButton(editor, toolbarConfig.buttons, toolbarItem, toolbarConfig.allowToolbarGroups, extras, prefixes).toArray());\n        return {\n          title: Optional.from(editor.translate(group.name)),\n          items\n        };\n      });\n      return filter$2(groups, group => group.items.length > 0);\n    };\n\n    const setToolbar = (editor, uiComponents, rawUiConfig, backstage) => {\n      const comp = uiComponents.outerContainer;\n      const toolbarConfig = rawUiConfig.toolbar;\n      const toolbarButtonsConfig = rawUiConfig.buttons;\n      if (isArrayOf(toolbarConfig, isString)) {\n        const toolbars = toolbarConfig.map(t => {\n          const config = {\n            toolbar: t,\n            buttons: toolbarButtonsConfig,\n            allowToolbarGroups: rawUiConfig.allowToolbarGroups\n          };\n          return identifyButtons(editor, config, { backstage }, Optional.none());\n        });\n        OuterContainer.setToolbars(comp, toolbars);\n      } else {\n        OuterContainer.setToolbar(comp, identifyButtons(editor, rawUiConfig, { backstage }, Optional.none()));\n      }\n    };\n\n    const detection = detect$1();\n    const isiOS12 = detection.os.isiOS() && detection.os.version.major <= 12;\n    const setupEvents$1 = (editor, uiComponents) => {\n      const dom = editor.dom;\n      let contentWindow = editor.getWin();\n      const initialDocEle = editor.getDoc().documentElement;\n      const lastWindowDimensions = Cell(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n      const lastDocumentDimensions = Cell(SugarPosition(initialDocEle.offsetWidth, initialDocEle.offsetHeight));\n      const resizeWindow = () => {\n        const outer = lastWindowDimensions.get();\n        if (outer.left !== contentWindow.innerWidth || outer.top !== contentWindow.innerHeight) {\n          lastWindowDimensions.set(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const resizeDocument = () => {\n        const docEle = editor.getDoc().documentElement;\n        const inner = lastDocumentDimensions.get();\n        if (inner.left !== docEle.offsetWidth || inner.top !== docEle.offsetHeight) {\n          lastDocumentDimensions.set(SugarPosition(docEle.offsetWidth, docEle.offsetHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const scroll = e => fireScrollContent(editor, e);\n      dom.bind(contentWindow, 'resize', resizeWindow);\n      dom.bind(contentWindow, 'scroll', scroll);\n      const elementLoad = capture(SugarElement.fromDom(editor.getBody()), 'load', resizeDocument);\n      const mothership = uiComponents.uiMothership.element;\n      editor.on('hide', () => {\n        set$8(mothership, 'display', 'none');\n      });\n      editor.on('show', () => {\n        remove$6(mothership, 'display');\n      });\n      editor.on('NodeChange', resizeDocument);\n      editor.on('remove', () => {\n        elementLoad.unbind();\n        dom.unbind(contentWindow, 'resize', resizeWindow);\n        dom.unbind(contentWindow, 'scroll', scroll);\n        contentWindow = null;\n      });\n    };\n    const render$1 = (editor, uiComponents, rawUiConfig, backstage, args) => {\n      const lastToolbarWidth = Cell(0);\n      const outerContainer = uiComponents.outerContainer;\n      iframe(editor);\n      const eTargetNode = SugarElement.fromDom(args.targetNode);\n      const uiRoot = getContentContainer(getRootNode(eTargetNode));\n      attachSystemAfter(eTargetNode, uiComponents.mothership);\n      attachSystem(uiRoot, uiComponents.uiMothership);\n      editor.on('PostRender', () => {\n        OuterContainer.setSidebar(outerContainer, rawUiConfig.sidebar, getSidebarShow(editor));\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        lastToolbarWidth.set(editor.getWin().innerWidth);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        setupEvents$1(editor, uiComponents);\n      });\n      const socket = OuterContainer.getSocket(outerContainer).getOrDie('Could not find expected socket element');\n      if (isiOS12) {\n        setAll(socket.element, {\n          'overflow': 'scroll',\n          '-webkit-overflow-scrolling': 'touch'\n        });\n        const limit = first(() => {\n          editor.dispatch('ScrollContent');\n        }, 20);\n        const unbinder = bind(socket.element, 'scroll', limit.throttle);\n        editor.on('remove', unbinder.unbind);\n      }\n      setupReadonlyModeSwitch(editor, uiComponents);\n      editor.addCommand('ToggleSidebar', (_ui, value) => {\n        OuterContainer.toggleSidebar(outerContainer, value);\n        editor.dispatch('ToggleSidebar');\n      });\n      editor.addQueryValueHandler('ToggleSidebar', () => OuterContainer.whichSidebar(outerContainer));\n      const toolbarMode = getToolbarMode(editor);\n      const refreshDrawer = () => {\n        OuterContainer.refreshToolbar(uiComponents.outerContainer);\n      };\n      if (toolbarMode === ToolbarMode$1.sliding || toolbarMode === ToolbarMode$1.floating) {\n        editor.on('ResizeWindow ResizeEditor ResizeContent', () => {\n          const width = editor.getWin().innerWidth;\n          if (width !== lastToolbarWidth.get()) {\n            refreshDrawer();\n            lastToolbarWidth.set(width);\n          }\n        });\n      }\n      const api = {\n        setEnabled: state => {\n          broadcastReadonly(uiComponents, !state);\n        },\n        isEnabled: () => !Disabling.isDisabled(outerContainer)\n      };\n      return {\n        iframeContainer: socket.element.dom,\n        editorContainer: outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Iframe = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render$1\n    });\n\n    const parseToInt = val => {\n      const re = /^[0-9\\.]+(|px)$/i;\n      if (re.test('' + val)) {\n        return Optional.some(parseInt('' + val, 10));\n      }\n      return Optional.none();\n    };\n    const numToPx = val => isNumber(val) ? val + 'px' : val;\n    const calcCappedSize = (size, minSize, maxSize) => {\n      const minOverride = minSize.filter(min => size < min);\n      const maxOverride = maxSize.filter(max => size > max);\n      return minOverride.or(maxOverride).getOr(size);\n    };\n\n    const getHeight = editor => {\n      const baseHeight = getHeightOption(editor);\n      const minHeight = getMinHeightOption(editor);\n      const maxHeight = getMaxHeightOption(editor);\n      return parseToInt(baseHeight).map(height => calcCappedSize(height, minHeight, maxHeight));\n    };\n    const getHeightWithFallback = editor => {\n      const height = getHeight(editor);\n      return height.getOr(getHeightOption(editor));\n    };\n    const getWidth = editor => {\n      const baseWidth = getWidthOption(editor);\n      const minWidth = getMinWidthOption(editor);\n      const maxWidth = getMaxWidthOption(editor);\n      return parseToInt(baseWidth).map(width => calcCappedSize(width, minWidth, maxWidth));\n    };\n    const getWidthWithFallback = editor => {\n      const width = getWidth(editor);\n      return width.getOr(getWidthOption(editor));\n    };\n\n    const {ToolbarLocation, ToolbarMode} = Options;\n    const InlineHeader = (editor, targetElm, uiComponents, backstage, floatContainer) => {\n      const {uiMothership, outerContainer} = uiComponents;\n      const DOM = global$7.DOM;\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const isSticky = isStickyToolbar(editor);\n      const editorMaxWidthOpt = getMaxWidthOption(editor).or(getWidth(editor));\n      const headerBackstage = backstage.shared.header;\n      const isPositionedAtTop = headerBackstage.isPositionedAtTop;\n      const toolbarMode = getToolbarMode(editor);\n      const isSplitToolbar = toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating;\n      const visible = Cell(false);\n      const isVisible = () => visible.get() && !editor.removed;\n      const calcToolbarOffset = toolbar => isSplitToolbar ? toolbar.fold(constant$1(0), tbar => tbar.components().length > 1 ? get$d(tbar.components()[1].element) : 0) : 0;\n      const calcMode = container => {\n        switch (getToolbarLocation(editor)) {\n        case ToolbarLocation.auto:\n          const toolbar = OuterContainer.getToolbar(outerContainer);\n          const offset = calcToolbarOffset(toolbar);\n          const toolbarHeight = get$d(container.element) - offset;\n          const targetBounds = box$1(targetElm);\n          const roomAtTop = targetBounds.y > toolbarHeight;\n          if (roomAtTop) {\n            return 'top';\n          } else {\n            const doc = documentElement(targetElm);\n            const docHeight = Math.max(doc.dom.scrollHeight, get$d(doc));\n            const roomAtBottom = targetBounds.bottom < docHeight - toolbarHeight;\n            if (roomAtBottom) {\n              return 'bottom';\n            } else {\n              const winBounds = win();\n              const isRoomAtBottomViewport = winBounds.bottom < targetBounds.bottom - toolbarHeight;\n              return isRoomAtBottomViewport ? 'bottom' : 'top';\n            }\n          }\n        case ToolbarLocation.bottom:\n          return 'bottom';\n        case ToolbarLocation.top:\n        default:\n          return 'top';\n        }\n      };\n      const setupMode = mode => {\n        const container = floatContainer.get();\n        Docking.setModes(container, [mode]);\n        headerBackstage.setDockingMode(mode);\n        const verticalDir = isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop;\n        set$9(container.element, Attribute, verticalDir);\n      };\n      const updateChromeWidth = () => {\n        const maxWidth = editorMaxWidthOpt.getOrThunk(() => {\n          const bodyMargin = parseToInt(get$e(body(), 'margin-left')).getOr(0);\n          return get$c(body()) - absolute$3(targetElm).left + bodyMargin;\n        });\n        set$8(floatContainer.get().element, 'max-width', maxWidth + 'px');\n      };\n      const updateChromePosition = () => {\n        const toolbar = OuterContainer.getToolbar(outerContainer);\n        const offset = calcToolbarOffset(toolbar);\n        const targetBounds = box$1(targetElm);\n        const top = isPositionedAtTop() ? Math.max(targetBounds.y - get$d(floatContainer.get().element) + offset, 0) : targetBounds.bottom;\n        setAll(outerContainer.element, {\n          position: 'absolute',\n          top: Math.round(top) + 'px',\n          left: Math.round(targetBounds.x) + 'px'\n        });\n      };\n      const repositionPopups$1 = () => {\n        uiMothership.broadcastOn([repositionPopups()], {});\n      };\n      const updateChromeUi = (resetDocking = false) => {\n        if (!isVisible()) {\n          return;\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromeWidth();\n        }\n        if (isSplitToolbar) {\n          OuterContainer.refreshToolbar(outerContainer);\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromePosition();\n        }\n        if (isSticky) {\n          const floatContainerComp = floatContainer.get();\n          resetDocking ? Docking.reset(floatContainerComp) : Docking.refresh(floatContainerComp);\n        }\n        repositionPopups$1();\n      };\n      const updateMode = (updateUi = true) => {\n        if (useFixedToolbarContainer || !isSticky || !isVisible()) {\n          return;\n        }\n        const currentMode = headerBackstage.getDockingMode();\n        const newMode = calcMode(floatContainer.get());\n        if (newMode !== currentMode) {\n          setupMode(newMode);\n          if (updateUi) {\n            updateChromeUi(true);\n          }\n        }\n      };\n      const show = () => {\n        visible.set(true);\n        set$8(outerContainer.element, 'display', 'flex');\n        DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        remove$6(uiMothership.element, 'display');\n        updateMode(false);\n        updateChromeUi();\n      };\n      const hide = () => {\n        visible.set(false);\n        if (uiComponents.outerContainer) {\n          set$8(outerContainer.element, 'display', 'none');\n          DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        }\n        set$8(uiMothership.element, 'display', 'none');\n      };\n      return {\n        isVisible,\n        isPositionedAtTop,\n        show,\n        hide,\n        update: updateChromeUi,\n        updateMode,\n        repositionPopups: repositionPopups$1\n      };\n    };\n\n    const getTargetPosAndBounds = (targetElm, isToolbarTop) => {\n      const bounds = box$1(targetElm);\n      return {\n        pos: isToolbarTop ? bounds.y : bounds.bottom,\n        bounds\n      };\n    };\n    const setupEvents = (editor, targetElm, ui, toolbarPersist) => {\n      const prevPosAndBounds = Cell(getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()));\n      const resizeContent = e => {\n        const {pos, bounds} = getTargetPosAndBounds(targetElm, ui.isPositionedAtTop());\n        const {\n          pos: prevPos,\n          bounds: prevBounds\n        } = prevPosAndBounds.get();\n        const hasResized = bounds.height !== prevBounds.height || bounds.width !== prevBounds.width;\n        prevPosAndBounds.set({\n          pos,\n          bounds\n        });\n        if (hasResized) {\n          fireResizeContent(editor, e);\n        }\n        if (ui.isVisible()) {\n          if (prevPos !== pos) {\n            ui.update(true);\n          } else if (hasResized) {\n            ui.updateMode();\n            ui.repositionPopups();\n          }\n        }\n      };\n      if (!toolbarPersist) {\n        editor.on('activate', ui.show);\n        editor.on('deactivate', ui.hide);\n      }\n      editor.on('SkinLoaded ResizeWindow', () => ui.update(true));\n      editor.on('NodeChange keydown', e => {\n        requestAnimationFrame(() => resizeContent(e));\n      });\n      editor.on('ScrollWindow', () => ui.updateMode());\n      const elementLoad = unbindable();\n      elementLoad.set(capture(SugarElement.fromDom(editor.getBody()), 'load', resizeContent));\n      editor.on('remove', () => {\n        elementLoad.clear();\n      });\n    };\n    const render = (editor, uiComponents, rawUiConfig, backstage, args) => {\n      const {mothership, uiMothership, outerContainer} = uiComponents;\n      const floatContainer = Cell(null);\n      const targetElm = SugarElement.fromDom(args.targetNode);\n      const ui = InlineHeader(editor, targetElm, uiComponents, backstage, floatContainer);\n      const toolbarPersist = isToolbarPersist(editor);\n      inline(editor);\n      const render = () => {\n        if (floatContainer.get()) {\n          ui.show();\n          return;\n        }\n        floatContainer.set(OuterContainer.getHeader(outerContainer).getOrDie());\n        const uiContainer = getUiContainer(editor);\n        attachSystem(uiContainer, mothership);\n        attachSystem(uiContainer, uiMothership);\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        ui.show();\n        setupEvents(editor, targetElm, ui, toolbarPersist);\n        editor.nodeChanged();\n      };\n      editor.on('show', render);\n      editor.on('hide', ui.hide);\n      if (!toolbarPersist) {\n        editor.on('focus', render);\n        editor.on('blur', ui.hide);\n      }\n      editor.on('init', () => {\n        if (editor.hasFocus() || toolbarPersist) {\n          render();\n        }\n      });\n      setupReadonlyModeSwitch(editor, uiComponents);\n      const api = {\n        show: () => {\n          render();\n        },\n        hide: () => {\n          ui.hide();\n        },\n        setEnabled: state => {\n          broadcastReadonly(uiComponents, !state);\n        },\n        isEnabled: () => !Disabling.isDisabled(outerContainer)\n      };\n      return {\n        editorContainer: outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Inline = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render\n    });\n\n    const showContextToolbarEvent = 'contexttoolbar-show';\n    const hideContextToolbarEvent = 'contexttoolbar-hide';\n\n    const getFormApi = input => ({\n      hide: () => emit(input, sandboxClose()),\n      getValue: () => Representing.getValue(input)\n    });\n    const runOnExecute = (memInput, original) => run$1(internalToolbarButtonExecute, (comp, se) => {\n      const input = memInput.get(comp);\n      const formApi = getFormApi(input);\n      original.onAction(formApi, se.event.buttonApi);\n    });\n    const renderContextButton = (memInput, button, extras) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToolbarButton({\n        ...rest,\n        type: 'button',\n        onAction: noop\n      }));\n      return renderToolbarButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute(memInput, button)]);\n    };\n    const renderContextToggleButton = (memInput, button, extras) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToggleButton({\n        ...rest,\n        type: 'togglebutton',\n        onAction: noop\n      }));\n      return renderToolbarToggleButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute(memInput, button)]);\n    };\n    const generateOne = (memInput, button, providersBackstage) => {\n      const extras = { backstage: { shared: { providers: providersBackstage } } };\n      if (button.type === 'contextformtogglebutton') {\n        return renderContextToggleButton(memInput, button, extras);\n      } else {\n        return renderContextButton(memInput, button, extras);\n      }\n    };\n    const generate = (memInput, buttons, providersBackstage) => {\n      const mementos = map$2(buttons, button => record(generateOne(memInput, button, providersBackstage)));\n      const asSpecs = () => map$2(mementos, mem => mem.asSpec());\n      const findPrimary = compInSystem => findMap(buttons, (button, i) => {\n        if (button.primary) {\n          return Optional.from(mementos[i]).bind(mem => mem.getOpt(compInSystem)).filter(not(Disabling.isDisabled));\n        } else {\n          return Optional.none();\n        }\n      });\n      return {\n        asSpecs,\n        findPrimary\n      };\n    };\n\n    const buildInitGroups = (ctx, providers) => {\n      const inputAttributes = ctx.label.fold(() => ({}), label => ({ 'aria-label': label }));\n      const memInput = record(Input.sketch({\n        inputClasses: [\n          'tox-toolbar-textfield',\n          'tox-toolbar-nav-js'\n        ],\n        data: ctx.initValue(),\n        inputAttributes,\n        selectOnFocus: true,\n        inputBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onEnter: input => commands.findPrimary(input).map(primary => {\n              emitExecute(primary);\n              return true;\n            }),\n            onLeft: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            },\n            onRight: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            }\n          })])\n      }));\n      const commands = generate(memInput, ctx.commands, providers);\n      return [\n        {\n          title: Optional.none(),\n          items: [memInput.asSpec()]\n        },\n        {\n          title: Optional.none(),\n          items: commands.asSpecs()\n        }\n      ];\n    };\n    const renderContextForm = (toolbarType, ctx, providers) => renderToolbar({\n      type: toolbarType,\n      uid: generate$6('context-toolbar'),\n      initGroups: buildInitGroups(ctx, providers),\n      onEscape: Optional.none,\n      cyclicKeying: true,\n      providers\n    });\n    const ContextForm = {\n      renderContextForm,\n      buildInitGroups\n    };\n\n    const isVerticalOverlap = (a, b, threshold = 0.01) => b.bottom - a.y >= threshold && a.bottom - b.y >= threshold;\n    const getRangeRect = rng => {\n      const rect = rng.getBoundingClientRect();\n      if (rect.height <= 0 && rect.width <= 0) {\n        const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset).element;\n        const elm = isText(leaf$1) ? parent(leaf$1) : Optional.some(leaf$1);\n        return elm.filter(isElement$1).map(e => e.dom.getBoundingClientRect()).getOr(rect);\n      } else {\n        return rect;\n      }\n    };\n    const getSelectionBounds = editor => {\n      const rng = editor.selection.getRng();\n      const rect = getRangeRect(rng);\n      if (editor.inline) {\n        const scroll = get$b();\n        return bounds(scroll.left + rect.left, scroll.top + rect.top, rect.width, rect.height);\n      } else {\n        const bodyPos = absolute$2(SugarElement.fromDom(editor.getBody()));\n        return bounds(bodyPos.x + rect.left, bodyPos.y + rect.top, rect.width, rect.height);\n      }\n    };\n    const getAnchorElementBounds = (editor, lastElement) => lastElement.filter(inBody).map(absolute$2).getOrThunk(() => getSelectionBounds(editor));\n    const getHorizontalBounds = (contentAreaBox, viewportBounds, margin) => {\n      const x = Math.max(contentAreaBox.x + margin, viewportBounds.x);\n      const right = Math.min(contentAreaBox.right - margin, viewportBounds.right);\n      return {\n        x,\n        width: right - x\n      };\n    };\n    const getVerticalBounds = (editor, contentAreaBox, viewportBounds, isToolbarLocationTop, toolbarType, margin) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const header = descendant(container, '.tox-editor-header').getOr(container);\n      const headerBox = box$1(header);\n      const isToolbarBelowContentArea = headerBox.y >= contentAreaBox.bottom;\n      const isToolbarAbove = isToolbarLocationTop && !isToolbarBelowContentArea;\n      if (editor.inline && isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: viewportBounds.bottom\n        };\n      }\n      if (editor.inline && !isToolbarAbove) {\n        return {\n          y: viewportBounds.y,\n          bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n        };\n      }\n      const containerBounds = toolbarType === 'line' ? box$1(container) : contentAreaBox;\n      if (isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: Math.min(containerBounds.bottom - margin, viewportBounds.bottom)\n        };\n      }\n      return {\n        y: Math.max(containerBounds.y + margin, viewportBounds.y),\n        bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n      };\n    };\n    const getContextToolbarBounds = (editor, sharedBackstage, toolbarType, margin = 0) => {\n      const viewportBounds = getBounds$3(window);\n      const contentAreaBox = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n      const toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n      const {x, width} = getHorizontalBounds(contentAreaBox, viewportBounds, margin);\n      if (editor.inline && !toolbarOrMenubarEnabled) {\n        return bounds(x, viewportBounds.y, width, viewportBounds.height);\n      } else {\n        const isToolbarTop = sharedBackstage.header.isPositionedAtTop();\n        const {y, bottom} = getVerticalBounds(editor, contentAreaBox, viewportBounds, isToolbarTop, toolbarType, margin);\n        return bounds(x, y, width, bottom - y);\n      }\n    };\n\n    const bubbleSize$1 = 12;\n    const bubbleAlignments$1 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top'],\n      inset: ['tox-pop--inset']\n    };\n    const anchorOverrides = {\n      maxHeightFunction: expandable$1(),\n      maxWidthFunction: expandable()\n    };\n    const isEntireElementSelected = (editor, elem) => {\n      const rng = editor.selection.getRng();\n      const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      return rng.startContainer === rng.endContainer && rng.startOffset === rng.endOffset - 1 && eq(leaf$1.element, elem);\n    };\n    const preservePosition = (elem, position, f) => {\n      const currentPosition = getRaw(elem, 'position');\n      set$8(elem, 'position', position);\n      const result = f(elem);\n      currentPosition.each(pos => set$8(elem, 'position', pos));\n      return result;\n    };\n    const shouldUseInsetLayouts = position => position === 'node';\n    const determineInsetLayout = (editor, contextbar, elem, data, bounds) => {\n      const selectionBounds = getSelectionBounds(editor);\n      const isSameAnchorElement = data.lastElement().exists(prev => eq(elem, prev));\n      if (isEntireElementSelected(editor, elem)) {\n        return isSameAnchorElement ? preserve : north;\n      } else if (isSameAnchorElement) {\n        return preservePosition(contextbar, data.getMode(), () => {\n          const isOverlapping = isVerticalOverlap(selectionBounds, box$1(contextbar));\n          return isOverlapping && !data.isReposition() ? flip : preserve;\n        });\n      } else {\n        const yBounds = data.getMode() === 'fixed' ? bounds.y + get$b().top : bounds.y;\n        const contextbarHeight = get$d(contextbar) + bubbleSize$1;\n        return yBounds + contextbarHeight <= selectionBounds.y ? north : south;\n      }\n    };\n    const getAnchorSpec$2 = (editor, mobile, data, position) => {\n      const smartInsetLayout = elem => (anchor, element, bubbles, placee, bounds) => {\n        const layout = determineInsetLayout(editor, placee, elem, data, bounds);\n        const newAnchor = {\n          ...anchor,\n          y: bounds.y,\n          height: bounds.height\n        };\n        return {\n          ...layout(newAnchor, element, bubbles, placee, bounds),\n          alwaysFit: true\n        };\n      };\n      const getInsetLayouts = elem => shouldUseInsetLayouts(position) ? [smartInsetLayout(elem)] : [];\n      const desktopAnchorSpecLayouts = {\n        onLtr: elem => [\n          north$2,\n          south$2,\n          northeast$2,\n          southeast$2,\n          northwest$2,\n          southwest$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          north$2,\n          south$2,\n          northwest$2,\n          southwest$2,\n          northeast$2,\n          southeast$2\n        ].concat(getInsetLayouts(elem))\n      };\n      const mobileAnchorSpecLayouts = {\n        onLtr: elem => [\n          south$2,\n          southeast$2,\n          southwest$2,\n          northeast$2,\n          northwest$2,\n          north$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          south$2,\n          southwest$2,\n          southeast$2,\n          northwest$2,\n          northeast$2,\n          north$2\n        ].concat(getInsetLayouts(elem))\n      };\n      return mobile ? mobileAnchorSpecLayouts : desktopAnchorSpecLayouts;\n    };\n    const getAnchorLayout = (editor, position, isTouch, data) => {\n      if (position === 'line') {\n        return {\n          bubble: nu$5(bubbleSize$1, 0, bubbleAlignments$1),\n          layouts: {\n            onLtr: () => [east$2],\n            onRtl: () => [west$2]\n          },\n          overrides: anchorOverrides\n        };\n      } else {\n        return {\n          bubble: nu$5(0, bubbleSize$1, bubbleAlignments$1, 1 / bubbleSize$1),\n          layouts: getAnchorSpec$2(editor, isTouch, data, position),\n          overrides: anchorOverrides\n        };\n      }\n    };\n\n    const matchTargetWith = (elem, candidates) => {\n      const ctxs = filter$2(candidates, toolbarApi => toolbarApi.predicate(elem.dom));\n      const {pass, fail} = partition$3(ctxs, t => t.type === 'contexttoolbar');\n      return {\n        contextToolbars: pass,\n        contextForms: fail\n      };\n    };\n    const filterByPositionForStartNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const doesPositionExist = value => exists(toolbars, t => t.position === value);\n        const filterToolbarsByPosition = value => filter$2(toolbars, t => t.position === value);\n        const hasSelectionToolbars = doesPositionExist('selection');\n        const hasNodeToolbars = doesPositionExist('node');\n        if (hasSelectionToolbars || hasNodeToolbars) {\n          if (hasNodeToolbars && hasSelectionToolbars) {\n            const nodeToolbars = filterToolbarsByPosition('node');\n            const selectionToolbars = map$2(filterToolbarsByPosition('selection'), t => ({\n              ...t,\n              position: 'node'\n            }));\n            return nodeToolbars.concat(selectionToolbars);\n          } else {\n            return hasSelectionToolbars ? filterToolbarsByPosition('selection') : filterToolbarsByPosition('node');\n          }\n        } else {\n          return filterToolbarsByPosition('line');\n        }\n      }\n    };\n    const filterByPositionForAncestorNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const findPosition = value => find$5(toolbars, t => t.position === value);\n        const basePosition = findPosition('selection').orThunk(() => findPosition('node')).orThunk(() => findPosition('line')).map(t => t.position);\n        return basePosition.fold(() => [], pos => filter$2(toolbars, t => t.position === pos));\n      }\n    };\n    const matchStartNode = (elem, nodeCandidates, editorCandidates) => {\n      const nodeMatches = matchTargetWith(elem, nodeCandidates);\n      if (nodeMatches.contextForms.length > 0) {\n        return Optional.some({\n          elem,\n          toolbars: [nodeMatches.contextForms[0]]\n        });\n      } else {\n        const editorMatches = matchTargetWith(elem, editorCandidates);\n        if (editorMatches.contextForms.length > 0) {\n          return Optional.some({\n            elem,\n            toolbars: [editorMatches.contextForms[0]]\n          });\n        } else if (nodeMatches.contextToolbars.length > 0 || editorMatches.contextToolbars.length > 0) {\n          const toolbars = filterByPositionForStartNode(nodeMatches.contextToolbars.concat(editorMatches.contextToolbars));\n          return Optional.some({\n            elem,\n            toolbars\n          });\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    const matchAncestor = (isRoot, startNode, scopes) => {\n      if (isRoot(startNode)) {\n        return Optional.none();\n      } else {\n        return ancestor$2(startNode, ancestorElem => {\n          if (isElement$1(ancestorElem)) {\n            const {contextToolbars, contextForms} = matchTargetWith(ancestorElem, scopes.inNodeScope);\n            const toolbars = contextForms.length > 0 ? contextForms : filterByPositionForAncestorNode(contextToolbars);\n            return toolbars.length > 0 ? Optional.some({\n              elem: ancestorElem,\n              toolbars\n            }) : Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }, isRoot);\n      }\n    };\n    const lookup$1 = (scopes, editor) => {\n      const rootElem = SugarElement.fromDom(editor.getBody());\n      const isRoot = elem => eq(elem, rootElem);\n      const isOutsideRoot = startNode => !isRoot(startNode) && !contains(rootElem, startNode);\n      const startNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isOutsideRoot(startNode)) {\n        return Optional.none();\n      }\n      return matchStartNode(startNode, scopes.inNodeScope, scopes.inEditorScope).orThunk(() => matchAncestor(isRoot, startNode, scopes));\n    };\n\n    const categorise = (contextToolbars, navigate) => {\n      const forms = {};\n      const inNodeScope = [];\n      const inEditorScope = [];\n      const formNavigators = {};\n      const lookupTable = {};\n      const registerForm = (key, toolbarSpec) => {\n        const contextForm = getOrDie(createContextForm(toolbarSpec));\n        forms[key] = contextForm;\n        contextForm.launch.map(launch => {\n          formNavigators['form:' + key + ''] = {\n            ...toolbarSpec.launch,\n            type: launch.type === 'contextformtogglebutton' ? 'togglebutton' : 'button',\n            onAction: () => {\n              navigate(contextForm);\n            }\n          };\n        });\n        if (contextForm.scope === 'editor') {\n          inEditorScope.push(contextForm);\n        } else {\n          inNodeScope.push(contextForm);\n        }\n        lookupTable[key] = contextForm;\n      };\n      const registerToolbar = (key, toolbarSpec) => {\n        createContextToolbar(toolbarSpec).each(contextToolbar => {\n          if (toolbarSpec.scope === 'editor') {\n            inEditorScope.push(contextToolbar);\n          } else {\n            inNodeScope.push(contextToolbar);\n          }\n          lookupTable[key] = contextToolbar;\n        });\n      };\n      const keys$1 = keys(contextToolbars);\n      each$1(keys$1, key => {\n        const toolbarApi = contextToolbars[key];\n        if (toolbarApi.type === 'contextform') {\n          registerForm(key, toolbarApi);\n        } else if (toolbarApi.type === 'contexttoolbar') {\n          registerToolbar(key, toolbarApi);\n        }\n      });\n      return {\n        forms,\n        inNodeScope,\n        inEditorScope,\n        lookupTable,\n        formNavigators\n      };\n    };\n\n    const forwardSlideEvent = generate$6('forward-slide');\n    const backSlideEvent = generate$6('backward-slide');\n    const changeSlideEvent = generate$6('change-slide-event');\n    const resizingClass = 'tox-pop--resizing';\n    const renderContextToolbar = spec => {\n      const stack = Cell([]);\n      return InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop']\n        },\n        fireDismissalEventInstead: { event: 'doNotDismissYet' },\n        onShow: comp => {\n          stack.set([]);\n          InlineView.getContent(comp).each(c => {\n            remove$6(c.element, 'visibility');\n          });\n          remove$2(comp.element, resizingClass);\n          remove$6(comp.element, 'width');\n        },\n        inlineBehaviours: derive$1([\n          config('context-toolbar-events', [\n            runOnSource(transitionend(), (comp, se) => {\n              if (se.event.raw.propertyName === 'width') {\n                remove$2(comp.element, resizingClass);\n                remove$6(comp.element, 'width');\n              }\n            }),\n            run$1(changeSlideEvent, (comp, se) => {\n              const elem = comp.element;\n              remove$6(elem, 'width');\n              const currentWidth = get$c(elem);\n              InlineView.setContent(comp, se.event.contents);\n              add$2(elem, resizingClass);\n              const newWidth = get$c(elem);\n              set$8(elem, 'width', currentWidth + 'px');\n              InlineView.getContent(comp).each(newContents => {\n                se.event.focus.bind(f => {\n                  focus$3(f);\n                  return search(elem);\n                }).orThunk(() => {\n                  Keying.focusIn(newContents);\n                  return active$1(getRootNode(elem));\n                });\n              });\n              setTimeout(() => {\n                set$8(comp.element, 'width', newWidth + 'px');\n              }, 0);\n            }),\n            run$1(forwardSlideEvent, (comp, se) => {\n              InlineView.getContent(comp).each(oldContents => {\n                stack.set(stack.get().concat([{\n                    bar: oldContents,\n                    focus: active$1(getRootNode(comp.element))\n                  }]));\n              });\n              emitWith(comp, changeSlideEvent, {\n                contents: se.event.forwardContents,\n                focus: Optional.none()\n              });\n            }),\n            run$1(backSlideEvent, (comp, _se) => {\n              last$1(stack.get()).each(last => {\n                stack.set(stack.get().slice(0, stack.get().length - 1));\n                emitWith(comp, changeSlideEvent, {\n                  contents: premade(last.bar),\n                  focus: last.focus\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => last$1(stack.get()).fold(() => spec.onEscape(), _ => {\n              emit(comp, backSlideEvent);\n              return Optional.some(true);\n            })\n          })\n        ]),\n        lazySink: () => Result.value(spec.sink)\n      });\n    };\n\n    const transitionClass = 'tox-pop--transition';\n    const register$9 = (editor, registryContextToolbars, sink, extras) => {\n      const backstage = extras.backstage;\n      const sharedBackstage = backstage.shared;\n      const isTouch = detect$1().deviceType.isTouch;\n      const lastElement = value$2();\n      const lastTrigger = value$2();\n      const lastContextPosition = value$2();\n      const contextbar = build$1(renderContextToolbar({\n        sink,\n        onEscape: () => {\n          editor.focus();\n          return Optional.some(true);\n        }\n      }));\n      const getBounds = () => {\n        const position = lastContextPosition.get().getOr('node');\n        const margin = shouldUseInsetLayouts(position) ? 1 : 0;\n        return getContextToolbarBounds(editor, sharedBackstage, position, margin);\n      };\n      const canLaunchToolbar = () => {\n        return !editor.removed && !(isTouch() && backstage.isContextMenuOpen());\n      };\n      const isSameLaunchElement = elem => is$1(lift2(elem, lastElement.get(), eq), true);\n      const shouldContextToolbarHide = () => {\n        if (!canLaunchToolbar()) {\n          return true;\n        } else {\n          const contextToolbarBounds = getBounds();\n          const anchorBounds = is$1(lastContextPosition.get(), 'node') ? getAnchorElementBounds(editor, lastElement.get()) : getSelectionBounds(editor);\n          return contextToolbarBounds.height <= 0 || !isVerticalOverlap(anchorBounds, contextToolbarBounds);\n        }\n      };\n      const close = () => {\n        lastElement.clear();\n        lastTrigger.clear();\n        lastContextPosition.clear();\n        InlineView.hide(contextbar);\n      };\n      const hideOrRepositionIfNecessary = () => {\n        if (InlineView.isOpen(contextbar)) {\n          const contextBarEle = contextbar.element;\n          remove$6(contextBarEle, 'display');\n          if (shouldContextToolbarHide()) {\n            set$8(contextBarEle, 'display', 'none');\n          } else {\n            lastTrigger.set(0);\n            InlineView.reposition(contextbar);\n          }\n        }\n      };\n      const wrapInPopDialog = toolbarSpec => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop__dialog']\n        },\n        components: [toolbarSpec],\n        behaviours: derive$1([\n          Keying.config({ mode: 'acyclic' }),\n          config('pop-dialog-wrap-events', [\n            runOnAttached(comp => {\n              editor.shortcuts.add('ctrl+F9', 'focus statusbar', () => Keying.focusIn(comp));\n            }),\n            runOnDetached(_comp => {\n              editor.shortcuts.remove('ctrl+F9');\n            })\n          ])\n        ])\n      });\n      const getScopes = cached(() => categorise(registryContextToolbars, toolbarApi => {\n        const alloySpec = buildToolbar([toolbarApi]);\n        emitWith(contextbar, forwardSlideEvent, { forwardContents: wrapInPopDialog(alloySpec) });\n      }));\n      const buildContextToolbarGroups = (allButtons, ctx) => identifyButtons(editor, {\n        buttons: allButtons,\n        toolbar: ctx.items,\n        allowToolbarGroups: false\n      }, extras, Optional.some(['form:']));\n      const buildContextFormGroups = (ctx, providers) => ContextForm.buildInitGroups(ctx, providers);\n      const buildToolbar = toolbars => {\n        const {buttons} = editor.ui.registry.getAll();\n        const scopes = getScopes();\n        const allButtons = {\n          ...buttons,\n          ...scopes.formNavigators\n        };\n        const toolbarType = getToolbarMode(editor) === ToolbarMode$1.scrolling ? ToolbarMode$1.scrolling : ToolbarMode$1.default;\n        const initGroups = flatten(map$2(toolbars, ctx => ctx.type === 'contexttoolbar' ? buildContextToolbarGroups(allButtons, ctx) : buildContextFormGroups(ctx, sharedBackstage.providers)));\n        return renderToolbar({\n          type: toolbarType,\n          uid: generate$6('context-toolbar'),\n          initGroups,\n          onEscape: Optional.none,\n          cyclicKeying: true,\n          providers: sharedBackstage.providers\n        });\n      };\n      const getAnchor = (position, element) => {\n        const anchorage = position === 'node' ? sharedBackstage.anchors.node(element) : sharedBackstage.anchors.cursor();\n        const anchorLayout = getAnchorLayout(editor, position, isTouch(), {\n          lastElement: lastElement.get,\n          isReposition: () => is$1(lastTrigger.get(), 0),\n          getMode: () => Positioning.getMode(sink)\n        });\n        return deepMerge(anchorage, anchorLayout);\n      };\n      const launchContext = (toolbarApi, elem) => {\n        launchContextToolbar.cancel();\n        if (!canLaunchToolbar()) {\n          return;\n        }\n        const toolbarSpec = buildToolbar(toolbarApi);\n        const position = toolbarApi[0].position;\n        const anchor = getAnchor(position, elem);\n        lastContextPosition.set(position);\n        lastTrigger.set(1);\n        const contextBarEle = contextbar.element;\n        remove$6(contextBarEle, 'display');\n        if (!isSameLaunchElement(elem)) {\n          remove$2(contextBarEle, transitionClass);\n          Positioning.reset(sink, contextbar);\n        }\n        InlineView.showWithinBounds(contextbar, wrapInPopDialog(toolbarSpec), {\n          anchor,\n          transition: {\n            classes: [transitionClass],\n            mode: 'placement'\n          }\n        }, () => Optional.some(getBounds()));\n        elem.fold(lastElement.clear, lastElement.set);\n        if (shouldContextToolbarHide()) {\n          set$8(contextBarEle, 'display', 'none');\n        }\n      };\n      const launchContextToolbar = last(() => {\n        if (!editor.hasFocus() || editor.removed) {\n          return;\n        }\n        if (has(contextbar.element, transitionClass)) {\n          launchContextToolbar.throttle();\n        } else {\n          const scopes = getScopes();\n          lookup$1(scopes, editor).fold(close, info => {\n            launchContext(info.toolbars, Optional.some(info.elem));\n          });\n        }\n      }, 17);\n      editor.on('init', () => {\n        editor.on('remove', close);\n        editor.on('ScrollContent ScrollWindow ObjectResized ResizeEditor longpress', hideOrRepositionIfNecessary);\n        editor.on('click keyup focus SetContent', launchContextToolbar.throttle);\n        editor.on(hideContextToolbarEvent, close);\n        editor.on(showContextToolbarEvent, e => {\n          const scopes = getScopes();\n          get$g(scopes.lookupTable, e.toolbarKey).each(ctx => {\n            launchContext([ctx], someIf(e.target !== editor, e.target));\n            InlineView.getContent(contextbar).each(Keying.focusIn);\n          });\n        });\n        editor.on('focusout', _e => {\n          global$9.setEditorTimeout(editor, () => {\n            if (search(sink.element).isNone() && search(contextbar.element).isNone()) {\n              close();\n            }\n          }, 0);\n        });\n        editor.on('SwitchMode', () => {\n          if (editor.mode.isReadOnly()) {\n            close();\n          }\n        });\n        editor.on('AfterProgressState', event => {\n          if (event.state) {\n            close();\n          } else if (editor.hasFocus()) {\n            launchContextToolbar.throttle();\n          }\n        });\n        editor.on('NodeChange', _e => {\n          search(contextbar.element).fold(launchContextToolbar.throttle, noop);\n        });\n      });\n    };\n\n    const register$8 = editor => {\n      const alignToolbarButtons = [\n        {\n          name: 'alignleft',\n          text: 'Align left',\n          cmd: 'JustifyLeft',\n          icon: 'align-left'\n        },\n        {\n          name: 'aligncenter',\n          text: 'Align center',\n          cmd: 'JustifyCenter',\n          icon: 'align-center'\n        },\n        {\n          name: 'alignright',\n          text: 'Align right',\n          cmd: 'JustifyRight',\n          icon: 'align-right'\n        },\n        {\n          name: 'alignjustify',\n          text: 'Justify',\n          cmd: 'JustifyFull',\n          icon: 'align-justify'\n        }\n      ];\n      each$1(alignToolbarButtons, item => {\n        editor.ui.registry.addToggleButton(item.name, {\n          tooltip: item.text,\n          icon: item.icon,\n          onAction: onActionExecCommand(editor, item.cmd),\n          onSetup: onSetupFormatToggle(editor, item.name)\n        });\n      });\n      editor.ui.registry.addButton('alignnone', {\n        tooltip: 'No alignment',\n        icon: 'align-none',\n        onAction: onActionExecCommand(editor, 'JustifyNone')\n      });\n    };\n\n    const units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    const pattern = (() => {\n      const decimalDigits = '[0-9]+';\n      const signedInteger = '[+-]?' + decimalDigits;\n      const exponentPart = '[eE]' + signedInteger;\n      const dot = '\\\\.';\n      const opt = input => `(?:${ input })?`;\n      const unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      const float = `[+-]?(?:${ unsignedDecimalLiteral })`;\n      return new RegExp(`^(${ float })(.*)$`);\n    })();\n    const isUnit = (unit, accepted) => exists(accepted, acc => exists(units[acc], check => unit === check));\n    const parse = (input, accepted) => {\n      const match = Optional.from(pattern.exec(input));\n      return match.bind(array => {\n        const value = Number(array[1]);\n        const unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const normalise = (input, accepted) => parse(input, accepted).map(({value, unit}) => value + unit);\n\n    const registerController = (editor, spec) => {\n      const getMenuItems = () => {\n        const options = spec.getOptions(editor);\n        const initial = spec.getCurrent(editor).map(spec.hash);\n        const current = value$2();\n        return map$2(options, value => ({\n          type: 'togglemenuitem',\n          text: spec.display(value),\n          onSetup: api => {\n            const setActive = active => {\n              if (active) {\n                current.on(oldApi => oldApi.setActive(false));\n                current.set(api);\n              }\n              api.setActive(active);\n            };\n            setActive(is$1(initial, spec.hash(value)));\n            const unbindWatcher = spec.watcher(editor, value, setActive);\n            return () => {\n              current.clear();\n              unbindWatcher();\n            };\n          },\n          onAction: () => spec.setCurrent(editor, value)\n        }));\n      };\n      editor.ui.registry.addMenuButton(spec.name, {\n        tooltip: spec.text,\n        icon: spec.icon,\n        fetch: callback => callback(getMenuItems()),\n        onSetup: spec.onToolbarSetup\n      });\n      editor.ui.registry.addNestedMenuItem(spec.name, {\n        type: 'nestedmenuitem',\n        text: spec.text,\n        getSubmenuItems: getMenuItems,\n        onSetup: spec.onMenuSetup\n      });\n    };\n    const lineHeightSpec = {\n      name: 'lineheight',\n      text: 'Line height',\n      icon: 'line-height',\n      getOptions: getLineHeightFormats,\n      hash: input => normalise(input, [\n        'fixed',\n        'relative',\n        'empty'\n      ]).getOr(input),\n      display: identity,\n      watcher: (editor, value, callback) => editor.formatter.formatChanged('lineheight', callback, false, { value }).unbind,\n      getCurrent: editor => Optional.from(editor.queryCommandValue('LineHeight')),\n      setCurrent: (editor, value) => editor.execCommand('LineHeight', false, value)\n    };\n    const languageSpec = editor => {\n      const settingsOpt = Optional.from(getContentLanguages(editor));\n      return settingsOpt.map(settings => ({\n        name: 'language',\n        text: 'Language',\n        icon: 'language',\n        getOptions: constant$1(settings),\n        hash: input => isUndefined(input.customCode) ? input.code : `${ input.code }/${ input.customCode }`,\n        display: input => input.title,\n        watcher: (editor, value, callback) => editor.formatter.formatChanged('lang', callback, false, {\n          value: value.code,\n          customValue: value.customCode\n        }).unbind,\n        getCurrent: editor => {\n          const node = SugarElement.fromDom(editor.selection.getNode());\n          return closest$4(node, n => Optional.some(n).filter(isElement$1).bind(ele => {\n            const codeOpt = getOpt(ele, 'lang');\n            return codeOpt.map(code => {\n              const customCode = getOpt(ele, 'data-mce-lang').getOrUndefined();\n              return {\n                code,\n                customCode,\n                title: ''\n              };\n            });\n          }));\n        },\n        setCurrent: (editor, lang) => editor.execCommand('Lang', false, lang),\n        onToolbarSetup: api => {\n          const unbinder = unbindable();\n          api.setActive(editor.formatter.match('lang', {}, undefined, true));\n          unbinder.set(editor.formatter.formatChanged('lang', api.setActive, true));\n          return unbinder.clear;\n        }\n      }));\n    };\n    const register$7 = editor => {\n      registerController(editor, lineHeightSpec);\n      languageSpec(editor).each(spec => registerController(editor, spec));\n    };\n\n    const register$6 = (editor, backstage) => {\n      createAlignMenu(editor, backstage);\n      createFontFamilyMenu(editor, backstage);\n      createStylesMenu(editor, backstage);\n      createBlocksMenu(editor, backstage);\n      createFontSizeMenu(editor, backstage);\n    };\n\n    const onSetupOutdentState = editor => onSetupEvent(editor, 'NodeChange', api => {\n      api.setEnabled(editor.queryCommandState('outdent'));\n    });\n    const registerButtons$2 = editor => {\n      editor.ui.registry.addButton('outdent', {\n        tooltip: 'Decrease indent',\n        icon: 'outdent',\n        onSetup: onSetupOutdentState(editor),\n        onAction: onActionExecCommand(editor, 'outdent')\n      });\n      editor.ui.registry.addButton('indent', {\n        tooltip: 'Increase indent',\n        icon: 'indent',\n        onAction: onActionExecCommand(editor, 'indent')\n      });\n    };\n    const register$5 = editor => {\n      registerButtons$2(editor);\n    };\n\n    const makeSetupHandler = (editor, pasteAsText) => api => {\n      api.setActive(pasteAsText.get());\n      const pastePlainTextToggleHandler = e => {\n        pasteAsText.set(e.state);\n        api.setActive(e.state);\n      };\n      editor.on('PastePlainTextToggle', pastePlainTextToggleHandler);\n      return () => editor.off('PastePlainTextToggle', pastePlainTextToggleHandler);\n    };\n    const register$4 = editor => {\n      const pasteAsText = Cell(getPasteAsText(editor));\n      const onAction = () => editor.execCommand('mceTogglePlainTextPaste');\n      editor.ui.registry.addToggleButton('pastetext', {\n        active: false,\n        icon: 'paste-text',\n        tooltip: 'Paste as text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n      editor.ui.registry.addToggleMenuItem('pastetext', {\n        text: 'Paste as text',\n        icon: 'paste-text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n    };\n\n    const onActionToggleFormat = (editor, fmt) => () => {\n      editor.execCommand('mceToggleFormat', false, fmt);\n    };\n    const registerFormatButtons = editor => {\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          icon: 'bold'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          icon: 'italic'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          icon: 'underline'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          icon: 'superscript'\n        }\n      ], (btn, _idx) => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupFormatToggle(editor, btn.name),\n          onAction: onActionToggleFormat(editor, btn.name)\n        });\n      });\n      for (let i = 1; i <= 6; i++) {\n        const name = 'h' + i;\n        editor.ui.registry.addToggleButton(name, {\n          text: name.toUpperCase(),\n          tooltip: 'Heading ' + i,\n          onSetup: onSetupFormatToggle(editor, name),\n          onAction: onActionToggleFormat(editor, name)\n        });\n      }\n    };\n    const registerCommandButtons = editor => {\n      global$1.each([\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste'\n        },\n        {\n          name: 'help',\n          text: 'Help',\n          action: 'mceHelp',\n          icon: 'help'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'remove',\n          text: 'Remove',\n          action: 'Delete',\n          icon: 'remove'\n        },\n        {\n          name: 'print',\n          text: 'Print',\n          action: 'mcePrint',\n          icon: 'print'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], btn => {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n    };\n    const registerCommandToggleButtons = editor => {\n      global$1.each([{\n          name: 'blockquote',\n          text: 'Blockquote',\n          action: 'mceBlockQuote',\n          icon: 'quote'\n        }], btn => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action),\n          onSetup: onSetupFormatToggle(editor, btn.name)\n        });\n      });\n    };\n    const registerButtons$1 = editor => {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n    const registerMenuItems$2 = editor => {\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          action: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          action: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          action: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          action: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          action: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          action: 'Superscript',\n          icon: 'superscript'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut',\n          shortcut: 'Meta+X'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy',\n          shortcut: 'Meta+C'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste',\n          shortcut: 'Meta+V'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A'\n        },\n        {\n          name: 'print',\n          text: 'Print...',\n          action: 'mcePrint',\n          icon: 'print',\n          shortcut: 'Meta+P'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], menuitem => {\n        editor.ui.registry.addMenuItem(menuitem.name, {\n          text: menuitem.text,\n          icon: menuitem.icon,\n          shortcut: menuitem.shortcut,\n          onAction: onActionExecCommand(editor, menuitem.action)\n        });\n      });\n      editor.ui.registry.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'sourcecode',\n        onAction: onActionToggleFormat(editor, 'code')\n      });\n    };\n    const register$3 = editor => {\n      registerButtons$1(editor);\n      registerMenuItems$2(editor);\n    };\n\n    const onSetupUndoRedoState = (editor, type) => onSetupEvent(editor, 'Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', api => {\n      api.setEnabled(!editor.mode.isReadOnly() && editor.undoManager[type]());\n    });\n    const registerMenuItems$1 = editor => {\n      editor.ui.registry.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    const registerButtons = editor => {\n      editor.ui.registry.addButton('undo', {\n        tooltip: 'Undo',\n        icon: 'undo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addButton('redo', {\n        tooltip: 'Redo',\n        icon: 'redo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    const register$2 = editor => {\n      registerMenuItems$1(editor);\n      registerButtons(editor);\n    };\n\n    const onSetupVisualAidState = editor => onSetupEvent(editor, 'VisualAid', api => {\n      api.setActive(editor.hasVisual);\n    });\n    const registerMenuItems = editor => {\n      editor.ui.registry.addToggleMenuItem('visualaid', {\n        text: 'Visual aids',\n        onSetup: onSetupVisualAidState(editor),\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    const registerToolbarButton = editor => {\n      editor.ui.registry.addButton('visualaid', {\n        tooltip: 'Visual aids',\n        text: 'Visual aids',\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    const register$1 = editor => {\n      registerToolbarButton(editor);\n      registerMenuItems(editor);\n    };\n\n    const setup$6 = (editor, backstage) => {\n      register$8(editor);\n      register$3(editor);\n      register$6(editor, backstage);\n      register$2(editor);\n      register$c(editor);\n      register$1(editor);\n      register$5(editor);\n      register$7(editor);\n      register$4(editor);\n    };\n\n    const patchPipeConfig = config => isString(config) ? config.split(/[ ,]/) : config;\n    const option = name => editor => editor.options.get(name);\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('contextmenu_avoid_overlap', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('contextmenu_never_use_native', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('contextmenu', {\n        processor: value => {\n          if (value === false) {\n            return {\n              value: [],\n              valid: true\n            };\n          } else if (isString(value) || isArrayOf(value, isString)) {\n            return {\n              value: patchPipeConfig(value),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be false or a string.'\n            };\n          }\n        },\n        default: 'link linkchecker image editimage table spellchecker configurepermanentpen'\n      });\n    };\n    const shouldNeverUseNative = option('contextmenu_never_use_native');\n    const getAvoidOverlapSelector = option('contextmenu_avoid_overlap');\n    const isContextMenuDisabled = editor => getContextMenu(editor).length === 0;\n    const getContextMenu = editor => {\n      const contextMenus = editor.ui.registry.getAll().contextMenus;\n      const contextMenu = editor.options.get('contextmenu');\n      if (editor.options.isSet('contextmenu')) {\n        return contextMenu;\n      } else {\n        return filter$2(contextMenu, item => has$2(contextMenus, item));\n      }\n    };\n\n    const nu = (x, y) => ({\n      type: 'makeshift',\n      x,\n      y\n    });\n    const transpose = (pos, dx, dy) => {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n    const isTouchEvent = e => e.type === 'longpress' || e.type.indexOf('touch') === 0;\n    const fromPageXY = e => {\n      if (isTouchEvent(e)) {\n        const touch = e.touches[0];\n        return nu(touch.pageX, touch.pageY);\n      } else {\n        return nu(e.pageX, e.pageY);\n      }\n    };\n    const fromClientXY = e => {\n      if (isTouchEvent(e)) {\n        const touch = e.touches[0];\n        return nu(touch.clientX, touch.clientY);\n      } else {\n        return nu(e.clientX, e.clientY);\n      }\n    };\n    const transposeContentAreaContainer = (element, pos) => {\n      const containerPos = global$7.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n    const getPointAnchor = (editor, e) => {\n      if (e.type === 'contextmenu' || e.type === 'longpress') {\n        if (editor.inline) {\n          return fromPageXY(e);\n        } else {\n          return transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        }\n      } else {\n        return getSelectionAnchor(editor);\n      }\n    };\n    const getSelectionAnchor = editor => {\n      return {\n        type: 'selection',\n        root: SugarElement.fromDom(editor.selection.getNode())\n      };\n    };\n    const getNodeAnchor = editor => ({\n      type: 'node',\n      node: Optional.some(SugarElement.fromDom(editor.selection.getNode())),\n      root: SugarElement.fromDom(editor.getBody())\n    });\n    const getAnchorSpec$1 = (editor, e, anchorType) => {\n      switch (anchorType) {\n      case 'node':\n        return getNodeAnchor(editor);\n      case 'point':\n        return getPointAnchor(editor, e);\n      case 'selection':\n        return getSelectionAnchor(editor);\n      }\n    };\n\n    const initAndShow$1 = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const items = buildMenu();\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false).map(menuData => {\n        e.preventDefault();\n        InlineView.showMenuAt(contextmenu, { anchor: anchorSpec }, {\n          menu: { markers: markers('normal') },\n          data: menuData\n        });\n      });\n    };\n\n    const layouts = {\n      onLtr: () => [\n        south$2,\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        north$2,\n        north,\n        south,\n        northeast,\n        southeast,\n        northwest,\n        southwest\n      ],\n      onRtl: () => [\n        south$2,\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        north$2,\n        north,\n        south,\n        northwest,\n        southwest,\n        northeast,\n        southeast\n      ]\n    };\n    const bubbleSize = 12;\n    const bubbleAlignments = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    const isTouchWithinSelection = (editor, e) => {\n      const selection = editor.selection;\n      if (selection.isCollapsed() || e.touches.length < 1) {\n        return false;\n      } else {\n        const touch = e.touches[0];\n        const rng = selection.getRng();\n        const rngRectOpt = getFirstRect(editor.getWin(), SimSelection.domRange(rng));\n        return rngRectOpt.exists(rngRect => rngRect.left <= touch.clientX && rngRect.right >= touch.clientX && rngRect.top <= touch.clientY && rngRect.bottom >= touch.clientY);\n      }\n    };\n    const setupiOSOverrides = editor => {\n      const originalSelection = editor.selection.getRng();\n      const selectionReset = () => {\n        global$9.setEditorTimeout(editor, () => {\n          editor.selection.setRng(originalSelection);\n        }, 10);\n        unbindEventListeners();\n      };\n      editor.once('touchend', selectionReset);\n      const preventMousedown = e => {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      };\n      editor.on('mousedown', preventMousedown, true);\n      const clearSelectionReset = () => unbindEventListeners();\n      editor.once('longpresscancel', clearSelectionReset);\n      const unbindEventListeners = () => {\n        editor.off('touchend', selectionReset);\n        editor.off('longpresscancel', clearSelectionReset);\n        editor.off('mousedown', preventMousedown);\n      };\n    };\n    const getAnchorSpec = (editor, e, anchorType) => {\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      const bubbleYOffset = anchorType === 'point' ? bubbleSize : 0;\n      return {\n        bubble: nu$5(0, bubbleYOffset, bubbleAlignments),\n        layouts,\n        overrides: {\n          maxWidthFunction: expandable(),\n          maxHeightFunction: expandable$1()\n        },\n        ...anchorSpec\n      };\n    };\n    const show = (editor, e, items, backstage, contextmenu, anchorType, highlightImmediately) => {\n      const anchorSpec = getAnchorSpec(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, true).map(menuData => {\n        e.preventDefault();\n        InlineView.showMenuWithinBounds(contextmenu, { anchor: anchorSpec }, {\n          menu: {\n            markers: markers('normal'),\n            highlightImmediately\n          },\n          data: menuData,\n          type: 'horizontal'\n        }, () => Optional.some(getContextToolbarBounds(editor, backstage.shared, anchorType === 'node' ? 'node' : 'selection')));\n        editor.dispatch(hideContextToolbarEvent);\n      });\n    };\n    const initAndShow = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const detection = detect$1();\n      const isiOS = detection.os.isiOS();\n      const isMacOS = detection.os.isMacOS();\n      const isAndroid = detection.os.isAndroid();\n      const isTouch = detection.deviceType.isTouch();\n      const shouldHighlightImmediately = () => !(isAndroid || isiOS || isMacOS && isTouch);\n      const open = () => {\n        const items = buildMenu();\n        show(editor, e, items, backstage, contextmenu, anchorType, shouldHighlightImmediately());\n      };\n      if ((isMacOS || isiOS) && anchorType !== 'node') {\n        const openiOS = () => {\n          setupiOSOverrides(editor);\n          open();\n        };\n        if (isTouchWithinSelection(editor, e)) {\n          openiOS();\n        } else {\n          editor.once('selectionchange', openiOS);\n          editor.once('touchend', () => editor.off('selectionchange', openiOS));\n        }\n      } else {\n        open();\n      }\n    };\n\n    const isSeparator = item => isString(item) ? item === '|' : item.type === 'separator';\n    const separator = { type: 'separator' };\n    const makeContextItem = item => {\n      const commonMenuItem = item => ({\n        text: item.text,\n        icon: item.icon,\n        enabled: item.enabled,\n        shortcut: item.shortcut\n      });\n      if (isString(item)) {\n        return item;\n      } else {\n        switch (item.type) {\n        case 'separator':\n          return separator;\n        case 'submenu':\n          return {\n            type: 'nestedmenuitem',\n            ...commonMenuItem(item),\n            getSubmenuItems: () => {\n              const items = item.getSubmenuItems();\n              if (isString(items)) {\n                return items;\n              } else {\n                return map$2(items, makeContextItem);\n              }\n            }\n          };\n        default:\n          return {\n            type: 'menuitem',\n            ...commonMenuItem(item),\n            onAction: noarg(item.onAction)\n          };\n        }\n      }\n    };\n    const addContextMenuGroup = (xs, groupItems) => {\n      if (groupItems.length === 0) {\n        return xs;\n      }\n      const lastMenuItem = last$1(xs).filter(item => !isSeparator(item));\n      const before = lastMenuItem.fold(() => [], _ => [separator]);\n      return xs.concat(before).concat(groupItems).concat([separator]);\n    };\n    const generateContextMenu = (contextMenus, menuConfig, selectedElement) => {\n      const sections = foldl(menuConfig, (acc, name) => {\n        return get$g(contextMenus, name.toLowerCase()).map(menu => {\n          const items = menu.update(selectedElement);\n          if (isString(items)) {\n            return addContextMenuGroup(acc, items.split(' '));\n          } else if (items.length > 0) {\n            const allItems = map$2(items, makeContextItem);\n            return addContextMenuGroup(acc, allItems);\n          } else {\n            return acc;\n          }\n        }).getOrThunk(() => acc.concat([name]));\n      }, []);\n      if (sections.length > 0 && isSeparator(sections[sections.length - 1])) {\n        sections.pop();\n      }\n      return sections;\n    };\n    const isNativeOverrideKeyEvent = (editor, e) => e.ctrlKey && !shouldNeverUseNative(editor);\n    const isTriggeredByKeyboard = (editor, e) => e.type !== 'longpress' && (e.button !== 2 || e.target === editor.getBody() && e.pointerType === '');\n    const getSelectedElement = (editor, e) => isTriggeredByKeyboard(editor, e) ? editor.selection.getStart(true) : e.target;\n    const getAnchorType = (editor, e) => {\n      const selector = getAvoidOverlapSelector(editor);\n      const anchorType = isTriggeredByKeyboard(editor, e) ? 'selection' : 'point';\n      if (isNotEmpty(selector)) {\n        const target = getSelectedElement(editor, e);\n        const selectorExists = closest(SugarElement.fromDom(target), selector);\n        return selectorExists ? 'node' : anchorType;\n      } else {\n        return anchorType;\n      }\n    };\n    const setup$5 = (editor, lazySink, backstage) => {\n      const detection = detect$1();\n      const isTouch = detection.deviceType.isTouch;\n      const contextmenu = build$1(InlineView.sketch({\n        dom: { tag: 'div' },\n        lazySink,\n        onEscape: () => editor.focus(),\n        onShow: () => backstage.setContextMenuState(true),\n        onHide: () => backstage.setContextMenuState(false),\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissContextMenu', [run$1(dismissRequested(), (comp, _se) => {\n              Sandboxing.close(comp);\n              editor.focus();\n            })])])\n      }));\n      const hideContextMenu = _e => InlineView.hide(contextmenu);\n      const showContextMenu = e => {\n        if (shouldNeverUseNative(editor)) {\n          e.preventDefault();\n        }\n        if (isNativeOverrideKeyEvent(editor, e) || isContextMenuDisabled(editor)) {\n          return;\n        }\n        const anchorType = getAnchorType(editor, e);\n        const buildMenu = () => {\n          const selectedElement = getSelectedElement(editor, e);\n          const registry = editor.ui.registry.getAll();\n          const menuConfig = getContextMenu(editor);\n          return generateContextMenu(registry.contextMenus, menuConfig, selectedElement);\n        };\n        const initAndShow$2 = isTouch() ? initAndShow : initAndShow$1;\n        initAndShow$2(editor, e, buildMenu, backstage, contextmenu, anchorType);\n      };\n      editor.on('init', () => {\n        const hideEvents = 'ResizeEditor ScrollContent ScrollWindow longpresscancel' + (isTouch() ? '' : ' ResizeWindow');\n        editor.on(hideEvents, hideContextMenu);\n        editor.on('longpress contextmenu', showContextMenu);\n      });\n    };\n\n    const adt = Adt.generate([\n      {\n        offset: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        absolute: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y'\n        ]\n      }\n    ]);\n    const subtract = change => point => point.translate(-change.left, -change.top);\n    const add = change => point => point.translate(change.left, change.top);\n    const transform = changes => (x, y) => foldl(changes, (rest, f) => f(rest), SugarPosition(x, y));\n    const asFixed = (coord, scroll, origin) => coord.fold(transform([\n      add(origin),\n      subtract(scroll)\n    ]), transform([subtract(scroll)]), transform([]));\n    const asAbsolute = (coord, scroll, origin) => coord.fold(transform([add(origin)]), transform([]), transform([add(scroll)]));\n    const asOffset = (coord, scroll, origin) => coord.fold(transform([]), transform([subtract(origin)]), transform([\n      add(scroll),\n      subtract(origin)\n    ]));\n    const withinRange = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      return Math.abs(a1.left - a2.left) <= xRange && Math.abs(a1.top - a2.top) <= yRange;\n    };\n    const getDeltas = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      const left = Math.abs(a1.left - a2.left);\n      const top = Math.abs(a1.top - a2.top);\n      return SugarPosition(left, top);\n    };\n    const toStyles = (coord, scroll, origin) => {\n      const stylesOpt = coord.fold((x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }), (x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x - origin.left + 'px'),\n        top: Optional.some(y - origin.top + 'px')\n      }), (x, y) => ({\n        position: Optional.some('fixed'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }));\n      return {\n        right: Optional.none(),\n        bottom: Optional.none(),\n        ...stylesOpt\n      };\n    };\n    const translate = (coord, deltaX, deltaY) => coord.fold((x, y) => offset(x + deltaX, y + deltaY), (x, y) => absolute(x + deltaX, y + deltaY), (x, y) => fixed(x + deltaX, y + deltaY));\n    const absorb = (partialCoord, originalCoord, scroll, origin) => {\n      const absorbOne = (stencil, nu) => (optX, optY) => {\n        const original = stencil(originalCoord, scroll, origin);\n        return nu(optX.getOr(original.left), optY.getOr(original.top));\n      };\n      return partialCoord.fold(absorbOne(asOffset, offset), absorbOne(asAbsolute, absolute), absorbOne(asFixed, fixed));\n    };\n    const offset = adt.offset;\n    const absolute = adt.absolute;\n    const fixed = adt.fixed;\n\n    const parseAttrToInt = (element, name) => {\n      const value = get$f(element, name);\n      return isUndefined(value) ? NaN : parseInt(value, 10);\n    };\n    const get = (component, snapsInfo) => {\n      const element = component.element;\n      const x = parseAttrToInt(element, snapsInfo.leftAttr);\n      const y = parseAttrToInt(element, snapsInfo.topAttr);\n      return isNaN(x) || isNaN(y) ? Optional.none() : Optional.some(SugarPosition(x, y));\n    };\n    const set = (component, snapsInfo, pt) => {\n      const element = component.element;\n      set$9(element, snapsInfo.leftAttr, pt.left + 'px');\n      set$9(element, snapsInfo.topAttr, pt.top + 'px');\n    };\n    const clear = (component, snapsInfo) => {\n      const element = component.element;\n      remove$7(element, snapsInfo.leftAttr);\n      remove$7(element, snapsInfo.topAttr);\n    };\n\n    const getCoords = (component, snapInfo, coord, delta) => get(component, snapInfo).fold(() => coord, fixed$1 => fixed(fixed$1.left + delta.left, fixed$1.top + delta.top));\n    const moveOrSnap = (component, snapInfo, coord, delta, scroll, origin) => {\n      const newCoord = getCoords(component, snapInfo, coord, delta);\n      const snap = snapInfo.mustSnap ? findClosestSnap(component, snapInfo, newCoord, scroll, origin) : findSnap(component, snapInfo, newCoord, scroll, origin);\n      const fixedCoord = asFixed(newCoord, scroll, origin);\n      set(component, snapInfo, fixedCoord);\n      return snap.fold(() => ({\n        coord: fixed(fixedCoord.left, fixedCoord.top),\n        extra: Optional.none()\n      }), spanned => ({\n        coord: spanned.output,\n        extra: spanned.extra\n      }));\n    };\n    const stopDrag = (component, snapInfo) => {\n      clear(component, snapInfo);\n    };\n    const findMatchingSnap = (snaps, newCoord, scroll, origin) => findMap(snaps, snap => {\n      const sensor = snap.sensor;\n      const inRange = withinRange(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n      return inRange ? Optional.some({\n        output: absorb(snap.output, newCoord, scroll, origin),\n        extra: snap.extra\n      }) : Optional.none();\n    });\n    const findClosestSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      const matchSnap = findMatchingSnap(snaps, newCoord, scroll, origin);\n      return matchSnap.orThunk(() => {\n        const bestSnap = foldl(snaps, (acc, snap) => {\n          const sensor = snap.sensor;\n          const deltas = getDeltas(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n          return acc.deltas.fold(() => ({\n            deltas: Optional.some(deltas),\n            snap: Optional.some(snap)\n          }), bestDeltas => {\n            const currAvg = (deltas.left + deltas.top) / 2;\n            const bestAvg = (bestDeltas.left + bestDeltas.top) / 2;\n            if (currAvg <= bestAvg) {\n              return {\n                deltas: Optional.some(deltas),\n                snap: Optional.some(snap)\n              };\n            } else {\n              return acc;\n            }\n          });\n        }, {\n          deltas: Optional.none(),\n          snap: Optional.none()\n        });\n        return bestSnap.snap.map(snap => ({\n          output: absorb(snap.output, newCoord, scroll, origin),\n          extra: snap.extra\n        }));\n      });\n    };\n    const findSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      return findMatchingSnap(snaps, newCoord, scroll, origin);\n    };\n    const snapTo$1 = (snap, scroll, origin) => ({\n      coord: absorb(snap.output, snap.output, scroll, origin),\n      extra: snap.extra\n    });\n\n    const snapTo = (component, dragConfig, _state, snap) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$b(doc);\n        const origin = getOrigin(target);\n        const snapPin = snapTo$1(snap, scroll, origin);\n        const styles = toStyles(snapPin.coord, scroll, origin);\n        setOptions(target, styles);\n      }\n    };\n\n    var DraggingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        snapTo: snapTo\n    });\n\n    const initialAttribute = 'data-initial-z-index';\n    const resetZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getOpt(root, initialAttribute).fold(() => remove$6(root, 'z-index'), zIndex => set$8(root, 'z-index', zIndex));\n        remove$7(root, initialAttribute);\n      });\n    };\n    const changeZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getRaw(root, 'z-index').each(zindex => {\n          set$9(root, initialAttribute, zindex);\n        });\n        set$8(root, 'z-index', get$e(blocker.element, 'z-index'));\n      });\n    };\n    const instigate = (anyComponent, blocker) => {\n      anyComponent.getSystem().addToGui(blocker);\n      changeZIndex(blocker);\n    };\n    const discard = blocker => {\n      resetZIndex(blocker);\n      blocker.getSystem().removeFromGui(blocker);\n    };\n    const createComponent = (component, blockerClass, blockerEvents) => component.getSystem().build(Container.sketch({\n      dom: {\n        styles: {\n          'left': '0px',\n          'top': '0px',\n          'width': '100%',\n          'height': '100%',\n          'position': 'fixed',\n          'z-index': '1000000000000000'\n        },\n        classes: [blockerClass]\n      },\n      events: blockerEvents\n    }));\n\n    var SnapSchema = optionObjOf('snaps', [\n      required$1('getSnapPoints'),\n      onHandler('onSensor'),\n      required$1('leftAttr'),\n      required$1('topAttr'),\n      defaulted('lazyViewport', win),\n      defaulted('mustSnap', false)\n    ]);\n\n    const schema$6 = [\n      defaulted('useFixed', never),\n      required$1('blockerClass'),\n      defaulted('getTarget', identity),\n      defaulted('onDrag', noop),\n      defaulted('repositionTarget', true),\n      defaulted('onDrop', noop),\n      defaultedFunction('getBounds', win),\n      SnapSchema\n    ];\n\n    const getCurrentCoord = target => lift3(getRaw(target, 'left'), getRaw(target, 'top'), getRaw(target, 'position'), (left, top, position) => {\n      const nu = position === 'fixed' ? fixed : offset;\n      return nu(parseInt(left, 10), parseInt(top, 10));\n    }).getOrThunk(() => {\n      const location = absolute$3(target);\n      return absolute(location.left, location.top);\n    });\n    const clampCoords = (component, coords, scroll, origin, startData) => {\n      const bounds = startData.bounds;\n      const absoluteCoord = asAbsolute(coords, scroll, origin);\n      const newX = clamp(absoluteCoord.left, bounds.x, bounds.x + bounds.width - startData.width);\n      const newY = clamp(absoluteCoord.top, bounds.y, bounds.y + bounds.height - startData.height);\n      const newCoords = absolute(newX, newY);\n      return coords.fold(() => {\n        const offset$1 = asOffset(newCoords, scroll, origin);\n        return offset(offset$1.left, offset$1.top);\n      }, constant$1(newCoords), () => {\n        const fixed$1 = asFixed(newCoords, scroll, origin);\n        return fixed(fixed$1.left, fixed$1.top);\n      });\n    };\n    const calcNewCoord = (component, optSnaps, currentCoord, scroll, origin, delta, startData) => {\n      const newCoord = optSnaps.fold(() => {\n        const translated = translate(currentCoord, delta.left, delta.top);\n        const fixedCoord = asFixed(translated, scroll, origin);\n        return fixed(fixedCoord.left, fixedCoord.top);\n      }, snapInfo => {\n        const snapping = moveOrSnap(component, snapInfo, currentCoord, delta, scroll, origin);\n        snapping.extra.each(extra => {\n          snapInfo.onSensor(component, extra);\n        });\n        return snapping.coord;\n      });\n      return clampCoords(component, newCoord, scroll, origin, startData);\n    };\n    const dragBy = (component, dragConfig, startData, delta) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$b(doc);\n        const origin = getOrigin(target);\n        const currentCoord = getCurrentCoord(target);\n        const newCoord = calcNewCoord(component, dragConfig.snaps, currentCoord, scroll, origin, delta, startData);\n        const styles = toStyles(newCoord, scroll, origin);\n        setOptions(target, styles);\n      }\n      dragConfig.onDrag(component, target, delta);\n    };\n\n    const calcStartData = (dragConfig, comp) => ({\n      bounds: dragConfig.getBounds(),\n      height: getOuter$2(comp.element),\n      width: getOuter$1(comp.element)\n    });\n    const move = (component, dragConfig, dragState, dragMode, event) => {\n      const delta = dragState.update(dragMode, event);\n      const dragStartData = dragState.getStartData().getOrThunk(() => calcStartData(dragConfig, component));\n      delta.each(dlt => {\n        dragBy(component, dragConfig, dragStartData, dlt);\n      });\n    };\n    const stop = (component, blocker, dragConfig, dragState) => {\n      blocker.each(discard);\n      dragConfig.snaps.each(snapInfo => {\n        stopDrag(component, snapInfo);\n      });\n      const target = dragConfig.getTarget(component.element);\n      dragState.reset();\n      dragConfig.onDrop(component, target);\n    };\n    const handlers = events => (dragConfig, dragState) => {\n      const updateStartState = comp => {\n        dragState.setStartData(calcStartData(dragConfig, comp));\n      };\n      return derive$2([\n        run$1(windowScroll(), comp => {\n          dragState.getStartData().each(() => updateStartState(comp));\n        }),\n        ...events(dragConfig, dragState, updateStartState)\n      ]);\n    };\n\n    const init$2 = dragApi => derive$2([\n      run$1(mousedown(), dragApi.forceDrop),\n      run$1(mouseup(), dragApi.drop),\n      run$1(mousemove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      }),\n      run$1(mouseout(), dragApi.delayDrop)\n    ]);\n\n    const getData$1 = event => Optional.from(SugarPosition(event.x, event.y));\n    const getDelta$1 = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var MouseData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData$1,\n        getDelta: getDelta$1\n    });\n\n    const events$2 = (dragConfig, dragState, updateStartState) => [run$1(mousedown(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.button !== 0) {\n          return;\n        }\n        simulatedEvent.stop();\n        const stop$1 = () => stop(component, Optional.some(blocker), dragConfig, dragState);\n        const delayDrop = DelayedFunction(stop$1, 200);\n        const dragApi = {\n          drop: stop$1,\n          delayDrop: delayDrop.schedule,\n          forceDrop: stop$1,\n          move: event => {\n            delayDrop.cancel();\n            move(component, dragConfig, dragState, MouseData, event);\n          }\n        };\n        const blocker = createComponent(component, dragConfig.blockerClass, init$2(dragApi));\n        const start = () => {\n          updateStartState(component);\n          instigate(component, blocker);\n        };\n        start();\n      })];\n    const schema$5 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$2) })\n    ];\n\n    const init$1 = dragApi => derive$2([\n      run$1(touchstart(), dragApi.forceDrop),\n      run$1(touchend(), dragApi.drop),\n      run$1(touchcancel(), dragApi.drop),\n      run$1(touchmove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      })\n    ]);\n\n    const getDataFrom = touches => {\n      const touch = touches[0];\n      return Optional.some(SugarPosition(touch.clientX, touch.clientY));\n    };\n    const getData = event => {\n      const raw = event.raw;\n      const touches = raw.touches;\n      return touches.length === 1 ? getDataFrom(touches) : Optional.none();\n    };\n    const getDelta = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var TouchData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData,\n        getDelta: getDelta\n    });\n\n    const events$1 = (dragConfig, dragState, updateStartState) => {\n      const blockerSingleton = value$2();\n      const stopBlocking = component => {\n        stop(component, blockerSingleton.get(), dragConfig, dragState);\n        blockerSingleton.clear();\n      };\n      return [\n        run$1(touchstart(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          const stop = () => stopBlocking(component);\n          const dragApi = {\n            drop: stop,\n            delayDrop: noop,\n            forceDrop: stop,\n            move: event => {\n              move(component, dragConfig, dragState, TouchData, event);\n            }\n          };\n          const blocker = createComponent(component, dragConfig.blockerClass, init$1(dragApi));\n          blockerSingleton.set(blocker);\n          const start = () => {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        }),\n        run$1(touchmove(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          move(component, dragConfig, dragState, TouchData, simulatedEvent.event);\n        }),\n        run$1(touchend(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          stopBlocking(component);\n        }),\n        run$1(touchcancel(), stopBlocking)\n      ];\n    };\n    const schema$4 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$1) })\n    ];\n\n    const events = (dragConfig, dragState, updateStartState) => [\n      ...events$2(dragConfig, dragState, updateStartState),\n      ...events$1(dragConfig, dragState, updateStartState)\n    ];\n    const schema$3 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events) })\n    ];\n\n    const mouse = schema$5;\n    const touch = schema$4;\n    const mouseOrTouch = schema$3;\n\n    var DraggingBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        mouse: mouse,\n        touch: touch,\n        mouseOrTouch: mouseOrTouch\n    });\n\n    const init = () => {\n      let previous = Optional.none();\n      let startData = Optional.none();\n      const reset = () => {\n        previous = Optional.none();\n        startData = Optional.none();\n      };\n      const calculateDelta = (mode, nu) => {\n        const result = previous.map(old => mode.getDelta(old, nu));\n        previous = Optional.some(nu);\n        return result;\n      };\n      const update = (mode, dragEvent) => mode.getData(dragEvent).bind(nuData => calculateDelta(mode, nuData));\n      const setStartData = data => {\n        startData = Optional.some(data);\n      };\n      const getStartData = () => startData;\n      const readState = constant$1({});\n      return nu$8({\n        readState,\n        reset,\n        update,\n        getStartData,\n        setStartData\n      });\n    };\n\n    var DragState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init\n    });\n\n    const Dragging = createModes({\n      branchKey: 'mode',\n      branches: DraggingBranches,\n      name: 'dragging',\n      active: {\n        events: (dragConfig, dragState) => {\n          const dragger = dragConfig.dragger;\n          return dragger.handlers(dragConfig, dragState);\n        }\n      },\n      extra: {\n        snap: sConfig => ({\n          sensor: sConfig.sensor,\n          range: sConfig.range,\n          output: sConfig.output,\n          extra: Optional.from(sConfig.extra)\n        })\n      },\n      state: DragState,\n      apis: DraggingApis\n    });\n\n    const snapWidth = 40;\n    const snapOffset = snapWidth / 2;\n    const calcSnap = (selectorOpt, td, x, y, width, height) => selectorOpt.fold(() => Dragging.snap({\n      sensor: absolute(x - snapOffset, y - snapOffset),\n      range: SugarPosition(width, height),\n      output: absolute(Optional.some(x), Optional.some(y)),\n      extra: { td }\n    }), selectorHandle => {\n      const sensorLeft = x - snapOffset;\n      const sensorTop = y - snapOffset;\n      const sensorWidth = snapWidth;\n      const sensorHeight = snapWidth;\n      const rect = selectorHandle.element.dom.getBoundingClientRect();\n      return Dragging.snap({\n        sensor: absolute(sensorLeft, sensorTop),\n        range: SugarPosition(sensorWidth, sensorHeight),\n        output: absolute(Optional.some(x - rect.width / 2), Optional.some(y - rect.height / 2)),\n        extra: { td }\n      });\n    });\n    const getSnapsConfig = (getSnapPoints, cell, onChange) => {\n      const isSameCell = (cellOpt, td) => cellOpt.exists(currentTd => eq(currentTd, td));\n      return {\n        getSnapPoints,\n        leftAttr: 'data-drag-left',\n        topAttr: 'data-drag-top',\n        onSensor: (component, extra) => {\n          const td = extra.td;\n          if (!isSameCell(cell.get(), td)) {\n            cell.set(td);\n            onChange(td);\n          }\n        },\n        mustSnap: true\n      };\n    };\n    const createSelector = snaps => record(Button.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-selector']\n      },\n      buttonBehaviours: derive$1([\n        Dragging.config({\n          mode: 'mouseOrTouch',\n          blockerClass: 'blocker',\n          snaps\n        }),\n        Unselecting.config({})\n      ]),\n      eventOrder: {\n        mousedown: [\n          'dragging',\n          'alloy.base.behaviour'\n        ],\n        touchstart: [\n          'dragging',\n          'alloy.base.behaviour'\n        ]\n      }\n    }));\n    const setup$4 = (editor, sink) => {\n      const tlTds = Cell([]);\n      const brTds = Cell([]);\n      const isVisible = Cell(false);\n      const startCell = value$2();\n      const finishCell = value$2();\n      const getTopLeftSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memTopLeft.getOpt(sink), td, box.x, box.y, box.width, box.height);\n      };\n      const getTopLeftSnaps = () => map$2(tlTds.get(), td => getTopLeftSnap(td));\n      const getBottomRightSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memBottomRight.getOpt(sink), td, box.right, box.bottom, box.width, box.height);\n      };\n      const getBottomRightSnaps = () => map$2(brTds.get(), td => getBottomRightSnap(td));\n      const topLeftSnaps = getSnapsConfig(getTopLeftSnaps, startCell, start => {\n        finishCell.get().each(finish => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const bottomRightSnaps = getSnapsConfig(getBottomRightSnaps, finishCell, finish => {\n        startCell.get().each(start => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const memTopLeft = createSelector(topLeftSnaps);\n      const memBottomRight = createSelector(bottomRightSnaps);\n      const topLeft = build$1(memTopLeft.asSpec());\n      const bottomRight = build$1(memBottomRight.asSpec());\n      const showOrHideHandle = (selector, cell, isAbove, isBelow) => {\n        const cellRect = cell.dom.getBoundingClientRect();\n        remove$6(selector.element, 'display');\n        const viewportHeight = defaultView(SugarElement.fromDom(editor.getBody())).dom.innerHeight;\n        const aboveViewport = isAbove(cellRect);\n        const belowViewport = isBelow(cellRect, viewportHeight);\n        if (aboveViewport || belowViewport) {\n          set$8(selector.element, 'display', 'none');\n        }\n      };\n      const snapTo = (selector, cell, getSnapConfig, pos) => {\n        const snap = getSnapConfig(cell);\n        Dragging.snapTo(selector, snap);\n        const isAbove = rect => rect[pos] < 0;\n        const isBelow = (rect, viewportHeight) => rect[pos] > viewportHeight;\n        showOrHideHandle(selector, cell, isAbove, isBelow);\n      };\n      const snapTopLeft = cell => snapTo(topLeft, cell, getTopLeftSnap, 'top');\n      const snapLastTopLeft = () => startCell.get().each(snapTopLeft);\n      const snapBottomRight = cell => snapTo(bottomRight, cell, getBottomRightSnap, 'bottom');\n      const snapLastBottomRight = () => finishCell.get().each(snapBottomRight);\n      if (detect$1().deviceType.isTouch()) {\n        editor.on('TableSelectionChange', e => {\n          if (!isVisible.get()) {\n            attach(sink, topLeft);\n            attach(sink, bottomRight);\n            isVisible.set(true);\n          }\n          startCell.set(e.start);\n          finishCell.set(e.finish);\n          e.otherCells.each(otherCells => {\n            tlTds.set(otherCells.upOrLeftCells);\n            brTds.set(otherCells.downOrRightCells);\n            snapTopLeft(e.start);\n            snapBottomRight(e.finish);\n          });\n        });\n        editor.on('ResizeEditor ResizeWindow ScrollContent', () => {\n          snapLastTopLeft();\n          snapLastBottomRight();\n        });\n        editor.on('TableSelectionClear', () => {\n          if (isVisible.get()) {\n            detach(topLeft);\n            detach(bottomRight);\n            isVisible.set(false);\n          }\n          startCell.clear();\n          finishCell.clear();\n        });\n      }\n    };\n\n    var Logo = \"<svg width=\\\"50px\\\" height=\\\"16px\\\" viewBox=\\\"0 0 50 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z\\\"/>\\n</svg>\\n\";\n\n    const isHidden = elm => elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus') || elm.getAttribute('data-mce-type') === 'bookmark';\n    const renderElementPath = (editor, settings, providersBackstage) => {\n      var _a;\n      const delimiter = (_a = settings.delimiter) !== null && _a !== void 0 ? _a : '\\u203A';\n      const renderElement = (name, element, index) => Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-item'],\n          attributes: {\n            'data-index': index,\n            'aria-level': index + 1\n          }\n        },\n        components: [text$1(name)],\n        action: _btn => {\n          editor.focus();\n          editor.selection.select(element);\n          editor.nodeChanged();\n        },\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig()\n        ])\n      });\n      const renderDivider = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-divider'],\n          attributes: { 'aria-hidden': true }\n        },\n        components: [text$1(` ${ delimiter } `)]\n      });\n      const renderPathData = data => foldl(data, (acc, path, index) => {\n        const element = renderElement(path.name, path.element, index);\n        if (index === 0) {\n          return acc.concat([element]);\n        } else {\n          return acc.concat([\n            renderDivider(),\n            element\n          ]);\n        }\n      }, []);\n      const updatePath = parents => {\n        const newPath = [];\n        let i = parents.length;\n        while (i-- > 0) {\n          const parent = parents[i];\n          if (parent.nodeType === 1 && !isHidden(parent)) {\n            const args = editor.dispatch('ResolveName', {\n              name: parent.nodeName.toLowerCase(),\n              target: parent\n            });\n            if (!args.isDefaultPrevented()) {\n              newPath.push({\n                name: args.name,\n                element: parent\n              });\n            }\n            if (args.isPropagationStopped()) {\n              break;\n            }\n          }\n        }\n        return newPath;\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path'],\n          attributes: { role: 'navigation' }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: 'div[role=button]'\n          }),\n          Disabling.config({ disabled: providersBackstage.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          config('elementPathEvents', [runOnAttached((comp, _e) => {\n              editor.shortcuts.add('alt+F11', 'focus statusbar elementpath', () => Keying.focusIn(comp));\n              editor.on('NodeChange', e => {\n                const newPath = updatePath(e.parents);\n                const newChildren = newPath.length > 0 ? renderPathData(newPath) : [];\n                Replacing.set(comp, newChildren);\n              });\n            })])\n        ]),\n        components: []\n      };\n    };\n\n    var ResizeTypes;\n    (function (ResizeTypes) {\n      ResizeTypes[ResizeTypes['None'] = 0] = 'None';\n      ResizeTypes[ResizeTypes['Both'] = 1] = 'Both';\n      ResizeTypes[ResizeTypes['Vertical'] = 2] = 'Vertical';\n    }(ResizeTypes || (ResizeTypes = {})));\n    const getDimensions = (editor, deltas, resizeType, originalHeight, originalWidth) => {\n      const dimensions = {};\n      dimensions.height = calcCappedSize(originalHeight + deltas.top, getMinHeightOption(editor), getMaxHeightOption(editor));\n      if (resizeType === ResizeTypes.Both) {\n        dimensions.width = calcCappedSize(originalWidth + deltas.left, getMinWidthOption(editor), getMaxWidthOption(editor));\n      }\n      return dimensions;\n    };\n    const resize = (editor, deltas, resizeType) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const dimensions = getDimensions(editor, deltas, resizeType, get$d(container), get$c(container));\n      each(dimensions, (val, dim) => set$8(container, dim, numToPx(val)));\n      fireResizeEditor(editor);\n    };\n\n    const getResizeType = editor => {\n      const resize = getResize(editor);\n      if (resize === false) {\n        return ResizeTypes.None;\n      } else if (resize === 'both') {\n        return ResizeTypes.Both;\n      } else {\n        return ResizeTypes.Vertical;\n      }\n    };\n    const keyboardHandler = (editor, resizeType, x, y) => {\n      const scale = 20;\n      const delta = SugarPosition(x * scale, y * scale);\n      resize(editor, delta, resizeType);\n      return Optional.some(true);\n    };\n    const renderResizeHandler = (editor, providersBackstage) => {\n      const resizeType = getResizeType(editor);\n      if (resizeType === ResizeTypes.None) {\n        return Optional.none();\n      }\n      return Optional.some(render$3('resize-handle', {\n        tag: 'div',\n        classes: ['tox-statusbar__resize-handle'],\n        attributes: { title: providersBackstage.translate('Resize') },\n        behaviours: [\n          Dragging.config({\n            mode: 'mouse',\n            repositionTarget: false,\n            onDrag: (_comp, _target, delta) => resize(editor, delta, resizeType),\n            blockerClass: 'tox-blocker'\n          }),\n          Keying.config({\n            mode: 'special',\n            onLeft: () => keyboardHandler(editor, resizeType, -1, 0),\n            onRight: () => keyboardHandler(editor, resizeType, 1, 0),\n            onUp: () => keyboardHandler(editor, resizeType, 0, -1),\n            onDown: () => keyboardHandler(editor, resizeType, 0, 1)\n          }),\n          Tabstopping.config({}),\n          Focusing.config({})\n        ]\n      }, providersBackstage.icons));\n    };\n\n    const renderWordCount = (editor, providersBackstage) => {\n      const replaceCountText = (comp, count, mode) => Replacing.set(comp, [text$1(providersBackstage.translate([\n          '{0} ' + mode,\n          count[mode]\n        ]))]);\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: ['tox-statusbar__wordcount']\n        },\n        components: [],\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: {\n                mode: 'words',\n                count: {\n                  words: 0,\n                  characters: 0\n                }\n              }\n            }\n          }),\n          config('wordcount-events', [\n            runOnExecute$1(comp => {\n              const currentVal = Representing.getValue(comp);\n              const newMode = currentVal.mode === 'words' ? 'characters' : 'words';\n              Representing.setValue(comp, {\n                mode: newMode,\n                count: currentVal.count\n              });\n              replaceCountText(comp, currentVal.count, newMode);\n            }),\n            runOnAttached(comp => {\n              editor.on('wordCountUpdate', e => {\n                const {mode} = Representing.getValue(comp);\n                Representing.setValue(comp, {\n                  mode,\n                  count: e.wordCount\n                });\n                replaceCountText(comp, e.wordCount, mode);\n              });\n            })\n          ])\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'wordcount-events'\n          ]\n        }\n      });\n    };\n\n    const renderStatusbar = (editor, providersBackstage) => {\n      const renderBranding = () => {\n        return {\n          dom: {\n            tag: 'span',\n            classes: ['tox-statusbar__branding']\n          },\n          components: [{\n              dom: {\n                tag: 'a',\n                attributes: {\n                  'href': 'https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6',\n                  'rel': 'noopener',\n                  'target': '_blank',\n                  'aria-label': global$8.translate([\n                    'Powered by {0}',\n                    'Tiny'\n                  ])\n                },\n                innerHtml: Logo.trim()\n              },\n              behaviours: derive$1([Focusing.config({})])\n            }]\n        };\n      };\n      const getTextComponents = () => {\n        const components = [];\n        if (useElementPath(editor)) {\n          components.push(renderElementPath(editor, {}, providersBackstage));\n        }\n        if (editor.hasPlugin('wordcount')) {\n          components.push(renderWordCount(editor, providersBackstage));\n        }\n        if (useBranding(editor)) {\n          components.push(renderBranding());\n        }\n        if (components.length > 0) {\n          return [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-statusbar__text-container']\n              },\n              components\n            }];\n        }\n        return [];\n      };\n      const getComponents = () => {\n        const components = getTextComponents();\n        const resizeHandler = renderResizeHandler(editor, providersBackstage);\n        return components.concat(resizeHandler.toArray());\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar']\n        },\n        components: getComponents()\n      };\n    };\n\n    const getLazyMothership = singleton => singleton.get().getOrDie('UI has not been rendered');\n    const setup$3 = editor => {\n      const isInline = editor.inline;\n      const mode = isInline ? Inline : Iframe;\n      const header = isStickyToolbar(editor) ? StickyHeader : StaticHeader;\n      const lazySink = value$2();\n      const lazyOuterContainer = value$2();\n      const lazyMothership = value$2();\n      const lazyUiMothership = value$2();\n      const platform = detect$1();\n      const isTouch = platform.deviceType.isTouch();\n      const touchPlatformClass = 'tox-platform-touch';\n      const deviceClasses = isTouch ? [touchPlatformClass] : [];\n      const isToolbarBottom = isToolbarLocationBottom(editor);\n      const toolbarMode = getToolbarMode(editor);\n      const memAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-anchorbar']\n        }\n      });\n      const lazyHeader = () => lazyOuterContainer.get().bind(OuterContainer.getHeader);\n      const lazySinkResult = () => Result.fromOption(lazySink.get(), 'UI has not been rendered');\n      const lazyAnchorBar = () => lazyOuterContainer.get().bind(container => memAnchorBar.getOpt(container)).getOrDie('Could not find a anchor bar element');\n      const lazyToolbar = () => lazyOuterContainer.get().bind(container => OuterContainer.getToolbar(container)).getOrDie('Could not find more toolbar element');\n      const lazyThrobber = () => lazyOuterContainer.get().bind(container => OuterContainer.getThrobber(container)).getOrDie('Could not find throbber element');\n      const backstage = init$7(lazySinkResult, editor, lazyAnchorBar);\n      const makeHeaderPart = () => {\n        const verticalDirAttributes = { attributes: { [Attribute]: isToolbarBottom ? AttributeValue.BottomToTop : AttributeValue.TopToBottom } };\n        const partMenubar = OuterContainer.parts.menubar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-menubar']\n          },\n          backstage,\n          onEscape: () => {\n            editor.focus();\n          }\n        });\n        const partToolbar = OuterContainer.parts.toolbar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar']\n          },\n          getSink: lazySinkResult,\n          providers: backstage.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          type: toolbarMode,\n          lazyToolbar,\n          lazyHeader: () => lazyHeader().getOrDie('Could not find header element'),\n          ...verticalDirAttributes\n        });\n        const partMultipleToolbar = OuterContainer.parts['multiple-toolbar']({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar-overlord']\n          },\n          providers: backstage.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          type: toolbarMode\n        });\n        const hasMultipleToolbar = isMultipleToolbars(editor);\n        const hasToolbar = isToolbarEnabled(editor);\n        const hasMenubar = isMenubarEnabled(editor);\n        const getPartToolbar = () => {\n          if (hasMultipleToolbar) {\n            return [partMultipleToolbar];\n          } else if (hasToolbar) {\n            return [partToolbar];\n          } else {\n            return [];\n          }\n        };\n        return OuterContainer.parts.header({\n          dom: {\n            tag: 'div',\n            classes: ['tox-editor-header'],\n            ...verticalDirAttributes\n          },\n          components: flatten([\n            hasMenubar ? [partMenubar] : [],\n            getPartToolbar(),\n            useFixedContainer(editor) ? [] : [memAnchorBar.asSpec()]\n          ]),\n          sticky: isStickyToolbar(editor),\n          editor,\n          sharedBackstage: backstage.shared\n        });\n      };\n      const makeSidebarDefinition = () => {\n        const partSocket = OuterContainer.parts.socket({\n          dom: {\n            tag: 'div',\n            classes: ['tox-edit-area']\n          }\n        });\n        const partSidebar = OuterContainer.parts.sidebar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar']\n          }\n        });\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar-wrap']\n          },\n          components: [\n            partSocket,\n            partSidebar\n          ]\n        };\n      };\n      const renderSink = () => {\n        const uiContainer = getUiContainer(editor);\n        const isGridUiContainer = eq(body(), uiContainer) && get$e(uiContainer, 'display') === 'grid';\n        const sinkSpec = {\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-tinymce-aux'\n            ].concat(deviceClasses),\n            attributes: { ...global$8.isRtl() ? { dir: 'rtl' } : {} }\n          },\n          behaviours: derive$1([Positioning.config({ useFixed: () => header.isDocked(lazyHeader) })])\n        };\n        const reactiveWidthSpec = {\n          dom: { styles: { width: document.body.clientWidth + 'px' } },\n          events: derive$2([run$1(windowResize(), comp => {\n              set$8(comp.element, 'width', document.body.clientWidth + 'px');\n            })])\n        };\n        const sink = build$1(deepMerge(sinkSpec, isGridUiContainer ? reactiveWidthSpec : {}));\n        const uiMothership = takeover(sink);\n        lazySink.set(sink);\n        lazyUiMothership.set(uiMothership);\n        return {\n          sink,\n          uiMothership\n        };\n      };\n      const renderContainer = () => {\n        const partHeader = makeHeaderPart();\n        const sidebarContainer = makeSidebarDefinition();\n        const partThrobber = OuterContainer.parts.throbber({\n          dom: {\n            tag: 'div',\n            classes: ['tox-throbber']\n          },\n          backstage\n        });\n        const statusbar = useStatusBar(editor) && !isInline ? Optional.some(renderStatusbar(editor, backstage.shared.providers)) : Optional.none();\n        const editorComponents = flatten([\n          isToolbarBottom ? [] : [partHeader],\n          isInline ? [] : [sidebarContainer],\n          isToolbarBottom ? [partHeader] : []\n        ]);\n        const editorContainer = {\n          dom: {\n            tag: 'div',\n            classes: ['tox-editor-container']\n          },\n          components: editorComponents\n        };\n        const containerComponents = flatten([\n          [editorContainer],\n          isInline ? [] : statusbar.toArray(),\n          [partThrobber]\n        ]);\n        const isHidden = isDistractionFree(editor);\n        const attributes = {\n          role: 'application',\n          ...global$8.isRtl() ? { dir: 'rtl' } : {},\n          ...isHidden ? { 'aria-hidden': 'true' } : {}\n        };\n        const outerContainer = build$1(OuterContainer.sketch({\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-tinymce'\n            ].concat(isInline ? ['tox-tinymce-inline'] : []).concat(isToolbarBottom ? ['tox-tinymce--toolbar-bottom'] : []).concat(deviceClasses),\n            styles: {\n              visibility: 'hidden',\n              ...isHidden ? {\n                opacity: '0',\n                border: '0'\n              } : {}\n            },\n            attributes\n          },\n          components: containerComponents,\n          behaviours: derive$1([\n            receivingConfig(),\n            Disabling.config({ disableClass: 'tox-tinymce--disabled' }),\n            Keying.config({\n              mode: 'cyclic',\n              selector: '.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle'\n            })\n          ])\n        }));\n        const mothership = takeover(outerContainer);\n        lazyOuterContainer.set(outerContainer);\n        lazyMothership.set(mothership);\n        return {\n          mothership,\n          outerContainer\n        };\n      };\n      const setEditorSize = outerContainer => {\n        const parsedHeight = numToPx(getHeightWithFallback(editor));\n        const parsedWidth = numToPx(getWidthWithFallback(editor));\n        if (!editor.inline) {\n          if (isValidValue('div', 'width', parsedWidth)) {\n            set$8(outerContainer.element, 'width', parsedWidth);\n          }\n          if (isValidValue('div', 'height', parsedHeight)) {\n            set$8(outerContainer.element, 'height', parsedHeight);\n          } else {\n            set$8(outerContainer.element, 'height', '400px');\n          }\n        }\n        return parsedHeight;\n      };\n      const setupShortcutsAndCommands = outerContainer => {\n        editor.addShortcut('alt+F9', 'focus menubar', () => {\n          OuterContainer.focusMenubar(outerContainer);\n        });\n        editor.addShortcut('alt+F10', 'focus toolbar', () => {\n          OuterContainer.focusToolbar(outerContainer);\n        });\n        editor.addCommand('ToggleToolbarDrawer', () => {\n          OuterContainer.toggleToolbarDrawer(outerContainer);\n        });\n        editor.addQueryStateHandler('ToggleToolbarDrawer', () => OuterContainer.isToolbarDrawerToggled(outerContainer));\n      };\n      const renderUI = () => {\n        const {mothership, outerContainer} = renderContainer();\n        const {uiMothership, sink} = renderSink();\n        map$1(getToolbarGroups(editor), (toolbarGroupButtonConfig, name) => {\n          editor.ui.registry.addGroupToolbarButton(name, toolbarGroupButtonConfig);\n        });\n        const {buttons, menuItems, contextToolbars, sidebars} = editor.ui.registry.getAll();\n        const toolbarOpt = getMultipleToolbarsOption(editor);\n        const rawUiConfig = {\n          menuItems,\n          menus: getMenus(editor),\n          menubar: getMenubar(editor),\n          toolbar: toolbarOpt.getOrThunk(() => getToolbar(editor)),\n          allowToolbarGroups: toolbarMode === ToolbarMode$1.floating,\n          buttons,\n          sidebar: sidebars\n        };\n        setupShortcutsAndCommands(outerContainer);\n        setup$b(editor, mothership, uiMothership);\n        header.setup(editor, backstage.shared, lazyHeader);\n        setup$6(editor, backstage);\n        setup$5(editor, lazySinkResult, backstage);\n        setup$8(editor);\n        setup$7(editor, lazyThrobber, backstage.shared);\n        register$9(editor, contextToolbars, sink, { backstage });\n        setup$4(editor, sink);\n        const elm = editor.getElement();\n        const height = setEditorSize(outerContainer);\n        const uiComponents = {\n          mothership,\n          uiMothership,\n          outerContainer,\n          sink\n        };\n        const args = {\n          targetNode: elm,\n          height\n        };\n        return mode.render(editor, uiComponents, rawUiConfig, backstage, args);\n      };\n      const getMothership = () => getLazyMothership(lazyMothership);\n      const getUiMothership = () => getLazyMothership(lazyUiMothership);\n      return {\n        getMothership,\n        getUiMothership,\n        backstage,\n        renderUI\n      };\n    };\n\n    const describedBy = (describedElement, describeElement) => {\n      const describeId = Optional.from(get$f(describedElement, 'id')).fold(() => {\n        const id = generate$6('dialog-describe');\n        set$9(describeElement, 'id', id);\n        return id;\n      }, identity);\n      set$9(describedElement, 'aria-describedby', describeId);\n    };\n\n    const labelledBy = (labelledElement, labelElement) => {\n      const labelId = getOpt(labelledElement, 'id').fold(() => {\n        const id = generate$6('dialog-label');\n        set$9(labelElement, 'id', id);\n        return id;\n      }, identity);\n      set$9(labelledElement, 'aria-labelledby', labelId);\n    };\n\n    const schema$2 = constant$1([\n      required$1('lazySink'),\n      option$3('dragBlockClass'),\n      defaultedFunction('getBounds', win),\n      defaulted('useTabstopAt', always),\n      defaulted('eventOrder', {}),\n      field('modalBehaviours', [Keying]),\n      onKeyboardHandler('onExecute'),\n      onStrictKeyboardHandler('onEscape')\n    ]);\n    const basic = { sketch: identity };\n    const parts$2 = constant$1([\n      optional({\n        name: 'draghandle',\n        overrides: (detail, spec) => {\n          return {\n            behaviours: derive$1([Dragging.config({\n                mode: 'mouse',\n                getTarget: handle => {\n                  return ancestor(handle, '[role=\"dialog\"]').getOr(handle);\n                },\n                blockerClass: detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n' + JSON.stringify(spec, null, 2)).message),\n                getBounds: detail.getDragBounds\n              })])\n          };\n        }\n      }),\n      required({\n        schema: [required$1('dom')],\n        name: 'title'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'close'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'body'\n      }),\n      optional({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'footer'\n      }),\n      external({\n        factory: {\n          sketch: (spec, detail) => ({\n            ...spec,\n            dom: detail.dom,\n            components: detail.components\n          })\n        },\n        schema: [\n          defaulted('dom', {\n            tag: 'div',\n            styles: {\n              position: 'fixed',\n              left: '0px',\n              top: '0px',\n              right: '0px',\n              bottom: '0px'\n            }\n          }),\n          defaulted('components', [])\n        ],\n        name: 'blocker'\n      })\n    ]);\n\n    const factory$4 = (detail, components, spec, externals) => {\n      const dialogComp = value$2();\n      const showDialog = dialog => {\n        dialogComp.set(dialog);\n        const sink = detail.lazySink(dialog).getOrDie();\n        const externalBlocker = externals.blocker();\n        const blocker = sink.getSystem().build({\n          ...externalBlocker,\n          components: externalBlocker.components.concat([premade(dialog)]),\n          behaviours: derive$1([\n            Focusing.config({}),\n            config('dialog-blocker-events', [runOnSource(focusin(), () => {\n                Keying.focusIn(dialog);\n              })])\n          ])\n        });\n        attach(sink, blocker);\n        Keying.focusIn(dialog);\n      };\n      const hideDialog = dialog => {\n        dialogComp.clear();\n        parent(dialog.element).each(blockerDom => {\n          dialog.getSystem().getByDom(blockerDom).each(blocker => {\n            detach(blocker);\n          });\n        });\n      };\n      const getDialogBody = dialog => getPartOrDie(dialog, detail, 'body');\n      const getDialogFooter = dialog => getPartOrDie(dialog, detail, 'footer');\n      const setBusy = (dialog, getBusySpec) => {\n        Blocking.block(dialog, getBusySpec);\n      };\n      const setIdle = dialog => {\n        Blocking.unblock(dialog);\n      };\n      const modalEventsId = generate$6('modal-events');\n      const eventOrder = {\n        ...detail.eventOrder,\n        [attachedToDom()]: [modalEventsId].concat(detail.eventOrder['alloy.system.attached'] || [])\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis: {\n          show: showDialog,\n          hide: hideDialog,\n          getBody: getDialogBody,\n          getFooter: getDialogFooter,\n          setIdle,\n          setBusy\n        },\n        eventOrder,\n        domModification: {\n          attributes: {\n            'role': 'dialog',\n            'aria-modal': 'true'\n          }\n        },\n        behaviours: augment(detail.modalBehaviours, [\n          Replacing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            onEnter: detail.onExecute,\n            onEscape: detail.onEscape,\n            useTabstopAt: detail.useTabstopAt\n          }),\n          Blocking.config({ getRoot: dialogComp.get }),\n          config(modalEventsId, [runOnAttached(c => {\n              labelledBy(c.element, getPartOrDie(c, detail, 'title').element);\n              describedBy(c.element, getPartOrDie(c, detail, 'body').element);\n            })])\n        ])\n      };\n    };\n    const ModalDialog = composite({\n      name: 'ModalDialog',\n      configFields: schema$2(),\n      partFields: parts$2(),\n      factory: factory$4,\n      apis: {\n        show: (apis, dialog) => {\n          apis.show(dialog);\n        },\n        hide: (apis, dialog) => {\n          apis.hide(dialog);\n        },\n        getBody: (apis, dialog) => apis.getBody(dialog),\n        getFooter: (apis, dialog) => apis.getFooter(dialog),\n        setBusy: (apis, dialog, getBusySpec) => {\n          apis.setBusy(dialog, getBusySpec);\n        },\n        setIdle: (apis, dialog) => {\n          apis.setIdle(dialog);\n        }\n      }\n    });\n\n    const dialogToggleMenuItemSchema = objOf([\n      type,\n      name$1\n    ].concat(commonMenuItemFields));\n    const dialogToggleMenuItemDataProcessor = boolean;\n\n    const baseFooterButtonFields = [\n      generatedName('button'),\n      optionalIcon,\n      defaultedStringEnum('align', 'end', [\n        'start',\n        'end'\n      ]),\n      primary,\n      enabled,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary'\n      ])\n    ];\n    const dialogFooterButtonFields = [\n      ...baseFooterButtonFields,\n      text\n    ];\n    const normalFooterButtonFields = [\n      requiredStringEnum('type', [\n        'submit',\n        'cancel',\n        'custom'\n      ]),\n      ...dialogFooterButtonFields\n    ];\n    const menuFooterButtonFields = [\n      requiredStringEnum('type', ['menu']),\n      optionalText,\n      optionalTooltip,\n      optionalIcon,\n      requiredArrayOf('items', dialogToggleMenuItemSchema),\n      ...baseFooterButtonFields\n    ];\n    const dialogFooterButtonSchema = choose$1('type', {\n      submit: normalFooterButtonFields,\n      cancel: normalFooterButtonFields,\n      custom: normalFooterButtonFields,\n      menu: menuFooterButtonFields\n    });\n\n    const alertBannerFields = [\n      type,\n      text,\n      requiredStringEnum('level', [\n        'info',\n        'warn',\n        'error',\n        'success'\n      ]),\n      icon,\n      defaulted('url', '')\n    ];\n    const alertBannerSchema = objOf(alertBannerFields);\n\n    const createBarFields = itemsField => [\n      type,\n      itemsField\n    ];\n\n    const buttonFields = [\n      type,\n      text,\n      enabled,\n      generatedName('button'),\n      optionalIcon,\n      borderless,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary',\n        'toolbar'\n      ]),\n      primary\n    ];\n    const buttonSchema = objOf(buttonFields);\n\n    const formComponentFields = [\n      type,\n      name$1\n    ];\n    const formComponentWithLabelFields = formComponentFields.concat([optionalLabel]);\n\n    const checkboxFields = formComponentFields.concat([\n      label,\n      enabled\n    ]);\n    const checkboxSchema = objOf(checkboxFields);\n    const checkboxDataProcessor = boolean;\n\n    const collectionFields = formComponentWithLabelFields.concat([defaultedColumns('auto')]);\n    const collectionSchema = objOf(collectionFields);\n    const collectionDataProcessor = arrOfObj([\n      value$1,\n      text,\n      icon\n    ]);\n\n    const colorInputFields = formComponentWithLabelFields;\n    const colorInputSchema = objOf(colorInputFields);\n    const colorInputDataProcessor = string;\n\n    const colorPickerFields = formComponentWithLabelFields;\n    const colorPickerSchema = objOf(colorPickerFields);\n    const colorPickerDataProcessor = string;\n\n    const customEditorFields = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredString('scriptId'),\n      requiredString('scriptUrl'),\n      defaultedPostMsg('settings', undefined)\n    ]);\n    const customEditorFieldsOld = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredFunction('init')\n    ]);\n    const customEditorSchema = valueOf(v => asRaw('customeditor.old', objOfOnly(customEditorFieldsOld), v).orThunk(() => asRaw('customeditor.new', objOfOnly(customEditorFields), v)));\n    const customEditorDataProcessor = string;\n\n    const dropZoneFields = formComponentWithLabelFields;\n    const dropZoneSchema = objOf(dropZoneFields);\n    const dropZoneDataProcessor = arrOfVal();\n\n    const createGridFields = itemsField => [\n      type,\n      requiredNumber('columns'),\n      itemsField\n    ];\n\n    const htmlPanelFields = [\n      type,\n      requiredString('html'),\n      defaultedStringEnum('presets', 'presentation', [\n        'presentation',\n        'document'\n      ])\n    ];\n    const htmlPanelSchema = objOf(htmlPanelFields);\n\n    const iframeFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('sandboxed', true),\n      defaultedBoolean('transparent', true)\n    ]);\n    const iframeSchema = objOf(iframeFields);\n    const iframeDataProcessor = string;\n\n    const imagePreviewSchema = objOf(formComponentFields.concat([optionString('height')]));\n    const imagePreviewDataProcessor = objOf([\n      requiredString('url'),\n      optionNumber('zoom'),\n      optionNumber('cachedWidth'),\n      optionNumber('cachedHeight')\n    ]);\n\n    const inputFields = formComponentWithLabelFields.concat([\n      optionString('inputMode'),\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled\n    ]);\n    const inputSchema = objOf(inputFields);\n    const inputDataProcessor = string;\n\n    const createLabelFields = itemsField => [\n      type,\n      label,\n      itemsField\n    ];\n\n    const listBoxSingleItemFields = [\n      text,\n      value$1\n    ];\n    const listBoxNestedItemFields = [\n      text,\n      requiredArrayOf('items', thunkOf('items', () => listBoxItemSchema))\n    ];\n    const listBoxItemSchema = oneOf([\n      objOf(listBoxSingleItemFields),\n      objOf(listBoxNestedItemFields)\n    ]);\n    const listBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOf('items', listBoxItemSchema),\n      enabled\n    ]);\n    const listBoxSchema = objOf(listBoxFields);\n    const listBoxDataProcessor = string;\n\n    const selectBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOfObj('items', [\n        text,\n        value$1\n      ]),\n      defaultedNumber('size', 1),\n      enabled\n    ]);\n    const selectBoxSchema = objOf(selectBoxFields);\n    const selectBoxDataProcessor = string;\n\n    const sizeInputFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('constrain', true),\n      enabled\n    ]);\n    const sizeInputSchema = objOf(sizeInputFields);\n    const sizeInputDataProcessor = objOf([\n      requiredString('width'),\n      requiredString('height')\n    ]);\n\n    const sliderFields = formComponentFields.concat([\n      label,\n      defaultedNumber('min', 0),\n      defaultedNumber('max', 0)\n    ]);\n    const sliderSchema = objOf(sliderFields);\n    const sliderInputDataProcessor = number;\n\n    const tableFields = [\n      type,\n      requiredArrayOf('header', string),\n      requiredArrayOf('cells', arrOf(string))\n    ];\n    const tableSchema = objOf(tableFields);\n\n    const textAreaFields = formComponentWithLabelFields.concat([\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled\n    ]);\n    const textAreaSchema = objOf(textAreaFields);\n    const textAreaDataProcessor = string;\n\n    const urlInputFields = formComponentWithLabelFields.concat([\n      defaultedStringEnum('filetype', 'file', [\n        'image',\n        'media',\n        'file'\n      ]),\n      enabled\n    ]);\n    const urlInputSchema = objOf(urlInputFields);\n    const urlInputDataProcessor = objOf([\n      value$1,\n      defaultedMeta\n    ]);\n\n    const createItemsField = name => field$1('items', 'items', required$2(), arrOf(valueOf(v => asRaw(`Checking item of ${ name }`, itemSchema, v).fold(sErr => Result.error(formatError(sErr)), passValue => Result.value(passValue)))));\n    const itemSchema = valueThunk(() => choose$2('type', {\n      alertbanner: alertBannerSchema,\n      bar: objOf(createBarFields(createItemsField('bar'))),\n      button: buttonSchema,\n      checkbox: checkboxSchema,\n      colorinput: colorInputSchema,\n      colorpicker: colorPickerSchema,\n      dropzone: dropZoneSchema,\n      grid: objOf(createGridFields(createItemsField('grid'))),\n      iframe: iframeSchema,\n      input: inputSchema,\n      listbox: listBoxSchema,\n      selectbox: selectBoxSchema,\n      sizeinput: sizeInputSchema,\n      slider: sliderSchema,\n      textarea: textAreaSchema,\n      urlinput: urlInputSchema,\n      customeditor: customEditorSchema,\n      htmlpanel: htmlPanelSchema,\n      imagepreview: imagePreviewSchema,\n      collection: collectionSchema,\n      label: objOf(createLabelFields(createItemsField('label'))),\n      table: tableSchema,\n      panel: panelSchema\n    }));\n    const panelFields = [\n      type,\n      defaulted('classes', []),\n      requiredArrayOf('items', itemSchema)\n    ];\n    const panelSchema = objOf(panelFields);\n\n    const tabFields = [\n      generatedName('tab'),\n      title,\n      requiredArrayOf('items', itemSchema)\n    ];\n    const tabPanelFields = [\n      type,\n      requiredArrayOfObj('tabs', tabFields)\n    ];\n    const tabPanelSchema = objOf(tabPanelFields);\n\n    const dialogButtonFields = dialogFooterButtonFields;\n    const dialogButtonSchema = dialogFooterButtonSchema;\n    const dialogSchema = objOf([\n      requiredString('title'),\n      requiredOf('body', choose$2('type', {\n        panel: panelSchema,\n        tabpanel: tabPanelSchema\n      })),\n      defaultedString('size', 'normal'),\n      requiredArrayOf('buttons', dialogButtonSchema),\n      defaulted('initialData', {}),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onChange', noop),\n      defaultedFunction('onSubmit', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onTabChange', noop)\n    ]);\n    const createDialog = spec => asRaw('dialog', dialogSchema, spec);\n\n    const urlDialogButtonSchema = objOf([\n      requiredStringEnum('type', [\n        'cancel',\n        'custom'\n      ]),\n      ...dialogButtonFields\n    ]);\n    const urlDialogSchema = objOf([\n      requiredString('title'),\n      requiredString('url'),\n      optionNumber('height'),\n      optionNumber('width'),\n      optionArrayOf('buttons', urlDialogButtonSchema),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onMessage', noop)\n    ]);\n    const createUrlDialog = spec => asRaw('dialog', urlDialogSchema, spec);\n\n    const getAllObjects = obj => {\n      if (isObject(obj)) {\n        return [obj].concat(bind$3(values(obj), getAllObjects));\n      } else if (isArray(obj)) {\n        return bind$3(obj, getAllObjects);\n      } else {\n        return [];\n      }\n    };\n\n    const isNamedItem = obj => isString(obj.type) && isString(obj.name);\n    const dataProcessors = {\n      checkbox: checkboxDataProcessor,\n      colorinput: colorInputDataProcessor,\n      colorpicker: colorPickerDataProcessor,\n      dropzone: dropZoneDataProcessor,\n      input: inputDataProcessor,\n      iframe: iframeDataProcessor,\n      imagepreview: imagePreviewDataProcessor,\n      selectbox: selectBoxDataProcessor,\n      sizeinput: sizeInputDataProcessor,\n      slider: sliderInputDataProcessor,\n      listbox: listBoxDataProcessor,\n      size: sizeInputDataProcessor,\n      textarea: textAreaDataProcessor,\n      urlinput: urlInputDataProcessor,\n      customeditor: customEditorDataProcessor,\n      collection: collectionDataProcessor,\n      togglemenuitem: dialogToggleMenuItemDataProcessor\n    };\n    const getDataProcessor = item => Optional.from(dataProcessors[item.type]);\n    const getNamedItems = structure => filter$2(getAllObjects(structure), isNamedItem);\n\n    const createDataValidator = structure => {\n      const namedItems = getNamedItems(structure);\n      const fields = bind$3(namedItems, item => getDataProcessor(item).fold(() => [], schema => [requiredOf(item.name, schema)]));\n      return objOf(fields);\n    };\n\n    const extract = structure => {\n      const internalDialog = getOrDie(createDialog(structure));\n      const dataValidator = createDataValidator(structure);\n      const initialData = structure.initialData;\n      return {\n        internalDialog,\n        dataValidator,\n        initialData\n      };\n    };\n    const DialogManager = {\n      open: (factory, structure) => {\n        const extraction = extract(structure);\n        return factory(extraction.internalDialog, extraction.initialData, extraction.dataValidator);\n      },\n      openUrl: (factory, structure) => {\n        const internalDialog = getOrDie(createUrlDialog(structure));\n        return factory(internalDialog);\n      },\n      redial: structure => extract(structure)\n    };\n\n    const toValidValues = values => {\n      const errors = [];\n      const result = {};\n      each(values, (value, name) => {\n        value.fold(() => {\n          errors.push(name);\n        }, v => {\n          result[name] = v;\n        });\n      });\n      return errors.length > 0 ? Result.error(errors) : Result.value(result);\n    };\n\n    const renderBodyPanel = (spec, dialogData, backstage) => {\n      const memForm = record(Form.sketch(parts => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form'].concat(spec.classes)\n        },\n        components: map$2(spec.items, item => interpretInForm(parts, item, dialogData, backstage))\n      })));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [memForm.asSpec()]\n          }],\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          }),\n          ComposingConfigs.memento(memForm),\n          RepresentingConfigs.memento(memForm, {\n            postprocess: formValue => toValidValues(formValue).fold(err => {\n              console.error(err);\n              return {};\n            }, identity)\n          })\n        ])\n      };\n    };\n\n    const factory$3 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components: detail.components,\n      events: events$a(detail.action),\n      behaviours: augment(detail.tabButtonBehaviours, [\n        Focusing.config({}),\n        Keying.config({\n          mode: 'execution',\n          useSpace: true,\n          useEnter: true\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        })\n      ]),\n      domModification: detail.domModification\n    });\n    const TabButton = single({\n      name: 'TabButton',\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('value'),\n        field$1('dom', 'dom', mergeWithThunk(() => ({\n          attributes: {\n            'role': 'tab',\n            'id': generate$6('aria'),\n            'aria-selected': 'false'\n          }\n        })), anyValue()),\n        option$3('action'),\n        defaulted('domModification', {}),\n        field('tabButtonBehaviours', [\n          Focusing,\n          Keying,\n          Representing\n        ]),\n        required$1('view')\n      ],\n      factory: factory$3\n    });\n\n    const schema$1 = constant$1([\n      required$1('tabs'),\n      required$1('dom'),\n      defaulted('clickToDismiss', false),\n      field('tabbarBehaviours', [\n        Highlighting,\n        Keying\n      ]),\n      markers$1([\n        'tabClass',\n        'selectedClass'\n      ])\n    ]);\n    const tabsPart = group({\n      factory: TabButton,\n      name: 'tabs',\n      unit: 'tab',\n      overrides: barDetail => {\n        const dismissTab$1 = (tabbar, button) => {\n          Highlighting.dehighlight(tabbar, button);\n          emitWith(tabbar, dismissTab(), {\n            tabbar,\n            button\n          });\n        };\n        const changeTab$1 = (tabbar, button) => {\n          Highlighting.highlight(tabbar, button);\n          emitWith(tabbar, changeTab(), {\n            tabbar,\n            button\n          });\n        };\n        return {\n          action: button => {\n            const tabbar = button.getSystem().getByUid(barDetail.uid).getOrDie();\n            const activeButton = Highlighting.isHighlighted(tabbar, button);\n            const response = (() => {\n              if (activeButton && barDetail.clickToDismiss) {\n                return dismissTab$1;\n              } else if (!activeButton) {\n                return changeTab$1;\n              } else {\n                return noop;\n              }\n            })();\n            response(tabbar, button);\n          },\n          domModification: { classes: [barDetail.markers.tabClass] }\n        };\n      }\n    });\n    const parts$1 = constant$1([tabsPart]);\n\n    const factory$2 = (detail, components, _spec, _externals) => ({\n      'uid': detail.uid,\n      'dom': detail.dom,\n      components,\n      'debug.sketcher': 'Tabbar',\n      'domModification': { attributes: { role: 'tablist' } },\n      'behaviours': augment(detail.tabbarBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedClass,\n          itemClass: detail.markers.tabClass,\n          onHighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'true');\n          },\n          onDehighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'false');\n          }\n        }),\n        Keying.config({\n          mode: 'flow',\n          getInitial: tabbar => {\n            return Highlighting.getHighlighted(tabbar).map(tab => tab.element);\n          },\n          selector: '.' + detail.markers.tabClass,\n          executeOnMove: true\n        })\n      ])\n    });\n    const Tabbar = composite({\n      name: 'Tabbar',\n      configFields: schema$1(),\n      partFields: parts$1(),\n      factory: factory$2\n    });\n\n    const factory$1 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      behaviours: augment(detail.tabviewBehaviours, [Replacing.config({})]),\n      domModification: { attributes: { role: 'tabpanel' } }\n    });\n    const Tabview = single({\n      name: 'Tabview',\n      configFields: [field('tabviewBehaviours', [Replacing])],\n      factory: factory$1\n    });\n\n    const schema = constant$1([\n      defaulted('selectFirst', true),\n      onHandler('onChangeTab'),\n      onHandler('onDismissTab'),\n      defaulted('tabs', []),\n      field('tabSectionBehaviours', [])\n    ]);\n    const barPart = required({\n      factory: Tabbar,\n      schema: [\n        required$1('dom'),\n        requiredObjOf('markers', [\n          required$1('tabClass'),\n          required$1('selectedClass')\n        ])\n      ],\n      name: 'tabbar',\n      defaults: detail => {\n        return { tabs: detail.tabs };\n      }\n    });\n    const viewPart = required({\n      factory: Tabview,\n      name: 'tabview'\n    });\n    const parts = constant$1([\n      barPart,\n      viewPart\n    ]);\n\n    const factory = (detail, components, _spec, _externals) => {\n      const changeTab$1 = button => {\n        const tabValue = Representing.getValue(button);\n        getPart(button, detail, 'tabview').each(tabview => {\n          const tabWithValue = find$5(detail.tabs, t => t.value === tabValue);\n          tabWithValue.each(tabData => {\n            const panel = tabData.view();\n            getOpt(button.element, 'id').each(id => {\n              set$9(tabview.element, 'aria-labelledby', id);\n            });\n            Replacing.set(tabview, panel);\n            detail.onChangeTab(tabview, button, panel);\n          });\n        });\n      };\n      const changeTabBy = (section, byPred) => {\n        getPart(section, detail, 'tabbar').each(tabbar => {\n          byPred(tabbar).each(emitExecute);\n        });\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$3(detail.tabSectionBehaviours),\n        events: derive$2(flatten([\n          detail.selectFirst ? [runOnAttached((section, _simulatedEvent) => {\n              changeTabBy(section, Highlighting.getFirst);\n            })] : [],\n          [\n            run$1(changeTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              changeTab$1(button);\n            }),\n            run$1(dismissTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              detail.onDismissTab(section, button);\n            })\n          ]\n        ])),\n        apis: {\n          getViewItems: section => {\n            return getPart(section, detail, 'tabview').map(tabview => Replacing.contents(tabview)).getOr([]);\n          },\n          showTab: (section, tabKey) => {\n            const getTabIfNotActive = tabbar => {\n              const candidates = Highlighting.getCandidates(tabbar);\n              const optTab = find$5(candidates, c => Representing.getValue(c) === tabKey);\n              return optTab.filter(tab => !Highlighting.isHighlighted(tabbar, tab));\n            };\n            changeTabBy(section, getTabIfNotActive);\n          }\n        }\n      };\n    };\n    const TabSection = composite({\n      name: 'TabSection',\n      configFields: schema(),\n      partFields: parts(),\n      factory,\n      apis: {\n        getViewItems: (apis, component) => apis.getViewItems(component),\n        showTab: (apis, component, tabKey) => {\n          apis.showTab(component, tabKey);\n        }\n      }\n    });\n\n    const measureHeights = (allTabs, tabview, tabviewComp) => map$2(allTabs, (_tab, i) => {\n      Replacing.set(tabviewComp, allTabs[i].view());\n      const rect = tabview.dom.getBoundingClientRect();\n      Replacing.set(tabviewComp, []);\n      return rect.height;\n    });\n    const getMaxHeight = heights => head(sort(heights, (a, b) => {\n      if (a > b) {\n        return -1;\n      } else if (a < b) {\n        return +1;\n      } else {\n        return 0;\n      }\n    }));\n    const getMaxTabviewHeight = (dialog, tabview, tablist) => {\n      const documentElement$1 = documentElement(dialog).dom;\n      const rootElm = ancestor(dialog, '.tox-dialog-wrap').getOr(dialog);\n      const isFixed = get$e(rootElm, 'position') === 'fixed';\n      let maxHeight;\n      if (isFixed) {\n        maxHeight = Math.max(documentElement$1.clientHeight, window.innerHeight);\n      } else {\n        maxHeight = Math.max(documentElement$1.offsetHeight, documentElement$1.scrollHeight);\n      }\n      const tabviewHeight = get$d(tabview);\n      const isTabListBeside = tabview.dom.offsetLeft >= tablist.dom.offsetLeft + get$c(tablist);\n      const currentTabHeight = isTabListBeside ? Math.max(get$d(tablist), tabviewHeight) : tabviewHeight;\n      const dialogTopMargin = parseInt(get$e(dialog, 'margin-top'), 10) || 0;\n      const dialogBottomMargin = parseInt(get$e(dialog, 'margin-bottom'), 10) || 0;\n      const dialogHeight = get$d(dialog) + dialogTopMargin + dialogBottomMargin;\n      const chromeHeight = dialogHeight - currentTabHeight;\n      return maxHeight - chromeHeight;\n    };\n    const showTab = (allTabs, comp) => {\n      head(allTabs).each(tab => TabSection.showTab(comp, tab.value));\n    };\n    const setTabviewHeight = (tabview, height) => {\n      set$8(tabview, 'height', height + 'px');\n      set$8(tabview, 'flex-basis', height + 'px');\n    };\n    const updateTabviewHeight = (dialogBody, tabview, maxTabHeight) => {\n      ancestor(dialogBody, '[role=\"dialog\"]').each(dialog => {\n        descendant(dialog, '[role=\"tablist\"]').each(tablist => {\n          maxTabHeight.get().map(height => {\n            set$8(tabview, 'height', '0');\n            set$8(tabview, 'flex-basis', '0');\n            return Math.min(height, getMaxTabviewHeight(dialog, tabview, tablist));\n          }).each(height => {\n            setTabviewHeight(tabview, height);\n          });\n        });\n      });\n    };\n    const getTabview = dialog => descendant(dialog, '[role=\"tabpanel\"]');\n    const setMode = allTabs => {\n      const smartTabHeight = (() => {\n        const maxTabHeight = value$2();\n        const extraEvents = [\n          runOnAttached(comp => {\n            const dialog = comp.element;\n            getTabview(dialog).each(tabview => {\n              set$8(tabview, 'visibility', 'hidden');\n              comp.getSystem().getByDom(tabview).toOptional().each(tabviewComp => {\n                const heights = measureHeights(allTabs, tabview, tabviewComp);\n                const maxTabHeightOpt = getMaxHeight(heights);\n                maxTabHeightOpt.fold(maxTabHeight.clear, maxTabHeight.set);\n              });\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n              remove$6(tabview, 'visibility');\n              showTab(allTabs, comp);\n              requestAnimationFrame(() => {\n                updateTabviewHeight(dialog, tabview, maxTabHeight);\n              });\n            });\n          }),\n          run$1(windowResize(), comp => {\n            const dialog = comp.element;\n            getTabview(dialog).each(tabview => {\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            });\n          }),\n          run$1(formResizeEvent, (comp, _se) => {\n            const dialog = comp.element;\n            getTabview(dialog).each(tabview => {\n              const oldFocus = active$1(getRootNode(tabview));\n              set$8(tabview, 'visibility', 'hidden');\n              const oldHeight = getRaw(tabview, 'height').map(h => parseInt(h, 10));\n              remove$6(tabview, 'height');\n              remove$6(tabview, 'flex-basis');\n              const newHeight = tabview.dom.getBoundingClientRect().height;\n              const hasGrown = oldHeight.forall(h => newHeight > h);\n              if (hasGrown) {\n                maxTabHeight.set(newHeight);\n                updateTabviewHeight(dialog, tabview, maxTabHeight);\n              } else {\n                oldHeight.each(h => {\n                  setTabviewHeight(tabview, h);\n                });\n              }\n              remove$6(tabview, 'visibility');\n              oldFocus.each(focus$3);\n            });\n          })\n        ];\n        const selectFirst = false;\n        return {\n          extraEvents,\n          selectFirst\n        };\n      })();\n      const naiveTabHeight = (() => {\n        const extraEvents = [];\n        const selectFirst = true;\n        return {\n          extraEvents,\n          selectFirst\n        };\n      })();\n      return {\n        smartTabHeight,\n        naiveTabHeight\n      };\n    };\n\n    const SendDataToSectionChannel = 'send-data-to-section';\n    const SendDataToViewChannel = 'send-data-to-view';\n    const renderTabPanel = (spec, dialogData, backstage) => {\n      const storedValue = Cell({});\n      const updateDataWithForm = form => {\n        const formData = Representing.getValue(form);\n        const validData = toValidValues(formData).getOr({});\n        const currentData = storedValue.get();\n        const newData = deepMerge(currentData, validData);\n        storedValue.set(newData);\n      };\n      const setDataOnForm = form => {\n        const tabData = storedValue.get();\n        Representing.setValue(form, tabData);\n      };\n      const oldTab = Cell(null);\n      const allTabs = map$2(spec.tabs, tab => {\n        return {\n          value: tab.name,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-nav-item']\n          },\n          components: [text$1(backstage.shared.providers.translate(tab.title))],\n          view: () => {\n            return [Form.sketch(parts => ({\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-form']\n                },\n                components: map$2(tab.items, item => interpretInForm(parts, item, dialogData, backstage)),\n                formBehaviours: derive$1([\n                  Keying.config({\n                    mode: 'acyclic',\n                    useTabstopAt: not(isPseudoStop)\n                  }),\n                  config('TabView.form.events', [\n                    runOnAttached(setDataOnForm),\n                    runOnDetached(updateDataWithForm)\n                  ]),\n                  Receiving.config({\n                    channels: wrapAll([\n                      {\n                        key: SendDataToSectionChannel,\n                        value: { onReceive: updateDataWithForm }\n                      },\n                      {\n                        key: SendDataToViewChannel,\n                        value: { onReceive: setDataOnForm }\n                      }\n                    ])\n                  })\n                ])\n              }))];\n          }\n        };\n      });\n      const tabMode = setMode(allTabs).smartTabHeight;\n      return TabSection.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        onChangeTab: (section, button, _viewItems) => {\n          const name = Representing.getValue(button);\n          emitWith(section, formTabChangeEvent, {\n            name,\n            oldName: oldTab.get()\n          });\n          oldTab.set(name);\n        },\n        tabs: allTabs,\n        components: [\n          TabSection.parts.tabbar({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-nav']\n            },\n            components: [Tabbar.parts.tabs({})],\n            markers: {\n              tabClass: 'tox-tab',\n              selectedClass: 'tox-dialog__body-nav-item--active'\n            },\n            tabbarBehaviours: derive$1([Tabstopping.config({})])\n          }),\n          TabSection.parts.tabview({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            }\n          })\n        ],\n        selectFirst: tabMode.selectFirst,\n        tabSectionBehaviours: derive$1([\n          config('tabpanel', tabMode.extraEvents),\n          Keying.config({ mode: 'acyclic' }),\n          Composing.config({ find: comp => head(TabSection.getViewItems(comp)) }),\n          RepresentingConfigs.withComp(Optional.none(), tsection => {\n            tsection.getSystem().broadcastOn([SendDataToSectionChannel], {});\n            return storedValue.get();\n          }, (tsection, value) => {\n            storedValue.set(value);\n            tsection.getSystem().broadcastOn([SendDataToViewChannel], {});\n          })\n        ])\n      });\n    };\n\n    const dialogChannel = generate$6('update-dialog');\n    const titleChannel = generate$6('update-title');\n    const bodyChannel = generate$6('update-body');\n    const footerChannel = generate$6('update-footer');\n    const bodySendMessageChannel = generate$6('body-send-message');\n\n    const renderBody = (spec, dialogId, contentId, backstage, ariaAttrs) => {\n      const renderComponents = incoming => {\n        const body = incoming.body;\n        switch (body.type) {\n        case 'tabpanel': {\n            return [renderTabPanel(body, incoming.initialData, backstage)];\n          }\n        default: {\n            return [renderBodyPanel(body, incoming.initialData, backstage)];\n          }\n        }\n      };\n      const updateState = (_comp, incoming) => Optional.some({ isTabPanel: () => incoming.body.type === 'tabpanel' });\n      const ariaAttributes = { 'aria-live': 'polite' };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js'],\n          attributes: {\n            ...contentId.map(x => ({ id: x })).getOr({}),\n            ...ariaAttrs ? ariaAttributes : {}\n          }\n        },\n        components: [],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          Reflecting.config({\n            channel: `${ bodyChannel }-${ dialogId }`,\n            updateState,\n            renderComponents,\n            initialData: spec\n          })\n        ])\n      };\n    };\n    const renderInlineBody = (spec, dialogId, contentId, backstage, ariaAttrs) => renderBody(spec, dialogId, Optional.some(contentId), backstage, ariaAttrs);\n    const renderModalBody = (spec, dialogId, backstage) => {\n      const bodySpec = renderBody(spec, dialogId, Optional.none(), backstage, false);\n      return ModalDialog.parts.body(bodySpec);\n    };\n    const renderIframeBody = spec => {\n      const bodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-iframe']\n            },\n            components: [craft({\n                dom: {\n                  tag: 'iframe',\n                  attributes: { src: spec.url }\n                },\n                behaviours: derive$1([\n                  Tabstopping.config({}),\n                  Focusing.config({})\n                ])\n              })]\n          }],\n        behaviours: derive$1([Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          })])\n      };\n      return ModalDialog.parts.body(bodySpec);\n    };\n\n    const isTouch = global$5.deviceType.isTouch();\n    const hiddenHeader = (title, close) => ({\n      dom: {\n        tag: 'div',\n        styles: { display: 'none' },\n        classes: ['tox-dialog__header']\n      },\n      components: [\n        title,\n        close\n      ]\n    });\n    const pClose = (onClose, providersBackstage) => ModalDialog.parts.close(Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close')\n        }\n      },\n      action: onClose,\n      buttonBehaviours: derive$1([Tabstopping.config({})])\n    }));\n    const pUntitled = () => ModalDialog.parts.title({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__title'],\n        innerHtml: '',\n        styles: { display: 'none' }\n      }\n    });\n    const pBodyMessage = (message, providersBackstage) => ModalDialog.parts.body({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__body']\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-content']\n          },\n          components: [{ dom: fromHtml(`<p>${ providersBackstage.translate(message) }</p>`) }]\n        }]\n    });\n    const pFooter = buttons => ModalDialog.parts.footer({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__footer']\n      },\n      components: buttons\n    });\n    const pFooterGroup = (startButtons, endButtons) => [\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-start']\n        },\n        components: startButtons\n      }),\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-end']\n        },\n        components: endButtons\n      })\n    ];\n    const renderDialog$1 = spec => {\n      const dialogClass = 'tox-dialog';\n      const blockerClass = dialogClass + '-wrap';\n      const blockerBackdropClass = blockerClass + '__backdrop';\n      const scrollLockClass = dialogClass + '__disable-scroll';\n      return ModalDialog.sketch({\n        lazySink: spec.lazySink,\n        onEscape: comp => {\n          spec.onEscape(comp);\n          return Optional.some(true);\n        },\n        useTabstopAt: elem => !isPseudoStop(elem),\n        dom: {\n          tag: 'div',\n          classes: [dialogClass].concat(spec.extraClasses),\n          styles: {\n            position: 'relative',\n            ...spec.extraStyles\n          }\n        },\n        components: [\n          spec.header,\n          spec.body,\n          ...spec.footer.toArray()\n        ],\n        parts: {\n          blocker: {\n            dom: fromHtml(`<div class=\"${ blockerClass }\"></div>`),\n            components: [{\n                dom: {\n                  tag: 'div',\n                  classes: isTouch ? [\n                    blockerBackdropClass,\n                    blockerBackdropClass + '--opaque'\n                  ] : [blockerBackdropClass]\n                }\n              }]\n          }\n        },\n        dragBlockClass: blockerClass,\n        modalBehaviours: derive$1([\n          Focusing.config({}),\n          config('dialog-events', spec.dialogEvents.concat([runOnSource(focusin(), (comp, _se) => {\n              Keying.focusIn(comp);\n            })])),\n          config('scroll-lock', [\n            runOnAttached(() => {\n              add$2(body(), scrollLockClass);\n            }),\n            runOnDetached(() => {\n              remove$2(body(), scrollLockClass);\n            })\n          ]),\n          ...spec.extraBehaviours\n        ]),\n        eventOrder: {\n          [execute$5()]: ['dialog-events'],\n          [attachedToDom()]: [\n            'scroll-lock',\n            'dialog-events',\n            'alloy.base.behaviour'\n          ],\n          [detachedFromDom()]: [\n            'alloy.base.behaviour',\n            'dialog-events',\n            'scroll-lock'\n          ],\n          ...spec.eventOrder\n        }\n      });\n    };\n\n    const renderClose = providersBackstage => Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close'),\n          'title': providersBackstage.translate('Close')\n        }\n      },\n      components: [render$3('close', {\n          tag: 'div',\n          classes: ['tox-icon']\n        }, providersBackstage.icons)],\n      action: comp => {\n        emit(comp, formCancelEvent);\n      }\n    });\n    const renderTitle = (spec, dialogId, titleId, providersBackstage) => {\n      const renderComponents = data => [text$1(providersBackstage.translate(data.title))];\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          attributes: { ...titleId.map(x => ({ id: x })).getOr({}) }\n        },\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ titleChannel }-${ dialogId }`,\n            initialData: spec,\n            renderComponents\n          })])\n      };\n    };\n    const renderDragHandle = () => ({ dom: fromHtml('<div class=\"tox-dialog__draghandle\"></div>') });\n    const renderInlineHeader = (spec, dialogId, titleId, providersBackstage) => Container.sketch({\n      dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n      components: [\n        renderTitle(spec, dialogId, Optional.some(titleId), providersBackstage),\n        renderDragHandle(),\n        renderClose(providersBackstage)\n      ],\n      containerBehaviours: derive$1([Dragging.config({\n          mode: 'mouse',\n          blockerClass: 'blocker',\n          getTarget: handle => {\n            return closest$1(handle, '[role=\"dialog\"]').getOrDie();\n          },\n          snaps: {\n            getSnapPoints: () => [],\n            leftAttr: 'data-drag-left',\n            topAttr: 'data-drag-top'\n          }\n        })])\n    });\n    const renderModalHeader = (spec, dialogId, providersBackstage) => {\n      const pTitle = ModalDialog.parts.title(renderTitle(spec, dialogId, Optional.none(), providersBackstage));\n      const pHandle = ModalDialog.parts.draghandle(renderDragHandle());\n      const pClose = ModalDialog.parts.close(renderClose(providersBackstage));\n      const components = [pTitle].concat(spec.draggable ? [pHandle] : []).concat([pClose]);\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components\n      });\n    };\n\n    const getHeader = (title, dialogId, backstage) => renderModalHeader({\n      title: backstage.shared.providers.translate(title),\n      draggable: backstage.dialog.isDraggableModal()\n    }, dialogId, backstage.shared.providers);\n    const getBusySpec = (message, bs, providers) => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__busy-spinner'],\n        attributes: { 'aria-label': providers.translate(message) },\n        styles: {\n          left: '0px',\n          right: '0px',\n          bottom: '0px',\n          top: '0px',\n          position: 'absolute'\n        }\n      },\n      behaviours: bs,\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const getEventExtras = (lazyDialog, providers, extra) => ({\n      onClose: () => extra.closeWindow(),\n      onBlock: blockEvent => {\n        ModalDialog.setBusy(lazyDialog(), (_comp, bs) => getBusySpec(blockEvent.message, bs, providers));\n      },\n      onUnblock: () => {\n        ModalDialog.setIdle(lazyDialog());\n      }\n    });\n    const renderModalDialog = (spec, initialData, dialogEvents, backstage) => {\n      const updateState = (_comp, incoming) => Optional.some(incoming);\n      return build$1(renderDialog$1({\n        ...spec,\n        lazySink: backstage.shared.getSink,\n        extraBehaviours: [\n          Reflecting.config({\n            channel: `${ dialogChannel }-${ spec.id }`,\n            updateState,\n            initialData\n          }),\n          RepresentingConfigs.memory({}),\n          ...spec.extraBehaviours\n        ],\n        onEscape: comp => {\n          emit(comp, formCancelEvent);\n        },\n        dialogEvents,\n        eventOrder: {\n          [receive()]: [\n            Reflecting.name(),\n            Receiving.name()\n          ],\n          [attachedToDom()]: [\n            'scroll-lock',\n            Reflecting.name(),\n            'messages',\n            'dialog-events',\n            'alloy.base.behaviour'\n          ],\n          [detachedFromDom()]: [\n            'alloy.base.behaviour',\n            'dialog-events',\n            'messages',\n            Reflecting.name(),\n            'scroll-lock'\n          ]\n        }\n      }));\n    };\n    const mapMenuButtons = buttons => {\n      const mapItems = button => {\n        const items = map$2(button.items, item => {\n          const cell = Cell(false);\n          return {\n            ...item,\n            storage: cell\n          };\n        });\n        return {\n          ...button,\n          items\n        };\n      };\n      return map$2(buttons, button => {\n        if (button.type === 'menu') {\n          return mapItems(button);\n        }\n        return button;\n      });\n    };\n    const extractCellsToObject = buttons => foldl(buttons, (acc, button) => {\n      if (button.type === 'menu') {\n        const menuButton = button;\n        return foldl(menuButton.items, (innerAcc, item) => {\n          innerAcc[item.name] = item.storage;\n          return innerAcc;\n        }, acc);\n      }\n      return acc;\n    }, {});\n\n    const initCommonEvents = (fireApiEvent, extras) => [\n      runWithTarget(focusin(), onFocus),\n      fireApiEvent(formCloseEvent, (_api, spec) => {\n        extras.onClose();\n        spec.onClose();\n      }),\n      fireApiEvent(formCancelEvent, (api, spec, _event, self) => {\n        spec.onCancel(api);\n        emit(self, formCloseEvent);\n      }),\n      run$1(formUnblockEvent, (_c, _se) => extras.onUnblock()),\n      run$1(formBlockEvent, (_c, se) => extras.onBlock(se.event))\n    ];\n    const initUrlDialog = (getInstanceApi, extras) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialog => {\n          f(currentDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formActionEvent, (api, spec, event) => {\n          spec.onAction(api, { name: event.name });\n        })\n      ];\n    };\n    const initDialog = (getInstanceApi, extras, getSink) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialogInit => {\n          f(currentDialogInit.internalDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formSubmitEvent, (api, spec) => spec.onSubmit(api)),\n        fireApiEvent(formChangeEvent, (api, spec, event) => {\n          spec.onChange(api, { name: event.name });\n        }),\n        fireApiEvent(formActionEvent, (api, spec, event, component) => {\n          const focusIn = () => Keying.focusIn(component);\n          const isDisabled = focused => has$1(focused, 'disabled') || getOpt(focused, 'aria-disabled').exists(val => val === 'true');\n          const rootNode = getRootNode(component.element);\n          const current = active$1(rootNode);\n          spec.onAction(api, {\n            name: event.name,\n            value: event.value\n          });\n          active$1(rootNode).fold(focusIn, focused => {\n            if (isDisabled(focused)) {\n              focusIn();\n            } else if (current.exists(cur => contains(focused, cur) && isDisabled(cur))) {\n              focusIn();\n            } else {\n              getSink().toOptional().filter(sink => !contains(sink.element, focused)).each(focusIn);\n            }\n          });\n        }),\n        fireApiEvent(formTabChangeEvent, (api, spec, event) => {\n          spec.onTabChange(api, {\n            newTabName: event.name,\n            oldTabName: event.oldName\n          });\n        }),\n        runOnDetached(component => {\n          const api = getInstanceApi();\n          Representing.setValue(component, api.getData());\n        })\n      ];\n    };\n    const SilverDialogEvents = {\n      initUrlDialog,\n      initDialog\n    };\n\n    const makeButton = (button, backstage) => renderFooterButton(button, button.type, backstage);\n    const lookup = (compInSystem, footerButtons, buttonName) => find$5(footerButtons, button => button.name === buttonName).bind(memButton => memButton.memento.getOpt(compInSystem));\n    const renderComponents = (_data, state) => {\n      const footerButtons = state.map(s => s.footerButtons).getOr([]);\n      const buttonGroups = partition$3(footerButtons, button => button.align === 'start');\n      const makeGroup = (edge, buttons) => Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: [`tox-dialog__footer-${ edge }`]\n        },\n        components: map$2(buttons, button => button.memento.asSpec())\n      });\n      const startButtons = makeGroup('start', buttonGroups.pass);\n      const endButtons = makeGroup('end', buttonGroups.fail);\n      return [\n        startButtons,\n        endButtons\n      ];\n    };\n    const renderFooter = (initSpec, dialogId, backstage) => {\n      const updateState = (comp, data) => {\n        const footerButtons = map$2(data.buttons, button => {\n          const memButton = record(makeButton(button, backstage));\n          return {\n            name: button.name,\n            align: button.align,\n            memento: memButton\n          };\n        });\n        const lookupByName = buttonName => lookup(comp, footerButtons, buttonName);\n        return Optional.some({\n          lookupByName,\n          footerButtons\n        });\n      };\n      return {\n        dom: fromHtml('<div class=\"tox-dialog__footer\"></div>'),\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ footerChannel }-${ dialogId }`,\n            initialData: initSpec,\n            updateState,\n            renderComponents\n          })])\n      };\n    };\n    const renderInlineFooter = (initSpec, dialogId, backstage) => renderFooter(initSpec, dialogId, backstage);\n    const renderModalFooter = (initSpec, dialogId, backstage) => ModalDialog.parts.footer(renderFooter(initSpec, dialogId, backstage));\n\n    const getCompByName = (access, name) => {\n      const root = access.getRoot();\n      if (root.getSystem().isConnected()) {\n        const form = Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());\n        return Form.getField(form, name).orThunk(() => {\n          const footer = access.getFooter();\n          const footerState = Reflecting.getState(footer).get();\n          return footerState.bind(f => f.lookupByName(name));\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const validateData$1 = (access, data) => {\n      const root = access.getRoot();\n      return Reflecting.getState(root).get().map(dialogState => getOrDie(asRaw('data', dialogState.dataValidator, data))).getOr(data);\n    };\n    const getDialogApi = (access, doRedial, menuItemStates) => {\n      const withRoot = f => {\n        const root = access.getRoot();\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const getData = () => {\n        const root = access.getRoot();\n        const valueComp = root.getSystem().isConnected() ? access.getFormWrapper() : root;\n        const representedValues = Representing.getValue(valueComp);\n        const menuItemCurrentState = map$1(menuItemStates, cell => cell.get());\n        return {\n          ...representedValues,\n          ...menuItemCurrentState\n        };\n      };\n      const setData = newData => {\n        withRoot(_ => {\n          const prevData = instanceApi.getData();\n          const mergedData = deepMerge(prevData, newData);\n          const newInternalData = validateData$1(access, mergedData);\n          const form = access.getFormWrapper();\n          Representing.setValue(form, newInternalData);\n          each(menuItemStates, (v, k) => {\n            if (has$2(mergedData, k)) {\n              v.set(mergedData[k]);\n            }\n          });\n        });\n      };\n      const setEnabled = (name, state) => {\n        getCompByName(access, name).each(state ? Disabling.enable : Disabling.disable);\n      };\n      const focus = name => {\n        getCompByName(access, name).each(Focusing.focus);\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const showTab = name => {\n        withRoot(_ => {\n          const body = access.getBody();\n          const bodyState = Reflecting.getState(body);\n          if (bodyState.get().exists(b => b.isTabPanel())) {\n            Composing.getCurrent(body).each(tabSection => {\n              TabSection.showTab(tabSection, name);\n            });\n          }\n        });\n      };\n      const redial = d => {\n        withRoot(root => {\n          const id = access.getId();\n          const dialogInit = doRedial(d);\n          root.getSystem().broadcastOn([`${ dialogChannel }-${ id }`], dialogInit);\n          root.getSystem().broadcastOn([`${ titleChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ bodyChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ footerChannel }-${ id }`], dialogInit.internalDialog);\n          instanceApi.setData(dialogInit.initialData);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const instanceApi = {\n        getData,\n        setData,\n        setEnabled,\n        focus,\n        block,\n        unblock,\n        showTab,\n        redial,\n        close\n      };\n      return instanceApi;\n    };\n\n    const getDialogSizeClasses = size => {\n      switch (size) {\n      case 'large':\n        return ['tox-dialog--width-lg'];\n      case 'medium':\n        return ['tox-dialog--width-md'];\n      default:\n        return [];\n      }\n    };\n    const renderDialog = (dialogInit, extra, backstage) => {\n      const dialogId = generate$6('dialog');\n      const internalDialog = dialogInit.internalDialog;\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const body = renderModalBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, backstage);\n      const storagedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storagedMenuButtons);\n      const footer = renderModalFooter({ buttons: storagedMenuButtons }, dialogId, backstage);\n      const dialogEvents = SilverDialogEvents.initDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra), backstage.shared.getSink);\n      const dialogSize = getDialogSizeClasses(internalDialog.size);\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer: Optional.some(footer),\n        extraClasses: dialogSize,\n        extraBehaviours: [],\n        extraStyles: {}\n      };\n      const dialog = renderModalDialog(spec, dialogInit, dialogEvents, backstage);\n      const modalAccess = (() => {\n        const getForm = () => {\n          const outerForm = ModalDialog.getBody(dialog);\n          return Composing.getCurrent(outerForm).getOr(outerForm);\n        };\n        return {\n          getId: constant$1(dialogId),\n          getRoot: constant$1(dialog),\n          getBody: () => ModalDialog.getBody(dialog),\n          getFooter: () => ModalDialog.getFooter(dialog),\n          getFormWrapper: getForm\n        };\n      })();\n      const instanceApi = getDialogApi(modalAccess, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const renderInlineDialog = (dialogInit, extra, backstage, ariaAttrs) => {\n      const dialogId = generate$6('dialog');\n      const dialogLabelId = generate$6('dialog-label');\n      const dialogContentId = generate$6('dialog-content');\n      const internalDialog = dialogInit.internalDialog;\n      const updateState = (_comp, incoming) => Optional.some(incoming);\n      const memHeader = record(renderInlineHeader({\n        title: internalDialog.title,\n        draggable: true\n      }, dialogId, dialogLabelId, backstage.shared.providers));\n      const memBody = record(renderInlineBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, dialogContentId, backstage, ariaAttrs));\n      const storagedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storagedMenuButtons);\n      const memFooter = record(renderInlineFooter({ buttons: storagedMenuButtons }, dialogId, backstage));\n      const dialogEvents = SilverDialogEvents.initDialog(() => instanceApi, {\n        onBlock: event => {\n          Blocking.block(dialog, (_comp, bs) => getBusySpec(event.message, bs, backstage.shared.providers));\n        },\n        onUnblock: () => {\n          Blocking.unblock(dialog);\n        },\n        onClose: () => extra.closeWindow()\n      }, backstage.shared.getSink);\n      const dialog = build$1({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-dialog',\n            'tox-dialog-inline'\n          ],\n          attributes: {\n            role: 'dialog',\n            ['aria-labelledby']: dialogLabelId,\n            ['aria-describedby']: dialogContentId\n          }\n        },\n        eventOrder: {\n          [receive()]: [\n            Reflecting.name(),\n            Receiving.name()\n          ],\n          [execute$5()]: ['execute-on-form'],\n          [attachedToDom()]: [\n            'reflecting',\n            'execute-on-form'\n          ]\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'cyclic',\n            onEscape: c => {\n              emit(c, formCloseEvent);\n              return Optional.some(true);\n            },\n            useTabstopAt: elem => !isPseudoStop(elem) && (name$3(elem) !== 'button' || get$f(elem, 'disabled') !== 'disabled')\n          }),\n          Reflecting.config({\n            channel: `${ dialogChannel }-${ dialogId }`,\n            updateState,\n            initialData: dialogInit\n          }),\n          Focusing.config({}),\n          config('execute-on-form', dialogEvents.concat([runOnSource(focusin(), (comp, _se) => {\n              Keying.focusIn(comp);\n            })])),\n          Blocking.config({ getRoot: () => Optional.some(dialog) }),\n          Replacing.config({}),\n          RepresentingConfigs.memory({})\n        ]),\n        components: [\n          memHeader.asSpec(),\n          memBody.asSpec(),\n          memFooter.asSpec()\n        ]\n      });\n      const instanceApi = getDialogApi({\n        getId: constant$1(dialogId),\n        getRoot: constant$1(dialog),\n        getFooter: () => memFooter.get(dialog),\n        getBody: () => memBody.get(dialog),\n        getFormWrapper: () => {\n          const body = memBody.get(dialog);\n          return Composing.getCurrent(body).getOr(body);\n        }\n      }, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const getUrlDialogApi = root => {\n      const withRoot = f => {\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const sendMessage = data => {\n        withRoot(root => {\n          root.getSystem().broadcastOn([bodySendMessageChannel], data);\n        });\n      };\n      return {\n        block,\n        unblock,\n        close,\n        sendMessage\n      };\n    };\n\n    const SUPPORTED_MESSAGE_ACTIONS = [\n      'insertContent',\n      'setContent',\n      'execCommand',\n      'close',\n      'block',\n      'unblock'\n    ];\n    const isSupportedMessage = data => isObject(data) && SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction) !== -1;\n    const isCustomMessage = data => !isSupportedMessage(data) && isObject(data) && has$2(data, 'mceAction');\n    const handleMessage = (editor, api, data) => {\n      switch (data.mceAction) {\n      case 'insertContent':\n        editor.insertContent(data.content);\n        break;\n      case 'setContent':\n        editor.setContent(data.content);\n        break;\n      case 'execCommand':\n        const ui = isBoolean(data.ui) ? data.ui : false;\n        editor.execCommand(data.cmd, ui, data.value);\n        break;\n      case 'close':\n        api.close();\n        break;\n      case 'block':\n        api.block(data.message);\n        break;\n      case 'unblock':\n        api.unblock();\n        break;\n      }\n    };\n    const renderUrlDialog = (internalDialog, extra, editor, backstage) => {\n      const dialogId = generate$6('dialog');\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const body = renderIframeBody(internalDialog);\n      const footer = internalDialog.buttons.bind(buttons => {\n        if (buttons.length === 0) {\n          return Optional.none();\n        } else {\n          return Optional.some(renderModalFooter({ buttons }, dialogId, backstage));\n        }\n      });\n      const dialogEvents = SilverDialogEvents.initUrlDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra));\n      const styles = {\n        ...internalDialog.height.fold(() => ({}), height => ({\n          'height': height + 'px',\n          'max-height': height + 'px'\n        })),\n        ...internalDialog.width.fold(() => ({}), width => ({\n          'width': width + 'px',\n          'max-width': width + 'px'\n        }))\n      };\n      const classes = internalDialog.width.isNone() && internalDialog.height.isNone() ? ['tox-dialog--width-lg'] : [];\n      const iframeUri = new global(internalDialog.url, { base_uri: new global(window.location.href) });\n      const iframeDomain = `${ iframeUri.protocol }://${ iframeUri.host }${ iframeUri.port ? ':' + iframeUri.port : '' }`;\n      const messageHandlerUnbinder = unbindable();\n      const extraBehaviours = [\n        config('messages', [\n          runOnAttached(() => {\n            const unbind = bind(SugarElement.fromDom(window), 'message', e => {\n              if (iframeUri.isSameOrigin(new global(e.raw.origin))) {\n                const data = e.raw.data;\n                if (isSupportedMessage(data)) {\n                  handleMessage(editor, instanceApi, data);\n                } else if (isCustomMessage(data)) {\n                  internalDialog.onMessage(instanceApi, data);\n                }\n              }\n            });\n            messageHandlerUnbinder.set(unbind);\n          }),\n          runOnDetached(messageHandlerUnbinder.clear)\n        ]),\n        Receiving.config({\n          channels: {\n            [bodySendMessageChannel]: {\n              onReceive: (comp, data) => {\n                descendant(comp.element, 'iframe').each(iframeEle => {\n                  const iframeWin = iframeEle.dom.contentWindow;\n                  iframeWin.postMessage(data, iframeDomain);\n                });\n              }\n            }\n          }\n        })\n      ];\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer,\n        extraClasses: classes,\n        extraBehaviours,\n        extraStyles: styles\n      };\n      const dialog = renderModalDialog(spec, internalDialog, dialogEvents, backstage);\n      const instanceApi = getUrlDialogApi(dialog);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const setup$2 = extras => {\n      const sharedBackstage = extras.backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = () => {\n          ModalDialog.hide(alertDialog);\n          callback();\n        };\n        const memFooterClose = record(renderFooterButton({\n          name: 'close-alert',\n          text: 'OK',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', extras.backstage));\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(closeDialog, sharedBackstage.providers);\n        const alertDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [memFooterClose.asSpec()]))),\n          onEscape: closeDialog,\n          extraClasses: ['tox-alert-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [run$1(formCancelEvent, closeDialog)],\n          eventOrder: {}\n        }));\n        ModalDialog.show(alertDialog);\n        const footerCloseButton = memFooterClose.get(alertDialog);\n        Focusing.focus(footerCloseButton);\n      };\n      return { open };\n    };\n\n    const setup$1 = extras => {\n      const sharedBackstage = extras.backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = state => {\n          ModalDialog.hide(confirmDialog);\n          callback(state);\n        };\n        const memFooterYes = record(renderFooterButton({\n          name: 'yes',\n          text: 'Yes',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'submit', extras.backstage));\n        const footerNo = renderFooterButton({\n          name: 'no',\n          text: 'No',\n          primary: false,\n          buttonType: Optional.some('secondary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', extras.backstage);\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(() => closeDialog(false), sharedBackstage.providers);\n        const confirmDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [\n            footerNo,\n            memFooterYes.asSpec()\n          ]))),\n          onEscape: () => closeDialog(false),\n          extraClasses: ['tox-confirm-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [\n            run$1(formCancelEvent, () => closeDialog(false)),\n            run$1(formSubmitEvent, () => closeDialog(true))\n          ],\n          eventOrder: {}\n        }));\n        ModalDialog.show(confirmDialog);\n        const footerYesButton = memFooterYes.get(confirmDialog);\n        Focusing.focus(footerYesButton);\n      };\n      return { open };\n    };\n\n    const validateData = (data, validator) => getOrDie(asRaw('data', validator, data));\n    const isAlertOrConfirmDialog = target => closest(target, '.tox-alert-dialog') || closest(target, '.tox-confirm-dialog');\n    const inlineAdditionalBehaviours = (editor, isStickyToolbar, isToolbarLocationTop) => {\n      if (isStickyToolbar && isToolbarLocationTop) {\n        return [];\n      } else {\n        return [Docking.config({\n            contextual: {\n              lazyContext: () => Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer()))),\n              fadeInClass: 'tox-dialog-dock-fadein',\n              fadeOutClass: 'tox-dialog-dock-fadeout',\n              transitionClass: 'tox-dialog-dock-transition'\n            },\n            modes: ['top']\n          })];\n      }\n    };\n    const setup = extras => {\n      const backstage = extras.backstage;\n      const editor = extras.editor;\n      const isStickyToolbar$1 = isStickyToolbar(editor);\n      const alertDialog = setup$2(extras);\n      const confirmDialog = setup$1(extras);\n      const open = (config, params, closeWindow) => {\n        if (params !== undefined && params.inline === 'toolbar') {\n          return openInlineDialog(config, backstage.shared.anchors.inlineDialog(), closeWindow, params.ariaAttrs);\n        } else if (params !== undefined && params.inline === 'cursor') {\n          return openInlineDialog(config, backstage.shared.anchors.cursor(), closeWindow, params.ariaAttrs);\n        } else {\n          return openModalDialog(config, closeWindow);\n        }\n      };\n      const openUrl = (config, closeWindow) => openModalUrlDialog(config, closeWindow);\n      const openModalUrlDialog = (config, closeWindow) => {\n        const factory = contents => {\n          const dialog = renderUrlDialog(contents, {\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, editor, backstage);\n          ModalDialog.show(dialog.dialog);\n          return dialog.instanceApi;\n        };\n        return DialogManager.openUrl(factory, config);\n      };\n      const openModalDialog = (config, closeWindow) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = internalInitialData;\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const dialog = renderDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, backstage);\n          ModalDialog.show(dialog.dialog);\n          dialog.instanceApi.setData(initialData);\n          return dialog.instanceApi;\n        };\n        return DialogManager.open(factory, config);\n      };\n      const openInlineDialog = (config$1, anchor, closeWindow, ariaAttrs) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = validateData(internalInitialData, dataValidator);\n          const inlineDialog = value$2();\n          const isToolbarLocationTop = backstage.shared.header.isPositionedAtTop();\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const refreshDocking = () => inlineDialog.on(dialog => {\n            InlineView.reposition(dialog);\n            Docking.refresh(dialog);\n          });\n          const dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, backstage, ariaAttrs);\n          const inlineDialogComp = build$1(InlineView.sketch({\n            lazySink: backstage.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: {},\n            ...isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} },\n            inlineBehaviours: derive$1([\n              config('window-manager-inline-events', [run$1(dismissRequested(), (_comp, _se) => {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })]),\n              ...inlineAdditionalBehaviours(editor, isStickyToolbar$1, isToolbarLocationTop)\n            ]),\n            isExtraPart: (_comp, target) => isAlertOrConfirmDialog(target)\n          }));\n          inlineDialog.set(inlineDialogComp);\n          InlineView.showWithin(inlineDialogComp, premade(dialogUi.dialog), { anchor }, Optional.some(body()));\n          if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n            Docking.refresh(inlineDialogComp);\n            editor.on('ResizeEditor', refreshDocking);\n          }\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      const confirm = (message, callback) => {\n        confirmDialog.open(message, state => {\n          callback(state);\n        });\n      };\n      const alert = (message, callback) => {\n        alertDialog.open(message, () => {\n          callback();\n        });\n      };\n      const close = instanceApi => {\n        instanceApi.close();\n      };\n      return {\n        open,\n        openUrl,\n        alert,\n        close,\n        confirm\n      };\n    };\n\n    const registerOptions = editor => {\n      register$e(editor);\n      register$d(editor);\n      register(editor);\n    };\n    var Theme = () => {\n      global$a.add('silver', editor => {\n        registerOptions(editor);\n        const {getUiMothership, backstage, renderUI} = setup$3(editor);\n        Autocompleter.register(editor, backstage.shared);\n        const windowMgr = setup({\n          editor,\n          backstage\n        });\n        return {\n          renderUI,\n          getWindowManagerImpl: constant$1(windowMgr),\n          getNotificationManagerImpl: () => NotificationManagerImpl(editor, { backstage }, getUiMothership())\n        };\n      });\n    };\n\n    Theme();\n\n})();\n","/**\n * TinyMCE version 6.1.2 (2022-07-29)\n */\n\n(function () {\n    'use strict';\n\n    var typeOf$1 = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      if (x === undefined) {\n        return 'undefined';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isEquatableType = function (x) {\n      return [\n        'undefined',\n        'boolean',\n        'number',\n        'string',\n        'function',\n        'xml',\n        'null'\n      ].indexOf(x) !== -1;\n    };\n\n    var sort$1 = function (xs, compareFn) {\n      var clone = Array.prototype.slice.call(xs);\n      return clone.sort(compareFn);\n    };\n\n    var contramap = function (eqa, f) {\n      return eq$2(function (x, y) {\n        return eqa.eq(f(x), f(y));\n      });\n    };\n    var eq$2 = function (f) {\n      return { eq: f };\n    };\n    var tripleEq = eq$2(function (x, y) {\n      return x === y;\n    });\n    var eqString = tripleEq;\n    var eqArray = function (eqa) {\n      return eq$2(function (x, y) {\n        if (x.length !== y.length) {\n          return false;\n        }\n        var len = x.length;\n        for (var i = 0; i < len; i++) {\n          if (!eqa.eq(x[i], y[i])) {\n            return false;\n          }\n        }\n        return true;\n      });\n    };\n    var eqSortedArray = function (eqa, compareFn) {\n      return contramap(eqArray(eqa), function (xs) {\n        return sort$1(xs, compareFn);\n      });\n    };\n    var eqRecord = function (eqa) {\n      return eq$2(function (x, y) {\n        var kx = Object.keys(x);\n        var ky = Object.keys(y);\n        if (!eqSortedArray(eqString).eq(kx, ky)) {\n          return false;\n        }\n        var len = kx.length;\n        for (var i = 0; i < len; i++) {\n          var q = kx[i];\n          if (!eqa.eq(x[q], y[q])) {\n            return false;\n          }\n        }\n        return true;\n      });\n    };\n    var eqAny = eq$2(function (x, y) {\n      if (x === y) {\n        return true;\n      }\n      var tx = typeOf$1(x);\n      var ty = typeOf$1(y);\n      if (tx !== ty) {\n        return false;\n      }\n      if (isEquatableType(tx)) {\n        return x === y;\n      } else if (tx === 'array') {\n        return eqArray(eqAny).eq(x, y);\n      } else if (tx === 'object') {\n        return eqRecord(eqAny).eq(x, y);\n      }\n      return false;\n    });\n\n    const getPrototypeOf$1 = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const is$4 = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf$1(o) === proto);\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isPlainObject = value => is$4(value, Object);\n    const isArray$1 = isType$1('array');\n    const isNull = eq$1(null);\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray$1(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply$1 = f => {\n      return f();\n    };\n    const call = f => {\n      f();\n    };\n    const never = constant(false);\n    const always = constant(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const indexOf$1 = (xs, x) => {\n      const r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const map$3 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$f = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition$2 = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$6 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$f(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil$1 = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$2 = (xs, pred) => {\n      return findUntil$1(xs, pred, never);\n    };\n    const findIndex$2 = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray$1(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$3 = (xs, f) => flatten(map$3(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const difference = (a1, a2) => filter$6(a1, x => !contains$2(a2, x));\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const sort = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$b = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$b(xs, 0);\n    const last$3 = xs => get$b(xs, xs.length - 1);\n    const from = isFunction(Array.from) ? Array.from : x => nativeSlice.call(x);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n    const unique$1 = (xs, comparator) => {\n      const r = [];\n      const isDuplicated = isFunction(comparator) ? x => exists(r, i => comparator(i, x)) : x => contains$2(r, x);\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (!isDuplicated(x)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty$2 = Object.hasOwnProperty;\n    const each$e = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map$2 = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each$e(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      const r = {};\n      each$e(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    const bifilter = (obj, pred) => {\n      const t = {};\n      const f = {};\n      internalFilter(obj, pred, objAcc(t), objAcc(f));\n      return {\n        t,\n        f\n      };\n    };\n    const filter$5 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each$e(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$a = (obj, key) => {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$2 = (obj, key) => hasOwnProperty$2.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    const equal$1 = (a1, a2, eq = eqAny) => eqRecord(eq).eq(a1, a2);\n\n    const stringArray = a => {\n      const all = {};\n      each$f(a, key => {\n        all[key] = {};\n      });\n      return keys(all);\n    };\n\n    const isArray = Array.isArray;\n    const toArray$1 = obj => {\n      if (!isArray(obj)) {\n        const array = [];\n        for (let i = 0, l = obj.length; i < l; i++) {\n          array[i] = obj[i];\n        }\n        return array;\n      } else {\n        return obj;\n      }\n    };\n    const each$d = (o, cb, s) => {\n      let n, l;\n      if (!o) {\n        return false;\n      }\n      s = s || o;\n      if (o.length !== undefined) {\n        for (n = 0, l = o.length; n < l; n++) {\n          if (cb.call(s, o[n], n, o) === false) {\n            return false;\n          }\n        }\n      } else {\n        for (n in o) {\n          if (has$2(o, n)) {\n            if (cb.call(s, o[n], n, o) === false) {\n              return false;\n            }\n          }\n        }\n      }\n      return true;\n    };\n    const map$1 = (array, callback) => {\n      const out = [];\n      each$d(array, (item, index) => {\n        out.push(callback(item, index, array));\n      });\n      return out;\n    };\n    const filter$4 = (a, f) => {\n      const o = [];\n      each$d(a, (v, index) => {\n        if (!f || f(v, index, a)) {\n          o.push(v);\n        }\n      });\n      return o;\n    };\n    const indexOf = (a, v) => {\n      if (a) {\n        for (let i = 0, l = a.length; i < l; i++) {\n          if (a[i] === v) {\n            return i;\n          }\n        }\n      }\n      return -1;\n    };\n    const reduce = (collection, iteratee, accumulator, thisArg) => {\n      let acc = isUndefined(accumulator) ? collection[0] : accumulator;\n      for (let i = 0; i < collection.length; i++) {\n        acc = iteratee.call(thisArg, acc, collection[i], i);\n      }\n      return acc;\n    };\n    const findIndex$1 = (array, predicate, thisArg) => {\n      let i, l;\n      for (i = 0, l = array.length; i < l; i++) {\n        if (predicate.call(thisArg, array[i], i, array)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    const last$2 = collection => collection[collection.length - 1];\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find$1 = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$3(group(1), group(2));\n    };\n    const detect$5 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find$1(versionRegexes, cleanedAgent);\n    };\n    const unknown$2 = () => {\n      return nu$3(0, 0);\n    };\n    const nu$3 = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$3,\n      detect: detect$5,\n      unknown: unknown$2\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$2(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$4 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$2(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$4(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$4(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const contains$1 = (str, substr) => {\n      return str.indexOf(substr) !== -1;\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim$3 = blank(/^\\s+|\\s+$/g);\n    const lTrim = blank(/^\\s+/g);\n    const rTrim = blank(/\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty$3 = s => !isNotEmpty(s);\n    const repeat = (s, count) => count <= 0 ? '' : new Array(count + 1).join(s);\n    const toInt = (value, radix = 10) => {\n      const num = parseInt(value, radix);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains$1(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$1 = () => {\n      return nu$2({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$2 = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$1,\n      nu: nu$2,\n      edge: constant(edge),\n      chromium: constant(chromium),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown = () => {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$1 = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown,\n      nu: nu$1,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      macos: constant(macos),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    const detect$3 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$3 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform$2 = cached(() => PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch));\n    const detect$2 = () => platform$2();\n\n    const userAgent = navigator.userAgent;\n    const platform$1 = detect$2();\n    const browser$1 = platform$1.browser;\n    const os = platform$1.os;\n    const deviceType = platform$1.deviceType;\n    const windowsPhone = userAgent.indexOf('Windows Phone') !== -1;\n    const Env = {\n      transparentSrc: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n      documentMode: browser$1.isIE() ? document.documentMode || 7 : 10,\n      cacheSuffix: null,\n      container: null,\n      canHaveCSP: !browser$1.isIE(),\n      windowsPhone,\n      browser: {\n        current: browser$1.current,\n        version: browser$1.version,\n        isChromium: browser$1.isChromium,\n        isEdge: browser$1.isEdge,\n        isFirefox: browser$1.isFirefox,\n        isIE: browser$1.isIE,\n        isOpera: browser$1.isOpera,\n        isSafari: browser$1.isSafari\n      },\n      os: {\n        current: os.current,\n        version: os.version,\n        isAndroid: os.isAndroid,\n        isChromeOS: os.isChromeOS,\n        isFreeBSD: os.isFreeBSD,\n        isiOS: os.isiOS,\n        isLinux: os.isLinux,\n        isMacOS: os.isMacOS,\n        isSolaris: os.isSolaris,\n        isWindows: os.isWindows\n      },\n      deviceType: {\n        isDesktop: deviceType.isDesktop,\n        isiPad: deviceType.isiPad,\n        isiPhone: deviceType.isiPhone,\n        isPhone: deviceType.isPhone,\n        isTablet: deviceType.isTablet,\n        isTouch: deviceType.isTouch,\n        isWebView: deviceType.isWebView\n      }\n    };\n\n    const whiteSpaceRegExp$1 = /^\\s*|\\s*$/g;\n    const trim$2 = str => {\n      return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp$1, '');\n    };\n    const is$3 = (obj, type) => {\n      if (!type) {\n        return obj !== undefined;\n      }\n      if (type === 'array' && isArray(obj)) {\n        return true;\n      }\n      return typeof obj === type;\n    };\n    const makeMap$4 = (items, delim, map) => {\n      let i;\n      items = items || [];\n      delim = delim || ',';\n      if (typeof items === 'string') {\n        items = items.split(delim);\n      }\n      map = map || {};\n      i = items.length;\n      while (i--) {\n        map[items[i]] = {};\n      }\n      return map;\n    };\n    const hasOwnProperty$1 = has$2;\n    const extend$3 = (obj, ...exts) => {\n      for (let i = 0; i < exts.length; i++) {\n        const ext = exts[i];\n        for (const name in ext) {\n          if (has$2(ext, name)) {\n            const value = ext[name];\n            if (value !== undefined) {\n              obj[name] = value;\n            }\n          }\n        }\n      }\n      return obj;\n    };\n    const walk$4 = function (o, f, n, s) {\n      s = s || this;\n      if (o) {\n        if (n) {\n          o = o[n];\n        }\n        each$d(o, (o, i) => {\n          if (f.call(s, o, i, n) === false) {\n            return false;\n          }\n          walk$4(o, f, n, s);\n        });\n      }\n    };\n    const resolve$2 = (n, o) => {\n      let i, l;\n      o = o || window;\n      n = n.split('.');\n      for (i = 0, l = n.length; i < l; i++) {\n        o = o[n[i]];\n        if (!o) {\n          break;\n        }\n      }\n      return o;\n    };\n    const explode$3 = (s, d) => {\n      if (!s || is$3(s, 'array')) {\n        return s;\n      }\n      return map$1(s.split(d || ','), trim$2);\n    };\n    const _addCacheSuffix = url => {\n      const cacheSuffix = Env.cacheSuffix;\n      if (cacheSuffix) {\n        url += (url.indexOf('?') === -1 ? '?' : '&') + cacheSuffix;\n      }\n      return url;\n    };\n    const Tools = {\n      trim: trim$2,\n      isArray: isArray,\n      is: is$3,\n      toArray: toArray$1,\n      makeMap: makeMap$4,\n      each: each$d,\n      map: map$1,\n      grep: filter$4,\n      inArray: indexOf,\n      hasOwn: hasOwnProperty$1,\n      extend: extend$3,\n      walk: walk$4,\n      resolve: resolve$2,\n      explode: explode$3,\n      _addCacheSuffix\n    };\n\n    const is$2 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const lift3 = (oa, ob, oc, f) => oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const COMMENT = 8;\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type$1 = element => element.dom.nodeType;\n    const isType = t => element => type$1(element) === t;\n    const isComment$1 = element => type$1(element) === COMMENT || name(element) === '#comment';\n    const isElement$7 = isType(ELEMENT);\n    const isText$a = isType(TEXT);\n    const isDocument$2 = isType(DOCUMENT);\n    const isDocumentFragment$1 = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement$7(e) && name(e) === tag;\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$2 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each$e(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$9 = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$9(element, key));\n    const has$1 = (element, key) => {\n      const dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    const remove$b = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const hasNone = element => {\n      const attrs = element.dom.attributes;\n      return attrs === undefined || attrs === null || attrs.length === 0;\n    };\n    const clone$4 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const read$4 = (element, attr) => {\n      const value = get$9(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$4 = (element, attr, id) => {\n      const old = read$4(element, attr);\n      const nu = old.concat([id]);\n      set$2(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$a = (element, attr, id) => {\n      const nu = filter$6(read$4(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$2(element, attr, nu.join(' '));\n      } else {\n        remove$b(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$8 = element => read$4(element, 'class');\n    const add$3 = (element, clazz) => add$4(element, 'class', clazz);\n    const remove$9 = (element, clazz) => remove$a(element, 'class', clazz);\n    const toggle$2 = (element, clazz) => {\n      if (contains$2(get$8(element), clazz)) {\n        return remove$9(element, clazz);\n      } else {\n        return add$3(element, clazz);\n      }\n    };\n\n    const add$2 = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$8(element);\n      if (classList.length === 0) {\n        remove$b(element, 'class');\n      }\n    };\n    const remove$8 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$9(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const toggle$1 = (element, clazz) => {\n      const result = supports(element) ? element.dom.classList.toggle(clazz) : toggle$2(element, clazz);\n      cleanClass(element);\n      return result;\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const isSupported$1 = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$2(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$2(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$2(node);\n    };\n    const fromDom$2 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint$2 = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$2);\n    const SugarElement = {\n      fromHtml: fromHtml$1,\n      fromTag,\n      fromText,\n      fromDom: fromDom$2,\n      fromPoint: fromPoint$2\n    };\n\n    const toArray = (target, f) => {\n      const r = [];\n      const recurse = e => {\n        r.push(e);\n        return f(e);\n      };\n      let cur = f(target);\n      do {\n        cur = cur.bind(recurse);\n      } while (cur.isSome());\n      return r;\n    };\n\n    const is$1 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$3(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n\n    const owner$1 = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument$2(dos) ? dos : owner$1(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const parents$1 = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const siblings = element => {\n      const filterSelf = elements => filter$6(elements, x => !eq(element, x));\n      return parent(element).map(children).map(filterSelf).getOr([]);\n    };\n    const prevSibling = element => Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const prevSiblings = element => reverse(toArray(element, prevSibling));\n    const nextSiblings = element => toArray(element, nextSibling);\n    const children = element => map$3(element.dom.childNodes, SugarElement.fromDom);\n    const child$1 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$1(element, 0);\n    const lastChild = element => child$1(element, element.dom.childNodes.length - 1);\n    const childNodesCount = element => element.dom.childNodes.length;\n\n    const getHead = doc => {\n      const b = doc.dom.head;\n      if (b === null || b === undefined) {\n        throw new Error('Head is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const isShadowRoot = dos => isDocumentFragment$1(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const isSupported = constant(supported);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getStyleContainer = dos => isShadowRoot(dos) ? dos : getHead(documentOrOwner(dos));\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isSupported() && isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement$7(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText$a(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported$1(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$1 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each$e(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const get$7 = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw$1 = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const getAllRaw = element => {\n      const css = {};\n      const dom = element.dom;\n      if (isSupported$1(dom)) {\n        for (let i = 0; i < dom.style.length; i++) {\n          const ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    const remove$7 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is$2(getOpt(element, 'style').map(trim$3), '')) {\n        remove$b(element, 'style');\n      }\n    };\n    const reflow = e => e.dom.offsetWidth;\n\n    const before$3 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$4 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before$3(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const wrap$2 = (element, wrapper) => {\n      before$3(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    const after$3 = (marker, elements) => {\n      each$f(elements, (x, i) => {\n        const e = i === 0 ? marker : elements[i - 1];\n        after$4(e, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each$f(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$f(children(element), rogue => {\n        remove$6(rogue);\n      });\n    };\n    const remove$6 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    const unwrap = wrapper => {\n      const children$1 = children(wrapper);\n      if (children$1.length > 0) {\n        after$3(wrapper, children$1);\n      }\n      remove$6(wrapper);\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n    const fromDom$1 = nodes => map$3(nodes, SugarElement.fromDom);\n\n    const get$6 = element => element.dom.innerHTML;\n    const set = (element, content) => {\n      const owner = owner$1(element);\n      const docDom = owner.dom;\n      const fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      const contentElements = fromHtml(content, docDom);\n      append(fragment, contentElements);\n      empty(element);\n      append$1(element, fragment);\n    };\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$1(container, clone);\n      return get$6(container);\n    };\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle$1 = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle$1(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$2 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const r = (left, top) => {\n      const translate = (x, y) => r(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const get$5 = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const to = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n    const intoView = (element, alignToTop) => {\n      const isSafari = detect$2().browser.isSafari();\n      if (isSafari && isFunction(element.dom.scrollIntoViewIfNeeded)) {\n        element.dom.scrollIntoViewIfNeeded(false);\n      } else {\n        element.dom.scrollIntoView(alignToTop);\n      }\n    };\n\n    const get$4 = _win => {\n      const win = _win === undefined ? window : _win;\n      if (detect$2().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win.visualViewport);\n      }\n    };\n    const bounds = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const getBounds = _win => {\n      const win = _win === undefined ? window : _win;\n      const doc = win.document;\n      const scroll = get$5(SugarElement.fromDom(doc));\n      return get$4(win).fold(() => {\n        const html = win.document.documentElement;\n        const width = html.clientWidth;\n        const height = html.clientHeight;\n        return bounds(scroll.left, scroll.top, width, height);\n      }, visualViewport => bounds(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height));\n    };\n\n    const isNodeType = type => {\n      return node => {\n        return !!node && node.nodeType === type;\n      };\n    };\n    const isRestrictedNode = node => !!node && !Object.getPrototypeOf(node);\n    const isElement$6 = isNodeType(1);\n    const matchNodeNames = names => {\n      const lowercasedNames = names.map(s => s.toLowerCase());\n      return node => {\n        if (node && node.nodeName) {\n          const nodeName = node.nodeName.toLowerCase();\n          return contains$2(lowercasedNames, nodeName);\n        }\n        return false;\n      };\n    };\n    const matchStyleValues = (name, values) => {\n      const items = values.toLowerCase().split(' ');\n      return node => {\n        if (isElement$6(node)) {\n          for (let i = 0; i < items.length; i++) {\n            const computed = node.ownerDocument.defaultView.getComputedStyle(node, null);\n            const cssValue = computed ? computed.getPropertyValue(name) : null;\n            if (cssValue === items[i]) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n    };\n    const hasAttribute = attrName => {\n      return node => {\n        return isElement$6(node) && node.hasAttribute(attrName);\n      };\n    };\n    const hasAttributeValue = (attrName, attrValue) => {\n      return node => {\n        return isElement$6(node) && node.getAttribute(attrName) === attrValue;\n      };\n    };\n    const isBogus$2 = node => isElement$6(node) && node.hasAttribute('data-mce-bogus');\n    const isBogusAll$1 = node => isElement$6(node) && node.getAttribute('data-mce-bogus') === 'all';\n    const isTable$3 = node => isElement$6(node) && node.tagName === 'TABLE';\n    const hasContentEditableState = value => {\n      return node => {\n        if (isElement$6(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    const isTextareaOrInput = matchNodeNames([\n      'textarea',\n      'input'\n    ]);\n    const isText$9 = isNodeType(3);\n    const isCData = isNodeType(4);\n    const isPi = isNodeType(7);\n    const isComment = isNodeType(8);\n    const isDocument$1 = isNodeType(9);\n    const isDocumentFragment = isNodeType(11);\n    const isBr$6 = matchNodeNames(['br']);\n    const isImg = matchNodeNames(['img']);\n    const isContentEditableTrue$5 = hasContentEditableState('true');\n    const isContentEditableFalse$b = hasContentEditableState('false');\n    const isTableCell$5 = matchNodeNames([\n      'td',\n      'th'\n    ]);\n    const isMedia$2 = matchNodeNames([\n      'video',\n      'audio',\n      'object',\n      'embed'\n    ]);\n\n    const browser = detect$2().browser;\n    const firstElement = nodes => find$2(nodes, isElement$7);\n    const getTableCaptionDeltaY = elm => {\n      if (browser.isFirefox() && name(elm) === 'table') {\n        return firstElement(children(elm)).filter(elm => {\n          return name(elm) === 'caption';\n        }).bind(caption => {\n          return firstElement(nextSiblings(caption)).map(body => {\n            const bodyTop = body.dom.offsetTop;\n            const captionTop = caption.dom.offsetTop;\n            const captionHeight = caption.dom.offsetHeight;\n            return bodyTop <= captionTop ? -captionHeight : 0;\n          });\n        }).getOr(0);\n      } else {\n        return 0;\n      }\n    };\n    const hasChild = (elm, child) => elm.children && contains$2(elm.children, child);\n    const getPos = (body, elm, rootElm) => {\n      let x = 0, y = 0;\n      const doc = body.ownerDocument;\n      rootElm = rootElm ? rootElm : body;\n      if (elm) {\n        if (rootElm === body && elm.getBoundingClientRect && get$7(SugarElement.fromDom(body), 'position') === 'static') {\n          const pos = elm.getBoundingClientRect();\n          x = pos.left + (doc.documentElement.scrollLeft || body.scrollLeft) - doc.documentElement.clientLeft;\n          y = pos.top + (doc.documentElement.scrollTop || body.scrollTop) - doc.documentElement.clientTop;\n          return {\n            x,\n            y\n          };\n        }\n        let offsetParent = elm;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          const castOffsetParent = offsetParent;\n          x += castOffsetParent.offsetLeft || 0;\n          y += castOffsetParent.offsetTop || 0;\n          offsetParent = castOffsetParent.offsetParent;\n        }\n        offsetParent = elm.parentNode;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          x -= offsetParent.scrollLeft || 0;\n          y -= offsetParent.scrollTop || 0;\n          offsetParent = offsetParent.parentNode;\n        }\n        y += getTableCaptionDeltaY(SugarElement.fromDom(elm));\n      }\n      return {\n        x,\n        y\n      };\n    };\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$3 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$4 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$3, scope, predicate, isRoot);\n    };\n    const sibling$1 = (scope, predicate) => {\n      const element = scope.dom;\n      if (!element.parentNode) {\n        return Optional.none();\n      }\n      return child(SugarElement.fromDom(element.parentNode), x => !eq(scope, x) && predicate(x));\n    };\n    const child = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$2(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const ancestor$2 = (scope, selector, isRoot) => ancestor$3(scope, e => is$1(e, selector), isRoot);\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$3 = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$1(element, selector);\n      return ClosestOrAncestor(is, ancestor$2, scope, selector, isRoot);\n    };\n\n    const StyleSheetLoader = (documentOrShadowRoot, settings = {}) => {\n      let idCount = 0;\n      const loadedStates = {};\n      const edos = SugarElement.fromDom(documentOrShadowRoot);\n      const doc = documentOrOwner(edos);\n      const maxLoadTime = settings.maxLoadTime || 5000;\n      const _setReferrerPolicy = referrerPolicy => {\n        settings.referrerPolicy = referrerPolicy;\n      };\n      const addStyle = element => {\n        append$1(getStyleContainer(edos), element);\n      };\n      const removeStyle = id => {\n        const styleContainer = getStyleContainer(edos);\n        descendant(styleContainer, '#' + id).each(remove$6);\n      };\n      const getOrCreateState = url => get$a(loadedStates, url).getOrThunk(() => ({\n        id: 'mce-u' + idCount++,\n        passed: [],\n        failed: [],\n        count: 0\n      }));\n      const load = url => new Promise((success, failure) => {\n        let link;\n        const urlWithSuffix = Tools._addCacheSuffix(url);\n        const state = getOrCreateState(urlWithSuffix);\n        loadedStates[urlWithSuffix] = state;\n        state.count++;\n        const resolve = (callbacks, status) => {\n          each$f(callbacks, call);\n          state.status = status;\n          state.passed = [];\n          state.failed = [];\n          if (link) {\n            link.onload = null;\n            link.onerror = null;\n            link = null;\n          }\n        };\n        const passed = () => resolve(state.passed, 2);\n        const failed = () => resolve(state.failed, 3);\n        const wait = (testCallback, waitCallback) => {\n          if (!testCallback()) {\n            if (Date.now() - startTime < maxLoadTime) {\n              setTimeout(waitCallback);\n            } else {\n              failed();\n            }\n          }\n        };\n        const waitForWebKitLinkLoaded = () => {\n          wait(() => {\n            const styleSheets = documentOrShadowRoot.styleSheets;\n            let i = styleSheets.length;\n            while (i--) {\n              const styleSheet = styleSheets[i];\n              const owner = styleSheet.ownerNode;\n              if (owner && owner.id === link.id) {\n                passed();\n                return true;\n              }\n            }\n            return false;\n          }, waitForWebKitLinkLoaded);\n        };\n        if (success) {\n          state.passed.push(success);\n        }\n        if (failure) {\n          state.failed.push(failure);\n        }\n        if (state.status === 1) {\n          return;\n        }\n        if (state.status === 2) {\n          passed();\n          return;\n        }\n        if (state.status === 3) {\n          failed();\n          return;\n        }\n        state.status = 1;\n        const linkElem = SugarElement.fromTag('link', doc.dom);\n        setAll$1(linkElem, {\n          rel: 'stylesheet',\n          type: 'text/css',\n          id: state.id\n        });\n        const startTime = Date.now();\n        if (settings.contentCssCors) {\n          set$2(linkElem, 'crossOrigin', 'anonymous');\n        }\n        if (settings.referrerPolicy) {\n          set$2(linkElem, 'referrerpolicy', settings.referrerPolicy);\n        }\n        link = linkElem.dom;\n        link.onload = waitForWebKitLinkLoaded;\n        link.onerror = failed;\n        addStyle(linkElem);\n        set$2(linkElem, 'href', urlWithSuffix);\n      });\n      const loadAll = urls => {\n        const loadedUrls = Promise.allSettled(map$3(urls, url => load(url).then(constant(url))));\n        return loadedUrls.then(results => {\n          const parts = partition$2(results, r => r.status === 'fulfilled');\n          if (parts.fail.length > 0) {\n            return Promise.reject(map$3(parts.fail, result => result.reason));\n          } else {\n            return map$3(parts.pass, result => result.value);\n          }\n        });\n      };\n      const unload = url => {\n        const urlWithSuffix = Tools._addCacheSuffix(url);\n        get$a(loadedStates, urlWithSuffix).each(state => {\n          const count = --state.count;\n          if (count === 0) {\n            delete loadedStates[urlWithSuffix];\n            removeStyle(state.id);\n          }\n        });\n      };\n      const unloadAll = urls => {\n        each$f(urls, url => {\n          unload(url);\n        });\n      };\n      return {\n        load,\n        loadAll,\n        unload,\n        unloadAll,\n        _setReferrerPolicy\n      };\n    };\n\n    const create$d = () => {\n      const map = new WeakMap();\n      const forElement = (referenceElement, settings) => {\n        const root = getRootNode(referenceElement);\n        const rootDom = root.dom;\n        return Optional.from(map.get(rootDom)).getOrThunk(() => {\n          const sl = StyleSheetLoader(rootDom, settings);\n          map.set(rootDom, sl);\n          return sl;\n        });\n      };\n      return { forElement };\n    };\n    const instance = create$d();\n\n    class DomTreeWalker {\n      constructor(startNode, rootNode) {\n        this.node = startNode;\n        this.rootNode = rootNode;\n        this.current = this.current.bind(this);\n        this.next = this.next.bind(this);\n        this.prev = this.prev.bind(this);\n        this.prev2 = this.prev2.bind(this);\n      }\n      current() {\n        return this.node;\n      }\n      next(shallow) {\n        this.node = this.findSibling(this.node, 'firstChild', 'nextSibling', shallow);\n        return this.node;\n      }\n      prev(shallow) {\n        this.node = this.findSibling(this.node, 'lastChild', 'previousSibling', shallow);\n        return this.node;\n      }\n      prev2(shallow) {\n        this.node = this.findPreviousNode(this.node, shallow);\n        return this.node;\n      }\n      findSibling(node, startName, siblingName, shallow) {\n        let sibling, parent;\n        if (node) {\n          if (!shallow && node[startName]) {\n            return node[startName];\n          }\n          if (node !== this.rootNode) {\n            sibling = node[siblingName];\n            if (sibling) {\n              return sibling;\n            }\n            for (parent = node.parentNode; parent && parent !== this.rootNode; parent = parent.parentNode) {\n              sibling = parent[siblingName];\n              if (sibling) {\n                return sibling;\n              }\n            }\n          }\n        }\n      }\n      findPreviousNode(node, shallow) {\n        let sibling, parent, child;\n        if (node) {\n          sibling = node.previousSibling;\n          if (this.rootNode && sibling === this.rootNode) {\n            return;\n          }\n          if (sibling) {\n            if (!shallow) {\n              for (child = sibling.lastChild; child; child = child.lastChild) {\n                if (!child.lastChild) {\n                  return child;\n                }\n              }\n            }\n            return sibling;\n          }\n          parent = node.parentNode;\n          if (parent && parent !== this.rootNode) {\n            return parent;\n          }\n        }\n      }\n    }\n\n    const blocks = [\n      'article',\n      'aside',\n      'details',\n      'div',\n      'dt',\n      'figcaption',\n      'footer',\n      'form',\n      'fieldset',\n      'header',\n      'hgroup',\n      'html',\n      'main',\n      'nav',\n      'section',\n      'summary',\n      'body',\n      'p',\n      'dl',\n      'multicol',\n      'dd',\n      'figure',\n      'address',\n      'center',\n      'blockquote',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'listing',\n      'xmp',\n      'pre',\n      'plaintext',\n      'menu',\n      'dir',\n      'ul',\n      'ol',\n      'li',\n      'hr',\n      'table',\n      'tbody',\n      'thead',\n      'tfoot',\n      'th',\n      'tr',\n      'td',\n      'caption'\n    ];\n    const tableCells = [\n      'td',\n      'th'\n    ];\n    const tableSections = [\n      'thead',\n      'tbody',\n      'tfoot'\n    ];\n    const textBlocks = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'p',\n      'div',\n      'address',\n      'pre',\n      'form',\n      'blockquote',\n      'center',\n      'dir',\n      'fieldset',\n      'header',\n      'footer',\n      'article',\n      'section',\n      'hgroup',\n      'aside',\n      'nav',\n      'figure'\n    ];\n    const headings = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6'\n    ];\n    const listItems$1 = [\n      'li',\n      'dd',\n      'dt'\n    ];\n    const lists = [\n      'ul',\n      'ol',\n      'dl'\n    ];\n    const wsElements = [\n      'pre',\n      'script',\n      'textarea',\n      'style'\n    ];\n    const wrapBlockElements = ['pre'].concat(headings);\n    const lazyLookup = items => {\n      let lookup;\n      return node => {\n        lookup = lookup ? lookup : mapToObject(items, always);\n        return has$2(lookup, name(node));\n      };\n    };\n    const isBlock$2 = lazyLookup(blocks);\n    const isTable$2 = node => name(node) === 'table';\n    const isInline$1 = node => isElement$7(node) && !isBlock$2(node);\n    const isBr$5 = node => isElement$7(node) && name(node) === 'br';\n    const isTextBlock$2 = lazyLookup(textBlocks);\n    const isList = lazyLookup(lists);\n    const isListItem = lazyLookup(listItems$1);\n    const isTableSection = lazyLookup(tableSections);\n    const isTableCell$4 = lazyLookup(tableCells);\n    const isWsPreserveElement = lazyLookup(wsElements);\n    const isWrapBlockElement = lazyLookup(wrapBlockElements);\n    const isWrapElement = node => isWrapBlockElement(node) || isInline$1(node);\n\n    const ancestor$1 = (scope, selector, isRoot) => ancestor$2(scope, selector, isRoot).isSome();\n\n    const zeroWidth = '\\uFEFF';\n    const nbsp = '\\xA0';\n    const isZwsp$1 = char => char === zeroWidth;\n    const removeZwsp = s => s.replace(/\\uFEFF/g, '');\n\n    const descendants$1 = (scope, predicate) => {\n      let result = [];\n      each$f(children(scope), x => {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    const descendants = (scope, selector) => all(selector, scope);\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api$1 = NodeValue(isText$a, 'text');\n    const get$3 = element => api$1.get(element);\n    const getOption = element => api$1.getOption(element);\n\n    const getLastChildren$1 = elm => {\n      const children = [];\n      let rawNode = elm.dom;\n      while (rawNode) {\n        children.push(SugarElement.fromDom(rawNode));\n        rawNode = rawNode.lastChild;\n      }\n      return children;\n    };\n    const removeTrailingBr = elm => {\n      const allBrs = descendants(elm, 'br');\n      const brs = filter$6(getLastChildren$1(elm).slice(-1), isBr$5);\n      if (allBrs.length === brs.length) {\n        each$f(brs, remove$6);\n      }\n    };\n    const createPaddingBr = () => {\n      const br = SugarElement.fromTag('br');\n      set$2(br, 'data-mce-bogus', '1');\n      return br;\n    };\n    const fillWithPaddingBr = elm => {\n      empty(elm);\n      append$1(elm, createPaddingBr());\n    };\n    const trimBlockTrailingBr = elm => {\n      lastChild(elm).each(lastChild => {\n        prevSibling(lastChild).each(lastChildPrevSibling => {\n          if (isBlock$2(elm) && isBr$5(lastChild) && isBlock$2(lastChildPrevSibling)) {\n            remove$6(lastChild);\n          }\n        });\n      });\n    };\n\n    const ZWSP$1 = zeroWidth;\n    const isZwsp = isZwsp$1;\n    const trim$1 = removeZwsp;\n\n    const isElement$5 = isElement$6;\n    const isText$8 = isText$9;\n    const isCaretContainerBlock$1 = node => {\n      if (isText$8(node)) {\n        node = node.parentNode;\n      }\n      return isElement$5(node) && node.hasAttribute('data-mce-caret');\n    };\n    const isCaretContainerInline = node => isText$8(node) && isZwsp(node.data);\n    const isCaretContainer$2 = node => isCaretContainerBlock$1(node) || isCaretContainerInline(node);\n    const hasContent = node => node.firstChild !== node.lastChild || !isBr$6(node.firstChild);\n    const insertInline$1 = (node, before) => {\n      const doc = node.ownerDocument;\n      const textNode = doc.createTextNode(ZWSP$1);\n      const parentNode = node.parentNode;\n      if (!before) {\n        const sibling = node.nextSibling;\n        if (isText$8(sibling)) {\n          if (isCaretContainer$2(sibling)) {\n            return sibling;\n          }\n          if (startsWithCaretContainer$1(sibling)) {\n            sibling.splitText(1);\n            return sibling;\n          }\n        }\n        if (node.nextSibling) {\n          parentNode.insertBefore(textNode, node.nextSibling);\n        } else {\n          parentNode.appendChild(textNode);\n        }\n      } else {\n        const sibling = node.previousSibling;\n        if (isText$8(sibling)) {\n          if (isCaretContainer$2(sibling)) {\n            return sibling;\n          }\n          if (endsWithCaretContainer$1(sibling)) {\n            return sibling.splitText(sibling.data.length - 1);\n          }\n        }\n        parentNode.insertBefore(textNode, node);\n      }\n      return textNode;\n    };\n    const isBeforeInline = pos => {\n      const container = pos.container();\n      if (!isText$9(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset()) === ZWSP$1 || pos.isAtStart() && isCaretContainerInline(container.previousSibling);\n    };\n    const isAfterInline = pos => {\n      const container = pos.container();\n      if (!isText$9(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset() - 1) === ZWSP$1 || pos.isAtEnd() && isCaretContainerInline(container.nextSibling);\n    };\n    const insertBlock = (blockName, node, before) => {\n      const doc = node.ownerDocument;\n      const blockNode = doc.createElement(blockName);\n      blockNode.setAttribute('data-mce-caret', before ? 'before' : 'after');\n      blockNode.setAttribute('data-mce-bogus', 'all');\n      blockNode.appendChild(createPaddingBr().dom);\n      const parentNode = node.parentNode;\n      if (!before) {\n        if (node.nextSibling) {\n          parentNode.insertBefore(blockNode, node.nextSibling);\n        } else {\n          parentNode.appendChild(blockNode);\n        }\n      } else {\n        parentNode.insertBefore(blockNode, node);\n      }\n      return blockNode;\n    };\n    const startsWithCaretContainer$1 = node => isText$8(node) && node.data[0] === ZWSP$1;\n    const endsWithCaretContainer$1 = node => isText$8(node) && node.data[node.data.length - 1] === ZWSP$1;\n    const trimBogusBr = elm => {\n      const brs = elm.getElementsByTagName('br');\n      const lastBr = brs[brs.length - 1];\n      if (isBogus$2(lastBr)) {\n        lastBr.parentNode.removeChild(lastBr);\n      }\n    };\n    const showCaretContainerBlock = caretContainer => {\n      if (caretContainer && caretContainer.hasAttribute('data-mce-caret')) {\n        trimBogusBr(caretContainer);\n        caretContainer.removeAttribute('data-mce-caret');\n        caretContainer.removeAttribute('data-mce-bogus');\n        caretContainer.removeAttribute('style');\n        caretContainer.removeAttribute('data-mce-style');\n        caretContainer.removeAttribute('_moz_abspos');\n        return caretContainer;\n      }\n      return null;\n    };\n    const isRangeInCaretContainerBlock = range => isCaretContainerBlock$1(range.startContainer);\n\n    const isContentEditableTrue$4 = isContentEditableTrue$5;\n    const isContentEditableFalse$a = isContentEditableFalse$b;\n    const isBr$4 = isBr$6;\n    const isText$7 = isText$9;\n    const isInvalidTextElement = matchNodeNames([\n      'script',\n      'style',\n      'textarea'\n    ]);\n    const isAtomicInline = matchNodeNames([\n      'img',\n      'input',\n      'textarea',\n      'hr',\n      'iframe',\n      'video',\n      'audio',\n      'object',\n      'embed'\n    ]);\n    const isTable$1 = matchNodeNames(['table']);\n    const isCaretContainer$1 = isCaretContainer$2;\n    const isCaretCandidate$3 = node => {\n      if (isCaretContainer$1(node)) {\n        return false;\n      }\n      if (isText$7(node)) {\n        return !isInvalidTextElement(node.parentNode);\n      }\n      return isAtomicInline(node) || isBr$4(node) || isTable$1(node) || isNonUiContentEditableFalse(node);\n    };\n    const isUnselectable = node => isElement$6(node) && node.getAttribute('unselectable') === 'true';\n    const isNonUiContentEditableFalse = node => isUnselectable(node) === false && isContentEditableFalse$a(node);\n    const isInEditable = (node, root) => {\n      for (node = node.parentNode; node && node !== root; node = node.parentNode) {\n        if (isNonUiContentEditableFalse(node)) {\n          return false;\n        }\n        if (isContentEditableTrue$4(node)) {\n          return true;\n        }\n      }\n      return true;\n    };\n    const isAtomicContentEditableFalse = node => {\n      if (!isNonUiContentEditableFalse(node)) {\n        return false;\n      }\n      return foldl(from(node.getElementsByTagName('*')), (result, elm) => {\n        return result || isContentEditableTrue$4(elm);\n      }, false) !== true;\n    };\n    const isAtomic$1 = node => isAtomicInline(node) || isAtomicContentEditableFalse(node);\n    const isEditableCaretCandidate$1 = (node, root) => isCaretCandidate$3(node) && isInEditable(node, root);\n\n    const whiteSpaceRegExp = /^[ \\t\\r\\n]*$/;\n    const isWhitespaceText = text => whiteSpaceRegExp.test(text);\n    const isCollapsibleWhitespace$1 = c => ' \\f\\t\\x0B'.indexOf(c) !== -1;\n    const isNewLineChar = c => c === '\\n' || c === '\\r';\n    const isNewline = (text, idx) => idx < text.length && idx >= 0 ? isNewLineChar(text[idx]) : false;\n    const normalize$4 = (text, tabSpaces = 4, isStartOfContent = true, isEndOfContent = true) => {\n      const tabSpace = repeat(' ', tabSpaces);\n      const normalizedText = text.replace(/\\t/g, tabSpace);\n      const result = foldl(normalizedText, (acc, c) => {\n        if (isCollapsibleWhitespace$1(c) || c === nbsp) {\n          if (acc.pcIsSpace || acc.str === '' && isStartOfContent || acc.str.length === normalizedText.length - 1 && isEndOfContent || isNewline(normalizedText, acc.str.length + 1)) {\n            return {\n              pcIsSpace: false,\n              str: acc.str + nbsp\n            };\n          } else {\n            return {\n              pcIsSpace: true,\n              str: acc.str + ' '\n            };\n          }\n        } else {\n          return {\n            pcIsSpace: isNewLineChar(c),\n            str: acc.str + c\n          };\n        }\n      }, {\n        pcIsSpace: false,\n        str: ''\n      });\n      return result.str;\n    };\n\n    const hasWhitespacePreserveParent = (node, rootNode) => {\n      const rootElement = SugarElement.fromDom(rootNode);\n      const startNode = SugarElement.fromDom(node);\n      return ancestor$1(startNode, 'pre,code', curry(eq, rootElement));\n    };\n    const isWhitespace$1 = (node, rootNode) => {\n      return isText$9(node) && isWhitespaceText(node.data) && hasWhitespacePreserveParent(node, rootNode) === false;\n    };\n    const isNamedAnchor = node => {\n      return isElement$6(node) && node.nodeName === 'A' && !node.hasAttribute('href') && (node.hasAttribute('name') || node.hasAttribute('id'));\n    };\n    const isContent$1 = (node, rootNode) => {\n      return isCaretCandidate$3(node) && isWhitespace$1(node, rootNode) === false || isNamedAnchor(node) || isBookmark(node);\n    };\n    const isBookmark = hasAttribute('data-mce-bookmark');\n    const isBogus$1 = hasAttribute('data-mce-bogus');\n    const isBogusAll = hasAttributeValue('data-mce-bogus', 'all');\n    const isEmptyNode = (targetNode, skipBogus) => {\n      let brCount = 0;\n      if (isContent$1(targetNode, targetNode)) {\n        return false;\n      } else {\n        let node = targetNode.firstChild;\n        if (!node) {\n          return true;\n        }\n        const walker = new DomTreeWalker(node, targetNode);\n        do {\n          if (skipBogus) {\n            if (isBogusAll(node)) {\n              node = walker.next(true);\n              continue;\n            }\n            if (isBogus$1(node)) {\n              node = walker.next();\n              continue;\n            }\n          }\n          if (isBr$6(node)) {\n            brCount++;\n            node = walker.next();\n            continue;\n          }\n          if (isContent$1(node, targetNode)) {\n            return false;\n          }\n          node = walker.next();\n        } while (node);\n        return brCount <= 1;\n      }\n    };\n    const isEmpty$2 = (elm, skipBogus = true) => isEmptyNode(elm.dom, skipBogus);\n\n    const isSpan = node => node.nodeName.toLowerCase() === 'span';\n    const isInlineContent = (node, root) => isNonNullable(node) && (isContent$1(node, root) || isInline$1(SugarElement.fromDom(node)));\n    const surroundedByInlineContent = (node, root) => {\n      const prev = new DomTreeWalker(node, root).prev(false);\n      const next = new DomTreeWalker(node, root).next(false);\n      const prevIsInline = isUndefined(prev) || isInlineContent(prev, root);\n      const nextIsInline = isUndefined(next) || isInlineContent(next, root);\n      return prevIsInline && nextIsInline;\n    };\n    const isBookmarkNode$2 = node => isSpan(node) && node.getAttribute('data-mce-type') === 'bookmark';\n    const isKeepTextNode = (node, root) => isText$9(node) && node.data.length > 0 && surroundedByInlineContent(node, root);\n    const isKeepElement = node => isElement$6(node) ? node.childNodes.length > 0 : false;\n    const isDocument = node => isDocumentFragment(node) || isDocument$1(node);\n    const trimNode = (dom, node, root) => {\n      const rootNode = root || node;\n      if (isElement$6(node) && isBookmarkNode$2(node)) {\n        return node;\n      }\n      const children = node.childNodes;\n      for (let i = children.length - 1; i >= 0; i--) {\n        trimNode(dom, children[i], rootNode);\n      }\n      if (isElement$6(node)) {\n        const currentChildren = node.childNodes;\n        if (currentChildren.length === 1 && isBookmarkNode$2(currentChildren[0])) {\n          node.parentNode.insertBefore(currentChildren[0], node);\n        }\n      }\n      if (!isDocument(node) && !isContent$1(node, rootNode) && !isKeepElement(node) && !isKeepTextNode(node, rootNode)) {\n        dom.remove(node);\n      }\n      return node;\n    };\n\n    const makeMap$3 = Tools.makeMap;\n    const attrsCharsRegExp = /[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    const textCharsRegExp = /[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    const rawCharsRegExp = /[<>&\\\"\\']/g;\n    const entityRegExp = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi;\n    const asciiMap = {\n      128: '\\u20AC',\n      130: '\\u201A',\n      131: '\\u0192',\n      132: '\\u201E',\n      133: '\\u2026',\n      134: '\\u2020',\n      135: '\\u2021',\n      136: '\\u02c6',\n      137: '\\u2030',\n      138: '\\u0160',\n      139: '\\u2039',\n      140: '\\u0152',\n      142: '\\u017d',\n      145: '\\u2018',\n      146: '\\u2019',\n      147: '\\u201C',\n      148: '\\u201D',\n      149: '\\u2022',\n      150: '\\u2013',\n      151: '\\u2014',\n      152: '\\u02DC',\n      153: '\\u2122',\n      154: '\\u0161',\n      155: '\\u203A',\n      156: '\\u0153',\n      158: '\\u017e',\n      159: '\\u0178'\n    };\n    const baseEntities = {\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '&': '&amp;',\n      '`': '&#96;'\n    };\n    const reverseEntities = {\n      '&lt;': '<',\n      '&gt;': '>',\n      '&amp;': '&',\n      '&quot;': '\"',\n      '&apos;': `'`\n    };\n    const nativeDecode = text => {\n      const elm = SugarElement.fromTag('div').dom;\n      elm.innerHTML = text;\n      return elm.textContent || elm.innerText || text;\n    };\n    const buildEntitiesLookup = (items, radix) => {\n      let i, chr, entity;\n      const lookup = {};\n      if (items) {\n        items = items.split(',');\n        radix = radix || 10;\n        for (i = 0; i < items.length; i += 2) {\n          chr = String.fromCharCode(parseInt(items[i], radix));\n          if (!baseEntities[chr]) {\n            entity = '&' + items[i + 1] + ';';\n            lookup[chr] = entity;\n            lookup[entity] = chr;\n          }\n        }\n        return lookup;\n      }\n    };\n    const namedEntities = buildEntitiesLookup('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,' + '5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,' + '5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,' + '5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,' + '68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,' + '6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,' + '6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,' + '75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,' + '7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,' + '7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,' + 'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,' + 'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,' + 't9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,' + 'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,' + 'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,' + '81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,' + '8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,' + '8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,' + '8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,' + '8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,' + 'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,' + 'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,' + 'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,' + '80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,' + '811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro', 32);\n    const encodeRaw = (text, attr) => text.replace(attr ? attrsCharsRegExp : textCharsRegExp, chr => {\n      return baseEntities[chr] || chr;\n    });\n    const encodeAllRaw = text => ('' + text).replace(rawCharsRegExp, chr => {\n      return baseEntities[chr] || chr;\n    });\n    const encodeNumeric = (text, attr) => text.replace(attr ? attrsCharsRegExp : textCharsRegExp, chr => {\n      if (chr.length > 1) {\n        return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n      }\n      return baseEntities[chr] || '&#' + chr.charCodeAt(0) + ';';\n    });\n    const encodeNamed = (text, attr, entities) => {\n      entities = entities || namedEntities;\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, chr => {\n        return baseEntities[chr] || entities[chr] || chr;\n      });\n    };\n    const getEncodeFunc = (name, entities) => {\n      const entitiesMap = buildEntitiesLookup(entities) || namedEntities;\n      const encodeNamedAndNumeric = (text, attr) => text.replace(attr ? attrsCharsRegExp : textCharsRegExp, chr => {\n        if (baseEntities[chr] !== undefined) {\n          return baseEntities[chr];\n        }\n        if (entitiesMap[chr] !== undefined) {\n          return entitiesMap[chr];\n        }\n        if (chr.length > 1) {\n          return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n        }\n        return '&#' + chr.charCodeAt(0) + ';';\n      });\n      const encodeCustomNamed = (text, attr) => {\n        return encodeNamed(text, attr, entitiesMap);\n      };\n      const nameMap = makeMap$3(name.replace(/\\+/g, ','));\n      if (nameMap.named && nameMap.numeric) {\n        return encodeNamedAndNumeric;\n      }\n      if (nameMap.named) {\n        if (entities) {\n          return encodeCustomNamed;\n        }\n        return encodeNamed;\n      }\n      if (nameMap.numeric) {\n        return encodeNumeric;\n      }\n      return encodeRaw;\n    };\n    const decode = text => text.replace(entityRegExp, (all, numeric) => {\n      if (numeric) {\n        if (numeric.charAt(0).toLowerCase() === 'x') {\n          numeric = parseInt(numeric.substr(1), 16);\n        } else {\n          numeric = parseInt(numeric, 10);\n        }\n        if (numeric > 65535) {\n          numeric -= 65536;\n          return String.fromCharCode(55296 + (numeric >> 10), 56320 + (numeric & 1023));\n        }\n        return asciiMap[numeric] || String.fromCharCode(numeric);\n      }\n      return reverseEntities[all] || namedEntities[all] || nativeDecode(all);\n    });\n    const Entities = {\n      encodeRaw,\n      encodeAllRaw,\n      encodeNumeric,\n      encodeNamed,\n      getEncodeFunc,\n      decode\n    };\n\n    const mapCache = {}, dummyObj = {};\n    const makeMap$2 = Tools.makeMap, each$c = Tools.each, extend$2 = Tools.extend, explode$2 = Tools.explode, inArray = Tools.inArray;\n    const split$1 = (items, delim) => {\n      items = Tools.trim(items);\n      return items ? items.split(delim || ' ') : [];\n    };\n    const createMap = (defaultValue, extendWith) => {\n      const value = makeMap$2(defaultValue, ' ', makeMap$2(defaultValue.toUpperCase(), ' '));\n      return extend$2(value, extendWith);\n    };\n    const getTextRootBlockElements = schema => createMap('td th li dt dd figcaption caption details summary', schema.getTextBlockElements());\n    const compileSchema = type => {\n      const schema = {};\n      let globalAttributes, blockContent;\n      let phrasingContent, flowContent, html4BlockContent, html4PhrasingContent;\n      const add = (name, attributes = '', children = '') => {\n        const childNames = split$1(children);\n        const names = split$1(name);\n        let ni = names.length;\n        while (ni--) {\n          const attributesOrder = split$1([\n            globalAttributes,\n            attributes\n          ].join(' '));\n          schema[names[ni]] = {\n            attributes: mapToObject(attributesOrder, () => ({})),\n            attributesOrder,\n            children: mapToObject(childNames, constant(dummyObj))\n          };\n        }\n      };\n      const addAttrs = (name, attributes) => {\n        const names = split$1(name);\n        const attrs = split$1(attributes);\n        let ni = names.length;\n        while (ni--) {\n          const schemaItem = schema[names[ni]];\n          for (let i = 0, l = attrs.length; i < l; i++) {\n            schemaItem.attributes[attrs[i]] = {};\n            schemaItem.attributesOrder.push(attrs[i]);\n          }\n        }\n      };\n      if (mapCache[type]) {\n        return mapCache[type];\n      }\n      globalAttributes = 'id accesskey class dir lang style tabindex title role';\n      blockContent = 'address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul';\n      phrasingContent = 'a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd ' + 'label map noscript object q s samp script select small span strong sub sup ' + 'textarea u var #text #comment';\n      if (type !== 'html4') {\n        globalAttributes += ' contenteditable contextmenu draggable dropzone ' + 'hidden spellcheck translate';\n        blockContent += ' article aside details dialog figure main header footer hgroup section nav';\n        phrasingContent += ' audio canvas command datalist mark meter output picture ' + 'progress time wbr video ruby bdi keygen';\n      }\n      if (type !== 'html5-strict') {\n        globalAttributes += ' xml:lang';\n        html4PhrasingContent = 'acronym applet basefont big font strike tt';\n        phrasingContent = [\n          phrasingContent,\n          html4PhrasingContent\n        ].join(' ');\n        each$c(split$1(html4PhrasingContent), name => {\n          add(name, '', phrasingContent);\n        });\n        html4BlockContent = 'center dir isindex noframes';\n        blockContent = [\n          blockContent,\n          html4BlockContent\n        ].join(' ');\n        flowContent = [\n          blockContent,\n          phrasingContent\n        ].join(' ');\n        each$c(split$1(html4BlockContent), name => {\n          add(name, '', flowContent);\n        });\n      }\n      flowContent = flowContent || [\n        blockContent,\n        phrasingContent\n      ].join(' ');\n      add('html', 'manifest', 'head body');\n      add('head', '', 'base command link meta noscript script style title');\n      add('title hr noscript br');\n      add('base', 'href target');\n      add('link', 'href rel media hreflang type sizes hreflang');\n      add('meta', 'name http-equiv content charset');\n      add('style', 'media type scoped');\n      add('script', 'src async defer type charset');\n      add('body', 'onafterprint onbeforeprint onbeforeunload onblur onerror onfocus ' + 'onhashchange onload onmessage onoffline ononline onpagehide onpageshow ' + 'onpopstate onresize onscroll onstorage onunload', flowContent);\n      add('address dt dd div caption', '', flowContent);\n      add('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn', '', phrasingContent);\n      add('blockquote', 'cite', flowContent);\n      add('ol', 'reversed start type', 'li');\n      add('ul', '', 'li');\n      add('li', 'value', flowContent);\n      add('dl', '', 'dt dd');\n      add('a', 'href target rel media hreflang type', phrasingContent);\n      add('q', 'cite', phrasingContent);\n      add('ins del', 'cite datetime', flowContent);\n      add('img', 'src sizes srcset alt usemap ismap width height');\n      add('iframe', 'src name width height', flowContent);\n      add('embed', 'src type width height');\n      add('object', 'data type typemustmatch name usemap form width height', [\n        flowContent,\n        'param'\n      ].join(' '));\n      add('param', 'name value');\n      add('map', 'name', [\n        flowContent,\n        'area'\n      ].join(' '));\n      add('area', 'alt coords shape href target rel media hreflang type');\n      add('table', 'border', 'caption colgroup thead tfoot tbody tr' + (type === 'html4' ? ' col' : ''));\n      add('colgroup', 'span', 'col');\n      add('col', 'span');\n      add('tbody thead tfoot', '', 'tr');\n      add('tr', '', 'td th');\n      add('td', 'colspan rowspan headers', flowContent);\n      add('th', 'colspan rowspan headers scope abbr', flowContent);\n      add('form', 'accept-charset action autocomplete enctype method name novalidate target', flowContent);\n      add('fieldset', 'disabled form name', [\n        flowContent,\n        'legend'\n      ].join(' '));\n      add('label', 'form for', phrasingContent);\n      add('input', 'accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate ' + 'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');\n      add('button', 'disabled form formaction formenctype formmethod formnovalidate formtarget name type value', type === 'html4' ? flowContent : phrasingContent);\n      add('select', 'disabled form multiple name required size', 'option optgroup');\n      add('optgroup', 'disabled label', 'option');\n      add('option', 'disabled label selected value');\n      add('textarea', 'cols dirname disabled form maxlength name readonly required rows wrap');\n      add('menu', 'type label', [\n        flowContent,\n        'li'\n      ].join(' '));\n      add('noscript', '', flowContent);\n      if (type !== 'html4') {\n        add('wbr');\n        add('ruby', '', [\n          phrasingContent,\n          'rt rp'\n        ].join(' '));\n        add('figcaption', '', flowContent);\n        add('mark rt rp summary bdi', '', phrasingContent);\n        add('canvas', 'width height', flowContent);\n        add('video', 'src crossorigin poster preload autoplay mediagroup loop ' + 'muted controls width height buffered', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('audio', 'src crossorigin preload autoplay mediagroup loop muted controls ' + 'buffered volume', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('picture', '', 'img source');\n        add('source', 'src srcset type media sizes');\n        add('track', 'kind src srclang label default');\n        add('datalist', '', [\n          phrasingContent,\n          'option'\n        ].join(' '));\n        add('article section nav aside main header footer', '', flowContent);\n        add('hgroup', '', 'h1 h2 h3 h4 h5 h6');\n        add('figure', '', [\n          flowContent,\n          'figcaption'\n        ].join(' '));\n        add('time', 'datetime', phrasingContent);\n        add('dialog', 'open', flowContent);\n        add('command', 'type label icon disabled checked radiogroup command');\n        add('output', 'for form name', phrasingContent);\n        add('progress', 'value max', phrasingContent);\n        add('meter', 'value min max low high optimum', phrasingContent);\n        add('details', 'open', [\n          flowContent,\n          'summary'\n        ].join(' '));\n        add('keygen', 'autofocus challenge disabled form keytype name');\n      }\n      if (type !== 'html5-strict') {\n        addAttrs('script', 'language xml:space');\n        addAttrs('style', 'xml:space');\n        addAttrs('object', 'declare classid code codebase codetype archive standby align border hspace vspace');\n        addAttrs('embed', 'align name hspace vspace');\n        addAttrs('param', 'valuetype type');\n        addAttrs('a', 'charset name rev shape coords');\n        addAttrs('br', 'clear');\n        addAttrs('applet', 'codebase archive code object alt name width height align hspace vspace');\n        addAttrs('img', 'name longdesc align border hspace vspace');\n        addAttrs('iframe', 'longdesc frameborder marginwidth marginheight scrolling align');\n        addAttrs('font basefont', 'size color face');\n        addAttrs('input', 'usemap align');\n        addAttrs('select');\n        addAttrs('textarea');\n        addAttrs('h1 h2 h3 h4 h5 h6 div p legend caption', 'align');\n        addAttrs('ul', 'type compact');\n        addAttrs('li', 'type');\n        addAttrs('ol dl menu dir', 'compact');\n        addAttrs('pre', 'width xml:space');\n        addAttrs('hr', 'align noshade size width');\n        addAttrs('isindex', 'prompt');\n        addAttrs('table', 'summary width frame rules cellspacing cellpadding align bgcolor');\n        addAttrs('col', 'width align char charoff valign');\n        addAttrs('colgroup', 'width align char charoff valign');\n        addAttrs('thead', 'align char charoff valign');\n        addAttrs('tr', 'align char charoff valign bgcolor');\n        addAttrs('th', 'axis align char charoff valign nowrap bgcolor width height');\n        addAttrs('form', 'accept');\n        addAttrs('td', 'abbr axis scope align char charoff valign nowrap bgcolor width height');\n        addAttrs('tfoot', 'align char charoff valign');\n        addAttrs('tbody', 'align char charoff valign');\n        addAttrs('area', 'nohref');\n        addAttrs('body', 'background bgcolor text link vlink alink');\n      }\n      if (type !== 'html4') {\n        addAttrs('input button select textarea', 'autofocus');\n        addAttrs('input textarea', 'placeholder');\n        addAttrs('a', 'download');\n        addAttrs('link script img', 'crossorigin');\n        addAttrs('img', 'loading');\n        addAttrs('iframe', 'sandbox seamless allowfullscreen loading');\n      }\n      if (type !== 'html4') {\n        each$f([\n          schema.video,\n          schema.audio\n        ], item => {\n          delete item.children.audio;\n          delete item.children.video;\n        });\n      }\n      each$c(split$1('a form meter progress dfn'), name => {\n        if (schema[name]) {\n          delete schema[name].children[name];\n        }\n      });\n      delete schema.caption.children.table;\n      delete schema.script;\n      mapCache[type] = schema;\n      return schema;\n    };\n    const compileElementMap = (value, mode) => {\n      let styles;\n      if (value) {\n        styles = {};\n        if (typeof value === 'string') {\n          value = { '*': value };\n        }\n        each$c(value, (value, key) => {\n          styles[key] = styles[key.toUpperCase()] = mode === 'map' ? makeMap$2(value, /[, ]/) : explode$2(value, /[, ]/);\n        });\n      }\n      return styles;\n    };\n    const Schema = settings => {\n      var _a;\n      const elements = {};\n      const children = {};\n      let patternElements = [];\n      const customElementsMap = {}, specialElements = {};\n      const createLookupTable = (option, defaultValue, extendWith) => {\n        let value = settings[option];\n        if (!value) {\n          value = mapCache[option];\n          if (!value) {\n            value = createMap(defaultValue, extendWith);\n            mapCache[option] = value;\n          }\n        } else {\n          value = makeMap$2(value, /[, ]/, makeMap$2(value.toUpperCase(), /[, ]/));\n        }\n        return value;\n      };\n      settings = settings || {};\n      const schemaType = (_a = settings.schema) !== null && _a !== void 0 ? _a : 'html5';\n      const schemaItems = compileSchema(schemaType);\n      if (settings.verify_html === false) {\n        settings.valid_elements = '*[*]';\n      }\n      const validStyles = compileElementMap(settings.valid_styles);\n      const invalidStyles = compileElementMap(settings.invalid_styles, 'map');\n      const validClasses = compileElementMap(settings.valid_classes, 'map');\n      const whitespaceElementsMap = createLookupTable('whitespace_elements', 'pre script noscript style textarea video audio iframe object code');\n      const selfClosingElementsMap = createLookupTable('self_closing_elements', 'colgroup dd dt li option p td tfoot th thead tr');\n      const voidElementsMap = createLookupTable('void_elements', 'area base basefont br col frame hr img input isindex link ' + 'meta param embed source wbr track');\n      const boolAttrMap = createLookupTable('boolean_attributes', 'checked compact declare defer disabled ismap multiple nohref noresize ' + 'noshade nowrap readonly selected autoplay loop controls allowfullscreen');\n      const nonEmptyOrMoveCaretBeforeOnEnter = 'td th iframe video audio object script code';\n      const nonEmptyElementsMap = createLookupTable('non_empty_elements', nonEmptyOrMoveCaretBeforeOnEnter + ' pre', voidElementsMap);\n      const moveCaretBeforeOnEnterElementsMap = createLookupTable('move_caret_before_on_enter_elements', nonEmptyOrMoveCaretBeforeOnEnter + ' table', voidElementsMap);\n      const textBlockElementsMap = createLookupTable('text_block_elements', 'h1 h2 h3 h4 h5 h6 p div address pre form ' + 'blockquote center dir fieldset header footer article section hgroup aside main nav figure');\n      const blockElementsMap = createLookupTable('block_elements', 'hr table tbody thead tfoot ' + 'th tr td li ol ul caption dl dt dd noscript menu isindex option ' + 'datalist select optgroup figcaption details summary', textBlockElementsMap);\n      const textInlineElementsMap = createLookupTable('text_inline_elements', 'span strong b em i font s strike u var cite ' + 'dfn code mark q sup sub samp');\n      each$c('script noscript iframe noframes noembed title style textarea xmp plaintext'.split(' '), name => {\n        specialElements[name] = new RegExp('</' + name + '[^>]*>', 'gi');\n      });\n      const patternToRegExp = str => new RegExp('^' + str.replace(/([?+*])/g, '.$1') + '$');\n      const addValidElements = validElements => {\n        let ei, el, ai, al, matches, element, attr, attrData, elementName, attrName, attrType, attributes, attributesOrder, prefix, outputName, globalAttributes, globalAttributesOrder, value;\n        const elementRuleRegExp = /^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)])?$/, attrRuleRegExp = /^([!\\-])?(\\w+[\\\\:]:\\w+|[^=~<]+)?(?:([=~<])(.*))?$/, hasPatternsRegExp = /[*?+]/;\n        if (validElements) {\n          const validElementsArr = split$1(validElements, ',');\n          if (elements['@']) {\n            globalAttributes = elements['@'].attributes;\n            globalAttributesOrder = elements['@'].attributesOrder;\n          }\n          for (ei = 0, el = validElementsArr.length; ei < el; ei++) {\n            matches = elementRuleRegExp.exec(validElementsArr[ei]);\n            if (matches) {\n              prefix = matches[1];\n              elementName = matches[2];\n              outputName = matches[3];\n              attrData = matches[5];\n              attributes = {};\n              attributesOrder = [];\n              element = {\n                attributes,\n                attributesOrder\n              };\n              if (prefix === '#') {\n                element.paddEmpty = true;\n              }\n              if (prefix === '-') {\n                element.removeEmpty = true;\n              }\n              if (matches[4] === '!') {\n                element.removeEmptyAttrs = true;\n              }\n              if (globalAttributes) {\n                each$e(globalAttributes, (value, key) => {\n                  attributes[key] = value;\n                });\n                attributesOrder.push.apply(attributesOrder, globalAttributesOrder);\n              }\n              if (attrData) {\n                attrData = split$1(attrData, '|');\n                for (ai = 0, al = attrData.length; ai < al; ai++) {\n                  matches = attrRuleRegExp.exec(attrData[ai]);\n                  if (matches) {\n                    attr = {};\n                    attrType = matches[1];\n                    attrName = matches[2].replace(/[\\\\:]:/g, ':');\n                    prefix = matches[3];\n                    value = matches[4];\n                    if (attrType === '!') {\n                      element.attributesRequired = element.attributesRequired || [];\n                      element.attributesRequired.push(attrName);\n                      attr.required = true;\n                    }\n                    if (attrType === '-') {\n                      delete attributes[attrName];\n                      attributesOrder.splice(inArray(attributesOrder, attrName), 1);\n                      continue;\n                    }\n                    if (prefix) {\n                      if (prefix === '=') {\n                        element.attributesDefault = element.attributesDefault || [];\n                        element.attributesDefault.push({\n                          name: attrName,\n                          value\n                        });\n                        attr.defaultValue = value;\n                      }\n                      if (prefix === '~') {\n                        element.attributesForced = element.attributesForced || [];\n                        element.attributesForced.push({\n                          name: attrName,\n                          value\n                        });\n                        attr.forcedValue = value;\n                      }\n                      if (prefix === '<') {\n                        attr.validValues = makeMap$2(value, '?');\n                      }\n                    }\n                    if (hasPatternsRegExp.test(attrName)) {\n                      element.attributePatterns = element.attributePatterns || [];\n                      attr.pattern = patternToRegExp(attrName);\n                      element.attributePatterns.push(attr);\n                    } else {\n                      if (!attributes[attrName]) {\n                        attributesOrder.push(attrName);\n                      }\n                      attributes[attrName] = attr;\n                    }\n                  }\n                }\n              }\n              if (!globalAttributes && elementName === '@') {\n                globalAttributes = attributes;\n                globalAttributesOrder = attributesOrder;\n              }\n              if (outputName) {\n                element.outputName = elementName;\n                elements[outputName] = element;\n              }\n              if (hasPatternsRegExp.test(elementName)) {\n                element.pattern = patternToRegExp(elementName);\n                patternElements.push(element);\n              } else {\n                elements[elementName] = element;\n              }\n            }\n          }\n        }\n      };\n      const setValidElements = validElements => {\n        patternElements = [];\n        each$f(keys(elements), name => {\n          delete elements[name];\n        });\n        addValidElements(validElements);\n        each$c(schemaItems, (element, name) => {\n          children[name] = element.children;\n        });\n      };\n      const addCustomElements = customElements => {\n        const customElementRegExp = /^(~)?(.+)$/;\n        if (customElements) {\n          mapCache.text_block_elements = mapCache.block_elements = null;\n          each$c(split$1(customElements, ','), rule => {\n            const matches = customElementRegExp.exec(rule), inline = matches[1] === '~', cloneName = inline ? 'span' : 'div', name = matches[2];\n            children[name] = children[cloneName];\n            customElementsMap[name] = cloneName;\n            nonEmptyElementsMap[name.toUpperCase()] = {};\n            nonEmptyElementsMap[name] = {};\n            if (!inline) {\n              blockElementsMap[name.toUpperCase()] = {};\n              blockElementsMap[name] = {};\n            }\n            if (!elements[name]) {\n              let customRule = elements[cloneName];\n              customRule = extend$2({}, customRule);\n              delete customRule.removeEmptyAttrs;\n              delete customRule.removeEmpty;\n              elements[name] = customRule;\n            }\n            each$c(children, (element, elmName) => {\n              if (element[cloneName]) {\n                children[elmName] = element = extend$2({}, children[elmName]);\n                element[name] = element[cloneName];\n              }\n            });\n          });\n        }\n      };\n      const addValidChildren = validChildren => {\n        const childRuleRegExp = /^([+\\-]?)([A-Za-z0-9_\\-.\\u00b7\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u037d\\u037f-\\u1fff\\u200c-\\u200d\\u203f-\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]+)\\[([^\\]]+)]$/;\n        mapCache[schemaType] = null;\n        if (validChildren) {\n          each$c(split$1(validChildren, ','), rule => {\n            const matches = childRuleRegExp.exec(rule);\n            let parent, prefix;\n            if (matches) {\n              prefix = matches[1];\n              if (prefix) {\n                parent = children[matches[2]];\n              } else {\n                parent = children[matches[2]] = { '#comment': {} };\n              }\n              parent = children[matches[2]];\n              each$c(split$1(matches[3], '|'), child => {\n                if (prefix === '-') {\n                  delete parent[child];\n                } else {\n                  parent[child] = {};\n                }\n              });\n            }\n          });\n        }\n      };\n      const getElementRule = name => {\n        let element = elements[name], i;\n        if (element) {\n          return element;\n        }\n        i = patternElements.length;\n        while (i--) {\n          element = patternElements[i];\n          if (element.pattern.test(name)) {\n            return element;\n          }\n        }\n      };\n      if (!settings.valid_elements) {\n        each$c(schemaItems, (element, name) => {\n          elements[name] = {\n            attributes: element.attributes,\n            attributesOrder: element.attributesOrder\n          };\n          children[name] = element.children;\n        });\n        each$c(split$1('strong/b em/i'), item => {\n          const items = split$1(item, '/');\n          elements[items[1]].outputName = items[0];\n        });\n        each$c(textInlineElementsMap, (_val, name) => {\n          if (elements[name]) {\n            if (settings.padd_empty_block_inline_children) {\n              elements[name].paddInEmptyBlock = true;\n            }\n            elements[name].removeEmpty = true;\n          }\n        });\n        each$c(split$1('ol ul blockquote a table tbody'), name => {\n          if (elements[name]) {\n            elements[name].removeEmpty = true;\n          }\n        });\n        each$c(split$1('p h1 h2 h3 h4 h5 h6 th td pre div address caption li'), name => {\n          elements[name].paddEmpty = true;\n        });\n        each$c(split$1('span'), name => {\n          elements[name].removeEmptyAttrs = true;\n        });\n      } else {\n        setValidElements(settings.valid_elements);\n      }\n      addCustomElements(settings.custom_elements);\n      addValidChildren(settings.valid_children);\n      addValidElements(settings.extended_valid_elements);\n      addValidChildren('+ol[ul|ol],+ul[ul|ol]');\n      each$c({\n        dd: 'dl',\n        dt: 'dl',\n        li: 'ul ol',\n        td: 'tr',\n        th: 'tr',\n        tr: 'tbody thead tfoot',\n        tbody: 'table',\n        thead: 'table',\n        tfoot: 'table',\n        legend: 'fieldset',\n        area: 'map',\n        param: 'video audio object'\n      }, (parents, item) => {\n        if (elements[item]) {\n          elements[item].parentsRequired = split$1(parents);\n        }\n      });\n      if (settings.invalid_elements) {\n        each$c(explode$2(settings.invalid_elements), item => {\n          if (elements[item]) {\n            delete elements[item];\n          }\n        });\n      }\n      if (!getElementRule('span')) {\n        addValidElements('span[!data-mce-type|*]');\n      }\n      const getValidStyles = constant(validStyles);\n      const getInvalidStyles = constant(invalidStyles);\n      const getValidClasses = constant(validClasses);\n      const getBoolAttrs = constant(boolAttrMap);\n      const getBlockElements = constant(blockElementsMap);\n      const getTextBlockElements = constant(textBlockElementsMap);\n      const getTextInlineElements = constant(textInlineElementsMap);\n      const getVoidElements = constant(Object.seal(voidElementsMap));\n      const getSelfClosingElements = constant(selfClosingElementsMap);\n      const getNonEmptyElements = constant(nonEmptyElementsMap);\n      const getMoveCaretBeforeOnEnterElements = constant(moveCaretBeforeOnEnterElementsMap);\n      const getWhitespaceElements = constant(whitespaceElementsMap);\n      const getSpecialElements = constant(Object.seal(specialElements));\n      const isValidChild = (name, child) => {\n        const parent = children[name.toLowerCase()];\n        return !!(parent && parent[child.toLowerCase()]);\n      };\n      const isValid = (name, attr) => {\n        let attrPatterns, i;\n        const rule = getElementRule(name);\n        if (rule) {\n          if (attr) {\n            if (rule.attributes[attr]) {\n              return true;\n            }\n            attrPatterns = rule.attributePatterns;\n            if (attrPatterns) {\n              i = attrPatterns.length;\n              while (i--) {\n                if (attrPatterns[i].pattern.test(attr)) {\n                  return true;\n                }\n              }\n            }\n          } else {\n            return true;\n          }\n        }\n        return false;\n      };\n      const getCustomElements = constant(customElementsMap);\n      return {\n        type: schemaType,\n        children,\n        elements,\n        getValidStyles,\n        getValidClasses,\n        getBlockElements,\n        getInvalidStyles,\n        getVoidElements,\n        getTextBlockElements,\n        getTextInlineElements,\n        getBoolAttrs,\n        getElementRule,\n        getSelfClosingElements,\n        getNonEmptyElements,\n        getMoveCaretBeforeOnEnterElements,\n        getWhitespaceElements,\n        getSpecialElements,\n        isValidChild,\n        isValid,\n        getCustomElements,\n        addValidElements,\n        setValidElements,\n        addCustomElements,\n        addValidChildren\n      };\n    };\n\n    const Styles = (settings, schema) => {\n      const urlOrStrRegExp = /(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi;\n      const styleRegExp = /\\s*([^:]+):\\s*([^;]+);?/g;\n      const trimRightRegExp = /\\s+$/;\n      let i;\n      const encodingLookup = {};\n      let validStyles;\n      let invalidStyles;\n      const invisibleChar = zeroWidth;\n      settings = settings || {};\n      if (schema) {\n        validStyles = schema.getValidStyles();\n        invalidStyles = schema.getInvalidStyles();\n      }\n      const encodingItems = (`\\\\\" \\\\' \\\\; \\\\: ; : ` + invisibleChar).split(' ');\n      for (i = 0; i < encodingItems.length; i++) {\n        encodingLookup[encodingItems[i]] = invisibleChar + i;\n        encodingLookup[invisibleChar + i] = encodingItems[i];\n      }\n      const self = {\n        parse: css => {\n          const styles = {};\n          let matches, name, value, isEncoded;\n          const urlConverter = settings.url_converter;\n          const urlConverterScope = settings.url_converter_scope || self;\n          const compress = (prefix, suffix, noJoin) => {\n            const top = styles[prefix + '-top' + suffix];\n            if (!top) {\n              return;\n            }\n            const right = styles[prefix + '-right' + suffix];\n            if (!right) {\n              return;\n            }\n            const bottom = styles[prefix + '-bottom' + suffix];\n            if (!bottom) {\n              return;\n            }\n            const left = styles[prefix + '-left' + suffix];\n            if (!left) {\n              return;\n            }\n            const box = [\n              top,\n              right,\n              bottom,\n              left\n            ];\n            i = box.length - 1;\n            while (i--) {\n              if (box[i] !== box[i + 1]) {\n                break;\n              }\n            }\n            if (i > -1 && noJoin) {\n              return;\n            }\n            styles[prefix + suffix] = i === -1 ? box[0] : box.join(' ');\n            delete styles[prefix + '-top' + suffix];\n            delete styles[prefix + '-right' + suffix];\n            delete styles[prefix + '-bottom' + suffix];\n            delete styles[prefix + '-left' + suffix];\n          };\n          const canCompress = key => {\n            let value = styles[key], i;\n            if (!value) {\n              return;\n            }\n            value = value.split(' ');\n            i = value.length;\n            while (i--) {\n              if (value[i] !== value[0]) {\n                return false;\n              }\n            }\n            styles[key] = value[0];\n            return true;\n          };\n          const compress2 = (target, a, b, c) => {\n            if (!canCompress(a)) {\n              return;\n            }\n            if (!canCompress(b)) {\n              return;\n            }\n            if (!canCompress(c)) {\n              return;\n            }\n            styles[target] = styles[a] + ' ' + styles[b] + ' ' + styles[c];\n            delete styles[a];\n            delete styles[b];\n            delete styles[c];\n          };\n          const encode = str => {\n            isEncoded = true;\n            return encodingLookup[str];\n          };\n          const decode = (str, keepSlashes) => {\n            if (isEncoded) {\n              str = str.replace(/\\uFEFF[0-9]/g, str => {\n                return encodingLookup[str];\n              });\n            }\n            if (!keepSlashes) {\n              str = str.replace(/\\\\([\\'\\\";:])/g, '$1');\n            }\n            return str;\n          };\n          const decodeSingleHexSequence = escSeq => {\n            return String.fromCharCode(parseInt(escSeq.slice(1), 16));\n          };\n          const decodeHexSequences = value => {\n            return value.replace(/\\\\[0-9a-f]+/gi, decodeSingleHexSequence);\n          };\n          const processUrl = (match, url, url2, url3, str, str2) => {\n            str = str || str2;\n            if (str) {\n              str = decode(str);\n              return `'` + str.replace(/\\'/g, `\\\\'`) + `'`;\n            }\n            url = decode(url || url2 || url3);\n            if (!settings.allow_script_urls) {\n              const scriptUrl = url.replace(/[\\s\\r\\n]+/g, '');\n              if (/(java|vb)script:/i.test(scriptUrl)) {\n                return '';\n              }\n              if (!settings.allow_svg_data_urls && /^data:image\\/svg/i.test(scriptUrl)) {\n                return '';\n              }\n            }\n            if (urlConverter) {\n              url = urlConverter.call(urlConverterScope, url, 'style');\n            }\n            return `url('` + url.replace(/\\'/g, `\\\\'`) + `')`;\n          };\n          if (css) {\n            css = css.replace(/[\\u0000-\\u001F]/g, '');\n            css = css.replace(/\\\\[\\\"\\';:\\uFEFF]/g, encode).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g, str => {\n              return str.replace(/[;:]/g, encode);\n            });\n            while (matches = styleRegExp.exec(css)) {\n              styleRegExp.lastIndex = matches.index + matches[0].length;\n              name = matches[1].replace(trimRightRegExp, '').toLowerCase();\n              value = matches[2].replace(trimRightRegExp, '');\n              if (name && value) {\n                name = decodeHexSequences(name);\n                value = decodeHexSequences(value);\n                if (name.indexOf(invisibleChar) !== -1 || name.indexOf('\"') !== -1) {\n                  continue;\n                }\n                if (!settings.allow_script_urls && (name === 'behavior' || /expression\\s*\\(|\\/\\*|\\*\\//.test(value))) {\n                  continue;\n                }\n                if (name === 'font-weight' && value === '700') {\n                  value = 'bold';\n                } else if (name === 'color' || name === 'background-color') {\n                  value = value.toLowerCase();\n                }\n                value = value.replace(urlOrStrRegExp, processUrl);\n                styles[name] = isEncoded ? decode(value, true) : value;\n              }\n            }\n            compress('border', '', true);\n            compress('border', '-width');\n            compress('border', '-color');\n            compress('border', '-style');\n            compress('padding', '');\n            compress('margin', '');\n            compress2('border', 'border-width', 'border-style', 'border-color');\n            if (styles.border === 'medium none') {\n              delete styles.border;\n            }\n            if (styles['border-image'] === 'none') {\n              delete styles['border-image'];\n            }\n          }\n          return styles;\n        },\n        serialize: (styles, elementName) => {\n          let css = '';\n          const serializeStyles = name => {\n            let value;\n            const styleList = validStyles[name];\n            if (styleList) {\n              for (let i = 0, l = styleList.length; i < l; i++) {\n                name = styleList[i];\n                value = styles[name];\n                if (value) {\n                  css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n                }\n              }\n            }\n          };\n          const isValid = (name, elementName) => {\n            let styleMap = invalidStyles['*'];\n            if (styleMap && styleMap[name]) {\n              return false;\n            }\n            styleMap = invalidStyles[elementName];\n            return !(styleMap && styleMap[name]);\n          };\n          if (elementName && validStyles) {\n            serializeStyles('*');\n            serializeStyles(elementName);\n          } else {\n            each$e(styles, (value, name) => {\n              if (value && (!invalidStyles || isValid(name, elementName))) {\n                css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n              }\n            });\n          }\n          return css;\n        }\n      };\n      return self;\n    };\n\n    const deprecated = {\n      keyLocation: true,\n      layerX: true,\n      layerY: true,\n      returnValue: true,\n      webkitMovementX: true,\n      webkitMovementY: true,\n      keyIdentifier: true,\n      mozPressure: true\n    };\n    const isNativeEvent = event => event instanceof Event || isFunction(event.initEvent);\n    const hasIsDefaultPrevented = event => event.isDefaultPrevented === always || event.isDefaultPrevented === never;\n    const needsNormalizing = event => isNullable(event.preventDefault) || isNativeEvent(event);\n    const clone$3 = (originalEvent, data) => {\n      const event = data !== null && data !== void 0 ? data : {};\n      for (const name in originalEvent) {\n        if (!has$2(deprecated, name)) {\n          event[name] = originalEvent[name];\n        }\n      }\n      if (isNonNullable(event.composedPath)) {\n        event.composedPath = () => originalEvent.composedPath();\n      }\n      return event;\n    };\n    const normalize$3 = (type, originalEvent, fallbackTarget, data) => {\n      var _a;\n      const event = clone$3(originalEvent, data);\n      event.type = type;\n      if (isNullable(event.target)) {\n        event.target = (_a = event.srcElement) !== null && _a !== void 0 ? _a : fallbackTarget;\n      }\n      if (needsNormalizing(originalEvent)) {\n        event.preventDefault = () => {\n          event.defaultPrevented = true;\n          event.isDefaultPrevented = always;\n          if (isFunction(originalEvent.preventDefault)) {\n            originalEvent.preventDefault();\n          }\n        };\n        event.stopPropagation = () => {\n          event.cancelBubble = true;\n          event.isPropagationStopped = always;\n          if (isFunction(originalEvent.stopPropagation)) {\n            originalEvent.stopPropagation();\n          }\n        };\n        event.stopImmediatePropagation = () => {\n          event.isImmediatePropagationStopped = always;\n          event.stopPropagation();\n        };\n        if (!hasIsDefaultPrevented(event)) {\n          event.isDefaultPrevented = event.defaultPrevented === true ? always : never;\n          event.isPropagationStopped = event.cancelBubble === true ? always : never;\n          event.isImmediatePropagationStopped = never;\n        }\n      }\n      return event;\n    };\n\n    const eventExpandoPrefix = 'mce-data-';\n    const mouseEventRe = /^(?:mouse|contextmenu)|click/;\n    const addEvent = (target, name, callback, capture) => {\n      if (target.addEventListener) {\n        target.addEventListener(name, callback, capture || false);\n      } else if (target.attachEvent) {\n        target.attachEvent('on' + name, callback);\n      }\n    };\n    const removeEvent = (target, name, callback, capture) => {\n      if (target.removeEventListener) {\n        target.removeEventListener(name, callback, capture || false);\n      } else if (target.detachEvent) {\n        target.detachEvent('on' + name, callback);\n      }\n    };\n    const isMouseEvent = event => isNonNullable(event) && mouseEventRe.test(event.type);\n    const fix = (originalEvent, data) => {\n      const event = normalize$3(originalEvent.type, originalEvent, document, data);\n      if (isMouseEvent(originalEvent) && isUndefined(originalEvent.pageX) && !isUndefined(originalEvent.clientX)) {\n        const eventDoc = event.target.ownerDocument || document;\n        const doc = eventDoc.documentElement;\n        const body = eventDoc.body;\n        const mouseEvent = event;\n        mouseEvent.pageX = originalEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n        mouseEvent.pageY = originalEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n      }\n      return event;\n    };\n    const bindOnReady = (win, callback, eventUtils) => {\n      const doc = win.document, event = { type: 'ready' };\n      if (eventUtils.domLoaded) {\n        callback(event);\n        return;\n      }\n      const isDocReady = () => {\n        return doc.readyState === 'complete' || doc.readyState === 'interactive' && doc.body;\n      };\n      const readyHandler = () => {\n        removeEvent(win, 'DOMContentLoaded', readyHandler);\n        removeEvent(win, 'load', readyHandler);\n        if (!eventUtils.domLoaded) {\n          eventUtils.domLoaded = true;\n          callback(event);\n        }\n        win = null;\n      };\n      if (isDocReady()) {\n        readyHandler();\n      } else {\n        addEvent(win, 'DOMContentLoaded', readyHandler);\n      }\n      if (!eventUtils.domLoaded) {\n        addEvent(win, 'load', readyHandler);\n      }\n    };\n    class EventUtils {\n      constructor() {\n        this.domLoaded = false;\n        this.events = {};\n        this.count = 1;\n        this.expando = eventExpandoPrefix + (+new Date()).toString(32);\n        this.hasMouseEnterLeave = 'onmouseenter' in document.documentElement;\n        this.hasFocusIn = 'onfocusin' in document.documentElement;\n        this.count = 1;\n      }\n      bind(target, names, callback, scope) {\n        const self = this;\n        let id, callbackList, i, name, fakeName, nativeHandler, capture;\n        const win = window;\n        const defaultNativeHandler = evt => {\n          self.executeHandlers(fix(evt || win.event), id);\n        };\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return;\n        }\n        if (!target[self.expando]) {\n          id = self.count++;\n          target[self.expando] = id;\n          self.events[id] = {};\n        } else {\n          id = target[self.expando];\n        }\n        scope = scope || target;\n        const namesList = names.split(' ');\n        i = namesList.length;\n        while (i--) {\n          name = namesList[i];\n          nativeHandler = defaultNativeHandler;\n          fakeName = capture = false;\n          if (name === 'DOMContentLoaded') {\n            name = 'ready';\n          }\n          if (self.domLoaded && name === 'ready' && target.readyState === 'complete') {\n            callback.call(scope, fix({ type: name }));\n            continue;\n          }\n          if (!self.hasMouseEnterLeave) {\n            fakeName = self.mouseEnterLeave[name];\n            if (fakeName) {\n              nativeHandler = evt => {\n                const current = evt.currentTarget;\n                let related = evt.relatedTarget;\n                if (related && current.contains) {\n                  related = current.contains(related);\n                } else {\n                  while (related && related !== current) {\n                    related = related.parentNode;\n                  }\n                }\n                if (!related) {\n                  evt = fix(evt || win.event);\n                  evt.type = evt.type === 'mouseout' ? 'mouseleave' : 'mouseenter';\n                  evt.target = current;\n                  self.executeHandlers(evt, id);\n                }\n              };\n            }\n          }\n          if (!self.hasFocusIn && (name === 'focusin' || name === 'focusout')) {\n            capture = true;\n            fakeName = name === 'focusin' ? 'focus' : 'blur';\n            nativeHandler = evt => {\n              evt = fix(evt || win.event);\n              evt.type = evt.type === 'focus' ? 'focusin' : 'focusout';\n              self.executeHandlers(evt, id);\n            };\n          }\n          callbackList = self.events[id][name];\n          if (!callbackList) {\n            self.events[id][name] = callbackList = [{\n                func: callback,\n                scope\n              }];\n            callbackList.fakeName = fakeName;\n            callbackList.capture = capture;\n            callbackList.nativeHandler = nativeHandler;\n            if (name === 'ready') {\n              bindOnReady(target, nativeHandler, self);\n            } else {\n              addEvent(target, fakeName || name, nativeHandler, capture);\n            }\n          } else {\n            if (name === 'ready' && self.domLoaded) {\n              callback(fix({ type: name }));\n            } else {\n              callbackList.push({\n                func: callback,\n                scope\n              });\n            }\n          }\n        }\n        target = callbackList = null;\n        return callback;\n      }\n      unbind(target, names, callback) {\n        let callbackList, i, ci, name, eventMap;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        const id = target[this.expando];\n        if (id) {\n          eventMap = this.events[id];\n          if (names) {\n            const namesList = names.split(' ');\n            i = namesList.length;\n            while (i--) {\n              name = namesList[i];\n              callbackList = eventMap[name];\n              if (callbackList) {\n                if (callback) {\n                  ci = callbackList.length;\n                  while (ci--) {\n                    if (callbackList[ci].func === callback) {\n                      const nativeHandler = callbackList.nativeHandler;\n                      const fakeName = callbackList.fakeName, capture = callbackList.capture;\n                      callbackList = callbackList.slice(0, ci).concat(callbackList.slice(ci + 1));\n                      callbackList.nativeHandler = nativeHandler;\n                      callbackList.fakeName = fakeName;\n                      callbackList.capture = capture;\n                      eventMap[name] = callbackList;\n                    }\n                  }\n                }\n                if (!callback || callbackList.length === 0) {\n                  delete eventMap[name];\n                  removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n                }\n              }\n            }\n          } else {\n            each$e(eventMap, (callbackList, name) => {\n              removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n            });\n            eventMap = {};\n          }\n          for (name in eventMap) {\n            if (has$2(eventMap, name)) {\n              return this;\n            }\n          }\n          delete this.events[id];\n          try {\n            delete target[this.expando];\n          } catch (ex) {\n            target[this.expando] = null;\n          }\n        }\n        return this;\n      }\n      fire(target, name, args) {\n        return this.dispatch(target, name, args);\n      }\n      dispatch(target, name, args) {\n        let id;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        const event = fix({\n          type: name,\n          target\n        }, args);\n        do {\n          id = target[this.expando];\n          if (id) {\n            this.executeHandlers(event, id);\n          }\n          target = target.parentNode || target.ownerDocument || target.defaultView || target.parentWindow;\n        } while (target && !event.isPropagationStopped());\n        return this;\n      }\n      clean(target) {\n        let i, children;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        if (target[this.expando]) {\n          this.unbind(target);\n        }\n        if (!target.getElementsByTagName) {\n          target = target.document;\n        }\n        if (target && target.getElementsByTagName) {\n          this.unbind(target);\n          children = target.getElementsByTagName('*');\n          i = children.length;\n          while (i--) {\n            target = children[i];\n            if (target[this.expando]) {\n              this.unbind(target);\n            }\n          }\n        }\n        return this;\n      }\n      destroy() {\n        this.events = {};\n      }\n      cancel(e) {\n        if (e) {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n        }\n        return false;\n      }\n      executeHandlers(evt, id) {\n        const container = this.events[id];\n        const callbackList = container && container[evt.type];\n        if (callbackList) {\n          for (let i = 0, l = callbackList.length; i < l; i++) {\n            const callback = callbackList[i];\n            if (callback && callback.func.call(callback.scope, evt) === false) {\n              evt.preventDefault();\n            }\n            if (evt.isImmediatePropagationStopped()) {\n              return;\n            }\n          }\n        }\n      }\n    }\n    EventUtils.Event = new EventUtils();\n\n    const each$b = Tools.each;\n    const grep = Tools.grep;\n    const internalStyleName = 'data-mce-style';\n    const legacySetAttribute = (elm, name, value) => {\n      if (isNullable(value) || value === '') {\n        remove$b(elm, name);\n      } else {\n        set$2(elm, name, value);\n      }\n    };\n    const setupAttrHooks = (styles, settings, getContext) => {\n      const keepValues = settings.keep_values;\n      const keepUrlHook = {\n        set: (elm, value, name) => {\n          const sugarElm = SugarElement.fromDom(elm);\n          if (isFunction(settings.url_converter) && isNonNullable(value)) {\n            value = settings.url_converter.call(settings.url_converter_scope || getContext(), value, name, elm[0]);\n          }\n          const internalName = 'data-mce-' + name;\n          legacySetAttribute(sugarElm, internalName, value);\n          legacySetAttribute(sugarElm, name, value);\n        },\n        get: (elm, name) => {\n          const sugarElm = SugarElement.fromDom(elm);\n          return get$9(sugarElm, 'data-mce-' + name) || get$9(sugarElm, name);\n        }\n      };\n      const attrHooks = {\n        style: {\n          set: (elm, value) => {\n            const sugarElm = SugarElement.fromDom(elm);\n            if (isObject(value)) {\n              setAll(sugarElm, value);\n              return;\n            }\n            if (keepValues) {\n              legacySetAttribute(sugarElm, internalStyleName, value);\n            }\n            remove$b(sugarElm, 'style');\n            if (isString(value)) {\n              setAll(sugarElm, styles.parse(value));\n            }\n          },\n          get: elm => {\n            const sugarElm = SugarElement.fromDom(elm);\n            const value = get$9(sugarElm, internalStyleName) || get$9(sugarElm, 'style');\n            return styles.serialize(styles.parse(value), name(sugarElm));\n          }\n        }\n      };\n      if (keepValues) {\n        attrHooks.href = attrHooks.src = keepUrlHook;\n      }\n      return attrHooks;\n    };\n    const updateInternalStyleAttr = (styles, elm) => {\n      const rawValue = get$9(elm, 'style');\n      const value = styles.serialize(styles.parse(rawValue), name(elm));\n      legacySetAttribute(elm, internalStyleName, value);\n    };\n    const findNodeIndex = (node, normalized) => {\n      let idx = 0, lastNodeType, nodeType;\n      if (node) {\n        for (lastNodeType = node.nodeType, node = node.previousSibling; node; node = node.previousSibling) {\n          nodeType = node.nodeType;\n          if (normalized && nodeType === 3) {\n            if (nodeType === lastNodeType || !node.nodeValue.length) {\n              continue;\n            }\n          }\n          idx++;\n          lastNodeType = nodeType;\n        }\n      }\n      return idx;\n    };\n    const numericalCssMap = Tools.makeMap('fill-opacity font-weight line-height opacity orphans widows z-index zoom', ' ');\n    const camelCaseToHyphens = name => name.replace(/[A-Z]/g, v => '-' + v.toLowerCase());\n    const DOMUtils = (doc, settings = {}) => {\n      const addedStyles = {};\n      const win = window;\n      const files = {};\n      let counter = 0;\n      const stdMode = true;\n      const boxModel = true;\n      const styleSheetLoader = instance.forElement(SugarElement.fromDom(doc), {\n        contentCssCors: settings.contentCssCors,\n        referrerPolicy: settings.referrerPolicy\n      });\n      const boundEvents = [];\n      const schema = settings.schema ? settings.schema : Schema({});\n      const styles = Styles({\n        url_converter: settings.url_converter,\n        url_converter_scope: settings.url_converter_scope\n      }, settings.schema);\n      const events = settings.ownEvents ? new EventUtils() : EventUtils.Event;\n      const blockElementsMap = schema.getBlockElements();\n      const isBlock = node => {\n        if (isString(node)) {\n          return has$2(blockElementsMap, node);\n        } else {\n          return isElement$6(node) && has$2(blockElementsMap, node.nodeName);\n        }\n      };\n      const get = elm => elm && doc && isString(elm) ? doc.getElementById(elm) : elm;\n      const _get = elm => {\n        const value = get(elm);\n        return isNonNullable(value) ? SugarElement.fromDom(value) : null;\n      };\n      const getAttrib = (elm, name, defaultVal) => {\n        let value;\n        const $elm = _get(elm);\n        if (isNonNullable($elm) && isElement$7($elm)) {\n          const hook = attrHooks[name];\n          if (hook && hook.get) {\n            value = hook.get($elm.dom, name);\n          } else {\n            value = get$9($elm, name);\n          }\n        }\n        return isNonNullable(value) ? value : defaultVal !== null && defaultVal !== void 0 ? defaultVal : '';\n      };\n      const getAttribs = elm => {\n        const node = get(elm);\n        return isNullable(node) ? [] : node.attributes;\n      };\n      const setAttrib = (elm, name, value) => {\n        run(elm, e => {\n          if (isElement$6(e)) {\n            const $elm = SugarElement.fromDom(e);\n            if (value === '') {\n              value = null;\n            }\n            const originalValue = get$9($elm, name);\n            const hook = attrHooks[name];\n            if (hook && hook.set) {\n              hook.set($elm.dom, value, name);\n            } else {\n              legacySetAttribute($elm, name, value);\n            }\n            if (originalValue !== value && settings.onSetAttrib) {\n              settings.onSetAttrib({\n                attrElm: $elm,\n                attrName: name,\n                attrValue: value\n              });\n            }\n          }\n        });\n      };\n      const clone = (node, deep) => {\n        return node.cloneNode(deep);\n      };\n      const getRoot = () => settings.root_element || doc.body;\n      const getViewPort = argWin => {\n        const vp = getBounds(argWin);\n        return {\n          x: vp.x,\n          y: vp.y,\n          w: vp.width,\n          h: vp.height\n        };\n      };\n      const getPos$1 = (elm, rootElm) => getPos(doc.body, get(elm), rootElm);\n      const setStyle = (elm, name, value) => {\n        const convertStyleToString = (cssValue, cssName) => {\n          if (isString(cssValue)) {\n            return cssValue;\n          } else if (isNumber(cssValue)) {\n            return has$2(numericalCssMap, cssName) ? cssValue + '' : cssValue + 'px';\n          } else {\n            return map$2(cssValue, convertStyleToString);\n          }\n        };\n        const applyStyle = ($elm, cssName, cssValue) => {\n          const normalizedName = camelCaseToHyphens(cssName);\n          if (isNullable(cssValue) || cssValue === '') {\n            remove$7($elm, normalizedName);\n          } else {\n            set$1($elm, normalizedName, convertStyleToString(cssValue, normalizedName));\n          }\n        };\n        run(elm, e => {\n          const $elm = SugarElement.fromDom(e);\n          if (isString(name)) {\n            applyStyle($elm, name, value);\n          } else {\n            each$e(name, (v, n) => {\n              applyStyle($elm, n, v);\n            });\n          }\n          if (settings.update_styles) {\n            updateInternalStyleAttr(styles, $elm);\n          }\n        });\n      };\n      const setStyles = (elm, stylesArg) => {\n        setStyle(elm, stylesArg);\n      };\n      const getStyle = (elm, name, computed) => {\n        const $elm = get(elm);\n        if (isNullable($elm) || !isElement$6($elm)) {\n          return undefined;\n        }\n        if (computed) {\n          return get$7(SugarElement.fromDom($elm), camelCaseToHyphens(name));\n        } else {\n          name = name.replace(/-(\\D)/g, (a, b) => b.toUpperCase());\n          if (name === 'float') {\n            name = 'cssFloat';\n          }\n          return $elm.style ? $elm.style[name] : undefined;\n        }\n      };\n      const getSize = elm => {\n        let w, h;\n        const $elm = get(elm);\n        w = getStyle($elm, 'width');\n        h = getStyle($elm, 'height');\n        if (w.indexOf('px') === -1) {\n          w = 0;\n        }\n        if (h.indexOf('px') === -1) {\n          h = 0;\n        }\n        return {\n          w: parseInt(w, 10) || $elm.offsetWidth || $elm.clientWidth,\n          h: parseInt(h, 10) || $elm.offsetHeight || $elm.clientHeight\n        };\n      };\n      const getRect = elm => {\n        const $elm = get(elm);\n        const pos = getPos$1($elm);\n        const size = getSize($elm);\n        return {\n          x: pos.x,\n          y: pos.y,\n          w: size.w,\n          h: size.h\n        };\n      };\n      const is = (elm, selector) => {\n        if (!elm) {\n          return false;\n        }\n        const elms = isArray$1(elm) ? elm : [elm];\n        return exists(elms, e => {\n          return is$1(SugarElement.fromDom(e), selector);\n        });\n      };\n      const getParents = (elm, selector, root, collect) => {\n        const result = [];\n        let selectorVal;\n        let node = get(elm);\n        collect = collect === undefined;\n        root = root || (getRoot().nodeName !== 'BODY' ? getRoot().parentNode : null);\n        if (isString(selector)) {\n          selectorVal = selector;\n          if (selector === '*') {\n            selector = isElement$6;\n          } else {\n            selector = node => is(node, selectorVal);\n          }\n        }\n        while (node) {\n          if (node === root || isNullable(node.nodeType) || isDocument$1(node) || isDocumentFragment(node)) {\n            break;\n          }\n          if (!selector || selector(node)) {\n            if (collect) {\n              result.push(node);\n            } else {\n              return [node];\n            }\n          }\n          node = node.parentNode;\n        }\n        return collect ? result : null;\n      };\n      const getParent = (node, selector, root) => {\n        const parents = getParents(node, selector, root, false);\n        return parents && parents.length > 0 ? parents[0] : null;\n      };\n      const _findSib = (node, selector, name) => {\n        let func = selector;\n        if (node) {\n          if (isString(selector)) {\n            func = node => {\n              return is(node, selector);\n            };\n          }\n          for (node = node[name]; node; node = node[name]) {\n            if (isFunction(func) && func(node)) {\n              return node;\n            }\n          }\n        }\n        return null;\n      };\n      const getNext = (node, selector) => _findSib(node, selector, 'nextSibling');\n      const getPrev = (node, selector) => _findSib(node, selector, 'previousSibling');\n      const select = (selector, scope) => {\n        var _a, _b;\n        const elm = (_b = (_a = get(scope)) !== null && _a !== void 0 ? _a : settings.root_element) !== null && _b !== void 0 ? _b : doc;\n        return from(elm.querySelectorAll(selector));\n      };\n      const run = function (elm, func, scope) {\n        const context = scope !== null && scope !== void 0 ? scope : this;\n        const node = isString(elm) ? get(elm) : elm;\n        if (!node) {\n          return false;\n        }\n        if (isArray$1(node) && (node.length || node.length === 0)) {\n          const result = [];\n          each$b(node, (elm, i) => {\n            if (elm) {\n              result.push(func.call(context, isString(elm) ? get(elm) : elm, i));\n            }\n          });\n          return result;\n        } else {\n          return func.call(context, node);\n        }\n      };\n      const setAttribs = (elm, attrs) => {\n        run(elm, $elm => {\n          each$e(attrs, (value, name) => {\n            setAttrib($elm, name, value);\n          });\n        });\n      };\n      const setHTML = (elm, html) => {\n        run(elm, e => {\n          const $elm = SugarElement.fromDom(e);\n          set($elm, html);\n        });\n      };\n      const add = (parentElm, name, attrs, html, create) => run(parentElm, parentElm => {\n        const newElm = isString(name) ? doc.createElement(name) : name;\n        if (isNonNullable(attrs)) {\n          setAttribs(newElm, attrs);\n        }\n        if (html) {\n          if (!isString(html) && html.nodeType) {\n            newElm.appendChild(html);\n          } else if (isString(html)) {\n            setHTML(newElm, html);\n          }\n        }\n        return !create ? parentElm.appendChild(newElm) : newElm;\n      });\n      const create = (name, attrs, html) => add(doc.createElement(name), name, attrs, html, true);\n      const decode = Entities.decode;\n      const encode = Entities.encodeAllRaw;\n      const createHTML = (name, attrs, html = '') => {\n        let outHtml = '', key;\n        outHtml += '<' + name;\n        for (key in attrs) {\n          if (hasNonNullableKey(attrs, key)) {\n            outHtml += ' ' + key + '=\"' + encode(attrs[key]) + '\"';\n          }\n        }\n        if (isEmpty$3(html) && has$2(schema.getVoidElements(), name)) {\n          return outHtml + ' />';\n        } else {\n          return outHtml + '>' + html + '</' + name + '>';\n        }\n      };\n      const createFragment = html => {\n        let node;\n        const container = doc.createElement('div');\n        const frag = doc.createDocumentFragment();\n        frag.appendChild(container);\n        if (html) {\n          container.innerHTML = html;\n        }\n        while (node = container.firstChild) {\n          frag.appendChild(node);\n        }\n        frag.removeChild(container);\n        return frag;\n      };\n      const remove = (node, keepChildren) => {\n        return run(node, n => {\n          const $node = SugarElement.fromDom(n);\n          if (keepChildren) {\n            each$f(children($node), child => {\n              if (isText$a(child) && child.dom.length === 0) {\n                remove$6(child);\n              } else {\n                before$3($node, child);\n              }\n            });\n          }\n          remove$6($node);\n          return $node.dom;\n        });\n      };\n      const removeAllAttribs = e => run(e, e => {\n        const attrs = e.attributes;\n        for (let i = attrs.length - 1; i >= 0; i--) {\n          e.removeAttributeNode(attrs.item(i));\n        }\n      });\n      const parseStyle = cssText => styles.parse(cssText);\n      const serializeStyle = (stylesArg, name) => styles.serialize(stylesArg, name);\n      const addStyle = cssText => {\n        let head, styleElm;\n        if (self !== DOMUtils.DOM && doc === document) {\n          if (addedStyles[cssText]) {\n            return;\n          }\n          addedStyles[cssText] = true;\n        }\n        styleElm = doc.getElementById('mceDefaultStyles');\n        if (!styleElm) {\n          styleElm = doc.createElement('style');\n          styleElm.id = 'mceDefaultStyles';\n          styleElm.type = 'text/css';\n          head = doc.getElementsByTagName('head')[0];\n          if (head.firstChild) {\n            head.insertBefore(styleElm, head.firstChild);\n          } else {\n            head.appendChild(styleElm);\n          }\n        }\n        if (styleElm.styleSheet) {\n          styleElm.styleSheet.cssText += cssText;\n        } else {\n          styleElm.appendChild(doc.createTextNode(cssText));\n        }\n      };\n      const loadCSS = urls => {\n        if (!urls) {\n          urls = '';\n        }\n        each$f(urls.split(','), url => {\n          files[url] = true;\n          styleSheetLoader.load(url).catch(noop);\n        });\n      };\n      const toggleClass = (elm, cls, state) => {\n        run(elm, e => {\n          if (isElement$6(e)) {\n            const $elm = SugarElement.fromDom(e);\n            const classes = cls.split(' ');\n            each$f(classes, c => {\n              if (isNonNullable(state)) {\n                const fn = state ? add$2 : remove$8;\n                fn($elm, c);\n              } else {\n                toggle$1($elm, c);\n              }\n            });\n          }\n        });\n      };\n      const addClass = (elm, cls) => {\n        toggleClass(elm, cls, true);\n      };\n      const removeClass = (elm, cls) => {\n        toggleClass(elm, cls, false);\n      };\n      const hasClass = (elm, cls) => {\n        const $elm = _get(elm);\n        const classes = cls.split(' ');\n        return forall(classes, c => has($elm, c));\n      };\n      const show = elm => {\n        run(elm, e => remove$7(SugarElement.fromDom(e), 'display'));\n      };\n      const hide = elm => {\n        run(elm, e => set$1(SugarElement.fromDom(e), 'display', 'none'));\n      };\n      const isHidden = elm => {\n        const $elm = _get(elm);\n        return is$2(getRaw$1($elm, 'display'), 'none');\n      };\n      const uniqueId = prefix => (!prefix ? 'mce_' : prefix) + counter++;\n      const getOuterHTML = elm => {\n        const $elm = _get(elm);\n        return isElement$6($elm.dom) ? $elm.dom.outerHTML : getOuter($elm);\n      };\n      const setOuterHTML = (elm, html) => {\n        run(elm, $elm => {\n          if (isElement$6($elm)) {\n            $elm.outerHTML = html;\n          }\n        });\n      };\n      const insertAfter = (node, reference) => {\n        const referenceNode = get(reference);\n        return run(node, node => {\n          const parent = referenceNode.parentNode;\n          const nextSibling = referenceNode.nextSibling;\n          if (nextSibling) {\n            parent.insertBefore(node, nextSibling);\n          } else {\n            parent.appendChild(node);\n          }\n          return node;\n        });\n      };\n      const replace = (newElm, oldElm, keepChildren) => run(oldElm, oldElm => {\n        if (isArray$1(oldElm)) {\n          newElm = newElm.cloneNode(true);\n        }\n        if (keepChildren) {\n          each$b(grep(oldElm.childNodes), node => {\n            newElm.appendChild(node);\n          });\n        }\n        return oldElm.parentNode.replaceChild(newElm, oldElm);\n      });\n      const rename = (elm, name) => {\n        let newElm;\n        if (elm.nodeName !== name.toUpperCase()) {\n          newElm = create(name);\n          each$b(getAttribs(elm), attrNode => {\n            setAttrib(newElm, attrNode.nodeName, getAttrib(elm, attrNode.nodeName));\n          });\n          replace(newElm, elm, true);\n        }\n        return newElm || elm;\n      };\n      const findCommonAncestor = (a, b) => {\n        let ps = a, pe;\n        while (ps) {\n          pe = b;\n          while (pe && ps !== pe) {\n            pe = pe.parentNode;\n          }\n          if (ps === pe) {\n            break;\n          }\n          ps = ps.parentNode;\n        }\n        if (!ps && a.ownerDocument) {\n          return a.ownerDocument.documentElement;\n        }\n        return ps;\n      };\n      const isNonEmptyElement = node => {\n        if (isElement$6(node)) {\n          const isNamedAnchor = node.nodeName.toLowerCase() === 'a' && !getAttrib(node, 'href') && getAttrib(node, 'id');\n          if (getAttrib(node, 'name') || getAttrib(node, 'data-mce-bookmark') || isNamedAnchor) {\n            return true;\n          }\n        }\n        return false;\n      };\n      const isEmpty = (node, elements) => {\n        let type, name, brCount = 0;\n        if (isNonEmptyElement(node)) {\n          return false;\n        }\n        node = node.firstChild;\n        if (node) {\n          const walker = new DomTreeWalker(node, node.parentNode);\n          const whitespace = schema ? schema.getWhitespaceElements() : {};\n          elements = elements || (schema ? schema.getNonEmptyElements() : null);\n          do {\n            type = node.nodeType;\n            if (isElement$6(node)) {\n              const bogusVal = node.getAttribute('data-mce-bogus');\n              if (bogusVal) {\n                node = walker.next(bogusVal === 'all');\n                continue;\n              }\n              name = node.nodeName.toLowerCase();\n              if (elements && elements[name]) {\n                if (name === 'br') {\n                  brCount++;\n                  node = walker.next();\n                  continue;\n                }\n                return false;\n              }\n              if (isNonEmptyElement(node)) {\n                return false;\n              }\n            }\n            if (type === 8) {\n              return false;\n            }\n            if (type === 3 && !isWhitespaceText(node.nodeValue)) {\n              return false;\n            }\n            if (type === 3 && node.parentNode && whitespace[node.parentNode.nodeName] && isWhitespaceText(node.nodeValue)) {\n              return false;\n            }\n            node = walker.next();\n          } while (node);\n        }\n        return brCount <= 1;\n      };\n      const createRng = () => doc.createRange();\n      const split = (parentElm, splitElm, replacementElm) => {\n        let range = createRng();\n        let beforeFragment;\n        let afterFragment;\n        let parentNode;\n        if (parentElm && splitElm) {\n          range.setStart(parentElm.parentNode, findNodeIndex(parentElm));\n          range.setEnd(splitElm.parentNode, findNodeIndex(splitElm));\n          beforeFragment = range.extractContents();\n          range = createRng();\n          range.setStart(splitElm.parentNode, findNodeIndex(splitElm) + 1);\n          range.setEnd(parentElm.parentNode, findNodeIndex(parentElm) + 1);\n          afterFragment = range.extractContents();\n          parentNode = parentElm.parentNode;\n          parentNode.insertBefore(trimNode(self, beforeFragment), parentElm);\n          if (replacementElm) {\n            parentNode.insertBefore(replacementElm, parentElm);\n          } else {\n            parentNode.insertBefore(splitElm, parentElm);\n          }\n          parentNode.insertBefore(trimNode(self, afterFragment), parentElm);\n          remove(parentElm);\n          return replacementElm || splitElm;\n        }\n      };\n      const bind = (target, name, func, scope) => {\n        if (isArray$1(target)) {\n          let i = target.length;\n          const rv = [];\n          while (i--) {\n            rv[i] = bind(target[i], name, func, scope);\n          }\n          return rv;\n        } else {\n          if (settings.collect && (target === doc || target === win)) {\n            boundEvents.push([\n              target,\n              name,\n              func,\n              scope\n            ]);\n          }\n          return events.bind(target, name, func, scope || self);\n        }\n      };\n      const unbind = (target, name, func) => {\n        if (isArray$1(target)) {\n          let i = target.length;\n          const rv = [];\n          while (i--) {\n            rv[i] = unbind(target[i], name, func);\n          }\n          return rv;\n        } else {\n          if (boundEvents.length > 0 && (target === doc || target === win)) {\n            let i = boundEvents.length;\n            while (i--) {\n              const item = boundEvents[i];\n              if (target === item[0] && (!name || name === item[1]) && (!func || func === item[2])) {\n                events.unbind(item[0], item[1], item[2]);\n              }\n            }\n          }\n          return events.unbind(target, name, func);\n        }\n      };\n      const dispatch = (target, name, evt) => events.dispatch(target, name, evt);\n      const fire = (target, name, evt) => events.dispatch(target, name, evt);\n      const getContentEditable = node => {\n        if (node && isElement$6(node)) {\n          const contentEditable = node.getAttribute('data-mce-contenteditable');\n          if (contentEditable && contentEditable !== 'inherit') {\n            return contentEditable;\n          }\n          return node.contentEditable !== 'inherit' ? node.contentEditable : null;\n        } else {\n          return null;\n        }\n      };\n      const getContentEditableParent = node => {\n        const root = getRoot();\n        let state = null;\n        for (; node && node !== root; node = node.parentNode) {\n          state = getContentEditable(node);\n          if (state !== null) {\n            break;\n          }\n        }\n        return state;\n      };\n      const destroy = () => {\n        if (boundEvents.length > 0) {\n          let i = boundEvents.length;\n          while (i--) {\n            const item = boundEvents[i];\n            events.unbind(item[0], item[1], item[2]);\n          }\n        }\n        each$e(files, (_, url) => {\n          styleSheetLoader.unload(url);\n          delete files[url];\n        });\n      };\n      const isChildOf = (node, parent) => {\n        return node === parent || parent.contains(node);\n      };\n      const dumpRng = r => 'startContainer: ' + r.startContainer.nodeName + ', startOffset: ' + r.startOffset + ', endContainer: ' + r.endContainer.nodeName + ', endOffset: ' + r.endOffset;\n      const self = {\n        doc,\n        settings,\n        win,\n        files,\n        stdMode,\n        boxModel,\n        styleSheetLoader,\n        boundEvents,\n        styles,\n        schema,\n        events,\n        isBlock,\n        root: null,\n        clone,\n        getRoot,\n        getViewPort,\n        getRect,\n        getSize,\n        getParent,\n        getParents,\n        get,\n        getNext,\n        getPrev,\n        select,\n        is,\n        add,\n        create,\n        createHTML,\n        createFragment,\n        remove,\n        setStyle,\n        getStyle,\n        setStyles,\n        removeAllAttribs,\n        setAttrib,\n        setAttribs,\n        getAttrib,\n        getPos: getPos$1,\n        parseStyle,\n        serializeStyle,\n        addStyle,\n        loadCSS,\n        addClass,\n        removeClass,\n        hasClass,\n        toggleClass,\n        show,\n        hide,\n        isHidden,\n        uniqueId,\n        setHTML,\n        getOuterHTML,\n        setOuterHTML,\n        decode,\n        encode,\n        insertAfter,\n        replace,\n        rename,\n        findCommonAncestor,\n        run,\n        getAttribs,\n        isEmpty,\n        createRng,\n        nodeIndex: findNodeIndex,\n        split,\n        bind: bind,\n        unbind: unbind,\n        fire,\n        dispatch,\n        getContentEditable,\n        getContentEditableParent,\n        destroy,\n        isChildOf,\n        dumpRng\n      };\n      const attrHooks = setupAttrHooks(styles, settings, constant(self));\n      return self;\n    };\n    DOMUtils.DOM = DOMUtils(document);\n    DOMUtils.nodeIndex = findNodeIndex;\n\n    const DOM$b = DOMUtils.DOM;\n    const QUEUED = 0;\n    const LOADING = 1;\n    const LOADED = 2;\n    const FAILED = 3;\n    class ScriptLoader {\n      constructor(settings = {}) {\n        this.states = {};\n        this.queue = [];\n        this.scriptLoadedCallbacks = {};\n        this.queueLoadedCallbacks = [];\n        this.loading = false;\n        this.settings = settings;\n      }\n      _setReferrerPolicy(referrerPolicy) {\n        this.settings.referrerPolicy = referrerPolicy;\n      }\n      loadScript(url) {\n        return new Promise((resolve, reject) => {\n          const dom = DOM$b;\n          let elm;\n          const cleanup = () => {\n            dom.remove(id);\n            if (elm) {\n              elm.onerror = elm.onload = elm = null;\n            }\n          };\n          const done = () => {\n            cleanup();\n            resolve();\n          };\n          const error = () => {\n            cleanup();\n            reject('Failed to load script: ' + url);\n          };\n          const id = dom.uniqueId();\n          elm = document.createElement('script');\n          elm.id = id;\n          elm.type = 'text/javascript';\n          elm.src = Tools._addCacheSuffix(url);\n          if (this.settings.referrerPolicy) {\n            dom.setAttrib(elm, 'referrerpolicy', this.settings.referrerPolicy);\n          }\n          elm.onload = done;\n          elm.onerror = error;\n          (document.getElementsByTagName('head')[0] || document.body).appendChild(elm);\n        });\n      }\n      isDone(url) {\n        return this.states[url] === LOADED;\n      }\n      markDone(url) {\n        this.states[url] = LOADED;\n      }\n      add(url) {\n        const self = this;\n        self.queue.push(url);\n        const state = self.states[url];\n        if (state === undefined) {\n          self.states[url] = QUEUED;\n        }\n        return new Promise((resolve, reject) => {\n          if (!self.scriptLoadedCallbacks[url]) {\n            self.scriptLoadedCallbacks[url] = [];\n          }\n          self.scriptLoadedCallbacks[url].push({\n            resolve,\n            reject\n          });\n        });\n      }\n      load(url) {\n        return this.add(url);\n      }\n      remove(url) {\n        delete this.states[url];\n        delete this.scriptLoadedCallbacks[url];\n      }\n      loadQueue() {\n        const queue = this.queue;\n        this.queue = [];\n        return this.loadScripts(queue);\n      }\n      loadScripts(scripts) {\n        const self = this;\n        const execCallbacks = (name, url) => {\n          get$a(self.scriptLoadedCallbacks, url).each(callbacks => {\n            each$f(callbacks, callback => callback[name](url));\n          });\n          delete self.scriptLoadedCallbacks[url];\n        };\n        const processResults = results => {\n          const failures = filter$6(results, result => result.status === 'rejected');\n          if (failures.length > 0) {\n            return Promise.reject(bind$3(failures, ({reason}) => isArray$1(reason) ? reason : [reason]));\n          } else {\n            return Promise.resolve();\n          }\n        };\n        const load = urls => Promise.allSettled(map$3(urls, url => {\n          if (self.states[url] === LOADED) {\n            execCallbacks('resolve', url);\n            return Promise.resolve();\n          } else if (self.states[url] === FAILED) {\n            execCallbacks('reject', url);\n            return Promise.reject(url);\n          } else {\n            self.states[url] = LOADING;\n            return self.loadScript(url).then(() => {\n              self.states[url] = LOADED;\n              execCallbacks('resolve', url);\n              const queue = self.queue;\n              if (queue.length > 0) {\n                self.queue = [];\n                return load(queue).then(processResults);\n              }\n            }, () => {\n              self.states[url] = FAILED;\n              execCallbacks('reject', url);\n              return Promise.reject(url);\n            });\n          }\n        }));\n        const processQueue = urls => {\n          self.loading = true;\n          return load(urls).then(results => {\n            self.loading = false;\n            const nextQueuedItem = self.queueLoadedCallbacks.shift();\n            Optional.from(nextQueuedItem).each(call);\n            return processResults(results);\n          });\n        };\n        const uniqueScripts = stringArray(scripts);\n        if (self.loading) {\n          return new Promise((resolve, reject) => {\n            self.queueLoadedCallbacks.push(() => processQueue(uniqueScripts).then(resolve, reject));\n          });\n        } else {\n          return processQueue(uniqueScripts);\n        }\n      }\n    }\n    ScriptLoader.ScriptLoader = new ScriptLoader();\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const isRaw = str => isObject(str) && has$2(str, 'raw');\n    const isTokenised = str => isArray$1(str) && str.length > 1;\n    const data = {};\n    const currentCode = Cell('en');\n    const getLanguageData = () => get$a(data, currentCode.get());\n    const getData$1 = () => map$2(data, value => ({ ...value }));\n    const setCode = newCode => {\n      if (newCode) {\n        currentCode.set(newCode);\n      }\n    };\n    const getCode = () => currentCode.get();\n    const add$1 = (code, items) => {\n      let langData = data[code];\n      if (!langData) {\n        data[code] = langData = {};\n      }\n      each$e(items, (translation, name) => {\n        langData[name.toLowerCase()] = translation;\n      });\n    };\n    const translate = text => {\n      const langData = getLanguageData().getOr({});\n      const toString = obj => {\n        if (isFunction(obj)) {\n          return Object.prototype.toString.call(obj);\n        }\n        return !isEmpty(obj) ? '' + obj : '';\n      };\n      const isEmpty = text => text === '' || text === null || text === undefined;\n      const getLangData = text => {\n        const textstr = toString(text);\n        return get$a(langData, textstr.toLowerCase()).map(toString).getOr(textstr);\n      };\n      const removeContext = str => str.replace(/{context:\\w+}$/, '');\n      if (isEmpty(text)) {\n        return '';\n      }\n      if (isRaw(text)) {\n        return toString(text.raw);\n      }\n      if (isTokenised(text)) {\n        const values = text.slice(1);\n        const substitued = getLangData(text[0]).replace(/\\{([0-9]+)\\}/g, ($1, $2) => has$2(values, $2) ? toString(values[$2]) : $1);\n        return removeContext(substitued);\n      }\n      return removeContext(getLangData(text));\n    };\n    const isRtl$1 = () => getLanguageData().bind(items => get$a(items, '_dir')).exists(dir => dir === 'rtl');\n    const hasCode = code => has$2(data, code);\n    const I18n = {\n      getData: getData$1,\n      setCode,\n      getCode,\n      add: add$1,\n      translate,\n      isRtl: isRtl$1,\n      hasCode\n    };\n\n    const AddOnManager = () => {\n      const items = [];\n      const urls = {};\n      const lookup = {};\n      const _listeners = [];\n      const runListeners = (name, state) => {\n        const matchedListeners = filter$6(_listeners, listener => listener.name === name && listener.state === state);\n        each$f(matchedListeners, listener => listener.resolve());\n      };\n      const isLoaded = name => has$2(urls, name);\n      const isAdded = name => has$2(lookup, name);\n      const get = name => {\n        if (lookup[name]) {\n          return lookup[name].instance;\n        }\n        return undefined;\n      };\n      const loadLanguagePack = (name, languages) => {\n        const language = I18n.getCode();\n        const wrappedLanguages = ',' + (languages || '') + ',';\n        if (!language || languages && wrappedLanguages.indexOf(',' + language + ',') === -1) {\n          return;\n        }\n        ScriptLoader.ScriptLoader.add(urls[name] + '/langs/' + language + '.js');\n      };\n      const requireLangPack = (name, languages) => {\n        if (AddOnManager.languageLoad !== false) {\n          if (isLoaded(name)) {\n            loadLanguagePack(name, languages);\n          } else {\n            waitFor(name, 'loaded').then(() => loadLanguagePack(name, languages));\n          }\n        }\n      };\n      const add = (id, addOn) => {\n        items.push(addOn);\n        lookup[id] = { instance: addOn };\n        runListeners(id, 'added');\n        return addOn;\n      };\n      const remove = name => {\n        delete urls[name];\n        delete lookup[name];\n      };\n      const createUrl = (baseUrl, dep) => {\n        if (isString(dep)) {\n          return isString(baseUrl) ? {\n            prefix: '',\n            resource: dep,\n            suffix: ''\n          } : {\n            prefix: baseUrl.prefix,\n            resource: dep,\n            suffix: baseUrl.suffix\n          };\n        } else {\n          return dep;\n        }\n      };\n      const load = (name, addOnUrl) => {\n        if (urls[name]) {\n          return Promise.resolve();\n        }\n        let urlString = isString(addOnUrl) ? addOnUrl : addOnUrl.prefix + addOnUrl.resource + addOnUrl.suffix;\n        if (urlString.indexOf('/') !== 0 && urlString.indexOf('://') === -1) {\n          urlString = AddOnManager.baseURL + '/' + urlString;\n        }\n        urls[name] = urlString.substring(0, urlString.lastIndexOf('/'));\n        const done = () => {\n          runListeners(name, 'loaded');\n          return Promise.resolve();\n        };\n        if (lookup[name]) {\n          return done();\n        } else {\n          return ScriptLoader.ScriptLoader.add(urlString).then(done);\n        }\n      };\n      const waitFor = (name, state = 'added') => {\n        if (state === 'added' && isAdded(name)) {\n          return Promise.resolve();\n        } else if (state === 'loaded' && isLoaded(name)) {\n          return Promise.resolve();\n        } else {\n          return new Promise(resolve => {\n            _listeners.push({\n              name,\n              state,\n              resolve\n            });\n          });\n        }\n      };\n      return {\n        items,\n        urls,\n        lookup,\n        get,\n        requireLangPack,\n        add,\n        remove,\n        createUrl,\n        load,\n        waitFor\n      };\n    };\n    AddOnManager.languageLoad = true;\n    AddOnManager.baseURL = '';\n    AddOnManager.PluginManager = AddOnManager();\n    AddOnManager.ThemeManager = AddOnManager();\n    AddOnManager.ModelManager = AddOnManager();\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const value$2 = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const first$1 = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        if (isNull(timer)) {\n          timer = setTimeout(() => {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n    const last$1 = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const annotation = constant('mce-annotation');\n    const dataAnnotation = constant('data-mce-annotation');\n    const dataAnnotationId = constant('data-mce-annotation-uid');\n    const dataAnnotationActive = constant('data-mce-annotation-active');\n    const dataAnnotationClasses = constant('data-mce-annotation-classes');\n    const dataAnnotationAttributes = constant('data-mce-annotation-attrs');\n\n    const isRoot$1 = root => node => eq(node, root);\n    const identify = (editor, annotationName) => {\n      const rng = editor.selection.getRng();\n      const start = SugarElement.fromDom(rng.startContainer);\n      const root = SugarElement.fromDom(editor.getBody());\n      const selector = annotationName.fold(() => '.' + annotation(), an => `[${ dataAnnotation() }=\"${ an }\"]`);\n      const newStart = child$1(start, rng.startOffset).getOr(start);\n      const closest = closest$3(newStart, selector, isRoot$1(root));\n      const getAttr = (c, property) => {\n        if (has$1(c, property)) {\n          return Optional.some(get$9(c, property));\n        } else {\n          return Optional.none();\n        }\n      };\n      return closest.bind(c => getAttr(c, `${ dataAnnotationId() }`).bind(uid => getAttr(c, `${ dataAnnotation() }`).map(name => {\n        const elements = findMarkers(editor, uid);\n        return {\n          uid,\n          name,\n          elements\n        };\n      })));\n    };\n    const isAnnotation = elem => isElement$7(elem) && has(elem, annotation());\n    const isBogusElement = (elem, root) => has$1(elem, 'data-mce-bogus') || ancestor$1(elem, '[data-mce-bogus=\"all\"]', isRoot$1(root));\n    const findMarkers = (editor, uid) => {\n      const body = SugarElement.fromDom(editor.getBody());\n      const descendants$1 = descendants(body, `[${ dataAnnotationId() }=\"${ uid }\"]`);\n      return filter$6(descendants$1, descendant => !isBogusElement(descendant, body));\n    };\n    const findAll = (editor, name) => {\n      const body = SugarElement.fromDom(editor.getBody());\n      const markers = descendants(body, `[${ dataAnnotation() }=\"${ name }\"]`);\n      const directory = {};\n      each$f(markers, m => {\n        if (!isBogusElement(m, body)) {\n          const uid = get$9(m, dataAnnotationId());\n          const nodesAlready = get$a(directory, uid).getOr([]);\n          directory[uid] = nodesAlready.concat([m]);\n        }\n      });\n      return directory;\n    };\n\n    const setup$x = (editor, registry) => {\n      const changeCallbacks = Cell({});\n      const initData = () => ({\n        listeners: [],\n        previous: value$2()\n      });\n      const withCallbacks = (name, f) => {\n        updateCallbacks(name, data => {\n          f(data);\n          return data;\n        });\n      };\n      const updateCallbacks = (name, f) => {\n        const callbackMap = changeCallbacks.get();\n        const data = get$a(callbackMap, name).getOrThunk(initData);\n        const outputData = f(data);\n        callbackMap[name] = outputData;\n        changeCallbacks.set(callbackMap);\n      };\n      const fireCallbacks = (name, uid, elements) => {\n        withCallbacks(name, data => {\n          each$f(data.listeners, f => f(true, name, {\n            uid,\n            nodes: map$3(elements, elem => elem.dom)\n          }));\n        });\n      };\n      const fireNoAnnotation = name => {\n        withCallbacks(name, data => {\n          each$f(data.listeners, f => f(false, name));\n        });\n      };\n      const toggleActiveAttr = (uid, state) => {\n        each$f(findMarkers(editor, uid), elem => {\n          if (state) {\n            set$2(elem, dataAnnotationActive(), 'true');\n          } else {\n            remove$b(elem, dataAnnotationActive());\n          }\n        });\n      };\n      const onNodeChange = last$1(() => {\n        const annotations = sort(registry.getNames());\n        each$f(annotations, name => {\n          updateCallbacks(name, data => {\n            const prev = data.previous.get();\n            identify(editor, Optional.some(name)).fold(() => {\n              prev.each(uid => {\n                fireNoAnnotation(name);\n                data.previous.clear();\n                toggleActiveAttr(uid, false);\n              });\n            }, ({uid, name, elements}) => {\n              if (!is$2(prev, uid)) {\n                prev.each(uid => toggleActiveAttr(uid, false));\n                fireCallbacks(name, uid, elements);\n                data.previous.set(uid);\n                toggleActiveAttr(uid, true);\n              }\n            });\n            return {\n              previous: data.previous,\n              listeners: data.listeners\n            };\n          });\n        });\n      }, 30);\n      editor.on('remove', () => {\n        onNodeChange.cancel();\n      });\n      editor.on('NodeChange', () => {\n        onNodeChange.throttle();\n      });\n      const addListener = (name, f) => {\n        updateCallbacks(name, data => ({\n          previous: data.previous,\n          listeners: data.listeners.concat([f])\n        }));\n      };\n      return { addListener };\n    };\n\n    const setup$w = (editor, registry) => {\n      const dataAnnotation$1 = dataAnnotation();\n      const identifyParserNode = node => Optional.from(node.attr(dataAnnotation$1)).bind(registry.lookup);\n      const removeDirectAnnotation = node => {\n        var _a, _b;\n        node.attr(dataAnnotationId(), null);\n        node.attr(dataAnnotation(), null);\n        node.attr(dataAnnotationActive(), null);\n        const customAttrNames = Optional.from(node.attr(dataAnnotationAttributes())).map(names => names.split(',')).getOr([]);\n        const customClasses = Optional.from(node.attr(dataAnnotationClasses())).map(names => names.split(',')).getOr([]);\n        each$f(customAttrNames, name => node.attr(name, null));\n        const classList = (_b = (_a = node.attr('class')) === null || _a === void 0 ? void 0 : _a.split(' ')) !== null && _b !== void 0 ? _b : [];\n        const newClassList = difference(classList, [annotation()].concat(customClasses));\n        node.attr('class', newClassList.length > 0 ? newClassList.join(' ') : null);\n        node.attr(dataAnnotationClasses(), null);\n        node.attr(dataAnnotationAttributes(), null);\n      };\n      editor.serializer.addTempAttr(dataAnnotationActive());\n      editor.serializer.addAttributeFilter(dataAnnotation$1, nodes => {\n        for (const node of nodes) {\n          identifyParserNode(node).each(settings => {\n            if (settings.persistent === false) {\n              if (node.name === 'span') {\n                node.unwrap();\n              } else {\n                removeDirectAnnotation(node);\n              }\n            }\n          });\n        }\n      });\n    };\n\n    const create$c = () => {\n      const annotations = {};\n      const register = (name, settings) => {\n        annotations[name] = {\n          name,\n          settings\n        };\n      };\n      const lookup = name => get$a(annotations, name).map(a => a.settings);\n      const getNames = () => keys(annotations);\n      return {\n        register,\n        lookup,\n        getNames\n      };\n    };\n\n    let unique = 0;\n    const generate$1 = prefix => {\n      const date = new Date();\n      const time = date.getTime();\n      const random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    const add = (element, classes) => {\n      each$f(classes, x => {\n        add$2(element, x);\n      });\n    };\n    const remove$5 = (element, classes) => {\n      each$f(classes, x => {\n        remove$8(element, x);\n      });\n    };\n\n    const clone$2 = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow$1 = original => clone$2(original, false);\n    const deep$1 = original => clone$2(original, true);\n    const shallowAs = (original, tag) => {\n      const nu = SugarElement.fromTag(tag);\n      const attributes = clone$4(original);\n      setAll$1(nu, attributes);\n      return nu;\n    };\n    const mutate = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      after$4(original, nu);\n      const children$1 = children(original);\n      append(nu, children$1);\n      remove$6(original);\n      return nu;\n    };\n\n    const TextWalker = (startNode, rootNode, isBoundary = never) => {\n      const walker = new DomTreeWalker(startNode, rootNode);\n      const walk = direction => {\n        let next;\n        do {\n          next = walker[direction]();\n        } while (next && !isText$9(next) && !isBoundary(next));\n        return Optional.from(next).filter(isText$9);\n      };\n      return {\n        current: () => Optional.from(walker.current()).filter(isText$9),\n        next: () => walk('next'),\n        prev: () => walk('prev'),\n        prev2: () => walk('prev2')\n      };\n    };\n\n    const TextSeeker = (dom, isBoundary) => {\n      const isBlockBoundary = isBoundary ? isBoundary : node => dom.isBlock(node) || isBr$6(node) || isContentEditableFalse$b(node);\n      const walk = (node, offset, walker, process) => {\n        if (isText$9(node)) {\n          const newOffset = process(node, offset, node.data);\n          if (newOffset !== -1) {\n            return Optional.some({\n              container: node,\n              offset: newOffset\n            });\n          }\n        }\n        return walker().bind(next => walk(next.container, next.offset, walker, process));\n      };\n      const backwards = (node, offset, process, root) => {\n        const walker = TextWalker(node, root, isBlockBoundary);\n        return walk(node, offset, () => walker.prev().map(prev => ({\n          container: prev,\n          offset: prev.length\n        })), process).getOrNull();\n      };\n      const forwards = (node, offset, process, root) => {\n        const walker = TextWalker(node, root, isBlockBoundary);\n        return walk(node, offset, () => walker.next().map(next => ({\n          container: next,\n          offset: 0\n        })), process).getOrNull();\n      };\n      return {\n        backwards,\n        forwards\n      };\n    };\n\n    const round$2 = Math.round;\n    const clone$1 = rect => {\n      if (!rect) {\n        return {\n          left: 0,\n          top: 0,\n          bottom: 0,\n          right: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      return {\n        left: round$2(rect.left),\n        top: round$2(rect.top),\n        bottom: round$2(rect.bottom),\n        right: round$2(rect.right),\n        width: round$2(rect.width),\n        height: round$2(rect.height)\n      };\n    };\n    const collapse = (rect, toStart) => {\n      rect = clone$1(rect);\n      if (toStart) {\n        rect.right = rect.left;\n      } else {\n        rect.left = rect.left + rect.width;\n        rect.right = rect.left;\n      }\n      rect.width = 0;\n      return rect;\n    };\n    const isEqual = (rect1, rect2) => rect1.left === rect2.left && rect1.top === rect2.top && rect1.bottom === rect2.bottom && rect1.right === rect2.right;\n    const isValidOverflow = (overflowY, rect1, rect2) => overflowY >= 0 && overflowY <= Math.min(rect1.height, rect2.height) / 2;\n    const isAbove$1 = (rect1, rect2) => {\n      const halfHeight = Math.min(rect2.height / 2, rect1.height / 2);\n      if (rect1.bottom - halfHeight < rect2.top) {\n        return true;\n      }\n      if (rect1.top > rect2.bottom) {\n        return false;\n      }\n      return isValidOverflow(rect2.top - rect1.bottom, rect1, rect2);\n    };\n    const isBelow$1 = (rect1, rect2) => {\n      if (rect1.top > rect2.bottom) {\n        return true;\n      }\n      if (rect1.bottom < rect2.top) {\n        return false;\n      }\n      return isValidOverflow(rect2.bottom - rect1.top, rect1, rect2);\n    };\n    const containsXY = (rect, clientX, clientY) => clientX >= rect.left && clientX <= rect.right && clientY >= rect.top && clientY <= rect.bottom;\n    const boundingClientRectFromRects = rects => {\n      return foldl(rects, (acc, rect) => {\n        return acc.fold(() => Optional.some(rect), prevRect => {\n          const left = Math.min(rect.left, prevRect.left);\n          const top = Math.min(rect.top, prevRect.top);\n          const right = Math.max(rect.right, prevRect.right);\n          const bottom = Math.max(rect.bottom, prevRect.bottom);\n          return Optional.some({\n            top,\n            right,\n            bottom,\n            left,\n            width: right - left,\n            height: bottom - top\n          });\n        });\n      }, Optional.none());\n    };\n    const distanceToRectEdgeFromXY = (rect, x, y) => {\n      const cx = Math.max(Math.min(x, rect.left + rect.width), rect.left);\n      const cy = Math.max(Math.min(y, rect.top + rect.height), rect.top);\n      return Math.sqrt((x - cx) * (x - cx) + (y - cy) * (y - cy));\n    };\n    const overlapY = (r1, r2) => Math.max(0, Math.min(r1.bottom, r2.bottom) - Math.max(r1.top, r2.top));\n\n    const clamp$2 = (value, min, max) => Math.min(Math.max(value, min), max);\n\n    const getSelectedNode = range => {\n      const startContainer = range.startContainer, startOffset = range.startOffset;\n      if (startContainer === range.endContainer && startContainer.hasChildNodes() && range.endOffset === startOffset + 1) {\n        return startContainer.childNodes[startOffset];\n      }\n      return null;\n    };\n    const getNode$1 = (container, offset) => {\n      if (isElement$6(container) && container.hasChildNodes()) {\n        const childNodes = container.childNodes;\n        const safeOffset = clamp$2(offset, 0, childNodes.length - 1);\n        return childNodes[safeOffset];\n      } else {\n        return container;\n      }\n    };\n    const getNodeUnsafe = (container, offset) => {\n      if (offset < 0 && isElement$6(container) && container.hasChildNodes()) {\n        return undefined;\n      } else {\n        return getNode$1(container, offset);\n      }\n    };\n\n    const extendingChars = new RegExp('[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a' + '\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0' + '\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e3-\\u0902\\u093a\\u093c' + '\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3' + '\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc' + '\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57' + '\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56' + '\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44' + '\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9' + '\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97' + '\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074' + '\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5' + '\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18' + '\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1ABE\\u1b00-\\u1b03\\u1b34' + '\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9' + '\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9' + '\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20DD-\\u20E0\\u20e1\\u20E2-\\u20E4\\u20e5-\\u20f0\\u2cef-\\u2cf1' + '\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\uA670-\\uA672\\ua674-\\ua67d\\ua69e-\\ua69f\\ua6f0-\\ua6f1' + '\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc' + '\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1' + '\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\uff9e-\\uff9f]');\n    const isExtendingChar = ch => typeof ch === 'string' && ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n\n    const or = (...args) => {\n      return x => {\n        for (let i = 0; i < args.length; i++) {\n          if (args[i](x)) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    const and = (...args) => {\n      return x => {\n        for (let i = 0; i < args.length; i++) {\n          if (!args[i](x)) {\n            return false;\n          }\n        }\n        return true;\n      };\n    };\n\n    const isElement$4 = isElement$6;\n    const isCaretCandidate$2 = isCaretCandidate$3;\n    const isBlock$1 = matchStyleValues('display', 'block table');\n    const isFloated = matchStyleValues('float', 'left right');\n    const isValidElementCaretCandidate = and(isElement$4, isCaretCandidate$2, not(isFloated));\n    const isNotPre = not(matchStyleValues('white-space', 'pre pre-line pre-wrap'));\n    const isText$6 = isText$9;\n    const isBr$3 = isBr$6;\n    const nodeIndex$1 = DOMUtils.nodeIndex;\n    const resolveIndex$1 = getNodeUnsafe;\n    const createRange$1 = doc => 'createRange' in doc ? doc.createRange() : DOMUtils.DOM.createRng();\n    const isWhiteSpace$1 = chr => chr && /[\\r\\n\\t ]/.test(chr);\n    const isRange = rng => !!rng.setStart && !!rng.setEnd;\n    const isHiddenWhiteSpaceRange = range => {\n      const container = range.startContainer;\n      const offset = range.startOffset;\n      if (isWhiteSpace$1(range.toString()) && isNotPre(container.parentNode) && isText$9(container)) {\n        const text = container.data;\n        if (isWhiteSpace$1(text[offset - 1]) || isWhiteSpace$1(text[offset + 1])) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const getBrClientRect = brNode => {\n      const doc = brNode.ownerDocument;\n      const rng = createRange$1(doc);\n      const nbsp$1 = doc.createTextNode(nbsp);\n      const parentNode = brNode.parentNode;\n      parentNode.insertBefore(nbsp$1, brNode);\n      rng.setStart(nbsp$1, 0);\n      rng.setEnd(nbsp$1, 1);\n      const clientRect = clone$1(rng.getBoundingClientRect());\n      parentNode.removeChild(nbsp$1);\n      return clientRect;\n    };\n    const getBoundingClientRectWebKitText = rng => {\n      const sc = rng.startContainer;\n      const ec = rng.endContainer;\n      const so = rng.startOffset;\n      const eo = rng.endOffset;\n      if (sc === ec && isText$9(ec) && so === 0 && eo === 1) {\n        const newRng = rng.cloneRange();\n        newRng.setEndAfter(ec);\n        return getBoundingClientRect$1(newRng);\n      } else {\n        return null;\n      }\n    };\n    const isZeroRect = r => r.left === 0 && r.right === 0 && r.top === 0 && r.bottom === 0;\n    const getBoundingClientRect$1 = item => {\n      let clientRect;\n      const clientRects = item.getClientRects();\n      if (clientRects.length > 0) {\n        clientRect = clone$1(clientRects[0]);\n      } else {\n        clientRect = clone$1(item.getBoundingClientRect());\n      }\n      if (!isRange(item) && isBr$3(item) && isZeroRect(clientRect)) {\n        return getBrClientRect(item);\n      }\n      if (isZeroRect(clientRect) && isRange(item)) {\n        return getBoundingClientRectWebKitText(item);\n      }\n      return clientRect;\n    };\n    const collapseAndInflateWidth = (clientRect, toStart) => {\n      const newClientRect = collapse(clientRect, toStart);\n      newClientRect.width = 1;\n      newClientRect.right = newClientRect.left + 1;\n      return newClientRect;\n    };\n    const getCaretPositionClientRects = caretPosition => {\n      const clientRects = [];\n      const addUniqueAndValidRect = clientRect => {\n        if (clientRect.height === 0) {\n          return;\n        }\n        if (clientRects.length > 0) {\n          if (isEqual(clientRect, clientRects[clientRects.length - 1])) {\n            return;\n          }\n        }\n        clientRects.push(clientRect);\n      };\n      const addCharacterOffset = (container, offset) => {\n        const range = createRange$1(container.ownerDocument);\n        if (offset < container.data.length) {\n          if (isExtendingChar(container.data[offset])) {\n            return clientRects;\n          }\n          if (isExtendingChar(container.data[offset - 1])) {\n            range.setStart(container, offset);\n            range.setEnd(container, offset + 1);\n            if (!isHiddenWhiteSpaceRange(range)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), false));\n              return clientRects;\n            }\n          }\n        }\n        if (offset > 0) {\n          range.setStart(container, offset - 1);\n          range.setEnd(container, offset);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), false));\n          }\n        }\n        if (offset < container.data.length) {\n          range.setStart(container, offset);\n          range.setEnd(container, offset + 1);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), true));\n          }\n        }\n      };\n      const container = caretPosition.container();\n      const offset = caretPosition.offset();\n      if (isText$6(container)) {\n        addCharacterOffset(container, offset);\n        return clientRects;\n      }\n      if (isElement$4(container)) {\n        if (caretPosition.isAtEnd()) {\n          const node = resolveIndex$1(container, offset);\n          if (isText$6(node)) {\n            addCharacterOffset(node, node.data.length);\n          }\n          if (isValidElementCaretCandidate(node) && !isBr$3(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), false));\n          }\n        } else {\n          const node = resolveIndex$1(container, offset);\n          if (isText$6(node)) {\n            addCharacterOffset(node, 0);\n          }\n          if (isValidElementCaretCandidate(node) && caretPosition.isAtEnd()) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), false));\n            return clientRects;\n          }\n          const beforeNode = resolveIndex$1(caretPosition.container(), caretPosition.offset() - 1);\n          if (isValidElementCaretCandidate(beforeNode) && !isBr$3(beforeNode)) {\n            if (isBlock$1(beforeNode) || isBlock$1(node) || !isValidElementCaretCandidate(node)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(beforeNode), false));\n            }\n          }\n          if (isValidElementCaretCandidate(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), true));\n          }\n        }\n      }\n      return clientRects;\n    };\n    const CaretPosition = (container, offset, clientRects) => {\n      const isAtStart = () => {\n        if (isText$6(container)) {\n          return offset === 0;\n        }\n        return offset === 0;\n      };\n      const isAtEnd = () => {\n        if (isText$6(container)) {\n          return offset >= container.data.length;\n        }\n        return offset >= container.childNodes.length;\n      };\n      const toRange = () => {\n        const range = createRange$1(container.ownerDocument);\n        range.setStart(container, offset);\n        range.setEnd(container, offset);\n        return range;\n      };\n      const getClientRects = () => {\n        if (!clientRects) {\n          clientRects = getCaretPositionClientRects(CaretPosition(container, offset));\n        }\n        return clientRects;\n      };\n      const isVisible = () => getClientRects().length > 0;\n      const isEqual = caretPosition => caretPosition && container === caretPosition.container() && offset === caretPosition.offset();\n      const getNode = before => resolveIndex$1(container, before ? offset - 1 : offset);\n      return {\n        container: constant(container),\n        offset: constant(offset),\n        toRange,\n        getClientRects,\n        isVisible,\n        isAtStart,\n        isAtEnd,\n        isEqual,\n        getNode\n      };\n    };\n    CaretPosition.fromRangeStart = range => CaretPosition(range.startContainer, range.startOffset);\n    CaretPosition.fromRangeEnd = range => CaretPosition(range.endContainer, range.endOffset);\n    CaretPosition.after = node => CaretPosition(node.parentNode, nodeIndex$1(node) + 1);\n    CaretPosition.before = node => CaretPosition(node.parentNode, nodeIndex$1(node));\n    CaretPosition.isAbove = (pos1, pos2) => lift2(head(pos2.getClientRects()), last$3(pos1.getClientRects()), isAbove$1).getOr(false);\n    CaretPosition.isBelow = (pos1, pos2) => lift2(last$3(pos2.getClientRects()), head(pos1.getClientRects()), isBelow$1).getOr(false);\n    CaretPosition.isAtStart = pos => pos ? pos.isAtStart() : false;\n    CaretPosition.isAtEnd = pos => pos ? pos.isAtEnd() : false;\n    CaretPosition.isTextPosition = pos => pos ? isText$9(pos.container()) : false;\n    CaretPosition.isElementPosition = pos => CaretPosition.isTextPosition(pos) === false;\n\n    const trimEmptyTextNode$1 = (dom, node) => {\n      if (isText$9(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    const insertNode = (dom, rng, node) => {\n      rng.insertNode(node);\n      trimEmptyTextNode$1(dom, node.previousSibling);\n      trimEmptyTextNode$1(dom, node.nextSibling);\n    };\n    const insertFragment = (dom, rng, frag) => {\n      const firstChild = Optional.from(frag.firstChild);\n      const lastChild = Optional.from(frag.lastChild);\n      rng.insertNode(frag);\n      firstChild.each(child => trimEmptyTextNode$1(dom, child.previousSibling));\n      lastChild.each(child => trimEmptyTextNode$1(dom, child.nextSibling));\n    };\n    const rangeInsertNode = (dom, rng, node) => {\n      if (isDocumentFragment(node)) {\n        insertFragment(dom, rng, node);\n      } else {\n        insertNode(dom, rng, node);\n      }\n    };\n\n    const isText$5 = isText$9;\n    const isBogus = isBogus$2;\n    const nodeIndex = DOMUtils.nodeIndex;\n    const normalizedParent = node => {\n      const parentNode = node.parentNode;\n      if (isBogus(parentNode)) {\n        return normalizedParent(parentNode);\n      }\n      return parentNode;\n    };\n    const getChildNodes = node => {\n      if (!node) {\n        return [];\n      }\n      return reduce(node.childNodes, (result, node) => {\n        if (isBogus(node) && node.nodeName !== 'BR') {\n          result = result.concat(getChildNodes(node));\n        } else {\n          result.push(node);\n        }\n        return result;\n      }, []);\n    };\n    const normalizedTextOffset = (node, offset) => {\n      while (node = node.previousSibling) {\n        if (!isText$5(node)) {\n          break;\n        }\n        offset += node.data.length;\n      }\n      return offset;\n    };\n    const equal = a => b => a === b;\n    const normalizedNodeIndex = node => {\n      let nodes, index;\n      nodes = getChildNodes(normalizedParent(node));\n      index = findIndex$1(nodes, equal(node), node);\n      nodes = nodes.slice(0, index + 1);\n      const numTextFragments = reduce(nodes, (result, node, i) => {\n        if (isText$5(node) && isText$5(nodes[i - 1])) {\n          result++;\n        }\n        return result;\n      }, 0);\n      nodes = filter$4(nodes, matchNodeNames([node.nodeName]));\n      index = findIndex$1(nodes, equal(node), node);\n      return index - numTextFragments;\n    };\n    const createPathItem = node => {\n      let name;\n      if (isText$5(node)) {\n        name = 'text()';\n      } else {\n        name = node.nodeName.toLowerCase();\n      }\n      return name + '[' + normalizedNodeIndex(node) + ']';\n    };\n    const parentsUntil$1 = (root, node, predicate) => {\n      const parents = [];\n      for (node = node.parentNode; node !== root; node = node.parentNode) {\n        if (predicate && predicate(node)) {\n          break;\n        }\n        parents.push(node);\n      }\n      return parents;\n    };\n    const create$b = (root, caretPosition) => {\n      let container, offset, path = [], outputOffset, childNodes, parents;\n      container = caretPosition.container();\n      offset = caretPosition.offset();\n      if (isText$5(container)) {\n        outputOffset = normalizedTextOffset(container, offset);\n      } else {\n        childNodes = container.childNodes;\n        if (offset >= childNodes.length) {\n          outputOffset = 'after';\n          offset = childNodes.length - 1;\n        } else {\n          outputOffset = 'before';\n        }\n        container = childNodes[offset];\n      }\n      path.push(createPathItem(container));\n      parents = parentsUntil$1(root, container);\n      parents = filter$4(parents, not(isBogus$2));\n      path = path.concat(map$1(parents, node => {\n        return createPathItem(node);\n      }));\n      return path.reverse().join('/') + ',' + outputOffset;\n    };\n    const resolvePathItem = (node, name, index) => {\n      let nodes = getChildNodes(node);\n      nodes = filter$4(nodes, (node, index) => {\n        return !isText$5(node) || !isText$5(nodes[index - 1]);\n      });\n      nodes = filter$4(nodes, matchNodeNames([name]));\n      return nodes[index];\n    };\n    const findTextPosition = (container, offset) => {\n      let node = container, targetOffset = 0, dataLen;\n      while (isText$5(node)) {\n        dataLen = node.data.length;\n        if (offset >= targetOffset && offset <= targetOffset + dataLen) {\n          container = node;\n          offset = offset - targetOffset;\n          break;\n        }\n        if (!isText$5(node.nextSibling)) {\n          container = node;\n          offset = dataLen;\n          break;\n        }\n        targetOffset += dataLen;\n        node = node.nextSibling;\n      }\n      if (isText$5(container) && offset > container.data.length) {\n        offset = container.data.length;\n      }\n      return CaretPosition(container, offset);\n    };\n    const resolve$1 = (root, path) => {\n      let offset;\n      if (!path) {\n        return null;\n      }\n      const parts = path.split(',');\n      const paths = parts[0].split('/');\n      offset = parts.length > 1 ? parts[1] : 'before';\n      const container = reduce(paths, (result, value) => {\n        const match = /([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(value);\n        if (!match) {\n          return null;\n        }\n        if (match[1] === 'text()') {\n          match[1] = '#text';\n        }\n        return resolvePathItem(result, match[1], parseInt(match[2], 10));\n      }, root);\n      if (!container) {\n        return null;\n      }\n      if (!isText$5(container)) {\n        if (offset === 'after') {\n          offset = nodeIndex(container) + 1;\n        } else {\n          offset = nodeIndex(container);\n        }\n        return CaretPosition(container.parentNode, offset);\n      }\n      return findTextPosition(container, parseInt(offset, 10));\n    };\n\n    const isContentEditableFalse$9 = isContentEditableFalse$b;\n    const getNormalizedTextOffset = (trim, container, offset) => {\n      let node, trimmedOffset;\n      trimmedOffset = trim(container.data.slice(0, offset)).length;\n      for (node = container.previousSibling; node && isText$9(node); node = node.previousSibling) {\n        trimmedOffset += trim(node.data).length;\n      }\n      return trimmedOffset;\n    };\n    const getPoint = (dom, trim, normalized, rng, start) => {\n      let container = rng[start ? 'startContainer' : 'endContainer'];\n      let offset = rng[start ? 'startOffset' : 'endOffset'];\n      const point = [];\n      let childNodes, after = 0;\n      const root = dom.getRoot();\n      if (isText$9(container)) {\n        point.push(normalized ? getNormalizedTextOffset(trim, container, offset) : offset);\n      } else {\n        childNodes = container.childNodes;\n        if (offset >= childNodes.length && childNodes.length) {\n          after = 1;\n          offset = Math.max(0, childNodes.length - 1);\n        }\n        point.push(dom.nodeIndex(childNodes[offset], normalized) + after);\n      }\n      for (; container && container !== root; container = container.parentNode) {\n        point.push(dom.nodeIndex(container, normalized));\n      }\n      return point;\n    };\n    const getLocation = (trim, selection, normalized, rng) => {\n      const dom = selection.dom;\n      const start = getPoint(dom, trim, normalized, rng, true);\n      const forward = selection.isForward();\n      const fakeCaret = isRangeInCaretContainerBlock(rng) ? { isFakeCaret: true } : {};\n      if (!selection.isCollapsed()) {\n        const end = getPoint(dom, trim, normalized, rng, false);\n        return {\n          start,\n          end,\n          forward,\n          ...fakeCaret\n        };\n      } else {\n        return {\n          start,\n          forward,\n          ...fakeCaret\n        };\n      }\n    };\n    const findIndex = (dom, name, element) => {\n      let count = 0;\n      Tools.each(dom.select(name), node => {\n        if (node.getAttribute('data-mce-bogus') === 'all') {\n          return;\n        }\n        if (node === element) {\n          return false;\n        }\n        count++;\n      });\n      return count;\n    };\n    const moveEndPoint$1 = (rng, start) => {\n      let container, offset;\n      const prefix = start ? 'start' : 'end';\n      container = rng[prefix + 'Container'];\n      offset = rng[prefix + 'Offset'];\n      if (isElement$6(container) && container.nodeName === 'TR') {\n        const childNodes = container.childNodes;\n        container = childNodes[Math.min(start ? offset : offset - 1, childNodes.length - 1)];\n        if (container) {\n          offset = start ? 0 : container.childNodes.length;\n          rng['set' + (start ? 'Start' : 'End')](container, offset);\n        }\n      }\n    };\n    const normalizeTableCellSelection = rng => {\n      moveEndPoint$1(rng, true);\n      moveEndPoint$1(rng, false);\n      return rng;\n    };\n    const findSibling = (node, offset) => {\n      let sibling;\n      if (isElement$6(node)) {\n        node = getNode$1(node, offset);\n        if (isContentEditableFalse$9(node)) {\n          return node;\n        }\n      }\n      if (isCaretContainer$2(node)) {\n        if (isText$9(node) && isCaretContainerBlock$1(node)) {\n          node = node.parentNode;\n        }\n        sibling = node.previousSibling;\n        if (isContentEditableFalse$9(sibling)) {\n          return sibling;\n        }\n        sibling = node.nextSibling;\n        if (isContentEditableFalse$9(sibling)) {\n          return sibling;\n        }\n      }\n    };\n    const findAdjacentContentEditableFalseElm = rng => {\n      return findSibling(rng.startContainer, rng.startOffset) || findSibling(rng.endContainer, rng.endOffset);\n    };\n    const getOffsetBookmark = (trim, normalized, selection) => {\n      const element = selection.getNode();\n      let name = element ? element.nodeName : null;\n      const rng = selection.getRng();\n      if (isContentEditableFalse$9(element) || name === 'IMG') {\n        return {\n          name,\n          index: findIndex(selection.dom, name, element)\n        };\n      }\n      const sibling = findAdjacentContentEditableFalseElm(rng);\n      if (sibling) {\n        name = sibling.tagName;\n        return {\n          name,\n          index: findIndex(selection.dom, name, sibling)\n        };\n      }\n      return getLocation(trim, selection, normalized, rng);\n    };\n    const getCaretBookmark = selection => {\n      const rng = selection.getRng();\n      return {\n        start: create$b(selection.dom.getRoot(), CaretPosition.fromRangeStart(rng)),\n        end: create$b(selection.dom.getRoot(), CaretPosition.fromRangeEnd(rng)),\n        forward: selection.isForward()\n      };\n    };\n    const getRangeBookmark = selection => {\n      return {\n        rng: selection.getRng(),\n        forward: selection.isForward()\n      };\n    };\n    const createBookmarkSpan = (dom, id, filled) => {\n      const args = {\n        'data-mce-type': 'bookmark',\n        id,\n        'style': 'overflow:hidden;line-height:0px'\n      };\n      return filled ? dom.create('span', args, '&#xFEFF;') : dom.create('span', args);\n    };\n    const getPersistentBookmark = (selection, filled) => {\n      const dom = selection.dom;\n      let rng = selection.getRng();\n      const id = dom.uniqueId();\n      const collapsed = selection.isCollapsed();\n      const element = selection.getNode();\n      const name = element.nodeName;\n      const forward = selection.isForward();\n      if (name === 'IMG') {\n        return {\n          name,\n          index: findIndex(dom, name, element)\n        };\n      }\n      const rng2 = normalizeTableCellSelection(rng.cloneRange());\n      if (!collapsed) {\n        rng2.collapse(false);\n        const endBookmarkNode = createBookmarkSpan(dom, id + '_end', filled);\n        rangeInsertNode(dom, rng2, endBookmarkNode);\n      }\n      rng = normalizeTableCellSelection(rng);\n      rng.collapse(true);\n      const startBookmarkNode = createBookmarkSpan(dom, id + '_start', filled);\n      rangeInsertNode(dom, rng, startBookmarkNode);\n      selection.moveToBookmark({\n        id,\n        keep: true,\n        forward\n      });\n      return {\n        id,\n        forward\n      };\n    };\n    const getBookmark$2 = (selection, type, normalized) => {\n      if (type === 2) {\n        return getOffsetBookmark(trim$1, normalized, selection);\n      } else if (type === 3) {\n        return getCaretBookmark(selection);\n      } else if (type) {\n        return getRangeBookmark(selection);\n      } else {\n        return getPersistentBookmark(selection, false);\n      }\n    };\n    const getUndoBookmark = curry(getOffsetBookmark, identity, true);\n\n    const value$1 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply$1,\n        orThunk: apply$1,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error(err), value$1);\n    const Result = {\n      value: value$1,\n      error,\n      fromOption\n    };\n\n    const generate = cases => {\n      if (!isArray$1(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$f(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray$1(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    const partition$1 = results => {\n      const errors = [];\n      const values = [];\n      each$f(results, result => {\n        result.fold(err => {\n          errors.push(err);\n        }, value => {\n          values.push(value);\n        });\n      });\n      return {\n        errors,\n        values\n      };\n    };\n\n    const isInlinePattern = pattern => pattern.type === 'inline-command' || pattern.type === 'inline-format';\n    const isBlockPattern = pattern => pattern.type === 'block-command' || pattern.type === 'block-format';\n    const sortPatterns = patterns => sort(patterns, (a, b) => {\n      if (a.start.length === b.start.length) {\n        return 0;\n      }\n      return a.start.length > b.start.length ? -1 : 1;\n    });\n    const normalizePattern = pattern => {\n      const err = message => Result.error({\n        message,\n        pattern\n      });\n      const formatOrCmd = (name, onFormat, onCommand) => {\n        if (pattern.format !== undefined) {\n          let formats;\n          if (isArray$1(pattern.format)) {\n            if (!forall(pattern.format, isString)) {\n              return err(name + ' pattern has non-string items in the `format` array');\n            }\n            formats = pattern.format;\n          } else if (isString(pattern.format)) {\n            formats = [pattern.format];\n          } else {\n            return err(name + ' pattern has non-string `format` parameter');\n          }\n          return Result.value(onFormat(formats));\n        } else if (pattern.cmd !== undefined) {\n          if (!isString(pattern.cmd)) {\n            return err(name + ' pattern has non-string `cmd` parameter');\n          }\n          return Result.value(onCommand(pattern.cmd, pattern.value));\n        } else {\n          return err(name + ' pattern is missing both `format` and `cmd` parameters');\n        }\n      };\n      if (!isObject(pattern)) {\n        return err('Raw pattern is not an object');\n      }\n      if (!isString(pattern.start)) {\n        return err('Raw pattern is missing `start` parameter');\n      }\n      if (pattern.end !== undefined) {\n        if (!isString(pattern.end)) {\n          return err('Inline pattern has non-string `end` parameter');\n        }\n        if (pattern.start.length === 0 && pattern.end.length === 0) {\n          return err('Inline pattern has empty `start` and `end` parameters');\n        }\n        let start = pattern.start;\n        let end = pattern.end;\n        if (end.length === 0) {\n          end = start;\n          start = '';\n        }\n        return formatOrCmd('Inline', format => ({\n          type: 'inline-format',\n          start,\n          end,\n          format\n        }), (cmd, value) => ({\n          type: 'inline-command',\n          start,\n          end,\n          cmd,\n          value\n        }));\n      } else if (pattern.replacement !== undefined) {\n        if (!isString(pattern.replacement)) {\n          return err('Replacement pattern has non-string `replacement` parameter');\n        }\n        if (pattern.start.length === 0) {\n          return err('Replacement pattern has empty `start` parameter');\n        }\n        return Result.value({\n          type: 'inline-command',\n          start: '',\n          end: pattern.start,\n          cmd: 'mceInsertContent',\n          value: pattern.replacement\n        });\n      } else {\n        if (pattern.start.length === 0) {\n          return err('Block pattern has empty `start` parameter');\n        }\n        return formatOrCmd('Block', formats => ({\n          type: 'block-format',\n          start: pattern.start,\n          format: formats[0]\n        }), (command, commandValue) => ({\n          type: 'block-command',\n          start: pattern.start,\n          cmd: command,\n          value: commandValue\n        }));\n      }\n    };\n    const getBlockPatterns = patterns => sortPatterns(filter$6(patterns, isBlockPattern));\n    const getInlinePatterns = patterns => filter$6(patterns, isInlinePattern);\n    const createPatternSet = patterns => ({\n      inlinePatterns: getInlinePatterns(patterns),\n      blockPatterns: getBlockPatterns(patterns)\n    });\n    const fromRawPatterns = patterns => {\n      const normalized = partition$1(map$3(patterns, normalizePattern));\n      each$f(normalized.errors, err => console.error(err.message, err.pattern));\n      return normalized.values;\n    };\n\n    const deviceDetection$1 = detect$2().deviceType;\n    const isTouch = deviceDetection$1.isTouch();\n    const DOM$a = DOMUtils.DOM;\n    const getHash = value => {\n      const items = value.indexOf('=') > 0 ? value.split(/[;,](?![^=;,]*(?:[;,]|$))/) : value.split(',');\n      return foldl(items, (output, item) => {\n        const arr = item.split('=');\n        const key = arr[0];\n        const val = arr.length > 1 ? arr[1] : key;\n        output[trim$3(key)] = trim$3(val);\n        return output;\n      }, {});\n    };\n    const isRegExp = x => is$4(x, RegExp);\n    const option = name => editor => editor.options.get(name);\n    const stringOrObjectProcessor = value => isString(value) || isObject(value);\n    const bodyOptionProcessor = (editor, defaultValue = '') => value => {\n      const valid = isString(value);\n      if (valid) {\n        if (value.indexOf('=') !== -1) {\n          const bodyObj = getHash(value);\n          return {\n            value: get$a(bodyObj, editor.id).getOr(defaultValue),\n            valid\n          };\n        } else {\n          return {\n            value,\n            valid\n          };\n        }\n      } else {\n        return {\n          valid: false,\n          message: 'Must be a string.'\n        };\n      }\n    };\n    const register$7 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('id', {\n        processor: 'string',\n        default: editor.id\n      });\n      registerOption('selector', { processor: 'string' });\n      registerOption('target', { processor: 'object' });\n      registerOption('suffix', { processor: 'string' });\n      registerOption('cache_suffix', { processor: 'string' });\n      registerOption('base_url', { processor: 'string' });\n      registerOption('referrer_policy', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('language_load', { processor: 'boolean' });\n      registerOption('inline', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('iframe_attrs', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('doctype', {\n        processor: 'string',\n        default: '<!DOCTYPE html>'\n      });\n      registerOption('document_base_url', {\n        processor: 'string',\n        default: editor.documentBaseUrl\n      });\n      registerOption('body_id', {\n        processor: bodyOptionProcessor(editor, 'tinymce'),\n        default: 'tinymce'\n      });\n      registerOption('body_class', {\n        processor: bodyOptionProcessor(editor),\n        default: ''\n      });\n      registerOption('content_security_policy', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('br_in_pre', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('forced_root_block', {\n        processor: value => {\n          const valid = isString(value) && isNotEmpty(value);\n          if (valid) {\n            return {\n              value,\n              valid\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a non-empty string.'\n            };\n          }\n        },\n        default: 'p'\n      });\n      registerOption('forced_root_block_attrs', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('newline_behavior', {\n        processor: value => {\n          const valid = contains$2([\n            'block',\n            'linebreak',\n            'invert',\n            'default'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be one of: block, linebreak, invert or default.'\n          };\n        },\n        default: 'default'\n      });\n      registerOption('br_newline_selector', {\n        processor: 'string',\n        default: '.mce-toc h2,figcaption,caption'\n      });\n      registerOption('no_newline_selector', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('keep_styles', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('end_container_on_empty_block', {\n        processor: value => {\n          if (isBoolean(value)) {\n            return {\n              valid: true,\n              value\n            };\n          } else if (isString(value)) {\n            return {\n              valid: true,\n              value\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be boolean or a string'\n            };\n          }\n        },\n        default: 'blockquote'\n      });\n      registerOption('font_size_style_values', {\n        processor: 'string',\n        default: 'xx-small,x-small,small,medium,large,x-large,xx-large'\n      });\n      registerOption('font_size_legacy_values', {\n        processor: 'string',\n        default: 'xx-small,small,medium,large,x-large,xx-large,300%'\n      });\n      registerOption('font_size_classes', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('automatic_uploads', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('images_reuse_filename', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('images_replace_blob_uris', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('icons', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('icons_url', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('images_upload_url', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('images_upload_base_path', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('images_upload_base_path', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('images_upload_credentials', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('images_upload_handler', { processor: 'function' });\n      registerOption('language', {\n        processor: 'string',\n        default: 'en'\n      });\n      registerOption('language_url', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('entity_encoding', {\n        processor: 'string',\n        default: 'named'\n      });\n      registerOption('indent', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('indent_before', {\n        processor: 'string',\n        default: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist'\n      });\n      registerOption('indent_after', {\n        processor: 'string',\n        default: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist'\n      });\n      registerOption('indent_use_margin', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('indentation', {\n        processor: 'string',\n        default: '40px'\n      });\n      registerOption('content_css', {\n        processor: value => {\n          const valid = value === false || isString(value) || isArrayOf(value, isString);\n          if (valid) {\n            if (isString(value)) {\n              return {\n                value: map$3(value.split(','), trim$3),\n                valid\n              };\n            } else if (isArray$1(value)) {\n              return {\n                value,\n                valid\n              };\n            } else if (value === false) {\n              return {\n                value: [],\n                valid\n              };\n            } else {\n              return {\n                value,\n                valid\n              };\n            }\n          } else {\n            return {\n              valid: false,\n              message: 'Must be false, a string or an array of strings.'\n            };\n          }\n        },\n        default: isInline(editor) ? [] : ['default']\n      });\n      registerOption('content_style', { processor: 'string' });\n      registerOption('content_css_cors', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('font_css', {\n        processor: value => {\n          const valid = isString(value) || isArrayOf(value, isString);\n          if (valid) {\n            const newValue = isArray$1(value) ? value : map$3(value.split(','), trim$3);\n            return {\n              value: newValue,\n              valid\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a string or an array of strings.'\n            };\n          }\n        },\n        default: []\n      });\n      registerOption('inline_boundaries', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('inline_boundaries_selector', {\n        processor: 'string',\n        default: 'a[href],code,span.mce-annotation'\n      });\n      registerOption('object_resizing', {\n        processor: value => {\n          const valid = isBoolean(value) || isString(value);\n          if (valid) {\n            if (value === false || deviceDetection$1.isiPhone() || deviceDetection$1.isiPad()) {\n              return {\n                value: '',\n                valid\n              };\n            } else {\n              return {\n                value: value === true ? 'table,img,figure.image,div,video,iframe' : value,\n                valid\n              };\n            }\n          } else {\n            return {\n              valid: false,\n              message: 'Must be boolean or a string'\n            };\n          }\n        },\n        default: !isTouch\n      });\n      registerOption('resize_img_proportional', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('event_root', { processor: 'object' });\n      registerOption('service_message', { processor: 'string' });\n      registerOption('theme', {\n        processor: value => value === false || isString(value) || isFunction(value),\n        default: 'silver'\n      });\n      registerOption('theme_url', { processor: 'string' });\n      registerOption('formats', { processor: 'object' });\n      registerOption('format_empty_lines', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('preview_styles', {\n        processor: value => {\n          const valid = value === false || isString(value);\n          if (valid) {\n            return {\n              value: value === false ? '' : value,\n              valid\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be false or a string'\n            };\n          }\n        },\n        default: 'font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow'\n      });\n      registerOption('custom_ui_selector', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('hidden_input', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('submit_patch', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('encoding', { processor: 'string' });\n      registerOption('add_form_submit_trigger', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('add_unload_trigger', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('custom_undo_redo_levels', {\n        processor: 'number',\n        default: 0\n      });\n      registerOption('disable_nodechange', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('readonly', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('plugins', {\n        processor: 'string[]',\n        default: []\n      });\n      registerOption('external_plugins', { processor: 'object' });\n      registerOption('forced_plugins', { processor: 'string[]' });\n      registerOption('model', {\n        processor: 'string',\n        default: editor.hasPlugin('rtc') ? 'plugin' : 'dom'\n      });\n      registerOption('model_url', { processor: 'string' });\n      registerOption('block_unsupported_drop', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('visual', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('visual_table_class', {\n        processor: 'string',\n        default: 'mce-item-table'\n      });\n      registerOption('visual_anchor_class', {\n        processor: 'string',\n        default: 'mce-item-anchor'\n      });\n      registerOption('iframe_aria_text', {\n        processor: 'string',\n        default: 'Rich Text Area. Press ALT-0 for help.'\n      });\n      registerOption('setup', { processor: 'function' });\n      registerOption('init_instance_callback', { processor: 'function' });\n      registerOption('url_converter', {\n        processor: 'function',\n        default: editor.convertURL\n      });\n      registerOption('url_converter_scope', {\n        processor: 'object',\n        default: editor\n      });\n      registerOption('urlconverter_callback', { processor: 'function' });\n      registerOption('allow_conditional_comments', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('allow_html_data_urls', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('allow_svg_data_urls', { processor: 'boolean' });\n      registerOption('allow_html_in_named_anchor', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('allow_script_urls', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('allow_unsafe_link_target', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('convert_fonts_to_spans', {\n        processor: 'boolean',\n        default: true,\n        deprecated: true\n      });\n      registerOption('fix_list_elements', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('preserve_cdata', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('remove_trailing_brs', { processor: 'boolean' });\n      registerOption('inline_styles', {\n        processor: 'boolean',\n        default: true,\n        deprecated: true\n      });\n      registerOption('element_format', {\n        processor: 'string',\n        default: 'html'\n      });\n      registerOption('entities', { processor: 'string' });\n      registerOption('schema', {\n        processor: 'string',\n        default: 'html5'\n      });\n      registerOption('convert_urls', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('relative_urls', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('remove_script_host', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('custom_elements', { processor: 'string' });\n      registerOption('extended_valid_elements', { processor: 'string' });\n      registerOption('invalid_elements', { processor: 'string' });\n      registerOption('invalid_styles', { processor: stringOrObjectProcessor });\n      registerOption('valid_children', { processor: 'string' });\n      registerOption('valid_classes', { processor: stringOrObjectProcessor });\n      registerOption('valid_elements', { processor: 'string' });\n      registerOption('valid_styles', { processor: stringOrObjectProcessor });\n      registerOption('verify_html', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('auto_focus', { processor: value => isString(value) || value === true });\n      registerOption('browser_spellcheck', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('protect', { processor: 'array' });\n      registerOption('images_file_types', {\n        processor: 'string',\n        default: 'jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp'\n      });\n      registerOption('deprecation_warnings', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('a11y_advanced_options', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('api_key', { processor: 'string' });\n      registerOption('paste_block_drop', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('paste_data_images', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('paste_preprocess', { processor: 'function' });\n      registerOption('paste_postprocess', { processor: 'function' });\n      registerOption('paste_webkit_styles', {\n        processor: 'string',\n        default: 'none'\n      });\n      registerOption('paste_remove_styles_if_webkit', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('paste_merge_formats', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('smart_paste', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('paste_as_text', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('paste_tab_spaces', {\n        processor: 'number',\n        default: 4\n      });\n      registerOption('text_patterns', {\n        processor: value => {\n          if (isArrayOf(value, isObject) || value === false) {\n            const patterns = value === false ? [] : value;\n            return {\n              value: fromRawPatterns(patterns),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be an array of objects or false.'\n            };\n          }\n        },\n        default: [\n          {\n            start: '*',\n            end: '*',\n            format: 'italic'\n          },\n          {\n            start: '**',\n            end: '**',\n            format: 'bold'\n          },\n          {\n            start: '#',\n            format: 'h1'\n          },\n          {\n            start: '##',\n            format: 'h2'\n          },\n          {\n            start: '###',\n            format: 'h3'\n          },\n          {\n            start: '####',\n            format: 'h4'\n          },\n          {\n            start: '#####',\n            format: 'h5'\n          },\n          {\n            start: '######',\n            format: 'h6'\n          },\n          {\n            start: '1. ',\n            cmd: 'InsertOrderedList'\n          },\n          {\n            start: '* ',\n            cmd: 'InsertUnorderedList'\n          },\n          {\n            start: '- ',\n            cmd: 'InsertUnorderedList'\n          }\n        ]\n      });\n      registerOption('noneditable_class', {\n        processor: 'string',\n        default: 'mceNonEditable'\n      });\n      registerOption('editable_class', {\n        processor: 'string',\n        default: 'mceEditable'\n      });\n      registerOption('noneditable_regexp', {\n        processor: value => {\n          if (isArrayOf(value, isRegExp)) {\n            return {\n              value,\n              valid: true\n            };\n          } else if (isRegExp(value)) {\n            return {\n              value: [value],\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a RegExp or an array of RegExp.'\n            };\n          }\n        },\n        default: []\n      });\n      registerOption('table_tab_navigation', {\n        processor: 'boolean',\n        default: true\n      });\n      editor.on('ScriptsLoaded', () => {\n        registerOption('directionality', {\n          processor: 'string',\n          default: I18n.isRtl() ? 'rtl' : undefined\n        });\n        registerOption('placeholder', {\n          processor: 'string',\n          default: DOM$a.getAttrib(editor.getElement(), 'placeholder')\n        });\n      });\n    };\n    const getIframeAttrs = option('iframe_attrs');\n    const getDocType = option('doctype');\n    const getDocumentBaseUrl = option('document_base_url');\n    const getBodyId = option('body_id');\n    const getBodyClass = option('body_class');\n    const getContentSecurityPolicy = option('content_security_policy');\n    const shouldPutBrInPre$1 = option('br_in_pre');\n    const getForcedRootBlock = option('forced_root_block');\n    const getForcedRootBlockAttrs = option('forced_root_block_attrs');\n    const getNewlineBehavior = option('newline_behavior');\n    const getBrNewLineSelector = option('br_newline_selector');\n    const getNoNewLineSelector = option('no_newline_selector');\n    const shouldKeepStyles = option('keep_styles');\n    const shouldEndContainerOnEmptyBlock = option('end_container_on_empty_block');\n    const isAutomaticUploadsEnabled = option('automatic_uploads');\n    const shouldReuseFileName = option('images_reuse_filename');\n    const shouldReplaceBlobUris = option('images_replace_blob_uris');\n    const getIconPackName = option('icons');\n    const getIconsUrl = option('icons_url');\n    const getImageUploadUrl = option('images_upload_url');\n    const getImageUploadBasePath = option('images_upload_base_path');\n    const getImagesUploadCredentials = option('images_upload_credentials');\n    const getImagesUploadHandler = option('images_upload_handler');\n    const shouldUseContentCssCors = option('content_css_cors');\n    const getReferrerPolicy = option('referrer_policy');\n    const getLanguageCode = option('language');\n    const getLanguageUrl = option('language_url');\n    const shouldIndentUseMargin = option('indent_use_margin');\n    const getIndentation = option('indentation');\n    const getContentCss = option('content_css');\n    const getContentStyle = option('content_style');\n    const getFontCss = option('font_css');\n    const getDirectionality = option('directionality');\n    const getInlineBoundarySelector = option('inline_boundaries_selector');\n    const getObjectResizing = option('object_resizing');\n    const getResizeImgProportional = option('resize_img_proportional');\n    const getPlaceholder = option('placeholder');\n    const getEventRoot = option('event_root');\n    const getServiceMessage = option('service_message');\n    const getTheme = option('theme');\n    const getThemeUrl = option('theme_url');\n    const getModel = option('model');\n    const getModelUrl = option('model_url');\n    const isInlineBoundariesEnabled = option('inline_boundaries');\n    const getFormats = option('formats');\n    const getPreviewStyles = option('preview_styles');\n    const canFormatEmptyLines = option('format_empty_lines');\n    const getCustomUiSelector = option('custom_ui_selector');\n    const isInline = option('inline');\n    const hasHiddenInput = option('hidden_input');\n    const shouldPatchSubmit = option('submit_patch');\n    const shouldAddFormSubmitTrigger = option('add_form_submit_trigger');\n    const shouldAddUnloadTrigger = option('add_unload_trigger');\n    const getCustomUndoRedoLevels = option('custom_undo_redo_levels');\n    const shouldDisableNodeChange = option('disable_nodechange');\n    const isReadOnly$1 = option('readonly');\n    const hasContentCssCors = option('content_css_cors');\n    const getPlugins = option('plugins');\n    const getExternalPlugins$1 = option('external_plugins');\n    const shouldBlockUnsupportedDrop = option('block_unsupported_drop');\n    const isVisualAidsEnabled = option('visual');\n    const getVisualAidsTableClass = option('visual_table_class');\n    const getVisualAidsAnchorClass = option('visual_anchor_class');\n    const getIframeAriaText = option('iframe_aria_text');\n    const getSetupCallback = option('setup');\n    const getInitInstanceCallback = option('init_instance_callback');\n    const getUrlConverterCallback = option('urlconverter_callback');\n    const getAutoFocus = option('auto_focus');\n    const shouldBrowserSpellcheck = option('browser_spellcheck');\n    const getProtect = option('protect');\n    const shouldPasteBlockDrop = option('paste_block_drop');\n    const shouldPasteDataImages = option('paste_data_images');\n    const getPastePreProcess = option('paste_preprocess');\n    const getPastePostProcess = option('paste_postprocess');\n    const getPasteWebkitStyles = option('paste_webkit_styles');\n    const shouldPasteRemoveWebKitStyles = option('paste_remove_styles_if_webkit');\n    const shouldPasteMergeFormats = option('paste_merge_formats');\n    const isSmartPasteEnabled = option('smart_paste');\n    const isPasteAsTextEnabled = option('paste_as_text');\n    const getPasteTabSpaces = option('paste_tab_spaces');\n    const shouldAllowHtmlDataUrls = option('allow_html_data_urls');\n    const getTextPatterns = option('text_patterns');\n    const getNonEditableClass = option('noneditable_class');\n    const getEditableClass = option('editable_class');\n    const getNonEditableRegExps = option('noneditable_regexp');\n    const getFontStyleValues = editor => Tools.explode(editor.options.get('font_size_style_values'));\n    const getFontSizeClasses = editor => Tools.explode(editor.options.get('font_size_classes'));\n    const isEncodingXml = editor => editor.options.get('encoding') === 'xml';\n    const getAllowedImageFileTypes = editor => Tools.explode(editor.options.get('images_file_types'));\n    const hasTableTabNavigation = option('table_tab_navigation');\n\n    const isElement$3 = isElement$6;\n    const isText$4 = isText$9;\n    const removeNode$1 = node => {\n      const parentNode = node.parentNode;\n      if (parentNode) {\n        parentNode.removeChild(node);\n      }\n    };\n    const trimCount = text => {\n      const trimmedText = trim$1(text);\n      return {\n        count: text.length - trimmedText.length,\n        text: trimmedText\n      };\n    };\n    const deleteZwspChars = caretContainer => {\n      let idx;\n      while ((idx = caretContainer.data.lastIndexOf(ZWSP$1)) !== -1) {\n        caretContainer.deleteData(idx, 1);\n      }\n    };\n    const removeUnchanged = (caretContainer, pos) => {\n      remove$4(caretContainer);\n      return pos;\n    };\n    const removeTextAndReposition = (caretContainer, pos) => {\n      const before = trimCount(caretContainer.data.substr(0, pos.offset()));\n      const after = trimCount(caretContainer.data.substr(pos.offset()));\n      const text = before.text + after.text;\n      if (text.length > 0) {\n        deleteZwspChars(caretContainer);\n        return CaretPosition(caretContainer, pos.offset() - before.count);\n      } else {\n        return pos;\n      }\n    };\n    const removeElementAndReposition = (caretContainer, pos) => {\n      const parentNode = pos.container();\n      const newPosition = indexOf$1(from(parentNode.childNodes), caretContainer).map(index => {\n        return index < pos.offset() ? CaretPosition(parentNode, pos.offset() - 1) : pos;\n      }).getOr(pos);\n      remove$4(caretContainer);\n      return newPosition;\n    };\n    const removeTextCaretContainer = (caretContainer, pos) => isText$4(caretContainer) && pos.container() === caretContainer ? removeTextAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    const removeElementCaretContainer = (caretContainer, pos) => pos.container() === caretContainer.parentNode ? removeElementAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    const removeAndReposition = (container, pos) => CaretPosition.isTextPosition(pos) ? removeTextCaretContainer(container, pos) : removeElementCaretContainer(container, pos);\n    const remove$4 = caretContainerNode => {\n      if (isElement$3(caretContainerNode) && isCaretContainer$2(caretContainerNode)) {\n        if (hasContent(caretContainerNode)) {\n          caretContainerNode.removeAttribute('data-mce-caret');\n        } else {\n          removeNode$1(caretContainerNode);\n        }\n      }\n      if (isText$4(caretContainerNode)) {\n        deleteZwspChars(caretContainerNode);\n        if (caretContainerNode.data.length === 0) {\n          removeNode$1(caretContainerNode);\n        }\n      }\n    };\n\n    const isContentEditableFalse$8 = isContentEditableFalse$b;\n    const isMedia$1 = isMedia$2;\n    const isTableCell$3 = isTableCell$5;\n    const inlineFakeCaretSelector = '*[contentEditable=false],video,audio,embed,object';\n    const getAbsoluteClientRect = (root, element, before) => {\n      const clientRect = collapse(element.getBoundingClientRect(), before);\n      let scrollX;\n      let scrollY;\n      if (root.tagName === 'BODY') {\n        const docElm = root.ownerDocument.documentElement;\n        scrollX = root.scrollLeft || docElm.scrollLeft;\n        scrollY = root.scrollTop || docElm.scrollTop;\n      } else {\n        const rootRect = root.getBoundingClientRect();\n        scrollX = root.scrollLeft - rootRect.left;\n        scrollY = root.scrollTop - rootRect.top;\n      }\n      clientRect.left += scrollX;\n      clientRect.right += scrollX;\n      clientRect.top += scrollY;\n      clientRect.bottom += scrollY;\n      clientRect.width = 1;\n      let margin = element.offsetWidth - element.clientWidth;\n      if (margin > 0) {\n        if (before) {\n          margin *= -1;\n        }\n        clientRect.left += margin;\n        clientRect.right += margin;\n      }\n      return clientRect;\n    };\n    const trimInlineCaretContainers = root => {\n      const fakeCaretTargetNodes = descendants(SugarElement.fromDom(root), inlineFakeCaretSelector);\n      for (let i = 0; i < fakeCaretTargetNodes.length; i++) {\n        const node = fakeCaretTargetNodes[i].dom;\n        let sibling = node.previousSibling;\n        if (endsWithCaretContainer$1(sibling)) {\n          const data = sibling.data;\n          if (data.length === 1) {\n            sibling.parentNode.removeChild(sibling);\n          } else {\n            sibling.deleteData(data.length - 1, 1);\n          }\n        }\n        sibling = node.nextSibling;\n        if (startsWithCaretContainer$1(sibling)) {\n          const data = sibling.data;\n          if (data.length === 1) {\n            sibling.parentNode.removeChild(sibling);\n          } else {\n            sibling.deleteData(0, 1);\n          }\n        }\n      }\n    };\n    const FakeCaret = (editor, root, isBlock, hasFocus) => {\n      const lastVisualCaret = value$2();\n      let cursorInterval;\n      let caretContainerNode;\n      const caretBlock = getForcedRootBlock(editor);\n      const dom = editor.dom;\n      const show = (before, element) => {\n        let rng;\n        hide();\n        if (isTableCell$3(element)) {\n          return null;\n        }\n        if (isBlock(element)) {\n          caretContainerNode = insertBlock(caretBlock, element, before);\n          const clientRect = getAbsoluteClientRect(root, element, before);\n          dom.setStyle(caretContainerNode, 'top', clientRect.top);\n          const caret = dom.create('div', {\n            'class': 'mce-visual-caret',\n            'data-mce-bogus': 'all'\n          });\n          dom.setStyles(caret, { ...clientRect });\n          dom.add(root, caret);\n          lastVisualCaret.set({\n            caret,\n            element,\n            before\n          });\n          if (before) {\n            dom.addClass(caret, 'mce-visual-caret-before');\n          }\n          startBlink();\n          rng = element.ownerDocument.createRange();\n          rng.setStart(caretContainerNode, 0);\n          rng.setEnd(caretContainerNode, 0);\n        } else {\n          caretContainerNode = insertInline$1(element, before);\n          rng = element.ownerDocument.createRange();\n          if (isInlineFakeCaretTarget(caretContainerNode.nextSibling)) {\n            rng.setStart(caretContainerNode, 0);\n            rng.setEnd(caretContainerNode, 0);\n          } else {\n            rng.setStart(caretContainerNode, 1);\n            rng.setEnd(caretContainerNode, 1);\n          }\n          return rng;\n        }\n        return rng;\n      };\n      const hide = () => {\n        trimInlineCaretContainers(root);\n        if (caretContainerNode) {\n          remove$4(caretContainerNode);\n          caretContainerNode = null;\n        }\n        lastVisualCaret.on(caretState => {\n          dom.remove(caretState.caret);\n          lastVisualCaret.clear();\n        });\n        if (cursorInterval) {\n          clearInterval(cursorInterval);\n          cursorInterval = undefined;\n        }\n      };\n      const startBlink = () => {\n        cursorInterval = setInterval(() => {\n          lastVisualCaret.on(caretState => {\n            if (hasFocus()) {\n              dom.toggleClass(caretState.caret, 'mce-visual-caret-hidden');\n            } else {\n              dom.addClass(caretState.caret, 'mce-visual-caret-hidden');\n            }\n          });\n        }, 500);\n      };\n      const reposition = () => {\n        lastVisualCaret.on(caretState => {\n          const clientRect = getAbsoluteClientRect(root, caretState.element, caretState.before);\n          dom.setStyles(caretState.caret, { ...clientRect });\n        });\n      };\n      const destroy = () => clearInterval(cursorInterval);\n      const getCss = () => '.mce-visual-caret {' + 'position: absolute;' + 'background-color: black;' + 'background-color: currentcolor;' + '}' + '.mce-visual-caret-hidden {' + 'display: none;' + '}' + '*[data-mce-caret] {' + 'position: absolute;' + 'left: -1000px;' + 'right: auto;' + 'top: 0;' + 'margin: 0;' + 'padding: 0;' + '}';\n      return {\n        show,\n        hide,\n        getCss,\n        reposition,\n        destroy\n      };\n    };\n    const isFakeCaretTableBrowser = () => Env.browser.isFirefox();\n    const isInlineFakeCaretTarget = node => isContentEditableFalse$8(node) || isMedia$1(node);\n    const isFakeCaretTarget = node => isInlineFakeCaretTarget(node) || isTable$3(node) && isFakeCaretTableBrowser();\n\n    const isContentEditableTrue$3 = isContentEditableTrue$5;\n    const isContentEditableFalse$7 = isContentEditableFalse$b;\n    const isMedia = isMedia$2;\n    const isBlockLike = matchStyleValues('display', 'block table table-cell table-caption list-item');\n    const isCaretContainer = isCaretContainer$2;\n    const isCaretContainerBlock = isCaretContainerBlock$1;\n    const isElement$2 = isElement$6;\n    const isCaretCandidate$1 = isCaretCandidate$3;\n    const isForwards = direction => direction > 0;\n    const isBackwards = direction => direction < 0;\n    const skipCaretContainers = (walk, shallow) => {\n      let node;\n      while (node = walk(shallow)) {\n        if (!isCaretContainerBlock(node)) {\n          return node;\n        }\n      }\n      return null;\n    };\n    const findNode = (node, direction, predicateFn, rootNode, shallow) => {\n      const walker = new DomTreeWalker(node, rootNode);\n      const isCefOrCaretContainer = isContentEditableFalse$7(node) || isCaretContainerBlock(node);\n      if (isBackwards(direction)) {\n        if (isCefOrCaretContainer) {\n          node = skipCaretContainers(walker.prev.bind(walker), true);\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n        while (node = skipCaretContainers(walker.prev.bind(walker), shallow)) {\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n      }\n      if (isForwards(direction)) {\n        if (isCefOrCaretContainer) {\n          node = skipCaretContainers(walker.next.bind(walker), true);\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n        while (node = skipCaretContainers(walker.next.bind(walker), shallow)) {\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n      }\n      return null;\n    };\n    const getEditingHost = (node, rootNode) => {\n      const isCETrue = node => isContentEditableTrue$3(node.dom);\n      const isRoot = node => node.dom === rootNode;\n      return ancestor$3(SugarElement.fromDom(node), isCETrue, isRoot).map(elm => elm.dom).getOr(rootNode);\n    };\n    const getParentBlock$3 = (node, rootNode) => {\n      while (node && node !== rootNode) {\n        if (isBlockLike(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    const isInSameBlock = (caretPosition1, caretPosition2, rootNode) => getParentBlock$3(caretPosition1.container(), rootNode) === getParentBlock$3(caretPosition2.container(), rootNode);\n    const getChildNodeAtRelativeOffset = (relativeOffset, caretPosition) => {\n      if (!caretPosition) {\n        return null;\n      }\n      const container = caretPosition.container();\n      const offset = caretPosition.offset();\n      if (!isElement$2(container)) {\n        return null;\n      }\n      return container.childNodes[offset + relativeOffset];\n    };\n    const beforeAfter = (before, node) => {\n      const range = node.ownerDocument.createRange();\n      if (before) {\n        range.setStartBefore(node);\n        range.setEndBefore(node);\n      } else {\n        range.setStartAfter(node);\n        range.setEndAfter(node);\n      }\n      return range;\n    };\n    const isNodesInSameBlock = (root, node1, node2) => getParentBlock$3(node1, root) === getParentBlock$3(node2, root);\n    const lean = (left, root, node) => {\n      const siblingName = left ? 'previousSibling' : 'nextSibling';\n      while (node && node !== root) {\n        let sibling = node[siblingName];\n        if (isCaretContainer(sibling)) {\n          sibling = sibling[siblingName];\n        }\n        if (isContentEditableFalse$7(sibling) || isMedia(sibling)) {\n          if (isNodesInSameBlock(root, sibling, node)) {\n            return sibling;\n          }\n          break;\n        }\n        if (isCaretCandidate$1(sibling)) {\n          break;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    const before$2 = curry(beforeAfter, true);\n    const after$2 = curry(beforeAfter, false);\n    const normalizeRange = (direction, root, range) => {\n      let node;\n      const leanLeft = curry(lean, true, root);\n      const leanRight = curry(lean, false, root);\n      let container = range.startContainer;\n      const offset = range.startOffset;\n      if (isCaretContainerBlock$1(container)) {\n        if (!isElement$2(container)) {\n          container = container.parentNode;\n        }\n        const location = container.getAttribute('data-mce-caret');\n        if (location === 'before') {\n          node = container.nextSibling;\n          if (isFakeCaretTarget(node)) {\n            return before$2(node);\n          }\n        }\n        if (location === 'after') {\n          node = container.previousSibling;\n          if (isFakeCaretTarget(node)) {\n            return after$2(node);\n          }\n        }\n      }\n      if (!range.collapsed) {\n        return range;\n      }\n      if (isText$9(container)) {\n        if (isCaretContainer(container)) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n          }\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (endsWithCaretContainer$1(container) && offset >= container.data.length - 1) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (startsWithCaretContainer$1(container) && offset <= 1) {\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n          }\n          return range;\n        }\n        if (offset === container.data.length) {\n          node = leanRight(container);\n          if (node) {\n            return before$2(node);\n          }\n          return range;\n        }\n        if (offset === 0) {\n          node = leanLeft(container);\n          if (node) {\n            return after$2(node);\n          }\n          return range;\n        }\n      }\n      return range;\n    };\n    const getRelativeCefElm = (forward, caretPosition) => Optional.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, caretPosition)).filter(isContentEditableFalse$7);\n    const getNormalizedRangeEndPoint = (direction, root, range) => {\n      const normalizedRange = normalizeRange(direction, root, range);\n      if (direction === -1) {\n        return CaretPosition.fromRangeStart(normalizedRange);\n      }\n      return CaretPosition.fromRangeEnd(normalizedRange);\n    };\n    const getElementFromPosition = pos => Optional.from(pos.getNode()).map(SugarElement.fromDom);\n    const getElementFromPrevPosition = pos => Optional.from(pos.getNode(true)).map(SugarElement.fromDom);\n    const getVisualCaretPosition = (walkFn, caretPosition) => {\n      while (caretPosition = walkFn(caretPosition)) {\n        if (caretPosition.isVisible()) {\n          return caretPosition;\n        }\n      }\n      return caretPosition;\n    };\n    const isMoveInsideSameBlock = (from, to) => {\n      const inSameBlock = isInSameBlock(from, to);\n      if (!inSameBlock && isBr$6(from.getNode())) {\n        return true;\n      }\n      return inSameBlock;\n    };\n\n    var HDirection;\n    (function (HDirection) {\n      HDirection[HDirection['Backwards'] = -1] = 'Backwards';\n      HDirection[HDirection['Forwards'] = 1] = 'Forwards';\n    }(HDirection || (HDirection = {})));\n    const isContentEditableFalse$6 = isContentEditableFalse$b;\n    const isText$3 = isText$9;\n    const isElement$1 = isElement$6;\n    const isBr$2 = isBr$6;\n    const isCaretCandidate = isCaretCandidate$3;\n    const isAtomic = isAtomic$1;\n    const isEditableCaretCandidate = isEditableCaretCandidate$1;\n    const getParents$3 = (node, root) => {\n      const parents = [];\n      while (node && node !== root) {\n        parents.push(node);\n        node = node.parentNode;\n      }\n      return parents;\n    };\n    const nodeAtIndex = (container, offset) => {\n      if (container.hasChildNodes() && offset < container.childNodes.length) {\n        return container.childNodes[offset];\n      }\n      return null;\n    };\n    const getCaretCandidatePosition = (direction, node) => {\n      if (isForwards(direction)) {\n        if (isCaretCandidate(node.previousSibling) && !isText$3(node.previousSibling)) {\n          return CaretPosition.before(node);\n        }\n        if (isText$3(node)) {\n          return CaretPosition(node, 0);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isCaretCandidate(node.nextSibling) && !isText$3(node.nextSibling)) {\n          return CaretPosition.after(node);\n        }\n        if (isText$3(node)) {\n          return CaretPosition(node, node.data.length);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isBr$2(node)) {\n          return CaretPosition.before(node);\n        }\n        return CaretPosition.after(node);\n      }\n      return CaretPosition.before(node);\n    };\n    const moveForwardFromBr = (root, nextNode) => {\n      const nextSibling = nextNode.nextSibling;\n      if (nextSibling && isCaretCandidate(nextSibling)) {\n        if (isText$3(nextSibling)) {\n          return CaretPosition(nextSibling, 0);\n        } else {\n          return CaretPosition.before(nextSibling);\n        }\n      } else {\n        return findCaretPosition$1(HDirection.Forwards, CaretPosition.after(nextNode), root);\n      }\n    };\n    const findCaretPosition$1 = (direction, startPos, root) => {\n      let node;\n      let nextNode;\n      let innerNode;\n      let caretPosition;\n      if (!isElement$1(root) || !startPos) {\n        return null;\n      }\n      if (startPos.isEqual(CaretPosition.after(root)) && root.lastChild) {\n        caretPosition = CaretPosition.after(root.lastChild);\n        if (isBackwards(direction) && isCaretCandidate(root.lastChild) && isElement$1(root.lastChild)) {\n          return isBr$2(root.lastChild) ? CaretPosition.before(root.lastChild) : caretPosition;\n        }\n      } else {\n        caretPosition = startPos;\n      }\n      const container = caretPosition.container();\n      let offset = caretPosition.offset();\n      if (isText$3(container)) {\n        if (isBackwards(direction) && offset > 0) {\n          return CaretPosition(container, --offset);\n        }\n        if (isForwards(direction) && offset < container.length) {\n          return CaretPosition(container, ++offset);\n        }\n        node = container;\n      } else {\n        if (isBackwards(direction) && offset > 0) {\n          nextNode = nodeAtIndex(container, offset - 1);\n          if (isCaretCandidate(nextNode)) {\n            if (!isAtomic(nextNode)) {\n              innerNode = findNode(nextNode, direction, isEditableCaretCandidate, nextNode);\n              if (innerNode) {\n                if (isText$3(innerNode)) {\n                  return CaretPosition(innerNode, innerNode.data.length);\n                }\n                return CaretPosition.after(innerNode);\n              }\n            }\n            if (isText$3(nextNode)) {\n              return CaretPosition(nextNode, nextNode.data.length);\n            }\n            return CaretPosition.before(nextNode);\n          }\n        }\n        if (isForwards(direction) && offset < container.childNodes.length) {\n          nextNode = nodeAtIndex(container, offset);\n          if (isCaretCandidate(nextNode)) {\n            if (isBr$2(nextNode)) {\n              return moveForwardFromBr(root, nextNode);\n            }\n            if (!isAtomic(nextNode)) {\n              innerNode = findNode(nextNode, direction, isEditableCaretCandidate, nextNode);\n              if (innerNode) {\n                if (isText$3(innerNode)) {\n                  return CaretPosition(innerNode, 0);\n                }\n                return CaretPosition.before(innerNode);\n              }\n            }\n            if (isText$3(nextNode)) {\n              return CaretPosition(nextNode, 0);\n            }\n            return CaretPosition.after(nextNode);\n          }\n        }\n        node = nextNode ? nextNode : caretPosition.getNode();\n      }\n      if (isForwards(direction) && caretPosition.isAtEnd() || isBackwards(direction) && caretPosition.isAtStart()) {\n        node = findNode(node, direction, always, root, true);\n        if (isEditableCaretCandidate(node, root)) {\n          return getCaretCandidatePosition(direction, node);\n        }\n      }\n      nextNode = findNode(node, direction, isEditableCaretCandidate, root);\n      const rootContentEditableFalseElm = last$2(filter$6(getParents$3(container, root), isContentEditableFalse$6));\n      if (rootContentEditableFalseElm && (!nextNode || !rootContentEditableFalseElm.contains(nextNode))) {\n        if (isForwards(direction)) {\n          caretPosition = CaretPosition.after(rootContentEditableFalseElm);\n        } else {\n          caretPosition = CaretPosition.before(rootContentEditableFalseElm);\n        }\n        return caretPosition;\n      }\n      if (nextNode) {\n        return getCaretCandidatePosition(direction, nextNode);\n      }\n      return null;\n    };\n    const CaretWalker = root => ({\n      next: caretPosition => {\n        return findCaretPosition$1(HDirection.Forwards, caretPosition, root);\n      },\n      prev: caretPosition => {\n        return findCaretPosition$1(HDirection.Backwards, caretPosition, root);\n      }\n    });\n\n    const walkToPositionIn = (forward, root, start) => {\n      const position = forward ? CaretPosition.before(start) : CaretPosition.after(start);\n      return fromPosition(forward, root, position);\n    };\n    const afterElement = node => isBr$6(node) ? CaretPosition.before(node) : CaretPosition.after(node);\n    const isBeforeOrStart = position => {\n      if (CaretPosition.isTextPosition(position)) {\n        return position.offset() === 0;\n      } else {\n        return isCaretCandidate$3(position.getNode());\n      }\n    };\n    const isAfterOrEnd = position => {\n      if (CaretPosition.isTextPosition(position)) {\n        const container = position.container();\n        return position.offset() === container.data.length;\n      } else {\n        return isCaretCandidate$3(position.getNode(true));\n      }\n    };\n    const isBeforeAfterSameElement = (from, to) => !CaretPosition.isTextPosition(from) && !CaretPosition.isTextPosition(to) && from.getNode() === to.getNode(true);\n    const isAtBr = position => !CaretPosition.isTextPosition(position) && isBr$6(position.getNode());\n    const shouldSkipPosition = (forward, from, to) => {\n      if (forward) {\n        return !isBeforeAfterSameElement(from, to) && !isAtBr(from) && isAfterOrEnd(from) && isBeforeOrStart(to);\n      } else {\n        return !isBeforeAfterSameElement(to, from) && isBeforeOrStart(from) && isAfterOrEnd(to);\n      }\n    };\n    const fromPosition = (forward, root, pos) => {\n      const walker = CaretWalker(root);\n      return Optional.from(forward ? walker.next(pos) : walker.prev(pos));\n    };\n    const navigate = (forward, root, from) => fromPosition(forward, root, from).bind(to => {\n      if (isInSameBlock(from, to, root) && shouldSkipPosition(forward, from, to)) {\n        return fromPosition(forward, root, to);\n      } else {\n        return Optional.some(to);\n      }\n    });\n    const navigateIgnore = (forward, root, from, ignoreFilter) => navigate(forward, root, from).bind(pos => ignoreFilter(pos) ? navigateIgnore(forward, root, pos, ignoreFilter) : Optional.some(pos));\n    const positionIn = (forward, element) => {\n      const startNode = forward ? element.firstChild : element.lastChild;\n      if (isText$9(startNode)) {\n        return Optional.some(CaretPosition(startNode, forward ? 0 : startNode.data.length));\n      } else if (startNode) {\n        if (isCaretCandidate$3(startNode)) {\n          return Optional.some(forward ? CaretPosition.before(startNode) : afterElement(startNode));\n        } else {\n          return walkToPositionIn(forward, element, startNode);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    const nextPosition = curry(fromPosition, true);\n    const prevPosition = curry(fromPosition, false);\n    const firstPositionIn = curry(positionIn, true);\n    const lastPositionIn = curry(positionIn, false);\n\n    const CARET_ID$1 = '_mce_caret';\n    const isCaretNode = node => isElement$6(node) && node.id === CARET_ID$1;\n    const getParentCaretContainer = (body, node) => {\n      while (node && node !== body) {\n        if (node.id === CARET_ID$1) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    const isStringPathBookmark = bookmark => isString(bookmark.start);\n    const isRangeBookmark = bookmark => has$2(bookmark, 'rng');\n    const isIdBookmark = bookmark => has$2(bookmark, 'id');\n    const isIndexBookmark = bookmark => has$2(bookmark, 'name');\n    const isPathBookmark = bookmark => Tools.isArray(bookmark.start);\n\n    const isForwardBookmark = bookmark => !isIndexBookmark(bookmark) && isBoolean(bookmark.forward) ? bookmark.forward : true;\n    const addBogus = (dom, node) => {\n      if (isElement$6(node) && dom.isBlock(node) && !node.innerHTML) {\n        node.innerHTML = '<br data-mce-bogus=\"1\" />';\n      }\n      return node;\n    };\n    const resolveCaretPositionBookmark = (dom, bookmark) => {\n      const range = dom.createRng();\n      const startPos = resolve$1(dom.getRoot(), bookmark.start);\n      range.setStart(startPos.container(), startPos.offset());\n      const endPos = resolve$1(dom.getRoot(), bookmark.end);\n      range.setEnd(endPos.container(), endPos.offset());\n      return {\n        range,\n        forward: isForwardBookmark(bookmark)\n      };\n    };\n    const insertZwsp = (node, rng) => {\n      const textNode = node.ownerDocument.createTextNode(ZWSP$1);\n      node.appendChild(textNode);\n      rng.setStart(textNode, 0);\n      rng.setEnd(textNode, 0);\n    };\n    const isEmpty$1 = node => node.hasChildNodes() === false;\n    const tryFindRangePosition = (node, rng) => lastPositionIn(node).fold(never, pos => {\n      rng.setStart(pos.container(), pos.offset());\n      rng.setEnd(pos.container(), pos.offset());\n      return true;\n    });\n    const padEmptyCaretContainer = (root, node, rng) => {\n      if (isEmpty$1(node) && getParentCaretContainer(root, node)) {\n        insertZwsp(node, rng);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const setEndPoint = (dom, start, bookmark, rng) => {\n      const point = bookmark[start ? 'start' : 'end'];\n      let i, node, offset, children;\n      const root = dom.getRoot();\n      if (point) {\n        offset = point[0];\n        for (node = root, i = point.length - 1; i >= 1; i--) {\n          children = node.childNodes;\n          if (padEmptyCaretContainer(root, node, rng)) {\n            return true;\n          }\n          if (point[i] > children.length - 1) {\n            if (padEmptyCaretContainer(root, node, rng)) {\n              return true;\n            }\n            return tryFindRangePosition(node, rng);\n          }\n          node = children[point[i]];\n        }\n        if (node.nodeType === 3) {\n          offset = Math.min(point[0], node.nodeValue.length);\n        }\n        if (node.nodeType === 1) {\n          offset = Math.min(point[0], node.childNodes.length);\n        }\n        if (start) {\n          rng.setStart(node, offset);\n        } else {\n          rng.setEnd(node, offset);\n        }\n      }\n      return true;\n    };\n    const isValidTextNode = node => isText$9(node) && node.data.length > 0;\n    const restoreEndPoint = (dom, suffix, bookmark) => {\n      let marker = dom.get(bookmark.id + '_' + suffix), node, idx, next, prev;\n      const keep = bookmark.keep;\n      let container, offset;\n      if (marker) {\n        node = marker.parentNode;\n        if (suffix === 'start') {\n          if (!keep) {\n            idx = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              node = marker.firstChild;\n              idx = 1;\n            } else if (isValidTextNode(marker.nextSibling)) {\n              node = marker.nextSibling;\n              idx = 0;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              node = marker.previousSibling;\n              idx = marker.previousSibling.data.length;\n            } else {\n              node = marker.parentNode;\n              idx = dom.nodeIndex(marker) + 1;\n            }\n          }\n          container = node;\n          offset = idx;\n        } else {\n          if (!keep) {\n            idx = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              node = marker.firstChild;\n              idx = 1;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              node = marker.previousSibling;\n              idx = marker.previousSibling.data.length;\n            } else {\n              node = marker.parentNode;\n              idx = dom.nodeIndex(marker);\n            }\n          }\n          container = node;\n          offset = idx;\n        }\n        if (!keep) {\n          prev = marker.previousSibling;\n          next = marker.nextSibling;\n          Tools.each(Tools.grep(marker.childNodes), node => {\n            if (isText$9(node)) {\n              node.nodeValue = node.nodeValue.replace(/\\uFEFF/g, '');\n            }\n          });\n          while (marker = dom.get(bookmark.id + '_' + suffix)) {\n            dom.remove(marker, true);\n          }\n          if (prev && next && prev.nodeType === next.nodeType && isText$9(prev) && !Env.browser.isOpera()) {\n            idx = prev.nodeValue.length;\n            prev.appendData(next.nodeValue);\n            dom.remove(next);\n            container = prev;\n            offset = idx;\n          }\n        }\n        return Optional.some(CaretPosition(container, offset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const resolvePaths = (dom, bookmark) => {\n      const range = dom.createRng();\n      if (setEndPoint(dom, true, bookmark, range) && setEndPoint(dom, false, bookmark, range)) {\n        return Optional.some({\n          range,\n          forward: isForwardBookmark(bookmark)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const resolveId = (dom, bookmark) => {\n      const startPos = restoreEndPoint(dom, 'start', bookmark);\n      const endPos = restoreEndPoint(dom, 'end', bookmark);\n      return lift2(startPos, endPos.or(startPos), (spos, epos) => {\n        const range = dom.createRng();\n        range.setStart(addBogus(dom, spos.container()), spos.offset());\n        range.setEnd(addBogus(dom, epos.container()), epos.offset());\n        return {\n          range,\n          forward: isForwardBookmark(bookmark)\n        };\n      });\n    };\n    const resolveIndex = (dom, bookmark) => Optional.from(dom.select(bookmark.name)[bookmark.index]).map(elm => {\n      const range = dom.createRng();\n      range.selectNode(elm);\n      return {\n        range,\n        forward: true\n      };\n    });\n    const resolve = (selection, bookmark) => {\n      const dom = selection.dom;\n      if (bookmark) {\n        if (isPathBookmark(bookmark)) {\n          return resolvePaths(dom, bookmark);\n        } else if (isStringPathBookmark(bookmark)) {\n          return Optional.some(resolveCaretPositionBookmark(dom, bookmark));\n        } else if (isIdBookmark(bookmark)) {\n          return resolveId(dom, bookmark);\n        } else if (isIndexBookmark(bookmark)) {\n          return resolveIndex(dom, bookmark);\n        } else if (isRangeBookmark(bookmark)) {\n          return Optional.some({\n            range: bookmark.rng,\n            forward: isForwardBookmark(bookmark)\n          });\n        }\n      }\n      return Optional.none();\n    };\n\n    const getBookmark$1 = (selection, type, normalized) => {\n      return getBookmark$2(selection, type, normalized);\n    };\n    const moveToBookmark = (selection, bookmark) => {\n      resolve(selection, bookmark).each(({range, forward}) => {\n        selection.setRng(range, forward);\n      });\n    };\n    const isBookmarkNode$1 = node => {\n      return isElement$6(node) && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\n    };\n\n    const is = expected => actual => expected === actual;\n    const isNbsp = is(nbsp);\n    const isWhiteSpace = chr => chr !== '' && ' \\f\\n\\r\\t\\x0B'.indexOf(chr) !== -1;\n    const isContent = chr => !isWhiteSpace(chr) && !isNbsp(chr) && !isZwsp$1(chr);\n\n    const hexColour = value => ({ value });\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n\n    const rgbaToHexString = color => fromString(color).map(fromRgba).map(h => '#' + h.value).getOr(color);\n\n    const isNode = node => !!node.nodeType;\n    const isInlineBlock = node => {\n      return node && /^(IMG)$/.test(node.nodeName);\n    };\n    const moveStart = (dom, selection, rng) => {\n      const offset = rng.startOffset;\n      let container = rng.startContainer;\n      if (container === rng.endContainer) {\n        if (isInlineBlock(container.childNodes[offset])) {\n          return;\n        }\n      }\n      if (isElement$6(container)) {\n        const nodes = container.childNodes;\n        let walker;\n        if (offset < nodes.length) {\n          container = nodes[offset];\n          walker = new DomTreeWalker(container, dom.getParent(container, dom.isBlock));\n        } else {\n          container = nodes[nodes.length - 1];\n          walker = new DomTreeWalker(container, dom.getParent(container, dom.isBlock));\n          walker.next(true);\n        }\n        for (let node = walker.current(); node; node = walker.next()) {\n          if (isText$9(node) && !isWhiteSpaceNode$1(node)) {\n            rng.setStart(node, 0);\n            selection.setRng(rng);\n            return;\n          }\n        }\n      }\n    };\n    const getNonWhiteSpaceSibling = (node, next, inc) => {\n      if (node) {\n        const nextName = next ? 'nextSibling' : 'previousSibling';\n        for (node = inc ? node : node[nextName]; node; node = node[nextName]) {\n          if (isElement$6(node) || !isWhiteSpaceNode$1(node)) {\n            return node;\n          }\n        }\n      }\n    };\n    const isTextBlock$1 = (editor, name) => {\n      if (isNode(name)) {\n        name = name.nodeName;\n      }\n      return !!editor.schema.getTextBlockElements()[name.toLowerCase()];\n    };\n    const isValid = (ed, parent, child) => {\n      return ed.schema.isValidChild(parent, child);\n    };\n    const isWhiteSpaceNode$1 = (node, allowSpaces = false) => {\n      if (isNonNullable(node) && isText$9(node)) {\n        const data = allowSpaces ? node.data.replace(/ /g, '\\xA0') : node.data;\n        return isWhitespaceText(data);\n      } else {\n        return false;\n      }\n    };\n    const isEmptyTextNode$1 = node => {\n      return isNonNullable(node) && isText$9(node) && node.length === 0;\n    };\n    const replaceVars = (value, vars) => {\n      if (isFunction(value)) {\n        value = value(vars);\n      } else if (isNonNullable(vars)) {\n        value = value.replace(/%(\\w+)/g, (str, name) => {\n          return vars[name] || str;\n        });\n      }\n      return value;\n    };\n    const isEq$5 = (str1, str2) => {\n      str1 = str1 || '';\n      str2 = str2 || '';\n      str1 = '' + (str1.nodeName || str1);\n      str2 = '' + (str2.nodeName || str2);\n      return str1.toLowerCase() === str2.toLowerCase();\n    };\n    const normalizeStyleValue = (value, name) => {\n      if (name === 'color' || name === 'backgroundColor') {\n        value = rgbaToHexString(value);\n      }\n      if (name === 'fontWeight' && value === 700) {\n        value = 'bold';\n      }\n      if (name === 'fontFamily') {\n        value = value.replace(/[\\'\\\"]/g, '').replace(/,\\s+/g, ',');\n      }\n      return '' + value;\n    };\n    const getStyle = (dom, node, name) => {\n      return normalizeStyleValue(dom.getStyle(node, name), name);\n    };\n    const getTextDecoration = (dom, node) => {\n      let decoration;\n      dom.getParent(node, n => {\n        decoration = dom.getStyle(n, 'text-decoration');\n        return decoration && decoration !== 'none';\n      });\n      return decoration;\n    };\n    const getParents$2 = (dom, node, selector) => {\n      return dom.getParents(node, selector, dom.getRoot());\n    };\n    const isVariableFormatName = (editor, formatName) => {\n      const hasVariableValues = format => {\n        const isVariableValue = val => val.length > 1 && val.charAt(0) === '%';\n        return exists([\n          'styles',\n          'attributes'\n        ], key => get$a(format, key).exists(field => {\n          const fieldValues = isArray$1(field) ? field : values(field);\n          return exists(fieldValues, isVariableValue);\n        }));\n      };\n      return exists(editor.formatter.get(formatName), hasVariableValues);\n    };\n    const areSimilarFormats = (editor, formatName, otherFormatName) => {\n      const validKeys = [\n        'inline',\n        'block',\n        'selector',\n        'attributes',\n        'styles',\n        'classes'\n      ];\n      const filterObj = format => filter$5(format, (_, key) => exists(validKeys, validKey => validKey === key));\n      return exists(editor.formatter.get(formatName), fmt1 => {\n        const filteredFmt1 = filterObj(fmt1);\n        return exists(editor.formatter.get(otherFormatName), fmt2 => {\n          const filteredFmt2 = filterObj(fmt2);\n          return equal$1(filteredFmt1, filteredFmt2);\n        });\n      });\n    };\n    const isBlockFormat = format => hasNonNullableKey(format, 'block');\n    const isSelectorFormat = format => hasNonNullableKey(format, 'selector');\n    const isInlineFormat = format => hasNonNullableKey(format, 'inline');\n    const isMixedFormat = format => isSelectorFormat(format) && isInlineFormat(format) && is$2(get$a(format, 'mixed'), true);\n    const shouldExpandToSelector = format => isSelectorFormat(format) && format.expand !== false && !isInlineFormat(format);\n\n    const isBookmarkNode = isBookmarkNode$1;\n    const getParents$1 = getParents$2;\n    const isWhiteSpaceNode = isWhiteSpaceNode$1;\n    const isTextBlock = isTextBlock$1;\n    const isBogusBr = node => {\n      return isBr$6(node) && node.getAttribute('data-mce-bogus') && !node.nextSibling;\n    };\n    const findParentContentEditable = (dom, node) => {\n      let parent = node;\n      while (parent) {\n        if (isElement$6(parent) && dom.getContentEditable(parent)) {\n          return dom.getContentEditable(parent) === 'false' ? parent : node;\n        }\n        parent = parent.parentNode;\n      }\n      return node;\n    };\n    const walkText = (start, node, offset, predicate) => {\n      const str = node.data;\n      for (let i = offset; start ? i >= 0 : i < str.length; start ? i-- : i++) {\n        if (predicate(str.charAt(i))) {\n          return start ? i + 1 : i;\n        }\n      }\n      return -1;\n    };\n    const findSpace = (start, node, offset) => walkText(start, node, offset, c => isNbsp(c) || isWhiteSpace(c));\n    const findContent = (start, node, offset) => walkText(start, node, offset, isContent);\n    const findWordEndPoint = (dom, body, container, offset, start, includeTrailingSpaces) => {\n      let lastTextNode;\n      const rootNode = dom.getParent(container, dom.isBlock) || body;\n      const walk = (container, offset, pred) => {\n        const textSeeker = TextSeeker(dom);\n        const walker = start ? textSeeker.backwards : textSeeker.forwards;\n        return Optional.from(walker(container, offset, (text, textOffset) => {\n          if (isBookmarkNode(text.parentNode)) {\n            return -1;\n          } else {\n            lastTextNode = text;\n            return pred(start, text, textOffset);\n          }\n        }, rootNode));\n      };\n      const spaceResult = walk(container, offset, findSpace);\n      return spaceResult.bind(result => includeTrailingSpaces ? walk(result.container, result.offset + (start ? -1 : 0), findContent) : Optional.some(result)).orThunk(() => lastTextNode ? Optional.some({\n        container: lastTextNode,\n        offset: start ? 0 : lastTextNode.length\n      }) : Optional.none());\n    };\n    const findSelectorEndPoint = (dom, formatList, rng, container, siblingName) => {\n      if (isText$9(container) && isEmpty$3(container.data) && container[siblingName]) {\n        container = container[siblingName];\n      }\n      const parents = getParents$1(dom, container);\n      for (let i = 0; i < parents.length; i++) {\n        for (let y = 0; y < formatList.length; y++) {\n          const curFormat = formatList[y];\n          if (isNonNullable(curFormat.collapsed) && curFormat.collapsed !== rng.collapsed) {\n            continue;\n          }\n          if (isSelectorFormat(curFormat) && dom.is(parents[i], curFormat.selector)) {\n            return parents[i];\n          }\n        }\n      }\n      return container;\n    };\n    const findBlockEndPoint = (editor, formatList, container, siblingName) => {\n      let node = container;\n      const dom = editor.dom;\n      const root = dom.getRoot();\n      const format = formatList[0];\n      if (isBlockFormat(format)) {\n        node = format.wrapper ? null : dom.getParent(container, format.block, root);\n      }\n      if (!node) {\n        const scopeRoot = dom.getParent(container, 'LI,TD,TH');\n        node = dom.getParent(isText$9(container) ? container.parentNode : container, node => node !== root && isTextBlock(editor, node), scopeRoot);\n      }\n      if (node && isBlockFormat(format) && format.wrapper) {\n        node = getParents$1(dom, node, 'ul,ol').reverse()[0] || node;\n      }\n      if (!node) {\n        node = container;\n        while (node[siblingName] && !dom.isBlock(node[siblingName])) {\n          node = node[siblingName];\n          if (isEq$5(node, 'br')) {\n            break;\n          }\n        }\n      }\n      return node || container;\n    };\n    const isAtBlockBoundary$1 = (dom, root, container, siblingName) => {\n      const parent = container.parentNode;\n      if (isNonNullable(container[siblingName])) {\n        return false;\n      } else if (parent === root || isNullable(parent) || dom.isBlock(parent)) {\n        return true;\n      } else {\n        return isAtBlockBoundary$1(dom, root, parent, siblingName);\n      }\n    };\n    const findParentContainer = (dom, formatList, container, offset, start) => {\n      let parent = container;\n      const siblingName = start ? 'previousSibling' : 'nextSibling';\n      const root = dom.getRoot();\n      if (isText$9(container) && !isWhiteSpaceNode(container)) {\n        if (start ? offset > 0 : offset < container.data.length) {\n          return container;\n        }\n      }\n      while (true) {\n        if (!formatList[0].block_expand && dom.isBlock(parent)) {\n          return parent;\n        }\n        for (let sibling = parent[siblingName]; sibling; sibling = sibling[siblingName]) {\n          const allowSpaces = isText$9(sibling) && !isAtBlockBoundary$1(dom, root, sibling, siblingName);\n          if (!isBookmarkNode(sibling) && !isBogusBr(sibling) && !isWhiteSpaceNode(sibling, allowSpaces)) {\n            return parent;\n          }\n        }\n        if (parent === root || parent.parentNode === root) {\n          container = parent;\n          break;\n        }\n        parent = parent.parentNode;\n      }\n      return container;\n    };\n    const isSelfOrParentBookmark = container => isBookmarkNode(container.parentNode) || isBookmarkNode(container);\n    const expandRng = (editor, rng, formatList, includeTrailingSpace = false) => {\n      let {startContainer, startOffset, endContainer, endOffset} = rng;\n      const dom = editor.dom;\n      const format = formatList[0];\n      if (isElement$6(startContainer) && startContainer.hasChildNodes()) {\n        startContainer = getNode$1(startContainer, startOffset);\n        if (isText$9(startContainer)) {\n          startOffset = 0;\n        }\n      }\n      if (isElement$6(endContainer) && endContainer.hasChildNodes()) {\n        endContainer = getNode$1(endContainer, rng.collapsed ? endOffset : endOffset - 1);\n        if (isText$9(endContainer)) {\n          endOffset = endContainer.nodeValue.length;\n        }\n      }\n      startContainer = findParentContentEditable(dom, startContainer);\n      endContainer = findParentContentEditable(dom, endContainer);\n      if (isSelfOrParentBookmark(startContainer)) {\n        startContainer = isBookmarkNode(startContainer) ? startContainer : startContainer.parentNode;\n        if (rng.collapsed) {\n          startContainer = startContainer.previousSibling || startContainer;\n        } else {\n          startContainer = startContainer.nextSibling || startContainer;\n        }\n        if (isText$9(startContainer)) {\n          startOffset = rng.collapsed ? startContainer.length : 0;\n        }\n      }\n      if (isSelfOrParentBookmark(endContainer)) {\n        endContainer = isBookmarkNode(endContainer) ? endContainer : endContainer.parentNode;\n        if (rng.collapsed) {\n          endContainer = endContainer.nextSibling || endContainer;\n        } else {\n          endContainer = endContainer.previousSibling || endContainer;\n        }\n        if (isText$9(endContainer)) {\n          endOffset = rng.collapsed ? 0 : endContainer.length;\n        }\n      }\n      if (rng.collapsed) {\n        const startPoint = findWordEndPoint(dom, editor.getBody(), startContainer, startOffset, true, includeTrailingSpace);\n        startPoint.each(({container, offset}) => {\n          startContainer = container;\n          startOffset = offset;\n        });\n        const endPoint = findWordEndPoint(dom, editor.getBody(), endContainer, endOffset, false, includeTrailingSpace);\n        endPoint.each(({container, offset}) => {\n          endContainer = container;\n          endOffset = offset;\n        });\n      }\n      if (isInlineFormat(format) || format.block_expand) {\n        if (!isInlineFormat(format) || (!isText$9(startContainer) || startOffset === 0)) {\n          startContainer = findParentContainer(dom, formatList, startContainer, startOffset, true);\n        }\n        if (!isInlineFormat(format) || (!isText$9(endContainer) || endOffset === endContainer.nodeValue.length)) {\n          endContainer = findParentContainer(dom, formatList, endContainer, endOffset, false);\n        }\n      }\n      if (shouldExpandToSelector(format)) {\n        startContainer = findSelectorEndPoint(dom, formatList, rng, startContainer, 'previousSibling');\n        endContainer = findSelectorEndPoint(dom, formatList, rng, endContainer, 'nextSibling');\n      }\n      if (isBlockFormat(format) || isSelectorFormat(format)) {\n        startContainer = findBlockEndPoint(editor, formatList, startContainer, 'previousSibling');\n        endContainer = findBlockEndPoint(editor, formatList, endContainer, 'nextSibling');\n        if (isBlockFormat(format)) {\n          if (!dom.isBlock(startContainer)) {\n            startContainer = findParentContainer(dom, formatList, startContainer, startOffset, true);\n          }\n          if (!dom.isBlock(endContainer)) {\n            endContainer = findParentContainer(dom, formatList, endContainer, endOffset, false);\n          }\n        }\n      }\n      if (isElement$6(startContainer)) {\n        startOffset = dom.nodeIndex(startContainer);\n        startContainer = startContainer.parentNode;\n      }\n      if (isElement$6(endContainer)) {\n        endOffset = dom.nodeIndex(endContainer) + 1;\n        endContainer = endContainer.parentNode;\n      }\n      return {\n        startContainer,\n        startOffset,\n        endContainer,\n        endOffset\n      };\n    };\n\n    const walk$3 = (dom, rng, callback) => {\n      const startOffset = rng.startOffset;\n      const startContainer = getNode$1(rng.startContainer, startOffset);\n      const endOffset = rng.endOffset;\n      const endContainer = getNode$1(rng.endContainer, endOffset - 1);\n      const exclude = nodes => {\n        const firstNode = nodes[0];\n        if (isText$9(firstNode) && firstNode === startContainer && startOffset >= firstNode.data.length) {\n          nodes.splice(0, 1);\n        }\n        const lastNode = nodes[nodes.length - 1];\n        if (endOffset === 0 && nodes.length > 0 && lastNode === endContainer && isText$9(lastNode)) {\n          nodes.splice(nodes.length - 1, 1);\n        }\n        return nodes;\n      };\n      const collectSiblings = (node, name, endNode) => {\n        const siblings = [];\n        for (; node && node !== endNode; node = node[name]) {\n          siblings.push(node);\n        }\n        return siblings;\n      };\n      const findEndPoint = (node, root) => dom.getParent(node, node => node.parentNode === root, root);\n      const walkBoundary = (startNode, endNode, next) => {\n        const siblingName = next ? 'nextSibling' : 'previousSibling';\n        for (let node = startNode, parent = node.parentNode; node && node !== endNode; node = parent) {\n          parent = node.parentNode;\n          const siblings = collectSiblings(node === startNode ? node : node[siblingName], siblingName);\n          if (siblings.length) {\n            if (!next) {\n              siblings.reverse();\n            }\n            callback(exclude(siblings));\n          }\n        }\n      };\n      if (startContainer === endContainer) {\n        return callback(exclude([startContainer]));\n      }\n      const ancestor = dom.findCommonAncestor(startContainer, endContainer);\n      if (dom.isChildOf(startContainer, endContainer)) {\n        return walkBoundary(startContainer, ancestor, true);\n      }\n      if (dom.isChildOf(endContainer, startContainer)) {\n        return walkBoundary(endContainer, ancestor);\n      }\n      const startPoint = findEndPoint(startContainer, ancestor) || startContainer;\n      const endPoint = findEndPoint(endContainer, ancestor) || endContainer;\n      walkBoundary(startContainer, startPoint, true);\n      const siblings = collectSiblings(startPoint === startContainer ? startPoint : startPoint.nextSibling, 'nextSibling', endPoint === endContainer ? endPoint.nextSibling : endPoint);\n      if (siblings.length) {\n        callback(exclude(siblings));\n      }\n      walkBoundary(endContainer, endPoint);\n    };\n\n    const getRanges$1 = selection => {\n      const ranges = [];\n      if (selection) {\n        for (let i = 0; i < selection.rangeCount; i++) {\n          ranges.push(selection.getRangeAt(i));\n        }\n      }\n      return ranges;\n    };\n    const getSelectedNodes = ranges => {\n      return bind$3(ranges, range => {\n        const node = getSelectedNode(range);\n        return node ? [SugarElement.fromDom(node)] : [];\n      });\n    };\n    const hasMultipleRanges = selection => {\n      return getRanges$1(selection).length > 1;\n    };\n\n    const getCellsFromRanges = ranges => filter$6(getSelectedNodes(ranges), isTableCell$4);\n    const getCellsFromElement = elm => descendants(elm, 'td[data-mce-selected],th[data-mce-selected]');\n    const getCellsFromElementOrRanges = (ranges, element) => {\n      const selectedCells = getCellsFromElement(element);\n      return selectedCells.length > 0 ? selectedCells : getCellsFromRanges(ranges);\n    };\n    const getCellsFromEditor = editor => getCellsFromElementOrRanges(getRanges$1(editor.selection.getSel()), SugarElement.fromDom(editor.getBody()));\n    const getClosestTable = (cell, isRoot) => ancestor$2(cell, 'table', isRoot);\n\n    const getStartNode = rng => {\n      const sc = rng.startContainer, so = rng.startOffset;\n      if (isText$9(sc)) {\n        return so === 0 ? Optional.some(SugarElement.fromDom(sc)) : Optional.none();\n      } else {\n        return Optional.from(sc.childNodes[so]).map(SugarElement.fromDom);\n      }\n    };\n    const getEndNode = rng => {\n      const ec = rng.endContainer, eo = rng.endOffset;\n      if (isText$9(ec)) {\n        return eo === ec.data.length ? Optional.some(SugarElement.fromDom(ec)) : Optional.none();\n      } else {\n        return Optional.from(ec.childNodes[eo - 1]).map(SugarElement.fromDom);\n      }\n    };\n    const getFirstChildren = node => {\n      return firstChild(node).fold(constant([node]), child => {\n        return [node].concat(getFirstChildren(child));\n      });\n    };\n    const getLastChildren = node => {\n      return lastChild(node).fold(constant([node]), child => {\n        if (name(child) === 'br') {\n          return prevSibling(child).map(sibling => {\n            return [node].concat(getLastChildren(sibling));\n          }).getOr([]);\n        } else {\n          return [node].concat(getLastChildren(child));\n        }\n      });\n    };\n    const hasAllContentsSelected = (elm, rng) => {\n      return lift2(getStartNode(rng), getEndNode(rng), (startNode, endNode) => {\n        const start = find$2(getFirstChildren(elm), curry(eq, startNode));\n        const end = find$2(getLastChildren(elm), curry(eq, endNode));\n        return start.isSome() && end.isSome();\n      }).getOr(false);\n    };\n    const moveEndPoint = (dom, rng, node, start) => {\n      const root = node, walker = new DomTreeWalker(node, root);\n      const moveCaretBeforeOnEnterElementsMap = filter$5(dom.schema.getMoveCaretBeforeOnEnterElements(), (_, name) => !contains$2([\n        'td',\n        'th',\n        'table'\n      ], name.toLowerCase()));\n      do {\n        if (isText$9(node) && Tools.trim(node.nodeValue).length !== 0) {\n          if (start) {\n            rng.setStart(node, 0);\n          } else {\n            rng.setEnd(node, node.nodeValue.length);\n          }\n          return;\n        }\n        if (moveCaretBeforeOnEnterElementsMap[node.nodeName]) {\n          if (start) {\n            rng.setStartBefore(node);\n          } else {\n            if (node.nodeName === 'BR') {\n              rng.setEndBefore(node);\n            } else {\n              rng.setEndAfter(node);\n            }\n          }\n          return;\n        }\n      } while (node = start ? walker.next() : walker.prev());\n      if (root.nodeName === 'BODY') {\n        if (start) {\n          rng.setStart(root, 0);\n        } else {\n          rng.setEnd(root, root.childNodes.length);\n        }\n      }\n    };\n    const hasAnyRanges = editor => {\n      const sel = editor.selection.getSel();\n      return sel && sel.rangeCount > 0;\n    };\n    const runOnRanges = (editor, executor) => {\n      const fakeSelectionNodes = getCellsFromEditor(editor);\n      if (fakeSelectionNodes.length > 0) {\n        each$f(fakeSelectionNodes, elem => {\n          const node = elem.dom;\n          const fakeNodeRng = editor.dom.createRng();\n          fakeNodeRng.setStartBefore(node);\n          fakeNodeRng.setEndAfter(node);\n          executor(fakeNodeRng, true);\n        });\n      } else {\n        executor(editor.selection.getRng(), false);\n      }\n    };\n    const preserve = (selection, fillBookmark, executor) => {\n      const bookmark = getPersistentBookmark(selection, fillBookmark);\n      executor(bookmark);\n      selection.moveToBookmark(bookmark);\n    };\n\n    const validBlocks = [\n      'pre[class*=language-][contenteditable=\"false\"]',\n      'figure.image',\n      'div[data-ephox-embed-iri]',\n      'div.tiny-pageembed',\n      'div.mce-toc',\n      'div[data-mce-toc]'\n    ];\n    const isZeroWidth = elem => isText$a(elem) && get$3(elem) === ZWSP$1;\n    const context = (editor, elem, wrapName, nodeName) => parent(elem).fold(() => 'skipping', parent => {\n      if (nodeName === 'br' || isZeroWidth(elem)) {\n        return 'valid';\n      } else if (isAnnotation(elem)) {\n        return 'existing';\n      } else if (isCaretNode(elem.dom)) {\n        return 'caret';\n      } else if (exists(validBlocks, selector => is$1(elem, selector))) {\n        return 'valid-block';\n      } else if (!isValid(editor, wrapName, nodeName) || !isValid(editor, name(parent), wrapName)) {\n        return 'invalid-child';\n      } else {\n        return 'valid';\n      }\n    });\n\n    const applyWordGrab = (editor, rng) => {\n      const r = expandRng(editor, rng, [{ inline: 'span' }]);\n      rng.setStart(r.startContainer, r.startOffset);\n      rng.setEnd(r.endContainer, r.endOffset);\n      editor.selection.setRng(rng);\n    };\n    const applyAnnotation = (elem, masterUId, data, annotationName, decorate, directAnnotation) => {\n      const {uid = masterUId, ...otherData} = data;\n      add$2(elem, annotation());\n      set$2(elem, `${ dataAnnotationId() }`, uid);\n      set$2(elem, `${ dataAnnotation() }`, annotationName);\n      const {attributes = {}, classes = []} = decorate(uid, otherData);\n      setAll$1(elem, attributes);\n      add(elem, classes);\n      if (directAnnotation) {\n        if (classes.length > 0) {\n          set$2(elem, `${ dataAnnotationClasses() }`, classes.join(','));\n        }\n        const attributeNames = keys(attributes);\n        if (attributeNames.length > 0) {\n          set$2(elem, `${ dataAnnotationAttributes() }`, attributeNames.join(','));\n        }\n      }\n    };\n    const removeDirectAnnotation = elem => {\n      remove$8(elem, annotation());\n      remove$b(elem, `${ dataAnnotationId() }`);\n      remove$b(elem, `${ dataAnnotation() }`);\n      remove$b(elem, `${ dataAnnotationActive() }`);\n      const customAttrNames = getOpt(elem, `${ dataAnnotationAttributes() }`).map(names => names.split(',')).getOr([]);\n      const customClasses = getOpt(elem, `${ dataAnnotationClasses() }`).map(names => names.split(',')).getOr([]);\n      each$f(customAttrNames, name => remove$b(elem, name));\n      remove$5(elem, customClasses);\n      remove$b(elem, `${ dataAnnotationClasses() }`);\n      remove$b(elem, `${ dataAnnotationAttributes() }`);\n    };\n    const makeAnnotation = (eDoc, uid, data, annotationName, decorate) => {\n      const master = SugarElement.fromTag('span', eDoc);\n      applyAnnotation(master, uid, data, annotationName, decorate, false);\n      return master;\n    };\n    const annotate = (editor, rng, uid, annotationName, decorate, data) => {\n      const newWrappers = [];\n      const master = makeAnnotation(editor.getDoc(), uid, data, annotationName, decorate);\n      const wrapper = value$2();\n      const finishWrapper = () => {\n        wrapper.clear();\n      };\n      const getOrOpenWrapper = () => wrapper.get().getOrThunk(() => {\n        const nu = shallow$1(master);\n        newWrappers.push(nu);\n        wrapper.set(nu);\n        return nu;\n      });\n      const processElements = elems => {\n        each$f(elems, processElement);\n      };\n      const processElement = elem => {\n        const ctx = context(editor, elem, 'span', name(elem));\n        switch (ctx) {\n        case 'invalid-child': {\n            finishWrapper();\n            const children$1 = children(elem);\n            processElements(children$1);\n            finishWrapper();\n            break;\n          }\n        case 'valid-block': {\n            finishWrapper();\n            applyAnnotation(elem, uid, data, annotationName, decorate, true);\n            break;\n          }\n        case 'valid': {\n            const w = getOrOpenWrapper();\n            wrap$2(elem, w);\n            break;\n          }\n        }\n      };\n      const processNodes = nodes => {\n        const elems = map$3(nodes, SugarElement.fromDom);\n        processElements(elems);\n      };\n      walk$3(editor.dom, rng, nodes => {\n        finishWrapper();\n        processNodes(nodes);\n      });\n      return newWrappers;\n    };\n    const annotateWithBookmark = (editor, name, settings, data) => {\n      editor.undoManager.transact(() => {\n        const selection = editor.selection;\n        const initialRng = selection.getRng();\n        const hasFakeSelection = getCellsFromEditor(editor).length > 0;\n        const masterUid = generate$1('mce-annotation');\n        if (initialRng.collapsed && !hasFakeSelection) {\n          applyWordGrab(editor, initialRng);\n        }\n        if (selection.getRng().collapsed && !hasFakeSelection) {\n          const wrapper = makeAnnotation(editor.getDoc(), masterUid, data, name, settings.decorate);\n          set(wrapper, nbsp);\n          selection.getRng().insertNode(wrapper.dom);\n          selection.select(wrapper.dom);\n        } else {\n          preserve(selection, false, () => {\n            runOnRanges(editor, selectionRng => {\n              annotate(editor, selectionRng, masterUid, name, settings.decorate, data);\n            });\n          });\n        }\n      });\n    };\n\n    const Annotator = editor => {\n      const registry = create$c();\n      setup$w(editor, registry);\n      const changes = setup$x(editor, registry);\n      const isSpan = isTag('span');\n      const removeAnnotations = elements => {\n        each$f(elements, element => {\n          if (isSpan(element)) {\n            unwrap(element);\n          } else {\n            removeDirectAnnotation(element);\n          }\n        });\n      };\n      return {\n        register: (name, settings) => {\n          registry.register(name, settings);\n        },\n        annotate: (name, data) => {\n          registry.lookup(name).each(settings => {\n            annotateWithBookmark(editor, name, settings, data);\n          });\n        },\n        annotationChanged: (name, callback) => {\n          changes.addListener(name, callback);\n        },\n        remove: name => {\n          const bookmark = editor.selection.getBookmark();\n          identify(editor, Optional.some(name)).each(({elements}) => {\n            removeAnnotations(elements);\n          });\n          editor.selection.moveToBookmark(bookmark);\n        },\n        removeAll: name => {\n          const bookmark = editor.selection.getBookmark();\n          each$e(findAll(editor, name), (elements, _) => {\n            removeAnnotations(elements);\n          });\n          editor.selection.moveToBookmark(bookmark);\n        },\n        getAll: name => {\n          const directory = findAll(editor, name);\n          return map$2(directory, elems => map$3(elems, elem => elem.dom));\n        }\n      };\n    };\n\n    const BookmarkManager = selection => {\n      return {\n        getBookmark: curry(getBookmark$1, selection),\n        moveToBookmark: curry(moveToBookmark, selection)\n      };\n    };\n    BookmarkManager.isBookmarkNode = isBookmarkNode$1;\n\n    const isXYWithinRange = (clientX, clientY, range) => {\n      if (range.collapsed) {\n        return false;\n      } else {\n        return exists(range.getClientRects(), rect => containsXY(rect, clientX, clientY));\n      }\n    };\n\n    const firePreProcess = (editor, args) => editor.dispatch('PreProcess', args);\n    const firePostProcess = (editor, args) => editor.dispatch('PostProcess', args);\n    const fireRemove = editor => editor.dispatch('remove');\n    const fireDetach = editor => editor.dispatch('detach');\n    const fireSwitchMode = (editor, mode) => editor.dispatch('SwitchMode', { mode });\n    const fireObjectResizeStart = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResizeStart', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const fireObjectResized = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResized', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const firePreInit = editor => editor.dispatch('PreInit');\n    const firePostRender = editor => editor.dispatch('PostRender');\n    const fireInit = editor => editor.dispatch('Init');\n    const firePlaceholderToggle = (editor, state) => editor.dispatch('PlaceholderToggle', { state });\n    const fireError = (editor, errorType, error) => editor.dispatch(errorType, error);\n    const fireFormatApply = (editor, format, node, vars) => editor.dispatch('FormatApply', {\n      format,\n      node,\n      vars\n    });\n    const fireFormatRemove = (editor, format, node, vars) => editor.dispatch('FormatRemove', {\n      format,\n      node,\n      vars\n    });\n    const fireBeforeSetContent = (editor, args) => editor.dispatch('BeforeSetContent', args);\n    const fireSetContent = (editor, args) => editor.dispatch('SetContent', args);\n    const fireBeforeGetContent = (editor, args) => editor.dispatch('BeforeGetContent', args);\n    const fireGetContent = (editor, args) => editor.dispatch('GetContent', args);\n    const fireAutocompleterStart = (editor, args) => editor.dispatch('AutocompleterStart', args);\n    const fireAutocompleterUpdate = (editor, args) => editor.dispatch('AutocompleterUpdate', args);\n    const fireAutocompleterEnd = editor => editor.dispatch('AutocompleterEnd');\n    const firePastePreProcess = (editor, html, internal) => editor.dispatch('PastePreProcess', {\n      content: html,\n      internal\n    });\n    const firePastePostProcess = (editor, node, internal) => editor.dispatch('PastePostProcess', {\n      node,\n      internal\n    });\n    const firePastePlainTextToggle = (editor, state) => editor.dispatch('PastePlainTextToggle', { state });\n\n    const VK = {\n      BACKSPACE: 8,\n      DELETE: 46,\n      DOWN: 40,\n      ENTER: 13,\n      ESC: 27,\n      LEFT: 37,\n      RIGHT: 39,\n      SPACEBAR: 32,\n      TAB: 9,\n      UP: 38,\n      PAGE_UP: 33,\n      PAGE_DOWN: 34,\n      END: 35,\n      HOME: 36,\n      modifierPressed: e => {\n        return e.shiftKey || e.ctrlKey || e.altKey || VK.metaKeyPressed(e);\n      },\n      metaKeyPressed: e => {\n        return Env.os.isMacOS() || Env.os.isiOS() ? e.metaKey : e.ctrlKey && !e.altKey;\n      }\n    };\n\n    const elementSelectionAttr = 'data-mce-selected';\n    const controlElmSelector = 'table,img,figure.image,hr,video,span.mce-preview-object';\n    const abs = Math.abs;\n    const round$1 = Math.round;\n    const resizeHandles = {\n      nw: [\n        0,\n        0,\n        -1,\n        -1\n      ],\n      ne: [\n        1,\n        0,\n        1,\n        -1\n      ],\n      se: [\n        1,\n        1,\n        1,\n        1\n      ],\n      sw: [\n        0,\n        1,\n        -1,\n        1\n      ]\n    };\n    const isTouchEvent = evt => evt.type === 'longpress' || evt.type.indexOf('touch') === 0;\n    const ControlSelection = (selection, editor) => {\n      const dom = editor.dom;\n      const editableDoc = editor.getDoc();\n      const rootDocument = document;\n      const rootElement = editor.getBody();\n      let selectedElm, selectedElmGhost, resizeHelper, selectedHandle, resizeBackdrop;\n      let startX, startY, selectedElmX, selectedElmY, startW, startH, ratio, resizeStarted;\n      let width;\n      let height;\n      let startScrollWidth;\n      let startScrollHeight;\n      const isImage = elm => isNonNullable(elm) && (isImg(elm) || dom.is(elm, 'figure.image'));\n      const isMedia = elm => isMedia$2(elm) || dom.hasClass(elm, 'mce-preview-object');\n      const isEventOnImageOutsideRange = (evt, range) => {\n        if (isTouchEvent(evt)) {\n          const touch = evt.touches[0];\n          return isImage(evt.target) && !isXYWithinRange(touch.clientX, touch.clientY, range);\n        } else {\n          return isImage(evt.target) && !isXYWithinRange(evt.clientX, evt.clientY, range);\n        }\n      };\n      const contextMenuSelectImage = evt => {\n        const target = evt.target;\n        if (isEventOnImageOutsideRange(evt, editor.selection.getRng()) && !evt.isDefaultPrevented()) {\n          editor.selection.select(target);\n        }\n      };\n      const getResizeTargets = elm => {\n        if (dom.is(elm, 'figure.image')) {\n          return [elm.querySelector('img')];\n        } else if (dom.hasClass(elm, 'mce-preview-object') && isNonNullable(elm.firstElementChild)) {\n          return [\n            elm,\n            elm.firstElementChild\n          ];\n        } else {\n          return [elm];\n        }\n      };\n      const isResizable = elm => {\n        const selector = getObjectResizing(editor);\n        if (!selector) {\n          return false;\n        }\n        if (elm.getAttribute('data-mce-resize') === 'false') {\n          return false;\n        }\n        if (elm === editor.getBody()) {\n          return false;\n        }\n        if (dom.hasClass(elm, 'mce-preview-object')) {\n          return is$1(SugarElement.fromDom(elm.firstElementChild), selector);\n        } else {\n          return is$1(SugarElement.fromDom(elm), selector);\n        }\n      };\n      const createGhostElement = elm => {\n        if (isMedia(elm)) {\n          return dom.create('img', { src: Env.transparentSrc });\n        } else {\n          return elm.cloneNode(true);\n        }\n      };\n      const setSizeProp = (element, name, value) => {\n        if (isNonNullable(value)) {\n          const targets = getResizeTargets(element);\n          each$f(targets, target => {\n            if (target.style[name] || !editor.schema.isValid(target.nodeName.toLowerCase(), name)) {\n              dom.setStyle(target, name, value);\n            } else {\n              dom.setAttrib(target, name, '' + value);\n            }\n          });\n        }\n      };\n      const setGhostElmSize = (ghostElm, width, height) => {\n        setSizeProp(ghostElm, 'width', width);\n        setSizeProp(ghostElm, 'height', height);\n      };\n      const resizeGhostElement = e => {\n        let deltaX, deltaY, proportional;\n        let resizeHelperX, resizeHelperY;\n        deltaX = e.screenX - startX;\n        deltaY = e.screenY - startY;\n        width = deltaX * selectedHandle[2] + startW;\n        height = deltaY * selectedHandle[3] + startH;\n        width = width < 5 ? 5 : width;\n        height = height < 5 ? 5 : height;\n        if ((isImage(selectedElm) || isMedia(selectedElm)) && getResizeImgProportional(editor) !== false) {\n          proportional = !VK.modifierPressed(e);\n        } else {\n          proportional = VK.modifierPressed(e);\n        }\n        if (proportional) {\n          if (abs(deltaX) > abs(deltaY)) {\n            height = round$1(width * ratio);\n            width = round$1(height / ratio);\n          } else {\n            width = round$1(height / ratio);\n            height = round$1(width * ratio);\n          }\n        }\n        setGhostElmSize(selectedElmGhost, width, height);\n        resizeHelperX = selectedHandle.startPos.x + deltaX;\n        resizeHelperY = selectedHandle.startPos.y + deltaY;\n        resizeHelperX = resizeHelperX > 0 ? resizeHelperX : 0;\n        resizeHelperY = resizeHelperY > 0 ? resizeHelperY : 0;\n        dom.setStyles(resizeHelper, {\n          left: resizeHelperX,\n          top: resizeHelperY,\n          display: 'block'\n        });\n        resizeHelper.innerHTML = width + ' &times; ' + height;\n        if (selectedHandle[2] < 0 && selectedElmGhost.clientWidth <= width) {\n          dom.setStyle(selectedElmGhost, 'left', selectedElmX + (startW - width));\n        }\n        if (selectedHandle[3] < 0 && selectedElmGhost.clientHeight <= height) {\n          dom.setStyle(selectedElmGhost, 'top', selectedElmY + (startH - height));\n        }\n        deltaX = rootElement.scrollWidth - startScrollWidth;\n        deltaY = rootElement.scrollHeight - startScrollHeight;\n        if (deltaX + deltaY !== 0) {\n          dom.setStyles(resizeHelper, {\n            left: resizeHelperX - deltaX,\n            top: resizeHelperY - deltaY\n          });\n        }\n        if (!resizeStarted) {\n          fireObjectResizeStart(editor, selectedElm, startW, startH, 'corner-' + selectedHandle.name);\n          resizeStarted = true;\n        }\n      };\n      const endGhostResize = () => {\n        const wasResizeStarted = resizeStarted;\n        resizeStarted = false;\n        if (wasResizeStarted) {\n          setSizeProp(selectedElm, 'width', width);\n          setSizeProp(selectedElm, 'height', height);\n        }\n        dom.unbind(editableDoc, 'mousemove', resizeGhostElement);\n        dom.unbind(editableDoc, 'mouseup', endGhostResize);\n        if (rootDocument !== editableDoc) {\n          dom.unbind(rootDocument, 'mousemove', resizeGhostElement);\n          dom.unbind(rootDocument, 'mouseup', endGhostResize);\n        }\n        dom.remove(selectedElmGhost);\n        dom.remove(resizeHelper);\n        dom.remove(resizeBackdrop);\n        showResizeRect(selectedElm);\n        if (wasResizeStarted) {\n          fireObjectResized(editor, selectedElm, width, height, 'corner-' + selectedHandle.name);\n          dom.setAttrib(selectedElm, 'style', dom.getAttrib(selectedElm, 'style'));\n        }\n        editor.nodeChanged();\n      };\n      const showResizeRect = targetElm => {\n        unbindResizeHandleEvents();\n        const position = dom.getPos(targetElm, rootElement);\n        const selectedElmX = position.x;\n        const selectedElmY = position.y;\n        const rect = targetElm.getBoundingClientRect();\n        const targetWidth = rect.width || rect.right - rect.left;\n        const targetHeight = rect.height || rect.bottom - rect.top;\n        if (selectedElm !== targetElm) {\n          hideResizeRect();\n          selectedElm = targetElm;\n          width = height = 0;\n        }\n        const e = editor.dispatch('ObjectSelected', { target: targetElm });\n        if (isResizable(targetElm) && !e.isDefaultPrevented()) {\n          each$e(resizeHandles, (handle, name) => {\n            let handleElm;\n            const startDrag = e => {\n              const target = getResizeTargets(selectedElm)[0];\n              startX = e.screenX;\n              startY = e.screenY;\n              startW = target.clientWidth;\n              startH = target.clientHeight;\n              ratio = startH / startW;\n              selectedHandle = handle;\n              selectedHandle.name = name;\n              selectedHandle.startPos = {\n                x: targetWidth * handle[0] + selectedElmX,\n                y: targetHeight * handle[1] + selectedElmY\n              };\n              startScrollWidth = rootElement.scrollWidth;\n              startScrollHeight = rootElement.scrollHeight;\n              resizeBackdrop = dom.add(rootElement, 'div', {\n                'class': 'mce-resize-backdrop',\n                'data-mce-bogus': 'all'\n              });\n              dom.setStyles(resizeBackdrop, {\n                position: 'fixed',\n                left: '0',\n                top: '0',\n                width: '100%',\n                height: '100%'\n              });\n              selectedElmGhost = createGhostElement(selectedElm);\n              dom.addClass(selectedElmGhost, 'mce-clonedresizable');\n              dom.setAttrib(selectedElmGhost, 'data-mce-bogus', 'all');\n              selectedElmGhost.contentEditable = 'false';\n              dom.setStyles(selectedElmGhost, {\n                left: selectedElmX,\n                top: selectedElmY,\n                margin: 0\n              });\n              setGhostElmSize(selectedElmGhost, targetWidth, targetHeight);\n              selectedElmGhost.removeAttribute(elementSelectionAttr);\n              rootElement.appendChild(selectedElmGhost);\n              dom.bind(editableDoc, 'mousemove', resizeGhostElement);\n              dom.bind(editableDoc, 'mouseup', endGhostResize);\n              if (rootDocument !== editableDoc) {\n                dom.bind(rootDocument, 'mousemove', resizeGhostElement);\n                dom.bind(rootDocument, 'mouseup', endGhostResize);\n              }\n              resizeHelper = dom.add(rootElement, 'div', {\n                'class': 'mce-resize-helper',\n                'data-mce-bogus': 'all'\n              }, startW + ' &times; ' + startH);\n            };\n            handleElm = dom.get('mceResizeHandle' + name);\n            if (handleElm) {\n              dom.remove(handleElm);\n            }\n            handleElm = dom.add(rootElement, 'div', {\n              'id': 'mceResizeHandle' + name,\n              'data-mce-bogus': 'all',\n              'class': 'mce-resizehandle',\n              'unselectable': true,\n              'style': 'cursor:' + name + '-resize; margin:0; padding:0'\n            });\n            dom.bind(handleElm, 'mousedown', e => {\n              e.stopImmediatePropagation();\n              e.preventDefault();\n              startDrag(e);\n            });\n            handle.elm = handleElm;\n            dom.setStyles(handleElm, {\n              left: targetWidth * handle[0] + selectedElmX - handleElm.offsetWidth / 2,\n              top: targetHeight * handle[1] + selectedElmY - handleElm.offsetHeight / 2\n            });\n          });\n        } else {\n          hideResizeRect(false);\n        }\n      };\n      const throttledShowResizeRect = first$1(showResizeRect, 0);\n      const hideResizeRect = (removeSelected = true) => {\n        throttledShowResizeRect.cancel();\n        unbindResizeHandleEvents();\n        if (selectedElm && removeSelected) {\n          selectedElm.removeAttribute(elementSelectionAttr);\n        }\n        each$e(resizeHandles, (value, name) => {\n          const handleElm = dom.get('mceResizeHandle' + name);\n          if (handleElm) {\n            dom.unbind(handleElm);\n            dom.remove(handleElm);\n          }\n        });\n      };\n      const isChildOrEqual = (node, parent) => isNonNullable(node) && dom.isChildOf(node, parent);\n      const updateResizeRect = e => {\n        if (resizeStarted || editor.removed || editor.composing) {\n          return;\n        }\n        const targetElm = e.type === 'mousedown' ? e.target : selection.getNode();\n        const controlElm = closest$3(SugarElement.fromDom(targetElm), controlElmSelector).map(e => e.dom).getOrUndefined();\n        const selectedValue = isNonNullable(controlElm) ? dom.getAttrib(controlElm, elementSelectionAttr, '1') : '1';\n        each$f(dom.select(`img[${ elementSelectionAttr }],hr[${ elementSelectionAttr }]`), img => {\n          img.removeAttribute(elementSelectionAttr);\n        });\n        if (isChildOrEqual(controlElm, rootElement)) {\n          disableGeckoResize();\n          const startElm = selection.getStart(true);\n          if (isChildOrEqual(startElm, controlElm) && isChildOrEqual(selection.getEnd(true), controlElm)) {\n            dom.setAttrib(controlElm, elementSelectionAttr, selectedValue);\n            throttledShowResizeRect.throttle(controlElm);\n            return;\n          }\n        }\n        hideResizeRect();\n      };\n      const unbindResizeHandleEvents = () => {\n        each$e(resizeHandles, handle => {\n          if (handle.elm) {\n            dom.unbind(handle.elm);\n            delete handle.elm;\n          }\n        });\n      };\n      const disableGeckoResize = () => {\n        try {\n          editor.getDoc().execCommand('enableObjectResizing', false, 'false');\n        } catch (ex) {\n        }\n      };\n      editor.on('init', () => {\n        disableGeckoResize();\n        editor.on('NodeChange ResizeEditor ResizeWindow ResizeContent drop', updateResizeRect);\n        editor.on('keyup compositionend', e => {\n          if (selectedElm && selectedElm.nodeName === 'TABLE') {\n            updateResizeRect(e);\n          }\n        });\n        editor.on('hide blur', hideResizeRect);\n        editor.on('contextmenu longpress', contextMenuSelectImage, true);\n      });\n      editor.on('remove', unbindResizeHandleEvents);\n      const destroy = () => {\n        throttledShowResizeRect.cancel();\n        selectedElm = selectedElmGhost = resizeBackdrop = null;\n      };\n      return {\n        isResizable,\n        showResizeRect,\n        hideResizeRect,\n        updateResizeRect,\n        destroy\n      };\n    };\n\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n\n    const adt$3 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$3.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$3.ltr, rng));\n      } else {\n        return fromRange(win, adt$3.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    adt$3.ltr;\n    adt$3.rtl;\n\n    const create$a = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$a };\n\n    const caretPositionFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretPositionFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y)).bind(pos => {\n        if (pos.offsetNode === null) {\n          return Optional.none();\n        }\n        const r = doc.dom.createRange();\n        r.setStart(pos.offsetNode, pos.offset);\n        r.collapse();\n        return Optional.some(r);\n      });\n    };\n    const caretRangeFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretRangeFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y));\n    };\n    const availableSearch = (() => {\n      if (document.caretPositionFromPoint) {\n        return caretPositionFromPoint;\n      } else if (document.caretRangeFromPoint) {\n        return caretRangeFromPoint;\n      } else {\n        return Optional.none;\n      }\n    })();\n    const fromPoint$1 = (win, x, y) => {\n      const doc = SugarElement.fromDom(win.document);\n      return availableSearch(doc, x, y).map(rng => SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n    };\n\n    const adt$2 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$2 = situ => situ.fold(identity, identity, identity);\n    const before$1 = adt$2.before;\n    const on = adt$2.on;\n    const after$1 = adt$2.after;\n    const Situ = {\n      before: before$1,\n      on,\n      after: after$1,\n      cata,\n      getStart: getStart$2\n    };\n\n    const adt$1 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt$1.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart$1 = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt$1.domRange;\n    const relative = adt$1.relative;\n    const exact = adt$1.exact;\n    const getWin = selection => {\n      const start = getStart$1(selection);\n      return defaultView(start);\n    };\n    const range = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range\n    };\n\n    const beforeSpecial = (element, offset) => {\n      const name$1 = name(element);\n      if ('input' === name$1) {\n        return Situ.after(element);\n      } else if (!contains$2([\n          'br',\n          'img'\n        ], name$1)) {\n        return Situ.on(element, offset);\n      } else {\n        return offset === 0 ? Situ.before(element) : Situ.after(element);\n      }\n    };\n    const preprocessRelative = (startSitu, finishSitu) => {\n      const start = startSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      const finish = finishSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      return SimSelection.relative(start, finish);\n    };\n    const preprocessExact = (start, soffset, finish, foffset) => {\n      const startSitu = beforeSpecial(start, soffset);\n      const finishSitu = beforeSpecial(finish, foffset);\n      return SimSelection.relative(startSitu, finishSitu);\n    };\n    const preprocess = selection => selection.match({\n      domRange: rng => {\n        const start = SugarElement.fromDom(rng.startContainer);\n        const finish = SugarElement.fromDom(rng.endContainer);\n        return preprocessExact(start, rng.startOffset, finish, rng.endOffset);\n      },\n      relative: preprocessRelative,\n      exact: preprocessExact\n    });\n\n    const fromElements = (elements, scope) => {\n      const doc = scope || document;\n      const fragment = doc.createDocumentFragment();\n      each$f(elements, element => {\n        fragment.appendChild(element.dom);\n      });\n      return SugarElement.fromDom(fragment);\n    };\n\n    const toNative = selection => {\n      const win = SimSelection.getWin(selection).dom;\n      const getDomRange = (start, soffset, finish, foffset) => exactToNative(win, start, soffset, finish, foffset);\n      const filtered = preprocess(selection);\n      return diagnose(win, filtered).match({\n        ltr: getDomRange,\n        rtl: getDomRange\n      });\n    };\n    const getAtPoint = (win, x, y) => fromPoint$1(win, x, y);\n\n    const fromPoint = (clientX, clientY, doc) => getAtPoint(doc.defaultView, clientX, clientY).map(simRange => {\n      const rng = doc.createRange();\n      rng.setStart(simRange.start.dom, simRange.soffset);\n      rng.setEnd(simRange.finish.dom, simRange.foffset);\n      return rng;\n    }).getOrUndefined();\n\n    const isEq$4 = (rng1, rng2) => {\n      return rng1 && rng2 && (rng1.startContainer === rng2.startContainer && rng1.startOffset === rng2.startOffset) && (rng1.endContainer === rng2.endContainer && rng1.endOffset === rng2.endOffset);\n    };\n\n    const findParent = (node, rootNode, predicate) => {\n      while (node && node !== rootNode) {\n        if (predicate(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    const hasParent$1 = (node, rootNode, predicate) => findParent(node, rootNode, predicate) !== null;\n    const hasParentWithName = (node, rootNode, name) => hasParent$1(node, rootNode, node => {\n      return node.nodeName === name;\n    });\n    const isTable = node => node && node.nodeName === 'TABLE';\n    const isTableCell$2 = node => node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n    const isCeFalseCaretContainer = (node, rootNode) => isCaretContainer$2(node) && hasParent$1(node, rootNode, isCaretNode) === false;\n    const hasBrBeforeAfter = (dom, node, left) => {\n      const walker = new DomTreeWalker(node, dom.getParent(node.parentNode, dom.isBlock) || dom.getRoot());\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (isBr$6(node)) {\n          return true;\n        }\n      }\n    };\n    const isPrevNode = (node, name) => node.previousSibling && node.previousSibling.nodeName === name;\n    const hasContentEditableFalseParent = (body, node) => {\n      while (node && node !== body) {\n        if (isContentEditableFalse$b(node)) {\n          return true;\n        }\n        node = node.parentNode;\n      }\n      return false;\n    };\n    const findTextNodeRelative = (dom, isAfterNode, collapsed, left, startNode) => {\n      let lastInlineElement;\n      const body = dom.getRoot();\n      let node;\n      const nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      const parentBlockContainer = dom.getParent(startNode.parentNode, dom.isBlock) || body;\n      if (left && isBr$6(startNode) && isAfterNode && dom.isEmpty(parentBlockContainer)) {\n        return Optional.some(CaretPosition(startNode.parentNode, dom.nodeIndex(startNode)));\n      }\n      const walker = new DomTreeWalker(startNode, parentBlockContainer);\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (dom.getContentEditableParent(node) === 'false' || isCeFalseCaretContainer(node, body)) {\n          return Optional.none();\n        }\n        if (isText$9(node) && node.nodeValue.length > 0) {\n          if (hasParentWithName(node, body, 'A') === false) {\n            return Optional.some(CaretPosition(node, left ? node.nodeValue.length : 0));\n          }\n          return Optional.none();\n        }\n        if (dom.isBlock(node) || nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          return Optional.none();\n        }\n        lastInlineElement = node;\n      }\n      if (isComment(lastInlineElement)) {\n        return Optional.none();\n      }\n      if (collapsed && lastInlineElement) {\n        return Optional.some(CaretPosition(lastInlineElement, 0));\n      }\n      return Optional.none();\n    };\n    const normalizeEndPoint = (dom, collapsed, start, rng) => {\n      let container, offset;\n      const body = dom.getRoot();\n      let node;\n      let directionLeft, normalized = false;\n      container = rng[(start ? 'start' : 'end') + 'Container'];\n      offset = rng[(start ? 'start' : 'end') + 'Offset'];\n      const isAfterNode = isElement$6(container) && offset === container.childNodes.length;\n      const nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      directionLeft = start;\n      if (isCaretContainer$2(container)) {\n        return Optional.none();\n      }\n      if (isElement$6(container) && offset > container.childNodes.length - 1) {\n        directionLeft = false;\n      }\n      if (isDocument$1(container)) {\n        container = body;\n        offset = 0;\n      }\n      if (container === body) {\n        if (directionLeft) {\n          node = container.childNodes[offset > 0 ? offset - 1 : 0];\n          if (node) {\n            if (isCaretContainer$2(node)) {\n              return Optional.none();\n            }\n            if (nonEmptyElementsMap[node.nodeName] || isTable(node)) {\n              return Optional.none();\n            }\n          }\n        }\n        if (container.hasChildNodes()) {\n          offset = Math.min(!directionLeft && offset > 0 ? offset - 1 : offset, container.childNodes.length - 1);\n          container = container.childNodes[offset];\n          offset = isText$9(container) && isAfterNode ? container.data.length : 0;\n          if (!collapsed && container === body.lastChild && isTable(container)) {\n            return Optional.none();\n          }\n          if (hasContentEditableFalseParent(body, container) || isCaretContainer$2(container)) {\n            return Optional.none();\n          }\n          if (container.hasChildNodes() && isTable(container) === false) {\n            node = container;\n            const walker = new DomTreeWalker(container, body);\n            do {\n              if (isContentEditableFalse$b(node) || isCaretContainer$2(node)) {\n                normalized = false;\n                break;\n              }\n              if (isText$9(node) && node.nodeValue.length > 0) {\n                offset = directionLeft ? 0 : node.nodeValue.length;\n                container = node;\n                normalized = true;\n                break;\n              }\n              if (nonEmptyElementsMap[node.nodeName.toLowerCase()] && !isTableCell$2(node)) {\n                offset = dom.nodeIndex(node);\n                container = node.parentNode;\n                if (!directionLeft) {\n                  offset++;\n                }\n                normalized = true;\n                break;\n              }\n            } while (node = directionLeft ? walker.next() : walker.prev());\n          }\n        }\n      }\n      if (collapsed) {\n        if (isText$9(container) && offset === 0) {\n          findTextNodeRelative(dom, isAfterNode, collapsed, true, container).each(pos => {\n            container = pos.container();\n            offset = pos.offset();\n            normalized = true;\n          });\n        }\n        if (isElement$6(container)) {\n          node = container.childNodes[offset];\n          if (!node) {\n            node = container.childNodes[offset - 1];\n          }\n          if (node && isBr$6(node) && !isPrevNode(node, 'A') && !hasBrBeforeAfter(dom, node, false) && !hasBrBeforeAfter(dom, node, true)) {\n            findTextNodeRelative(dom, isAfterNode, collapsed, true, node).each(pos => {\n              container = pos.container();\n              offset = pos.offset();\n              normalized = true;\n            });\n          }\n        }\n      }\n      if (directionLeft && !collapsed && isText$9(container) && offset === container.nodeValue.length) {\n        findTextNodeRelative(dom, isAfterNode, collapsed, false, container).each(pos => {\n          container = pos.container();\n          offset = pos.offset();\n          normalized = true;\n        });\n      }\n      return normalized ? Optional.some(CaretPosition(container, offset)) : Optional.none();\n    };\n    const normalize$2 = (dom, rng) => {\n      const collapsed = rng.collapsed, normRng = rng.cloneRange();\n      const startPos = CaretPosition.fromRangeStart(rng);\n      normalizeEndPoint(dom, collapsed, true, normRng).each(pos => {\n        if (!collapsed || !CaretPosition.isAbove(startPos, pos)) {\n          normRng.setStart(pos.container(), pos.offset());\n        }\n      });\n      if (!collapsed) {\n        normalizeEndPoint(dom, collapsed, false, normRng).each(pos => {\n          normRng.setEnd(pos.container(), pos.offset());\n        });\n      }\n      if (collapsed) {\n        normRng.collapse(true);\n      }\n      return isEq$4(rng, normRng) ? Optional.none() : Optional.some(normRng);\n    };\n\n    const splitText = (node, offset) => {\n      return node.splitText(offset);\n    };\n    const split = rng => {\n      let startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n      if (startContainer === endContainer && isText$9(startContainer)) {\n        if (startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n          endContainer = splitText(startContainer, startOffset);\n          startContainer = endContainer.previousSibling;\n          if (endOffset > startOffset) {\n            endOffset = endOffset - startOffset;\n            startContainer = endContainer = splitText(endContainer, endOffset).previousSibling;\n            endOffset = endContainer.nodeValue.length;\n            startOffset = 0;\n          } else {\n            endOffset = 0;\n          }\n        }\n      } else {\n        if (isText$9(startContainer) && startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n          startContainer = splitText(startContainer, startOffset);\n          startOffset = 0;\n        }\n        if (isText$9(endContainer) && endOffset > 0 && endOffset < endContainer.nodeValue.length) {\n          endContainer = splitText(endContainer, endOffset).previousSibling;\n          endOffset = endContainer.nodeValue.length;\n        }\n      }\n      return {\n        startContainer,\n        startOffset,\n        endContainer,\n        endOffset\n      };\n    };\n\n    const RangeUtils = dom => {\n      const walk = (rng, callback) => {\n        return walk$3(dom, rng, callback);\n      };\n      const split$1 = split;\n      const normalize = rng => {\n        return normalize$2(dom, rng).fold(never, normalizedRng => {\n          rng.setStart(normalizedRng.startContainer, normalizedRng.startOffset);\n          rng.setEnd(normalizedRng.endContainer, normalizedRng.endOffset);\n          return true;\n        });\n      };\n      return {\n        walk,\n        split: split$1,\n        normalize\n      };\n    };\n    RangeUtils.compareRanges = isEq$4;\n    RangeUtils.getCaretRangeFromPoint = fromPoint;\n    RangeUtils.getSelectedNode = getSelectedNode;\n    RangeUtils.getNode = getNode$1;\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported$1(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$7(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$7(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const api = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$2 = element => api.get(element);\n\n    const getDocument = () => SugarElement.fromDom(document);\n\n    const walkUp = (navigation, doc) => {\n      const frame = navigation.view(doc);\n      return frame.fold(constant([]), f => {\n        const parent = navigation.owner(f);\n        const rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    const pathTo = (element, navigation) => {\n      const d = navigation.owner(element);\n      return walkUp(navigation, d);\n    };\n\n    const view = doc => {\n      var _a;\n      const element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    const owner = element => documentOrOwner(element);\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner\n    });\n\n    const find = element => {\n      const doc = getDocument();\n      const scroll = get$5(doc);\n      const frames = pathTo(element, Navigation);\n      const offset = viewport(element);\n      const r = foldr(frames, (b, a) => {\n        const loc = viewport(a);\n        return {\n          left: b.left + loc.left,\n          top: b.top + loc.top\n        };\n      }, {\n        left: 0,\n        top: 0\n      });\n      return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n    };\n\n    const excludeFromDescend = element => name(element) === 'textarea';\n    const fireScrollIntoViewEvent = (editor, data) => {\n      const scrollEvent = editor.dispatch('ScrollIntoView', data);\n      return scrollEvent.isDefaultPrevented();\n    };\n    const fireAfterScrollIntoViewEvent = (editor, data) => {\n      editor.dispatch('AfterScrollIntoView', data);\n    };\n    const descend = (element, offset) => {\n      const children$1 = children(element);\n      if (children$1.length === 0 || excludeFromDescend(element)) {\n        return {\n          element,\n          offset\n        };\n      } else if (offset < children$1.length && !excludeFromDescend(children$1[offset])) {\n        return {\n          element: children$1[offset],\n          offset: 0\n        };\n      } else {\n        const last = children$1[children$1.length - 1];\n        if (excludeFromDescend(last)) {\n          return {\n            element,\n            offset\n          };\n        } else {\n          if (name(last) === 'img') {\n            return {\n              element: last,\n              offset: 1\n            };\n          } else if (isText$a(last)) {\n            return {\n              element: last,\n              offset: get$3(last).length\n            };\n          } else {\n            return {\n              element: last,\n              offset: children(last).length\n            };\n          }\n        }\n      }\n    };\n    const markerInfo = (element, cleanupFun) => {\n      const pos = absolute(element);\n      const height = get$2(element);\n      return {\n        element,\n        bottom: pos.top + height,\n        height,\n        pos,\n        cleanup: cleanupFun\n      };\n    };\n    const createMarker$1 = (element, offset) => {\n      const startPoint = descend(element, offset);\n      const span = SugarElement.fromHtml('<span data-mce-bogus=\"all\" style=\"display: inline-block;\">' + ZWSP$1 + '</span>');\n      before$3(startPoint.element, span);\n      return markerInfo(span, () => remove$6(span));\n    };\n    const elementMarker = element => markerInfo(SugarElement.fromDom(element), noop);\n    const withMarker = (editor, f, rng, alignToTop) => {\n      preserveWith(editor, (_s, _e) => applyWithMarker(editor, f, rng, alignToTop), rng);\n    };\n    const withScrollEvents = (editor, doc, f, marker, alignToTop) => {\n      const data = {\n        elm: marker.element.dom,\n        alignToTop\n      };\n      if (fireScrollIntoViewEvent(editor, data)) {\n        return;\n      }\n      const scrollTop = get$5(doc).top;\n      f(doc, scrollTop, marker, alignToTop);\n      fireAfterScrollIntoViewEvent(editor, data);\n    };\n    const applyWithMarker = (editor, f, rng, alignToTop) => {\n      const body = SugarElement.fromDom(editor.getBody());\n      const doc = SugarElement.fromDom(editor.getDoc());\n      reflow(body);\n      const marker = createMarker$1(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      withScrollEvents(editor, doc, f, marker, alignToTop);\n      marker.cleanup();\n    };\n    const withElement = (editor, element, f, alignToTop) => {\n      const doc = SugarElement.fromDom(editor.getDoc());\n      withScrollEvents(editor, doc, f, elementMarker(element), alignToTop);\n    };\n    const preserveWith = (editor, f, rng) => {\n      const startElement = rng.startContainer;\n      const startOffset = rng.startOffset;\n      const endElement = rng.endContainer;\n      const endOffset = rng.endOffset;\n      f(SugarElement.fromDom(startElement), SugarElement.fromDom(endElement));\n      const newRng = editor.dom.createRng();\n      newRng.setStart(startElement, startOffset);\n      newRng.setEnd(endElement, endOffset);\n      editor.selection.setRng(rng);\n    };\n    const scrollToMarker = (marker, viewHeight, alignToTop, doc) => {\n      const pos = marker.pos;\n      if (alignToTop) {\n        to(pos.left, pos.top, doc);\n      } else {\n        const y = pos.top - viewHeight + marker.height;\n        to(pos.left, y, doc);\n      }\n    };\n    const intoWindowIfNeeded = (doc, scrollTop, viewHeight, marker, alignToTop) => {\n      const viewportBottom = viewHeight + scrollTop;\n      const markerTop = marker.pos.top;\n      const markerBottom = marker.bottom;\n      const largerThanViewport = markerBottom - markerTop >= viewHeight;\n      if (markerTop < scrollTop) {\n        scrollToMarker(marker, viewHeight, alignToTop !== false, doc);\n      } else if (markerTop > viewportBottom) {\n        const align = largerThanViewport ? alignToTop !== false : alignToTop === true;\n        scrollToMarker(marker, viewHeight, align, doc);\n      } else if (markerBottom > viewportBottom && !largerThanViewport) {\n        scrollToMarker(marker, viewHeight, alignToTop === true, doc);\n      }\n    };\n    const intoWindow = (doc, scrollTop, marker, alignToTop) => {\n      const viewHeight = doc.dom.defaultView.innerHeight;\n      intoWindowIfNeeded(doc, scrollTop, viewHeight, marker, alignToTop);\n    };\n    const intoFrame = (doc, scrollTop, marker, alignToTop) => {\n      const frameViewHeight = doc.dom.defaultView.innerHeight;\n      intoWindowIfNeeded(doc, scrollTop, frameViewHeight, marker, alignToTop);\n      const op = find(marker.element);\n      const viewportBounds = getBounds(window);\n      if (op.top < viewportBounds.y) {\n        intoView(marker.element, alignToTop !== false);\n      } else if (op.top > viewportBounds.bottom) {\n        intoView(marker.element, alignToTop === true);\n      }\n    };\n    const rangeIntoWindow = (editor, rng, alignToTop) => withMarker(editor, intoWindow, rng, alignToTop);\n    const elementIntoWindow = (editor, element, alignToTop) => withElement(editor, element, intoWindow, alignToTop);\n    const rangeIntoFrame = (editor, rng, alignToTop) => withMarker(editor, intoFrame, rng, alignToTop);\n    const elementIntoFrame = (editor, element, alignToTop) => withElement(editor, element, intoFrame, alignToTop);\n    const scrollElementIntoView = (editor, element, alignToTop) => {\n      const scroller = editor.inline ? elementIntoWindow : elementIntoFrame;\n      scroller(editor, element, alignToTop);\n    };\n    const scrollRangeIntoView = (editor, rng, alignToTop) => {\n      const scroller = editor.inline ? rangeIntoWindow : rangeIntoFrame;\n      scroller(editor, rng, alignToTop);\n    };\n\n    const focus$1 = element => element.dom.focus();\n    const hasFocus$1 = element => {\n      const root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    const active$1 = (root = getDocument()) => Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    const search = element => active$1(getRootNode(element)).filter(e => element.dom.contains(e.dom));\n\n    const clamp$1 = (offset, element) => {\n      const max = isText$a(element) ? get$3(element).length : children(element).length + 1;\n      if (offset > max) {\n        return max;\n      } else if (offset < 0) {\n        return 0;\n      }\n      return offset;\n    };\n    const normalizeRng = rng => SimSelection.range(rng.start, clamp$1(rng.soffset, rng.start), rng.finish, clamp$1(rng.foffset, rng.finish));\n    const isOrContains = (root, elm) => !isRestrictedNode(elm.dom) && (contains(root, elm) || eq(root, elm));\n    const isRngInRoot = root => rng => isOrContains(root, rng.start) && isOrContains(root, rng.finish);\n    const shouldStore = editor => editor.inline;\n    const nativeRangeToSelectionRange = r => SimSelection.range(SugarElement.fromDom(r.startContainer), r.startOffset, SugarElement.fromDom(r.endContainer), r.endOffset);\n    const readRange = win => {\n      const selection = win.getSelection();\n      const rng = !selection || selection.rangeCount === 0 ? Optional.none() : Optional.from(selection.getRangeAt(0));\n      return rng.map(nativeRangeToSelectionRange);\n    };\n    const getBookmark = root => {\n      const win = defaultView(root);\n      return readRange(win.dom).filter(isRngInRoot(root));\n    };\n    const validate = (root, bookmark) => Optional.from(bookmark).filter(isRngInRoot(root)).map(normalizeRng);\n    const bookmarkToNativeRng = bookmark => {\n      const rng = document.createRange();\n      try {\n        rng.setStart(bookmark.start.dom, bookmark.soffset);\n        rng.setEnd(bookmark.finish.dom, bookmark.foffset);\n        return Optional.some(rng);\n      } catch (_) {\n        return Optional.none();\n      }\n    };\n    const store = editor => {\n      const newBookmark = shouldStore(editor) ? getBookmark(SugarElement.fromDom(editor.getBody())) : Optional.none();\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n    };\n    const getRng = editor => {\n      const bookmark = editor.bookmark ? editor.bookmark : Optional.none();\n      return bookmark.bind(x => validate(SugarElement.fromDom(editor.getBody()), x)).bind(bookmarkToNativeRng);\n    };\n    const restore = editor => {\n      getRng(editor).each(rng => editor.selection.setRng(rng));\n    };\n\n    const isEditorUIElement$1 = elm => {\n      const className = elm.className.toString();\n      return className.indexOf('tox-') !== -1 || className.indexOf('mce-') !== -1;\n    };\n    const FocusManager = { isEditorUIElement: isEditorUIElement$1 };\n\n    const wrappedSetTimeout = (callback, time) => {\n      if (!isNumber(time)) {\n        time = 0;\n      }\n      return setTimeout(callback, time);\n    };\n    const wrappedSetInterval = (callback, time) => {\n      if (!isNumber(time)) {\n        time = 0;\n      }\n      return setInterval(callback, time);\n    };\n    const Delay = {\n      setEditorTimeout: (editor, callback, time) => {\n        return wrappedSetTimeout(() => {\n          if (!editor.removed) {\n            callback();\n          }\n        }, time);\n      },\n      setEditorInterval: (editor, callback, time) => {\n        const timer = wrappedSetInterval(() => {\n          if (!editor.removed) {\n            callback();\n          } else {\n            clearInterval(timer);\n          }\n        }, time);\n        return timer;\n      }\n    };\n\n    const isManualNodeChange = e => {\n      return e.type === 'nodechange' && e.selectionChange;\n    };\n    const registerPageMouseUp = (editor, throttledStore) => {\n      const mouseUpPage = () => {\n        throttledStore.throttle();\n      };\n      DOMUtils.DOM.bind(document, 'mouseup', mouseUpPage);\n      editor.on('remove', () => {\n        DOMUtils.DOM.unbind(document, 'mouseup', mouseUpPage);\n      });\n    };\n    const registerMouseUp = (editor, throttledStore) => {\n      editor.on('mouseup touchend', _e => {\n        throttledStore.throttle();\n      });\n    };\n    const registerEditorEvents = (editor, throttledStore) => {\n      registerMouseUp(editor, throttledStore);\n      editor.on('keyup NodeChange AfterSetSelectionRange', e => {\n        if (!isManualNodeChange(e)) {\n          store(editor);\n        }\n      });\n    };\n    const register$6 = editor => {\n      const throttledStore = first$1(() => {\n        store(editor);\n      }, 0);\n      editor.on('init', () => {\n        if (editor.inline) {\n          registerPageMouseUp(editor, throttledStore);\n        }\n        registerEditorEvents(editor, throttledStore);\n      });\n      editor.on('remove', () => {\n        throttledStore.cancel();\n      });\n    };\n\n    let documentFocusInHandler;\n    const DOM$9 = DOMUtils.DOM;\n    const isEditorUIElement = elm => {\n      return FocusManager.isEditorUIElement(elm);\n    };\n    const isEditorContentAreaElement = elm => {\n      const classList = elm.classList;\n      if (classList !== undefined) {\n        return classList.contains('tox-edit-area') || classList.contains('tox-edit-area__iframe') || classList.contains('mce-content-body');\n      } else {\n        return false;\n      }\n    };\n    const isUIElement = (editor, elm) => {\n      const customSelector = getCustomUiSelector(editor);\n      const parent = DOM$9.getParent(elm, elm => {\n        return isEditorUIElement(elm) || (customSelector ? editor.dom.is(elm, customSelector) : false);\n      });\n      return parent !== null;\n    };\n    const getActiveElement = editor => {\n      try {\n        const root = getRootNode(SugarElement.fromDom(editor.getElement()));\n        return active$1(root).fold(() => document.body, x => x.dom);\n      } catch (ex) {\n        return document.body;\n      }\n    };\n    const registerEvents$1 = (editorManager, e) => {\n      const editor = e.editor;\n      register$6(editor);\n      editor.on('focusin', () => {\n        const focusedEditor = editorManager.focusedEditor;\n        if (focusedEditor !== editor) {\n          if (focusedEditor) {\n            focusedEditor.dispatch('blur', { focusedEditor: editor });\n          }\n          editorManager.setActive(editor);\n          editorManager.focusedEditor = editor;\n          editor.dispatch('focus', { blurredEditor: focusedEditor });\n          editor.focus(true);\n        }\n      });\n      editor.on('focusout', () => {\n        Delay.setEditorTimeout(editor, () => {\n          const focusedEditor = editorManager.focusedEditor;\n          if (!isUIElement(editor, getActiveElement(editor)) && focusedEditor === editor) {\n            editor.dispatch('blur', { focusedEditor: null });\n            editorManager.focusedEditor = null;\n          }\n        });\n      });\n      if (!documentFocusInHandler) {\n        documentFocusInHandler = e => {\n          const activeEditor = editorManager.activeEditor;\n          if (activeEditor) {\n            getOriginalEventTarget(e).each(target => {\n              if (target.ownerDocument === document) {\n                if (target !== document.body && !isUIElement(activeEditor, target) && editorManager.focusedEditor === activeEditor) {\n                  activeEditor.dispatch('blur', { focusedEditor: null });\n                  editorManager.focusedEditor = null;\n                }\n              }\n            });\n          }\n        };\n        DOM$9.bind(document, 'focusin', documentFocusInHandler);\n      }\n    };\n    const unregisterDocumentEvents = (editorManager, e) => {\n      if (editorManager.focusedEditor === e.editor) {\n        editorManager.focusedEditor = null;\n      }\n      if (!editorManager.activeEditor) {\n        DOM$9.unbind(document, 'focusin', documentFocusInHandler);\n        documentFocusInHandler = null;\n      }\n    };\n    const setup$v = editorManager => {\n      editorManager.on('AddEditor', curry(registerEvents$1, editorManager));\n      editorManager.on('RemoveEditor', curry(unregisterDocumentEvents, editorManager));\n    };\n\n    const getContentEditableHost = (editor, node) => editor.dom.getParent(node, node => editor.dom.getContentEditable(node) === 'true');\n    const getCollapsedNode = rng => rng.collapsed ? Optional.from(getNode$1(rng.startContainer, rng.startOffset)).map(SugarElement.fromDom) : Optional.none();\n    const getFocusInElement = (root, rng) => getCollapsedNode(rng).bind(node => {\n      if (isTableSection(node)) {\n        return Optional.some(node);\n      } else if (contains(root, node) === false) {\n        return Optional.some(root);\n      } else {\n        return Optional.none();\n      }\n    });\n    const normalizeSelection = (editor, rng) => {\n      getFocusInElement(SugarElement.fromDom(editor.getBody()), rng).bind(elm => {\n        return firstPositionIn(elm.dom);\n      }).fold(() => {\n        editor.selection.normalize();\n        return;\n      }, caretPos => editor.selection.setRng(caretPos.toRange()));\n    };\n    const focusBody = body => {\n      if (body.setActive) {\n        try {\n          body.setActive();\n        } catch (ex) {\n          body.focus();\n        }\n      } else {\n        body.focus();\n      }\n    };\n    const hasElementFocus = elm => hasFocus$1(elm) || search(elm).isSome();\n    const hasIframeFocus = editor => editor.iframeElement && hasFocus$1(SugarElement.fromDom(editor.iframeElement));\n    const hasInlineFocus = editor => {\n      const rawBody = editor.getBody();\n      return rawBody && hasElementFocus(SugarElement.fromDom(rawBody));\n    };\n    const hasUiFocus = editor => {\n      const dos = getRootNode(SugarElement.fromDom(editor.getElement()));\n      return active$1(dos).filter(elem => !isEditorContentAreaElement(elem.dom) && isUIElement(editor, elem.dom)).isSome();\n    };\n    const hasFocus = editor => editor.inline ? hasInlineFocus(editor) : hasIframeFocus(editor);\n    const hasEditorOrUiFocus = editor => hasFocus(editor) || hasUiFocus(editor);\n    const focusEditor = editor => {\n      const selection = editor.selection;\n      const body = editor.getBody();\n      let rng = selection.getRng();\n      editor.quirks.refreshContentEditable();\n      if (editor.bookmark !== undefined && hasFocus(editor) === false) {\n        getRng(editor).each(bookmarkRng => {\n          editor.selection.setRng(bookmarkRng);\n          rng = bookmarkRng;\n        });\n      }\n      const contentEditableHost = getContentEditableHost(editor, selection.getNode());\n      if (editor.dom.isChildOf(contentEditableHost, body)) {\n        focusBody(contentEditableHost);\n        normalizeSelection(editor, rng);\n        activateEditor(editor);\n        return;\n      }\n      if (!editor.inline) {\n        if (!Env.browser.isOpera()) {\n          focusBody(body);\n        }\n        editor.getWin().focus();\n      }\n      if (Env.browser.isFirefox() || editor.inline) {\n        focusBody(body);\n        normalizeSelection(editor, rng);\n      }\n      activateEditor(editor);\n    };\n    const activateEditor = editor => editor.editorManager.setActive(editor);\n    const focus = (editor, skipFocus) => {\n      if (editor.removed) {\n        return;\n      }\n      if (skipFocus) {\n        activateEditor(editor);\n      } else {\n        focusEditor(editor);\n      }\n    };\n\n    const getEndpointElement = (root, rng, start, real, resolve) => {\n      const container = start ? rng.startContainer : rng.endContainer;\n      const offset = start ? rng.startOffset : rng.endOffset;\n      return Optional.from(container).map(SugarElement.fromDom).map(elm => !real || !rng.collapsed ? child$1(elm, resolve(elm, offset)).getOr(elm) : elm).bind(elm => isElement$7(elm) ? Optional.some(elm) : parent(elm).filter(isElement$7)).map(elm => elm.dom).getOr(root);\n    };\n    const getStart = (root, rng, real) => getEndpointElement(root, rng, true, real, (elm, offset) => Math.min(childNodesCount(elm), offset));\n    const getEnd$1 = (root, rng, real) => getEndpointElement(root, rng, false, real, (elm, offset) => offset > 0 ? offset - 1 : offset);\n    const skipEmptyTextNodes = (node, forwards) => {\n      const orig = node;\n      while (node && isText$9(node) && node.length === 0) {\n        node = forwards ? node.nextSibling : node.previousSibling;\n      }\n      return node || orig;\n    };\n    const getNode = (root, rng) => {\n      let elm, startContainer, endContainer;\n      if (!rng) {\n        return root;\n      }\n      startContainer = rng.startContainer;\n      endContainer = rng.endContainer;\n      const startOffset = rng.startOffset;\n      const endOffset = rng.endOffset;\n      elm = rng.commonAncestorContainer;\n      if (!rng.collapsed) {\n        if (startContainer === endContainer) {\n          if (endOffset - startOffset < 2) {\n            if (startContainer.hasChildNodes()) {\n              elm = startContainer.childNodes[startOffset];\n            }\n          }\n        }\n        if (startContainer.nodeType === 3 && endContainer.nodeType === 3) {\n          if (startContainer.length === startOffset) {\n            startContainer = skipEmptyTextNodes(startContainer.nextSibling, true);\n          } else {\n            startContainer = startContainer.parentNode;\n          }\n          if (endOffset === 0) {\n            endContainer = skipEmptyTextNodes(endContainer.previousSibling, false);\n          } else {\n            endContainer = endContainer.parentNode;\n          }\n          if (startContainer && startContainer === endContainer) {\n            return startContainer;\n          }\n        }\n      }\n      if (elm && elm.nodeType === 3) {\n        return elm.parentNode;\n      }\n      return elm;\n    };\n    const getSelectedBlocks = (dom, rng, startElm, endElm) => {\n      let node;\n      const selectedBlocks = [];\n      const root = dom.getRoot();\n      startElm = dom.getParent(startElm || getStart(root, rng, rng.collapsed), dom.isBlock);\n      endElm = dom.getParent(endElm || getEnd$1(root, rng, rng.collapsed), dom.isBlock);\n      if (startElm && startElm !== root) {\n        selectedBlocks.push(startElm);\n      }\n      if (startElm && endElm && startElm !== endElm) {\n        node = startElm;\n        const walker = new DomTreeWalker(startElm, root);\n        while ((node = walker.next()) && node !== endElm) {\n          if (dom.isBlock(node)) {\n            selectedBlocks.push(node);\n          }\n        }\n      }\n      if (endElm && startElm !== endElm && endElm !== root) {\n        selectedBlocks.push(endElm);\n      }\n      return selectedBlocks;\n    };\n    const select = (dom, node, content) => Optional.from(node).map(node => {\n      const idx = dom.nodeIndex(node);\n      const rng = dom.createRng();\n      rng.setStart(node.parentNode, idx);\n      rng.setEnd(node.parentNode, idx + 1);\n      if (content) {\n        moveEndPoint(dom, rng, node, true);\n        moveEndPoint(dom, rng, node, false);\n      }\n      return rng;\n    });\n\n    const processRanges = (editor, ranges) => map$3(ranges, range => {\n      const evt = editor.dispatch('GetSelectionRange', { range });\n      return evt.range !== range ? evt.range : range;\n    });\n\n    const getEnd = element => name(element) === 'img' ? 1 : getOption(element).fold(() => children(element).length, v => v.length);\n    const isTextNodeWithCursorPosition = el => getOption(el).filter(text => text.trim().length !== 0 || text.indexOf(nbsp) > -1).isSome();\n    const elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    const isCursorPosition = elem => {\n      const hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains$2(elementsWithCursorPosition, name(elem));\n    };\n\n    const first = element => descendant$1(element, isCursorPosition);\n    const last = element => descendantRtl(element, isCursorPosition);\n    const descendantRtl = (scope, predicate) => {\n      const descend = element => {\n        const children$1 = children(element);\n        for (let i = children$1.length - 1; i >= 0; i--) {\n          const child = children$1[i];\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope);\n    };\n\n    const autocompleteSelector = '[data-mce-autocompleter]';\n    const create$9 = (editor, range) => {\n      if (findIn(SugarElement.fromDom(editor.getBody())).isNone()) {\n        const wrapper = SugarElement.fromHtml('<span data-mce-autocompleter=\"1\" data-mce-bogus=\"1\"></span>', editor.getDoc());\n        append$1(wrapper, SugarElement.fromDom(range.extractContents()));\n        range.insertNode(wrapper.dom);\n        parent(wrapper).each(elm => elm.dom.normalize());\n        last(wrapper).map(last => {\n          editor.selection.setCursorLocation(last.dom, getEnd(last));\n        });\n      }\n    };\n    const detect$1 = elm => closest$3(elm, autocompleteSelector);\n    const findIn = elm => descendant(elm, autocompleteSelector);\n    const remove$3 = (editor, elm) => findIn(elm).each(wrapper => {\n      const bookmark = editor.selection.getBookmark();\n      unwrap(wrapper);\n      editor.selection.moveToBookmark(bookmark);\n    });\n\n    const typeLookup = {\n      '#text': 3,\n      '#comment': 8,\n      '#cdata': 4,\n      '#pi': 7,\n      '#doctype': 10,\n      '#document-fragment': 11\n    };\n    const walk$2 = (node, root, prev) => {\n      const startName = prev ? 'lastChild' : 'firstChild';\n      const siblingName = prev ? 'prev' : 'next';\n      if (node[startName]) {\n        return node[startName];\n      }\n      if (node !== root) {\n        let sibling = node[siblingName];\n        if (sibling) {\n          return sibling;\n        }\n        for (let parent = node.parent; parent && parent !== root; parent = parent.parent) {\n          sibling = parent[siblingName];\n          if (sibling) {\n            return sibling;\n          }\n        }\n      }\n    };\n    const isEmptyTextNode = node => {\n      if (!isWhitespaceText(node.value)) {\n        return false;\n      }\n      const parentNode = node.parent;\n      if (parentNode && (parentNode.name !== 'span' || parentNode.attr('style')) && /^[ ]+$/.test(node.value)) {\n        return false;\n      }\n      return true;\n    };\n    const isNonEmptyElement = node => {\n      const isNamedAnchor = node.name === 'a' && !node.attr('href') && node.attr('id');\n      return node.attr('name') || node.attr('id') && !node.firstChild || node.attr('data-mce-bookmark') || isNamedAnchor;\n    };\n    class AstNode {\n      constructor(name, type) {\n        this.name = name;\n        this.type = type;\n        if (type === 1) {\n          this.attributes = [];\n          this.attributes.map = {};\n        }\n      }\n      static create(name, attrs) {\n        const node = new AstNode(name, typeLookup[name] || 1);\n        if (attrs) {\n          each$e(attrs, (value, attrName) => {\n            node.attr(attrName, value);\n          });\n        }\n        return node;\n      }\n      replace(node) {\n        const self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        self.insert(node, self);\n        self.remove();\n        return self;\n      }\n      attr(name, value) {\n        const self = this;\n        let attrs;\n        if (typeof name !== 'string') {\n          if (name !== undefined && name !== null) {\n            each$e(name, (value, key) => {\n              self.attr(key, value);\n            });\n          }\n          return self;\n        }\n        if (attrs = self.attributes) {\n          if (value !== undefined) {\n            if (value === null) {\n              if (name in attrs.map) {\n                delete attrs.map[name];\n                let i = attrs.length;\n                while (i--) {\n                  if (attrs[i].name === name) {\n                    attrs.splice(i, 1);\n                    return self;\n                  }\n                }\n              }\n              return self;\n            }\n            if (name in attrs.map) {\n              let i = attrs.length;\n              while (i--) {\n                if (attrs[i].name === name) {\n                  attrs[i].value = value;\n                  break;\n                }\n              }\n            } else {\n              attrs.push({\n                name,\n                value\n              });\n            }\n            attrs.map[name] = value;\n            return self;\n          }\n          return attrs.map[name];\n        }\n      }\n      clone() {\n        const self = this;\n        const clone = new AstNode(self.name, self.type);\n        let selfAttrs;\n        if (selfAttrs = self.attributes) {\n          const cloneAttrs = [];\n          cloneAttrs.map = {};\n          for (let i = 0, l = selfAttrs.length; i < l; i++) {\n            const selfAttr = selfAttrs[i];\n            if (selfAttr.name !== 'id') {\n              cloneAttrs[cloneAttrs.length] = {\n                name: selfAttr.name,\n                value: selfAttr.value\n              };\n              cloneAttrs.map[selfAttr.name] = selfAttr.value;\n            }\n          }\n          clone.attributes = cloneAttrs;\n        }\n        clone.value = self.value;\n        return clone;\n      }\n      wrap(wrapper) {\n        const self = this;\n        self.parent.insert(wrapper, self);\n        wrapper.append(self);\n        return self;\n      }\n      unwrap() {\n        const self = this;\n        for (let node = self.firstChild; node;) {\n          const next = node.next;\n          self.insert(node, self, true);\n          node = next;\n        }\n        self.remove();\n      }\n      remove() {\n        const self = this, parent = self.parent, next = self.next, prev = self.prev;\n        if (parent) {\n          if (parent.firstChild === self) {\n            parent.firstChild = next;\n            if (next) {\n              next.prev = null;\n            }\n          } else {\n            prev.next = next;\n          }\n          if (parent.lastChild === self) {\n            parent.lastChild = prev;\n            if (prev) {\n              prev.next = null;\n            }\n          } else {\n            next.prev = prev;\n          }\n          self.parent = self.next = self.prev = null;\n        }\n        return self;\n      }\n      append(node) {\n        const self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        const last = self.lastChild;\n        if (last) {\n          last.next = node;\n          node.prev = last;\n          self.lastChild = node;\n        } else {\n          self.lastChild = self.firstChild = node;\n        }\n        node.parent = self;\n        return node;\n      }\n      insert(node, refNode, before) {\n        if (node.parent) {\n          node.remove();\n        }\n        const parent = refNode.parent || this;\n        if (before) {\n          if (refNode === parent.firstChild) {\n            parent.firstChild = node;\n          } else {\n            refNode.prev.next = node;\n          }\n          node.prev = refNode.prev;\n          node.next = refNode;\n          refNode.prev = node;\n        } else {\n          if (refNode === parent.lastChild) {\n            parent.lastChild = node;\n          } else {\n            refNode.next.prev = node;\n          }\n          node.next = refNode.next;\n          node.prev = refNode;\n          refNode.next = node;\n        }\n        node.parent = parent;\n        return node;\n      }\n      getAll(name) {\n        const self = this;\n        const collection = [];\n        for (let node = self.firstChild; node; node = walk$2(node, self)) {\n          if (node.name === name) {\n            collection.push(node);\n          }\n        }\n        return collection;\n      }\n      children() {\n        const self = this;\n        const collection = [];\n        for (let node = self.firstChild; node; node = node.next) {\n          collection.push(node);\n        }\n        return collection;\n      }\n      empty() {\n        const self = this;\n        if (self.firstChild) {\n          const nodes = [];\n          for (let node = self.firstChild; node; node = walk$2(node, self)) {\n            nodes.push(node);\n          }\n          let i = nodes.length;\n          while (i--) {\n            const node = nodes[i];\n            node.parent = node.firstChild = node.lastChild = node.next = node.prev = null;\n          }\n        }\n        self.firstChild = self.lastChild = null;\n        return self;\n      }\n      isEmpty(elements, whitespace = {}, predicate) {\n        const self = this;\n        let node = self.firstChild;\n        if (isNonEmptyElement(self)) {\n          return false;\n        }\n        if (node) {\n          do {\n            if (node.type === 1) {\n              if (node.attr('data-mce-bogus')) {\n                continue;\n              }\n              if (elements[node.name]) {\n                return false;\n              }\n              if (isNonEmptyElement(node)) {\n                return false;\n              }\n            }\n            if (node.type === 8) {\n              return false;\n            }\n            if (node.type === 3 && !isEmptyTextNode(node)) {\n              return false;\n            }\n            if (node.type === 3 && node.parent && whitespace[node.parent.name] && isWhitespaceText(node.value)) {\n              return false;\n            }\n            if (predicate && predicate(node)) {\n              return false;\n            }\n          } while (node = walk$2(node, self));\n        }\n        return true;\n      }\n      walk(prev) {\n        return walk$2(this, null, prev);\n      }\n    }\n\n    const isConditionalComment = (html, startIndex) => /^\\s*\\[if [\\w\\W]+\\]>.*<!\\[endif\\](--!?)?>/.test(html.substr(startIndex));\n    const findCommentEndIndex = (html, isBogus, startIndex = 0) => {\n      const lcHtml = html.toLowerCase();\n      if (lcHtml.indexOf('[if ', startIndex) !== -1 && isConditionalComment(lcHtml, startIndex)) {\n        const endIfIndex = lcHtml.indexOf('[endif]', startIndex);\n        return lcHtml.indexOf('>', endIfIndex);\n      } else {\n        if (isBogus) {\n          const endIndex = lcHtml.indexOf('>', startIndex);\n          return endIndex !== -1 ? endIndex : lcHtml.length;\n        } else {\n          const endCommentRegexp = /--!?>/g;\n          endCommentRegexp.lastIndex = startIndex;\n          const match = endCommentRegexp.exec(html);\n          return match ? match.index + match[0].length : lcHtml.length;\n        }\n      }\n    };\n    const findMatchingEndTagIndex = (schema, html, startIndex) => {\n      const startTagRegExp = /<([!?\\/])?([A-Za-z0-9\\-_:.]+)/g;\n      const endTagRegExp = /(?:\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>/g;\n      const voidElements = schema.getVoidElements();\n      let count = 1, index = startIndex;\n      while (count !== 0) {\n        startTagRegExp.lastIndex = index;\n        while (true) {\n          const startMatch = startTagRegExp.exec(html);\n          if (startMatch === null) {\n            return index;\n          } else if (startMatch[1] === '!') {\n            if (startsWith(startMatch[2], '--')) {\n              index = findCommentEndIndex(html, false, startMatch.index + '!--'.length);\n            } else {\n              index = findCommentEndIndex(html, true, startMatch.index + 1);\n            }\n            break;\n          } else {\n            endTagRegExp.lastIndex = startTagRegExp.lastIndex;\n            const endMatch = endTagRegExp.exec(html);\n            if (isNull(endMatch) || endMatch.index !== startTagRegExp.lastIndex) {\n              continue;\n            }\n            if (startMatch[1] === '/') {\n              count -= 1;\n            } else if (!has$2(voidElements, startMatch[2])) {\n              count += 1;\n            }\n            index = startTagRegExp.lastIndex + endMatch[0].length;\n            break;\n          }\n        }\n      }\n      return index;\n    };\n    const trimHtml$1 = (tempAttrs, html) => {\n      const trimContentRegExp = new RegExp(['\\\\s?(' + tempAttrs.join('|') + ')=\"[^\"]+\"'].join('|'), 'gi');\n      return html.replace(trimContentRegExp, '');\n    };\n    const trimInternal = (serializer, html) => {\n      const bogusAllRegExp = /<(\\w+) [^>]*data-mce-bogus=\"all\"[^>]*>/g;\n      const schema = serializer.schema;\n      let content = trimHtml$1(serializer.getTempAttrs(), html);\n      const voidElements = schema.getVoidElements();\n      let matches;\n      while (matches = bogusAllRegExp.exec(content)) {\n        const index = bogusAllRegExp.lastIndex;\n        const matchLength = matches[0].length;\n        let endTagIndex;\n        if (voidElements[matches[1]]) {\n          endTagIndex = index;\n        } else {\n          endTagIndex = findMatchingEndTagIndex(schema, content, index);\n        }\n        content = content.substring(0, index - matchLength) + content.substring(endTagIndex);\n        bogusAllRegExp.lastIndex = index - matchLength;\n      }\n      return trim$1(content);\n    };\n    const trimExternal = trimInternal;\n\n    const trimEmptyContents = (editor, html) => {\n      const blockName = getForcedRootBlock(editor);\n      const emptyRegExp = new RegExp(`^(<${ blockName }[^>]*>(&nbsp;|&#160;|\\\\s|\\u00a0|<br \\\\/>|)<\\\\/${ blockName }>[\\r\\n]*|<br \\\\/>[\\r\\n]*)$`);\n      return html.replace(emptyRegExp, '');\n    };\n    const getContentFromBody = (editor, args, body) => {\n      let content;\n      if (args.format === 'raw') {\n        content = Tools.trim(trimExternal(editor.serializer, body.innerHTML));\n      } else if (args.format === 'text') {\n        content = trim$1(body.innerText);\n        content = content === '\\n' ? '' : content;\n      } else if (args.format === 'tree') {\n        content = editor.serializer.serialize(body, args);\n      } else {\n        content = trimEmptyContents(editor, editor.serializer.serialize(body, args));\n      }\n      const shouldTrim = args.format !== 'text' && !isWsPreserveElement(SugarElement.fromDom(body));\n      return shouldTrim && isString(content) ? Tools.trim(content) : content;\n    };\n    const getContentInternal = (editor, args) => Optional.from(editor.getBody()).fold(constant(args.format === 'tree' ? new AstNode('body', 11) : ''), body => getContentFromBody(editor, args, body));\n\n    const each$a = Tools.each;\n    const ElementUtils = dom => {\n      const compare = (node1, node2) => {\n        if (node1.nodeName !== node2.nodeName) {\n          return false;\n        }\n        const getAttribs = node => {\n          const attribs = {};\n          each$a(dom.getAttribs(node), attr => {\n            const name = attr.nodeName.toLowerCase();\n            if (name.indexOf('_') !== 0 && name !== 'style' && name.indexOf('data-') !== 0) {\n              attribs[name] = dom.getAttrib(node, name);\n            }\n          });\n          return attribs;\n        };\n        const compareObjects = (obj1, obj2) => {\n          let value, name;\n          for (name in obj1) {\n            if (has$2(obj1, name)) {\n              value = obj2[name];\n              if (typeof value === 'undefined') {\n                return false;\n              }\n              if (obj1[name] !== value) {\n                return false;\n              }\n              delete obj2[name];\n            }\n          }\n          for (name in obj2) {\n            if (has$2(obj2, name)) {\n              return false;\n            }\n          }\n          return true;\n        };\n        if (!compareObjects(getAttribs(node1), getAttribs(node2))) {\n          return false;\n        }\n        if (!compareObjects(dom.parseStyle(dom.getAttrib(node1, 'style')), dom.parseStyle(dom.getAttrib(node2, 'style')))) {\n          return false;\n        }\n        return !isBookmarkNode$1(node1) && !isBookmarkNode$1(node2);\n      };\n      return { compare };\n    };\n\n    const makeMap$1 = Tools.makeMap;\n    const Writer = settings => {\n      const html = [];\n      settings = settings || {};\n      const indent = settings.indent;\n      const indentBefore = makeMap$1(settings.indent_before || '');\n      const indentAfter = makeMap$1(settings.indent_after || '');\n      const encode = Entities.getEncodeFunc(settings.entity_encoding || 'raw', settings.entities);\n      const htmlOutput = settings.element_format !== 'xhtml';\n      return {\n        start: (name, attrs, empty) => {\n          let i, l, attr, value;\n          if (indent && indentBefore[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n          html.push('<', name);\n          if (attrs) {\n            for (i = 0, l = attrs.length; i < l; i++) {\n              attr = attrs[i];\n              html.push(' ', attr.name, '=\"', encode(attr.value, true), '\"');\n            }\n          }\n          if (!empty || htmlOutput) {\n            html[html.length] = '>';\n          } else {\n            html[html.length] = ' />';\n          }\n          if (empty && indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        end: name => {\n          let value;\n          html.push('</', name, '>');\n          if (indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        text: (text, raw) => {\n          if (text.length > 0) {\n            html[html.length] = raw ? text : encode(text);\n          }\n        },\n        cdata: text => {\n          html.push('<![CDATA[', text, ']]>');\n        },\n        comment: text => {\n          html.push('<!--', text, '-->');\n        },\n        pi: (name, text) => {\n          if (text) {\n            html.push('<?', name, ' ', encode(text), '?>');\n          } else {\n            html.push('<?', name, '?>');\n          }\n          if (indent) {\n            html.push('\\n');\n          }\n        },\n        doctype: text => {\n          html.push('<!DOCTYPE', text, '>', indent ? '\\n' : '');\n        },\n        reset: () => {\n          html.length = 0;\n        },\n        getContent: () => {\n          return html.join('').replace(/\\n$/, '');\n        }\n      };\n    };\n\n    const HtmlSerializer = (settings, schema = Schema()) => {\n      const writer = Writer(settings);\n      settings = settings || {};\n      settings.validate = 'validate' in settings ? settings.validate : true;\n      const serialize = node => {\n        const validate = settings.validate;\n        const handlers = {\n          3: node => {\n            writer.text(node.value, node.raw);\n          },\n          8: node => {\n            writer.comment(node.value);\n          },\n          7: node => {\n            writer.pi(node.name, node.value);\n          },\n          10: node => {\n            writer.doctype(node.value);\n          },\n          4: node => {\n            writer.cdata(node.value);\n          },\n          11: node => {\n            if (node = node.firstChild) {\n              do {\n                walk(node);\n              } while (node = node.next);\n            }\n          }\n        };\n        writer.reset();\n        const walk = node => {\n          const handler = handlers[node.type];\n          if (!handler) {\n            const name = node.name;\n            const isEmpty = name in schema.getVoidElements();\n            let attrs = node.attributes;\n            if (validate && attrs && attrs.length > 1) {\n              const sortedAttrs = [];\n              sortedAttrs.map = {};\n              const elementRule = schema.getElementRule(node.name);\n              if (elementRule) {\n                for (let i = 0, l = elementRule.attributesOrder.length; i < l; i++) {\n                  const attrName = elementRule.attributesOrder[i];\n                  if (attrName in attrs.map) {\n                    const attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                for (let i = 0, l = attrs.length; i < l; i++) {\n                  const attrName = attrs[i].name;\n                  if (!(attrName in sortedAttrs.map)) {\n                    const attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                attrs = sortedAttrs;\n              }\n            }\n            writer.start(name, attrs, isEmpty);\n            if (!isEmpty) {\n              let child = node.firstChild;\n              if (child) {\n                if ((name === 'pre' || name === 'textarea') && child.type === 3 && child.value[0] === '\\n') {\n                  writer.text('\\n', true);\n                }\n                do {\n                  walk(child);\n                } while (child = child.next);\n              }\n              writer.end(name);\n            }\n          } else {\n            handler(node);\n          }\n        };\n        if (node.type === 1 && !settings.inner) {\n          walk(node);\n        } else if (node.type === 3) {\n          handlers[3](node);\n        } else {\n          handlers[11](node);\n        }\n        return writer.getContent();\n      };\n      return { serialize };\n    };\n\n    const nonInheritableStyles = new Set();\n    (() => {\n      const nonInheritableStylesArr = [\n        'margin',\n        'margin-left',\n        'margin-right',\n        'margin-top',\n        'margin-bottom',\n        'padding',\n        'padding-left',\n        'padding-right',\n        'padding-top',\n        'padding-bottom',\n        'border',\n        'border-width',\n        'border-style',\n        'border-color',\n        'background',\n        'background-attachment',\n        'background-clip',\n        'background-color',\n        'background-image',\n        'background-origin',\n        'background-position',\n        'background-repeat',\n        'background-size',\n        'float',\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'z-index',\n        'display',\n        'transform',\n        'width',\n        'max-width',\n        'min-width',\n        'height',\n        'max-height',\n        'min-height',\n        'overflow',\n        'overflow-x',\n        'overflow-y',\n        'text-overflow',\n        'vertical-align',\n        'transition',\n        'transition-delay',\n        'transition-duration',\n        'transition-property',\n        'transition-timing-function'\n      ];\n      each$f(nonInheritableStylesArr, style => {\n        nonInheritableStyles.add(style);\n      });\n    })();\n    const shorthandStyleProps = [\n      'font',\n      'text-decoration',\n      'text-emphasis'\n    ];\n    const getStyleProps = (dom, node) => keys(dom.parseStyle(dom.getAttrib(node, 'style')));\n    const isNonInheritableStyle = style => nonInheritableStyles.has(style);\n    const hasInheritableStyles = (dom, node) => forall(getStyleProps(dom, node), style => !isNonInheritableStyle(style));\n    const getLonghandStyleProps = styles => filter$6(styles, style => exists(shorthandStyleProps, prop => startsWith(style, prop)));\n    const hasStyleConflict = (dom, node, parentNode) => {\n      const nodeStyleProps = getStyleProps(dom, node);\n      const parentNodeStyleProps = getStyleProps(dom, parentNode);\n      const valueMismatch = prop => {\n        var _a, _b;\n        const nodeValue = (_a = dom.getStyle(node, prop)) !== null && _a !== void 0 ? _a : '';\n        const parentValue = (_b = dom.getStyle(parentNode, prop)) !== null && _b !== void 0 ? _b : '';\n        return isNotEmpty(nodeValue) && isNotEmpty(parentValue) && nodeValue !== parentValue;\n      };\n      return exists(nodeStyleProps, nodeStyleProp => {\n        const propExists = props => exists(props, prop => prop === nodeStyleProp);\n        if (!propExists(parentNodeStyleProps) && propExists(shorthandStyleProps)) {\n          const longhandProps = getLonghandStyleProps(parentNodeStyleProps);\n          return exists(longhandProps, valueMismatch);\n        } else {\n          return valueMismatch(nodeStyleProp);\n        }\n      });\n    };\n\n    const isChar = (forward, predicate, pos) => Optional.from(pos.container()).filter(isText$9).exists(text => {\n      const delta = forward ? 0 : -1;\n      return predicate(text.data.charAt(pos.offset() + delta));\n    });\n    const isBeforeSpace = curry(isChar, true, isWhiteSpace);\n    const isAfterSpace = curry(isChar, false, isWhiteSpace);\n    const isEmptyText = pos => {\n      const container = pos.container();\n      return isText$9(container) && (container.data.length === 0 || isZwsp(container.data) && BookmarkManager.isBookmarkNode(container.parentNode));\n    };\n    const matchesElementPosition = (before, predicate) => pos => Optional.from(getChildNodeAtRelativeOffset(before ? 0 : -1, pos)).filter(predicate).isSome();\n    const isImageBlock = node => isImg(node) && get$7(SugarElement.fromDom(node), 'display') === 'block';\n    const isCefNode = node => isContentEditableFalse$b(node) && !isBogusAll$1(node);\n    const isBeforeImageBlock = matchesElementPosition(true, isImageBlock);\n    const isAfterImageBlock = matchesElementPosition(false, isImageBlock);\n    const isBeforeMedia = matchesElementPosition(true, isMedia$2);\n    const isAfterMedia = matchesElementPosition(false, isMedia$2);\n    const isBeforeTable = matchesElementPosition(true, isTable$3);\n    const isAfterTable = matchesElementPosition(false, isTable$3);\n    const isBeforeContentEditableFalse = matchesElementPosition(true, isCefNode);\n    const isAfterContentEditableFalse = matchesElementPosition(false, isCefNode);\n\n    const dropLast = xs => xs.slice(0, -1);\n    const parentsUntil = (start, root, predicate) => {\n      if (contains(root, start)) {\n        return dropLast(parents$1(start, elm => {\n          return predicate(elm) || eq(elm, root);\n        }));\n      } else {\n        return [];\n      }\n    };\n    const parents = (start, root) => parentsUntil(start, root, never);\n    const parentsAndSelf = (start, root) => [start].concat(parents(start, root));\n\n    const navigateIgnoreEmptyTextNodes = (forward, root, from) => navigateIgnore(forward, root, from, isEmptyText);\n    const getClosestBlock$1 = (root, pos) => find$2(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$2);\n    const isAtBeforeAfterBlockBoundary = (forward, root, pos) => navigateIgnoreEmptyTextNodes(forward, root.dom, pos).forall(newPos => getClosestBlock$1(root, pos).fold(() => isInSameBlock(newPos, pos, root.dom) === false, fromBlock => isInSameBlock(newPos, pos, root.dom) === false && contains(fromBlock, SugarElement.fromDom(newPos.container()))));\n    const isAtBlockBoundary = (forward, root, pos) => getClosestBlock$1(root, pos).fold(() => navigateIgnoreEmptyTextNodes(forward, root.dom, pos).forall(newPos => isInSameBlock(newPos, pos, root.dom) === false), parent => navigateIgnoreEmptyTextNodes(forward, parent.dom, pos).isNone());\n    const isAtStartOfBlock = curry(isAtBlockBoundary, false);\n    const isAtEndOfBlock = curry(isAtBlockBoundary, true);\n    const isBeforeBlock = curry(isAtBeforeAfterBlockBoundary, false);\n    const isAfterBlock = curry(isAtBeforeAfterBlockBoundary, true);\n\n    const isBr$1 = pos => getElementFromPosition(pos).exists(isBr$5);\n    const findBr = (forward, root, pos) => {\n      const parentBlocks = filter$6(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$2);\n      const scope = head(parentBlocks).getOr(root);\n      return fromPosition(forward, scope.dom, pos).filter(isBr$1);\n    };\n    const isBeforeBr$1 = (root, pos) => getElementFromPosition(pos).exists(isBr$5) || findBr(true, root, pos).isSome();\n    const isAfterBr = (root, pos) => getElementFromPrevPosition(pos).exists(isBr$5) || findBr(false, root, pos).isSome();\n    const findPreviousBr = curry(findBr, false);\n    const findNextBr = curry(findBr, true);\n\n    const isInMiddleOfText = pos => CaretPosition.isTextPosition(pos) && !pos.isAtStart() && !pos.isAtEnd();\n    const getClosestBlock = (root, pos) => {\n      const parentBlocks = filter$6(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$2);\n      return head(parentBlocks).getOr(root);\n    };\n    const hasSpaceBefore = (root, pos) => {\n      if (isInMiddleOfText(pos)) {\n        return isAfterSpace(pos);\n      } else {\n        return isAfterSpace(pos) || prevPosition(getClosestBlock(root, pos).dom, pos).exists(isAfterSpace);\n      }\n    };\n    const hasSpaceAfter = (root, pos) => {\n      if (isInMiddleOfText(pos)) {\n        return isBeforeSpace(pos);\n      } else {\n        return isBeforeSpace(pos) || nextPosition(getClosestBlock(root, pos).dom, pos).exists(isBeforeSpace);\n      }\n    };\n    const isPreValue = value => contains$2([\n      'pre',\n      'pre-wrap'\n    ], value);\n    const isInPre = pos => getElementFromPosition(pos).bind(elm => closest$4(elm, isElement$7)).exists(elm => isPreValue(get$7(elm, 'white-space')));\n    const isAtBeginningOfBody = (root, pos) => prevPosition(root.dom, pos).isNone();\n    const isAtEndOfBody = (root, pos) => nextPosition(root.dom, pos).isNone();\n    const isAtLineBoundary = (root, pos) => isAtBeginningOfBody(root, pos) || isAtEndOfBody(root, pos) || isAtStartOfBlock(root, pos) || isAtEndOfBlock(root, pos) || isAfterBr(root, pos) || isBeforeBr$1(root, pos);\n    const isCefBlock = node => isNonNullable(node) && isContentEditableFalse$b(node) && isBlockLike(node);\n    const isSiblingCefBlock = root => container => isCefBlock(new DomTreeWalker(container, root).next());\n    const isBeforeCefBlock = (root, pos) => {\n      const nextPos = nextPosition(root.dom, pos).getOr(pos);\n      const isNextCefBlock = isSiblingCefBlock(root.dom);\n      return pos.isAtEnd() && (isNextCefBlock(pos.container()) || isNextCefBlock(nextPos.container()));\n    };\n    const needsToHaveNbsp = (root, pos) => {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtLineBoundary(root, pos) || hasSpaceBefore(root, pos) || hasSpaceAfter(root, pos);\n      }\n    };\n    const needsToBeNbspLeft = (root, pos) => {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtStartOfBlock(root, pos) || isBeforeBlock(root, pos) || isAfterBr(root, pos) || hasSpaceBefore(root, pos);\n      }\n    };\n    const leanRight = pos => {\n      const container = pos.container();\n      const offset = pos.offset();\n      if (isText$9(container) && offset < container.data.length) {\n        return CaretPosition(container, offset + 1);\n      } else {\n        return pos;\n      }\n    };\n    const needsToBeNbspRight = (root, pos) => {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtEndOfBlock(root, pos) || isAfterBlock(root, pos) || isBeforeBr$1(root, pos) || hasSpaceAfter(root, pos) || isBeforeCefBlock(root, pos);\n      }\n    };\n    const needsToBeNbsp = (root, pos) => needsToBeNbspLeft(root, pos) || needsToBeNbspRight(root, leanRight(pos));\n    const isNbspAt = (text, offset) => isNbsp(text.charAt(offset));\n    const hasNbsp = pos => {\n      const container = pos.container();\n      return isText$9(container) && contains$1(container.data, nbsp);\n    };\n    const normalizeNbspMiddle = text => {\n      const chars = text.split('');\n      return map$3(chars, (chr, i) => {\n        if (isNbsp(chr) && i > 0 && i < chars.length - 1 && isContent(chars[i - 1]) && isContent(chars[i + 1])) {\n          return ' ';\n        } else {\n          return chr;\n        }\n      }).join('');\n    };\n    const normalizeNbspAtStart = (root, node) => {\n      const text = node.data;\n      const firstPos = CaretPosition(node, 0);\n      if (isNbspAt(text, 0) && !needsToBeNbsp(root, firstPos)) {\n        node.data = ' ' + text.slice(1);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const normalizeNbspInMiddleOfTextNode = node => {\n      const text = node.data;\n      const newText = normalizeNbspMiddle(text);\n      if (newText !== text) {\n        node.data = newText;\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const normalizeNbspAtEnd = (root, node) => {\n      const text = node.data;\n      const lastPos = CaretPosition(node, text.length - 1);\n      if (isNbspAt(text, text.length - 1) && !needsToBeNbsp(root, lastPos)) {\n        node.data = text.slice(0, -1) + ' ';\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const normalizeNbsps = (root, pos) => Optional.some(pos).filter(hasNbsp).bind(pos => {\n      const container = pos.container();\n      const normalized = normalizeNbspAtStart(root, container) || normalizeNbspInMiddleOfTextNode(container) || normalizeNbspAtEnd(root, container);\n      return normalized ? Optional.some(pos) : Optional.none();\n    });\n    const normalizeNbspsInEditor = editor => {\n      const root = SugarElement.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        normalizeNbsps(root, CaretPosition.fromRangeStart(editor.selection.getRng())).each(pos => {\n          editor.selection.setRng(pos.toRange());\n        });\n      }\n    };\n\n    const normalize$1 = (node, offset, count) => {\n      if (count === 0) {\n        return;\n      }\n      const elm = SugarElement.fromDom(node);\n      const root = ancestor$3(elm, isBlock$2).getOr(elm);\n      const whitespace = node.data.slice(offset, offset + count);\n      const isEndOfContent = offset + count >= node.data.length && needsToBeNbspRight(root, CaretPosition(node, node.data.length));\n      const isStartOfContent = offset === 0 && needsToBeNbspLeft(root, CaretPosition(node, 0));\n      node.replaceData(offset, count, normalize$4(whitespace, 4, isStartOfContent, isEndOfContent));\n    };\n    const normalizeWhitespaceAfter = (node, offset) => {\n      const content = node.data.slice(offset);\n      const whitespaceCount = content.length - lTrim(content).length;\n      normalize$1(node, offset, whitespaceCount);\n    };\n    const normalizeWhitespaceBefore = (node, offset) => {\n      const content = node.data.slice(0, offset);\n      const whitespaceCount = content.length - rTrim(content).length;\n      normalize$1(node, offset - whitespaceCount, whitespaceCount);\n    };\n    const mergeTextNodes = (prevNode, nextNode, normalizeWhitespace, mergeToPrev = true) => {\n      const whitespaceOffset = rTrim(prevNode.data).length;\n      const newNode = mergeToPrev ? prevNode : nextNode;\n      const removeNode = mergeToPrev ? nextNode : prevNode;\n      if (mergeToPrev) {\n        newNode.appendData(removeNode.data);\n      } else {\n        newNode.insertData(0, removeNode.data);\n      }\n      remove$6(SugarElement.fromDom(removeNode));\n      if (normalizeWhitespace) {\n        normalizeWhitespaceAfter(newNode, whitespaceOffset);\n      }\n      return newNode;\n    };\n\n    const needsReposition = (pos, elm) => {\n      const container = pos.container();\n      const offset = pos.offset();\n      return CaretPosition.isTextPosition(pos) === false && container === elm.parentNode && offset > CaretPosition.before(elm).offset();\n    };\n    const reposition = (elm, pos) => needsReposition(pos, elm) ? CaretPosition(pos.container(), pos.offset() - 1) : pos;\n    const beforeOrStartOf = node => isText$9(node) ? CaretPosition(node, 0) : CaretPosition.before(node);\n    const afterOrEndOf = node => isText$9(node) ? CaretPosition(node, node.data.length) : CaretPosition.after(node);\n    const getPreviousSiblingCaretPosition = elm => {\n      if (isCaretCandidate$3(elm.previousSibling)) {\n        return Optional.some(afterOrEndOf(elm.previousSibling));\n      } else {\n        return elm.previousSibling ? lastPositionIn(elm.previousSibling) : Optional.none();\n      }\n    };\n    const getNextSiblingCaretPosition = elm => {\n      if (isCaretCandidate$3(elm.nextSibling)) {\n        return Optional.some(beforeOrStartOf(elm.nextSibling));\n      } else {\n        return elm.nextSibling ? firstPositionIn(elm.nextSibling) : Optional.none();\n      }\n    };\n    const findCaretPositionBackwardsFromElm = (rootElement, elm) => {\n      const startPosition = CaretPosition.before(elm.previousSibling ? elm.previousSibling : elm.parentNode);\n      return prevPosition(rootElement, startPosition).fold(() => nextPosition(rootElement, CaretPosition.after(elm)), Optional.some);\n    };\n    const findCaretPositionForwardsFromElm = (rootElement, elm) => nextPosition(rootElement, CaretPosition.after(elm)).fold(() => prevPosition(rootElement, CaretPosition.before(elm)), Optional.some);\n    const findCaretPositionBackwards = (rootElement, elm) => getPreviousSiblingCaretPosition(elm).orThunk(() => getNextSiblingCaretPosition(elm)).orThunk(() => findCaretPositionBackwardsFromElm(rootElement, elm));\n    const findCaretPositionForward = (rootElement, elm) => getNextSiblingCaretPosition(elm).orThunk(() => getPreviousSiblingCaretPosition(elm)).orThunk(() => findCaretPositionForwardsFromElm(rootElement, elm));\n    const findCaretPosition = (forward, rootElement, elm) => forward ? findCaretPositionForward(rootElement, elm) : findCaretPositionBackwards(rootElement, elm);\n    const findCaretPosOutsideElmAfterDelete = (forward, rootElement, elm) => findCaretPosition(forward, rootElement, elm).map(curry(reposition, elm));\n    const setSelection$1 = (editor, forward, pos) => {\n      pos.fold(() => {\n        editor.focus();\n      }, pos => {\n        editor.selection.setRng(pos.toRange(), forward);\n      });\n    };\n    const eqRawNode = rawNode => elm => elm.dom === rawNode;\n    const isBlock = (editor, elm) => elm && has$2(editor.schema.getBlockElements(), name(elm));\n    const paddEmptyBlock = elm => {\n      if (isEmpty$2(elm)) {\n        const br = SugarElement.fromHtml('<br data-mce-bogus=\"1\">');\n        empty(elm);\n        append$1(elm, br);\n        return Optional.some(CaretPosition.before(br.dom));\n      } else {\n        return Optional.none();\n      }\n    };\n    const deleteNormalized = (elm, afterDeletePosOpt, normalizeWhitespace) => {\n      const prevTextOpt = prevSibling(elm).filter(isText$a);\n      const nextTextOpt = nextSibling(elm).filter(isText$a);\n      remove$6(elm);\n      return lift3(prevTextOpt, nextTextOpt, afterDeletePosOpt, (prev, next, pos) => {\n        const prevNode = prev.dom, nextNode = next.dom;\n        const offset = prevNode.data.length;\n        mergeTextNodes(prevNode, nextNode, normalizeWhitespace);\n        return pos.container() === nextNode ? CaretPosition(prevNode, offset) : pos;\n      }).orThunk(() => {\n        if (normalizeWhitespace) {\n          prevTextOpt.each(elm => normalizeWhitespaceBefore(elm.dom, elm.dom.length));\n          nextTextOpt.each(elm => normalizeWhitespaceAfter(elm.dom, 0));\n        }\n        return afterDeletePosOpt;\n      });\n    };\n    const isInlineElement = (editor, element) => has$2(editor.schema.getTextInlineElements(), name(element));\n    const deleteElement$2 = (editor, forward, elm, moveCaret = true) => {\n      const afterDeletePos = findCaretPosOutsideElmAfterDelete(forward, editor.getBody(), elm.dom);\n      const parentBlock = ancestor$3(elm, curry(isBlock, editor), eqRawNode(editor.getBody()));\n      const normalizedAfterDeletePos = deleteNormalized(elm, afterDeletePos, isInlineElement(editor, elm));\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('');\n        editor.selection.setCursorLocation();\n      } else {\n        parentBlock.bind(paddEmptyBlock).fold(() => {\n          if (moveCaret) {\n            setSelection$1(editor, forward, normalizedAfterDeletePos);\n          }\n        }, paddPos => {\n          if (moveCaret) {\n            setSelection$1(editor, forward, Optional.some(paddPos));\n          }\n        });\n      }\n    };\n\n    const strongRtl = /[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/;\n    const hasStrongRtl = text => strongRtl.test(text);\n\n    const isInlineTarget = (editor, elm) => is$1(SugarElement.fromDom(elm), getInlineBoundarySelector(editor));\n    const isRtl = element => DOMUtils.DOM.getStyle(element, 'direction', true) === 'rtl' || hasStrongRtl(element.textContent);\n    const findInlineParents = (isInlineTarget, rootNode, pos) => filter$6(DOMUtils.DOM.getParents(pos.container(), '*', rootNode), isInlineTarget);\n    const findRootInline = (isInlineTarget, rootNode, pos) => {\n      const parents = findInlineParents(isInlineTarget, rootNode, pos);\n      return Optional.from(parents[parents.length - 1]);\n    };\n    const hasSameParentBlock = (rootNode, node1, node2) => {\n      const block1 = getParentBlock$3(node1, rootNode);\n      const block2 = getParentBlock$3(node2, rootNode);\n      return block1 && block1 === block2;\n    };\n    const isAtZwsp = pos => isBeforeInline(pos) || isAfterInline(pos);\n    const normalizePosition = (forward, pos) => {\n      if (!pos) {\n        return pos;\n      }\n      const container = pos.container(), offset = pos.offset();\n      if (forward) {\n        if (isCaretContainerInline(container)) {\n          if (isText$9(container.nextSibling)) {\n            return CaretPosition(container.nextSibling, 0);\n          } else {\n            return CaretPosition.after(container);\n          }\n        } else {\n          return isBeforeInline(pos) ? CaretPosition(container, offset + 1) : pos;\n        }\n      } else {\n        if (isCaretContainerInline(container)) {\n          if (isText$9(container.previousSibling)) {\n            return CaretPosition(container.previousSibling, container.previousSibling.data.length);\n          } else {\n            return CaretPosition.before(container);\n          }\n        } else {\n          return isAfterInline(pos) ? CaretPosition(container, offset - 1) : pos;\n        }\n      }\n    };\n    const normalizeForwards = curry(normalizePosition, true);\n    const normalizeBackwards = curry(normalizePosition, false);\n\n    const execCommandIgnoreInputEvents = (editor, command) => {\n      const inputBlocker = e => e.stopImmediatePropagation();\n      editor.on('beforeinput input', inputBlocker, true);\n      editor.getDoc().execCommand(command);\n      editor.off('beforeinput input', inputBlocker);\n    };\n    const execDeleteCommand = editor => execCommandIgnoreInputEvents(editor, 'Delete');\n    const execForwardDeleteCommand = editor => execCommandIgnoreInputEvents(editor, 'ForwardDelete');\n    const isBeforeRoot = rootNode => elm => eq(rootNode, SugarElement.fromDom(elm.dom.parentNode));\n    const isTextBlockOrListItem = element => isTextBlock$2(element) || isListItem(element);\n    const getParentBlock$2 = (rootNode, elm) => {\n      if (contains(rootNode, elm)) {\n        return closest$4(elm, isTextBlockOrListItem, isBeforeRoot(rootNode));\n      } else {\n        return Optional.none();\n      }\n    };\n    const paddEmptyBody = (editor, moveSelection = true) => {\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('', { no_selection: !moveSelection });\n      }\n    };\n    const willDeleteLastPositionInElement = (forward, fromPos, elm) => lift2(firstPositionIn(elm), lastPositionIn(elm), (firstPos, lastPos) => {\n      const normalizedFirstPos = normalizePosition(true, firstPos);\n      const normalizedLastPos = normalizePosition(false, lastPos);\n      const normalizedFromPos = normalizePosition(false, fromPos);\n      if (forward) {\n        return nextPosition(elm, normalizedFromPos).exists(nextPos => nextPos.isEqual(normalizedLastPos) && fromPos.isEqual(normalizedFirstPos));\n      } else {\n        return prevPosition(elm, normalizedFromPos).exists(prevPos => prevPos.isEqual(normalizedFirstPos) && fromPos.isEqual(normalizedLastPos));\n      }\n    }).getOr(true);\n    const freefallRtl = root => {\n      const child = isComment$1(root) ? prevSibling(root) : lastChild(root);\n      return child.bind(freefallRtl).orThunk(() => Optional.some(root));\n    };\n    const deleteRangeContents = (editor, rng, root, moveSelection = true) => {\n      var _a;\n      rng.deleteContents();\n      const lastNode = freefallRtl(root).getOr(root);\n      const lastBlock = SugarElement.fromDom((_a = editor.dom.getParent(lastNode.dom, editor.dom.isBlock)) !== null && _a !== void 0 ? _a : root.dom);\n      if (lastBlock.dom === editor.getBody()) {\n        paddEmptyBody(editor, moveSelection);\n      } else if (isEmpty$2(lastBlock)) {\n        fillWithPaddingBr(lastBlock);\n        if (moveSelection) {\n          editor.selection.setCursorLocation(lastBlock.dom, 0);\n        }\n      }\n      if (!eq(root, lastBlock)) {\n        const additionalCleanupNodes = is$2(parent(lastBlock), root) ? [] : siblings(lastBlock);\n        each$f(additionalCleanupNodes.concat(children(root)), node => {\n          if (!eq(node, lastBlock) && !contains(node, lastBlock) && isEmpty$2(node)) {\n            remove$6(node);\n          }\n        });\n      }\n    };\n\n    const isRootFromElement = root => cur => eq(root, cur);\n    const getTableCells = table => descendants(table, 'td,th');\n    const getTableDetailsFromRange = (rng, isRoot) => {\n      const getTable = node => getClosestTable(SugarElement.fromDom(node), isRoot);\n      const startTable = getTable(rng.startContainer);\n      const endTable = getTable(rng.endContainer);\n      const isStartInTable = startTable.isSome();\n      const isEndInTable = endTable.isSome();\n      const isSameTable = lift2(startTable, endTable, eq).getOr(false);\n      const isMultiTable = !isSameTable && isStartInTable && isEndInTable;\n      return {\n        startTable,\n        endTable,\n        isStartInTable,\n        isEndInTable,\n        isSameTable,\n        isMultiTable\n      };\n    };\n\n    const tableCellRng = (start, end) => ({\n      start,\n      end\n    });\n    const tableSelection = (rng, table, cells) => ({\n      rng,\n      table,\n      cells\n    });\n    const deleteAction = Adt.generate([\n      {\n        singleCellTable: [\n          'rng',\n          'cell'\n        ]\n      },\n      { fullTable: ['table'] },\n      {\n        partialTable: [\n          'cells',\n          'outsideDetails'\n        ]\n      },\n      {\n        multiTable: [\n          'startTableCells',\n          'endTableCells',\n          'betweenRng'\n        ]\n      }\n    ]);\n    const getClosestCell$1 = (container, isRoot) => closest$3(SugarElement.fromDom(container), 'td,th', isRoot);\n    const isExpandedCellRng = cellRng => !eq(cellRng.start, cellRng.end);\n    const getTableFromCellRng = (cellRng, isRoot) => getClosestTable(cellRng.start, isRoot).bind(startParentTable => getClosestTable(cellRng.end, isRoot).bind(endParentTable => someIf(eq(startParentTable, endParentTable), startParentTable)));\n    const isSingleCellTable = (cellRng, isRoot) => !isExpandedCellRng(cellRng) && getTableFromCellRng(cellRng, isRoot).exists(table => {\n      const rows = table.dom.rows;\n      return rows.length === 1 && rows[0].cells.length === 1;\n    });\n    const getCellRng = (rng, isRoot) => {\n      const startCell = getClosestCell$1(rng.startContainer, isRoot);\n      const endCell = getClosestCell$1(rng.endContainer, isRoot);\n      return lift2(startCell, endCell, tableCellRng);\n    };\n    const getCellRangeFromStartTable = isRoot => startCell => getClosestTable(startCell, isRoot).bind(table => last$3(getTableCells(table)).map(endCell => tableCellRng(startCell, endCell)));\n    const getCellRangeFromEndTable = isRoot => endCell => getClosestTable(endCell, isRoot).bind(table => head(getTableCells(table)).map(startCell => tableCellRng(startCell, endCell)));\n    const getTableSelectionFromCellRng = isRoot => cellRng => getTableFromCellRng(cellRng, isRoot).map(table => tableSelection(cellRng, table, getTableCells(table)));\n    const getTableSelections = (cellRng, selectionDetails, rng, isRoot) => {\n      if (rng.collapsed || !cellRng.forall(isExpandedCellRng)) {\n        return Optional.none();\n      } else if (selectionDetails.isSameTable) {\n        const sameTableSelection = cellRng.bind(getTableSelectionFromCellRng(isRoot));\n        return Optional.some({\n          start: sameTableSelection,\n          end: sameTableSelection\n        });\n      } else {\n        const startCell = getClosestCell$1(rng.startContainer, isRoot);\n        const endCell = getClosestCell$1(rng.endContainer, isRoot);\n        const startTableSelection = startCell.bind(getCellRangeFromStartTable(isRoot)).bind(getTableSelectionFromCellRng(isRoot));\n        const endTableSelection = endCell.bind(getCellRangeFromEndTable(isRoot)).bind(getTableSelectionFromCellRng(isRoot));\n        return Optional.some({\n          start: startTableSelection,\n          end: endTableSelection\n        });\n      }\n    };\n    const getCellIndex = (cells, cell) => findIndex$2(cells, x => eq(x, cell));\n    const getSelectedCells = tableSelection => lift2(getCellIndex(tableSelection.cells, tableSelection.rng.start), getCellIndex(tableSelection.cells, tableSelection.rng.end), (startIndex, endIndex) => tableSelection.cells.slice(startIndex, endIndex + 1));\n    const isSingleCellTableContentSelected = (optCellRng, rng, isRoot) => optCellRng.exists(cellRng => isSingleCellTable(cellRng, isRoot) && hasAllContentsSelected(cellRng.start, rng));\n    const unselectCells = (rng, selectionDetails) => {\n      const {startTable, endTable} = selectionDetails;\n      const otherContentRng = rng.cloneRange();\n      startTable.each(table => otherContentRng.setStartAfter(table.dom));\n      endTable.each(table => otherContentRng.setEndBefore(table.dom));\n      return otherContentRng;\n    };\n    const handleSingleTable = (cellRng, selectionDetails, rng, isRoot) => getTableSelections(cellRng, selectionDetails, rng, isRoot).bind(({start, end}) => start.or(end)).bind(tableSelection => {\n      const {isSameTable} = selectionDetails;\n      const selectedCells = getSelectedCells(tableSelection).getOr([]);\n      if (isSameTable && tableSelection.cells.length === selectedCells.length) {\n        return Optional.some(deleteAction.fullTable(tableSelection.table));\n      } else if (selectedCells.length > 0) {\n        if (isSameTable) {\n          return Optional.some(deleteAction.partialTable(selectedCells, Optional.none()));\n        } else {\n          const otherContentRng = unselectCells(rng, selectionDetails);\n          return Optional.some(deleteAction.partialTable(selectedCells, Optional.some({\n            ...selectionDetails,\n            rng: otherContentRng\n          })));\n        }\n      } else {\n        return Optional.none();\n      }\n    });\n    const handleMultiTable = (cellRng, selectionDetails, rng, isRoot) => getTableSelections(cellRng, selectionDetails, rng, isRoot).bind(({start, end}) => {\n      const startTableSelectedCells = start.bind(getSelectedCells).getOr([]);\n      const endTableSelectedCells = end.bind(getSelectedCells).getOr([]);\n      if (startTableSelectedCells.length > 0 && endTableSelectedCells.length > 0) {\n        const otherContentRng = unselectCells(rng, selectionDetails);\n        return Optional.some(deleteAction.multiTable(startTableSelectedCells, endTableSelectedCells, otherContentRng));\n      } else {\n        return Optional.none();\n      }\n    });\n    const getActionFromRange = (root, rng) => {\n      const isRoot = isRootFromElement(root);\n      const optCellRng = getCellRng(rng, isRoot);\n      const selectionDetails = getTableDetailsFromRange(rng, isRoot);\n      if (isSingleCellTableContentSelected(optCellRng, rng, isRoot)) {\n        return optCellRng.map(cellRng => deleteAction.singleCellTable(rng, cellRng.start));\n      } else if (selectionDetails.isMultiTable) {\n        return handleMultiTable(optCellRng, selectionDetails, rng, isRoot);\n      } else {\n        return handleSingleTable(optCellRng, selectionDetails, rng, isRoot);\n      }\n    };\n\n    const cleanCells = cells => each$f(cells, cell => {\n      remove$b(cell, 'contenteditable');\n      fillWithPaddingBr(cell);\n    });\n    const getOutsideBlock = (editor, container) => Optional.from(editor.dom.getParent(container, editor.dom.isBlock)).map(SugarElement.fromDom);\n    const handleEmptyBlock = (editor, startInTable, emptyBlock) => {\n      emptyBlock.each(block => {\n        if (startInTable) {\n          remove$6(block);\n        } else {\n          fillWithPaddingBr(block);\n          editor.selection.setCursorLocation(block.dom, 0);\n        }\n      });\n    };\n    const deleteContentInsideCell = (editor, cell, rng, isFirstCellInSelection) => {\n      const insideTableRng = rng.cloneRange();\n      if (isFirstCellInSelection) {\n        insideTableRng.setStart(rng.startContainer, rng.startOffset);\n        insideTableRng.setEndAfter(cell.dom.lastChild);\n      } else {\n        insideTableRng.setStartBefore(cell.dom.firstChild);\n        insideTableRng.setEnd(rng.endContainer, rng.endOffset);\n      }\n      deleteCellContents(editor, insideTableRng, cell, false).each(action => action());\n    };\n    const collapseAndRestoreCellSelection = editor => {\n      const selectedCells = getCellsFromEditor(editor);\n      const selectedNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isTableCell$5(selectedNode.dom) && isEmpty$2(selectedNode)) {\n        editor.selection.setCursorLocation(selectedNode.dom, 0);\n      } else {\n        editor.selection.collapse(true);\n      }\n      if (selectedCells.length > 1 && exists(selectedCells, cell => eq(cell, selectedNode))) {\n        set$2(selectedNode, 'data-mce-selected', '1');\n      }\n    };\n    const emptySingleTableCells = (editor, cells, outsideDetails) => Optional.some(() => {\n      const editorRng = editor.selection.getRng();\n      const cellsToClean = outsideDetails.bind(({rng, isStartInTable}) => {\n        const outsideBlock = getOutsideBlock(editor, isStartInTable ? rng.endContainer : rng.startContainer);\n        rng.deleteContents();\n        handleEmptyBlock(editor, isStartInTable, outsideBlock.filter(isEmpty$2));\n        const endPointCell = isStartInTable ? cells[0] : cells[cells.length - 1];\n        deleteContentInsideCell(editor, endPointCell, editorRng, isStartInTable);\n        if (!isEmpty$2(endPointCell)) {\n          return Optional.some(isStartInTable ? cells.slice(1) : cells.slice(0, -1));\n        } else {\n          return Optional.none();\n        }\n      }).getOr(cells);\n      cleanCells(cellsToClean);\n      collapseAndRestoreCellSelection(editor);\n    });\n    const emptyMultiTableCells = (editor, startTableCells, endTableCells, betweenRng) => Optional.some(() => {\n      const rng = editor.selection.getRng();\n      const startCell = startTableCells[0];\n      const endCell = endTableCells[endTableCells.length - 1];\n      deleteContentInsideCell(editor, startCell, rng, true);\n      deleteContentInsideCell(editor, endCell, rng, false);\n      const startTableCellsToClean = isEmpty$2(startCell) ? startTableCells : startTableCells.slice(1);\n      const endTableCellsToClean = isEmpty$2(endCell) ? endTableCells : endTableCells.slice(0, -1);\n      cleanCells(startTableCellsToClean.concat(endTableCellsToClean));\n      betweenRng.deleteContents();\n      collapseAndRestoreCellSelection(editor);\n    });\n    const deleteCellContents = (editor, rng, cell, moveSelection = true) => Optional.some(() => {\n      deleteRangeContents(editor, rng, cell, moveSelection);\n    });\n    const deleteTableElement = (editor, table) => Optional.some(() => deleteElement$2(editor, false, table));\n    const deleteCellRange = (editor, rootElm, rng) => getActionFromRange(rootElm, rng).bind(action => action.fold(curry(deleteCellContents, editor), curry(deleteTableElement, editor), curry(emptySingleTableCells, editor), curry(emptyMultiTableCells, editor)));\n    const deleteCaptionRange = (editor, caption) => emptyElement(editor, caption);\n    const deleteTableRange = (editor, rootElm, rng, startElm) => getParentCaption(rootElm, startElm).fold(() => deleteCellRange(editor, rootElm, rng), caption => deleteCaptionRange(editor, caption));\n    const deleteRange$2 = (editor, startElm, selectedCells) => {\n      const rootNode = SugarElement.fromDom(editor.getBody());\n      const rng = editor.selection.getRng();\n      return selectedCells.length !== 0 ? emptySingleTableCells(editor, selectedCells, Optional.none()) : deleteTableRange(editor, rootNode, rng, startElm);\n    };\n    const getParentCell = (rootElm, elm) => find$2(parentsAndSelf(elm, rootElm), isTableCell$4);\n    const getParentCaption = (rootElm, elm) => find$2(parentsAndSelf(elm, rootElm), isTag('caption'));\n    const deleteBetweenCells = (editor, rootElm, forward, fromCell, from) => navigate(forward, editor.getBody(), from).bind(to => getParentCell(rootElm, SugarElement.fromDom(to.getNode())).bind(toCell => eq(toCell, fromCell) ? Optional.none() : Optional.some(noop)));\n    const emptyElement = (editor, elm) => Optional.some(() => {\n      fillWithPaddingBr(elm);\n      editor.selection.setCursorLocation(elm.dom, 0);\n    });\n    const isDeleteOfLastCharPos = (fromCaption, forward, from, to) => firstPositionIn(fromCaption.dom).bind(first => lastPositionIn(fromCaption.dom).map(last => forward ? from.isEqual(first) && to.isEqual(last) : from.isEqual(last) && to.isEqual(first))).getOr(true);\n    const emptyCaretCaption = (editor, elm) => emptyElement(editor, elm);\n    const validateCaretCaption = (rootElm, fromCaption, to) => getParentCaption(rootElm, SugarElement.fromDom(to.getNode())).fold(() => Optional.some(noop), toCaption => someIf(!eq(toCaption, fromCaption), noop));\n    const deleteCaretInsideCaption = (editor, rootElm, forward, fromCaption, from) => navigate(forward, editor.getBody(), from).fold(() => Optional.some(noop), to => isDeleteOfLastCharPos(fromCaption, forward, from, to) ? emptyCaretCaption(editor, fromCaption) : validateCaretCaption(rootElm, fromCaption, to));\n    const deleteCaretCells = (editor, forward, rootElm, startElm) => {\n      const from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return getParentCell(rootElm, startElm).bind(fromCell => isEmpty$2(fromCell) ? emptyElement(editor, fromCell) : deleteBetweenCells(editor, rootElm, forward, fromCell, from));\n    };\n    const deleteCaretCaption = (editor, forward, rootElm, fromCaption) => {\n      const from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return isEmpty$2(fromCaption) ? emptyElement(editor, fromCaption) : deleteCaretInsideCaption(editor, rootElm, forward, fromCaption, from);\n    };\n    const isNearTable = (forward, pos) => forward ? isBeforeTable(pos) : isAfterTable(pos);\n    const isBeforeOrAfterTable = (editor, forward) => {\n      const fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return isNearTable(forward, fromPos) || fromPosition(forward, editor.getBody(), fromPos).exists(pos => isNearTable(forward, pos));\n    };\n    const deleteCaret$3 = (editor, forward, startElm) => {\n      const rootElm = SugarElement.fromDom(editor.getBody());\n      return getParentCaption(rootElm, startElm).fold(() => deleteCaretCells(editor, forward, rootElm, startElm).orThunk(() => someIf(isBeforeOrAfterTable(editor, forward), noop)), fromCaption => deleteCaretCaption(editor, forward, rootElm, fromCaption));\n    };\n    const backspaceDelete$9 = (editor, forward) => {\n      const startElm = SugarElement.fromDom(editor.selection.getStart(true));\n      const cells = getCellsFromEditor(editor);\n      return editor.selection.isCollapsed() && cells.length === 0 ? deleteCaret$3(editor, forward, startElm) : deleteRange$2(editor, startElm, cells);\n    };\n\n    const getContentEditableRoot$1 = (root, node) => {\n      while (node && node !== root) {\n        if (isContentEditableTrue$5(node) || isContentEditableFalse$b(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    const traverse = (node, fn) => {\n      fn(node);\n      if (node.firstChild) {\n        traverse(node.firstChild, fn);\n      }\n      if (node.next) {\n        traverse(node.next, fn);\n      }\n    };\n    const matchNode$1 = (nodeFilters, attributeFilters, node, matches) => {\n      const name = node.name;\n      for (let ni = 0, nl = nodeFilters.length; ni < nl; ni++) {\n        const filter = nodeFilters[ni];\n        if (filter.name === name) {\n          const match = matches.nodes[name];\n          if (match) {\n            match.nodes.push(node);\n          } else {\n            matches.nodes[name] = {\n              filter,\n              nodes: [node]\n            };\n          }\n        }\n      }\n      if (node.attributes) {\n        for (let ai = 0, al = attributeFilters.length; ai < al; ai++) {\n          const filter = attributeFilters[ai];\n          const attrName = filter.name;\n          if (attrName in node.attributes.map) {\n            const match = matches.attributes[attrName];\n            if (match) {\n              match.nodes.push(node);\n            } else {\n              matches.attributes[attrName] = {\n                filter,\n                nodes: [node]\n              };\n            }\n          }\n        }\n      }\n    };\n    const findMatchingNodes = (nodeFilters, attributeFilters, node) => {\n      const matches = {\n        nodes: {},\n        attributes: {}\n      };\n      if (node.firstChild) {\n        traverse(node.firstChild, node => {\n          matchNode$1(nodeFilters, attributeFilters, node, matches);\n        });\n      }\n      return matches;\n    };\n    const runFilters = (matches, args) => {\n      const run = matchRecord => {\n        each$e(matchRecord, match => {\n          const nodes = filter$6(match.nodes, node => isNonNullable(node.parent));\n          each$f(match.filter.callbacks, callback => {\n            callback(nodes, match.filter.name, args);\n          });\n        });\n      };\n      run(matches.nodes);\n      run(matches.attributes);\n    };\n    const filter$3 = (nodeFilters, attributeFilters, node, args = {}) => {\n      const matches = findMatchingNodes(nodeFilters, attributeFilters, node);\n      runFilters(matches, args);\n    };\n\n    const paddEmptyNode = (settings, args, blockElements, node) => {\n      if (args.insert && blockElements[node.name]) {\n        node.empty().append(new AstNode('br', 1));\n      } else {\n        node.empty().append(new AstNode('#text', 3)).value = nbsp;\n      }\n    };\n    const isPaddedWithNbsp = node => hasOnlyChild(node, '#text') && node.firstChild.value === nbsp;\n    const hasOnlyChild = (node, name) => node && node.firstChild && node.firstChild === node.lastChild && node.firstChild.name === name;\n    const isPadded = (schema, node) => {\n      const rule = schema.getElementRule(node.name);\n      return rule && rule.paddEmpty;\n    };\n    const isEmpty = (schema, nonEmptyElements, whitespaceElements, node) => node.isEmpty(nonEmptyElements, whitespaceElements, node => isPadded(schema, node));\n    const isLineBreakNode = (node, blockElements) => node && (node.name in blockElements || node.name === 'br');\n\n    const removeOrUnwrapInvalidNode = (node, schema, originalNodeParent = node.parent) => {\n      if (schema.getSpecialElements()[node.name]) {\n        node.empty().remove();\n      } else {\n        const children = node.children();\n        for (const childNode of children) {\n          if (!schema.isValidChild(originalNodeParent.name, childNode.name)) {\n            removeOrUnwrapInvalidNode(childNode, schema, originalNodeParent);\n          }\n        }\n        node.unwrap();\n      }\n    };\n    const cleanInvalidNodes = (nodes, schema, onCreate = noop) => {\n      const textBlockElements = schema.getTextBlockElements();\n      const nonEmptyElements = schema.getNonEmptyElements();\n      const whitespaceElements = schema.getWhitespaceElements();\n      const nonSplittableElements = Tools.makeMap('tr,td,th,tbody,thead,tfoot,table');\n      const fixed = new Set();\n      for (let ni = 0; ni < nodes.length; ni++) {\n        const node = nodes[ni];\n        let parent;\n        let newParent;\n        let tempNode;\n        if (!node.parent || fixed.has(node)) {\n          continue;\n        }\n        if (textBlockElements[node.name] && node.parent.name === 'li') {\n          let sibling = node.next;\n          while (sibling) {\n            if (textBlockElements[sibling.name]) {\n              sibling.name = 'li';\n              fixed.add(sibling);\n              node.parent.insert(sibling, node.parent);\n            } else {\n              break;\n            }\n            sibling = sibling.next;\n          }\n          node.unwrap();\n          continue;\n        }\n        const parents = [node];\n        for (parent = node.parent; parent && !schema.isValidChild(parent.name, node.name) && !nonSplittableElements[parent.name]; parent = parent.parent) {\n          parents.push(parent);\n        }\n        if (parent && parents.length > 1) {\n          if (schema.isValidChild(parent.name, node.name)) {\n            parents.reverse();\n            newParent = parents[0].clone();\n            onCreate(newParent);\n            let currentNode = newParent;\n            for (let i = 0; i < parents.length - 1; i++) {\n              if (schema.isValidChild(currentNode.name, parents[i].name)) {\n                tempNode = parents[i].clone();\n                onCreate(tempNode);\n                currentNode.append(tempNode);\n              } else {\n                tempNode = currentNode;\n              }\n              for (let childNode = parents[i].firstChild; childNode && childNode !== parents[i + 1];) {\n                const nextNode = childNode.next;\n                tempNode.append(childNode);\n                childNode = nextNode;\n              }\n              currentNode = tempNode;\n            }\n            if (!isEmpty(schema, nonEmptyElements, whitespaceElements, newParent)) {\n              parent.insert(newParent, parents[0], true);\n              parent.insert(node, newParent);\n            } else {\n              parent.insert(node, parents[0], true);\n            }\n            parent = parents[0];\n            if (isEmpty(schema, nonEmptyElements, whitespaceElements, parent) || hasOnlyChild(parent, 'br')) {\n              parent.empty().remove();\n            }\n          } else {\n            removeOrUnwrapInvalidNode(node, schema);\n          }\n        } else if (node.parent) {\n          if (node.name === 'li') {\n            let sibling = node.prev;\n            if (sibling && (sibling.name === 'ul' || sibling.name === 'ol')) {\n              sibling.append(node);\n              continue;\n            }\n            sibling = node.next;\n            if (sibling && (sibling.name === 'ul' || sibling.name === 'ol')) {\n              sibling.insert(node, sibling.firstChild, true);\n              continue;\n            }\n            const wrapper = new AstNode('ul', 1);\n            onCreate(wrapper);\n            node.wrap(wrapper);\n            continue;\n          }\n          if (schema.isValidChild(node.parent.name, 'div') && schema.isValidChild('div', node.name)) {\n            const wrapper = new AstNode('div', 1);\n            onCreate(wrapper);\n            node.wrap(wrapper);\n          } else {\n            removeOrUnwrapInvalidNode(node, schema);\n          }\n        }\n      }\n    };\n\n    const createRange = (sc, so, ec, eo) => {\n      const rng = document.createRange();\n      rng.setStart(sc, so);\n      rng.setEnd(ec, eo);\n      return rng;\n    };\n    const normalizeBlockSelectionRange = rng => {\n      const startPos = CaretPosition.fromRangeStart(rng);\n      const endPos = CaretPosition.fromRangeEnd(rng);\n      const rootNode = rng.commonAncestorContainer;\n      return fromPosition(false, rootNode, endPos).map(newEndPos => {\n        if (!isInSameBlock(startPos, endPos, rootNode) && isInSameBlock(startPos, newEndPos, rootNode)) {\n          return createRange(startPos.container(), startPos.offset(), newEndPos.container(), newEndPos.offset());\n        } else {\n          return rng;\n        }\n      }).getOr(rng);\n    };\n    const normalize = rng => rng.collapsed ? rng : normalizeBlockSelectionRange(rng);\n\n    const hasOnlyOneChild$1 = node => {\n      return node.firstChild && node.firstChild === node.lastChild;\n    };\n    const isPaddingNode = node => {\n      return node.name === 'br' || node.value === nbsp;\n    };\n    const isPaddedEmptyBlock = (schema, node) => {\n      const blockElements = schema.getBlockElements();\n      return blockElements[node.name] && hasOnlyOneChild$1(node) && isPaddingNode(node.firstChild);\n    };\n    const isEmptyFragmentElement = (schema, node) => {\n      const nonEmptyElements = schema.getNonEmptyElements();\n      return node && (node.isEmpty(nonEmptyElements) || isPaddedEmptyBlock(schema, node));\n    };\n    const isListFragment = (schema, fragment) => {\n      let firstChild = fragment.firstChild;\n      let lastChild = fragment.lastChild;\n      if (firstChild && firstChild.name === 'meta') {\n        firstChild = firstChild.next;\n      }\n      if (lastChild && lastChild.attr('id') === 'mce_marker') {\n        lastChild = lastChild.prev;\n      }\n      if (isEmptyFragmentElement(schema, lastChild)) {\n        lastChild = lastChild.prev;\n      }\n      if (!firstChild || firstChild !== lastChild) {\n        return false;\n      }\n      return firstChild.name === 'ul' || firstChild.name === 'ol';\n    };\n    const cleanupDomFragment = domFragment => {\n      const firstChild = domFragment.firstChild;\n      const lastChild = domFragment.lastChild;\n      if (firstChild && firstChild.nodeName === 'META') {\n        firstChild.parentNode.removeChild(firstChild);\n      }\n      if (lastChild && lastChild.id === 'mce_marker') {\n        lastChild.parentNode.removeChild(lastChild);\n      }\n      return domFragment;\n    };\n    const toDomFragment = (dom, serializer, fragment) => {\n      const html = serializer.serialize(fragment);\n      const domFragment = dom.createFragment(html);\n      return cleanupDomFragment(domFragment);\n    };\n    const listItems = elm => {\n      return filter$6(elm.childNodes, child => {\n        return child.nodeName === 'LI';\n      });\n    };\n    const isPadding = node => {\n      return node.data === nbsp || isBr$6(node);\n    };\n    const isListItemPadded = node => {\n      return node && node.firstChild && node.firstChild === node.lastChild && isPadding(node.firstChild);\n    };\n    const isEmptyOrPadded = elm => {\n      return !elm.firstChild || isListItemPadded(elm);\n    };\n    const trimListItems = elms => {\n      return elms.length > 0 && isEmptyOrPadded(elms[elms.length - 1]) ? elms.slice(0, -1) : elms;\n    };\n    const getParentLi = (dom, node) => {\n      const parentBlock = dom.getParent(node, dom.isBlock);\n      return parentBlock && parentBlock.nodeName === 'LI' ? parentBlock : null;\n    };\n    const isParentBlockLi = (dom, node) => {\n      return !!getParentLi(dom, node);\n    };\n    const getSplit = (parentNode, rng) => {\n      const beforeRng = rng.cloneRange();\n      const afterRng = rng.cloneRange();\n      beforeRng.setStartBefore(parentNode);\n      afterRng.setEndAfter(parentNode);\n      return [\n        beforeRng.cloneContents(),\n        afterRng.cloneContents()\n      ];\n    };\n    const findFirstIn = (node, rootNode) => {\n      const caretPos = CaretPosition.before(node);\n      const caretWalker = CaretWalker(rootNode);\n      const newCaretPos = caretWalker.next(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    const findLastOf = (node, rootNode) => {\n      const caretPos = CaretPosition.after(node);\n      const caretWalker = CaretWalker(rootNode);\n      const newCaretPos = caretWalker.prev(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    const insertMiddle = (target, elms, rootNode, rng) => {\n      const parts = getSplit(target, rng);\n      const parentElm = target.parentNode;\n      parentElm.insertBefore(parts[0], target);\n      Tools.each(elms, li => {\n        parentElm.insertBefore(li, target);\n      });\n      parentElm.insertBefore(parts[1], target);\n      parentElm.removeChild(target);\n      return findLastOf(elms[elms.length - 1], rootNode);\n    };\n    const insertBefore$1 = (target, elms, rootNode) => {\n      const parentElm = target.parentNode;\n      Tools.each(elms, elm => {\n        parentElm.insertBefore(elm, target);\n      });\n      return findFirstIn(target, rootNode);\n    };\n    const insertAfter$1 = (target, elms, rootNode, dom) => {\n      dom.insertAfter(elms.reverse(), target);\n      return findLastOf(elms[0], rootNode);\n    };\n    const insertAtCaret$1 = (serializer, dom, rng, fragment) => {\n      const domFragment = toDomFragment(dom, serializer, fragment);\n      const liTarget = getParentLi(dom, rng.startContainer);\n      const liElms = trimListItems(listItems(domFragment.firstChild));\n      const BEGINNING = 1, END = 2;\n      const rootNode = dom.getRoot();\n      const isAt = location => {\n        const caretPos = CaretPosition.fromRangeStart(rng);\n        const caretWalker = CaretWalker(dom.getRoot());\n        const newPos = location === BEGINNING ? caretWalker.prev(caretPos) : caretWalker.next(caretPos);\n        return newPos ? getParentLi(dom, newPos.getNode()) !== liTarget : true;\n      };\n      if (isAt(BEGINNING)) {\n        return insertBefore$1(liTarget, liElms, rootNode);\n      } else if (isAt(END)) {\n        return insertAfter$1(liTarget, liElms, rootNode, dom);\n      }\n      return insertMiddle(liTarget, liElms, rootNode, rng);\n    };\n\n    const mergeableWrappedElements = ['pre'];\n    const shouldPasteContentOnly = (dom, fragment, parentNode, root) => {\n      var _a;\n      const firstNode = fragment.firstChild;\n      const lastNode = fragment.lastChild;\n      const last = lastNode.attr('data-mce-type') === 'bookmark' ? lastNode.prev : lastNode;\n      const isPastingSingleElement = firstNode === last;\n      const isWrappedElement = contains$2(mergeableWrappedElements, firstNode.name);\n      if (isPastingSingleElement && isWrappedElement) {\n        const isContentEditable = firstNode.attr('contenteditable') !== 'false';\n        const isPastingInTheSameBlockTag = ((_a = dom.getParent(parentNode, dom.isBlock)) === null || _a === void 0 ? void 0 : _a.nodeName.toLowerCase()) === firstNode.name;\n        const isPastingInContentEditable = Optional.from(getContentEditableRoot$1(root, parentNode)).forall(isContentEditableTrue$5);\n        return isContentEditable && isPastingInTheSameBlockTag && isPastingInContentEditable;\n      } else {\n        return false;\n      }\n    };\n    const isTableCell$1 = isTableCell$5;\n    const isTableCellContentSelected = (dom, rng, cell) => {\n      if (cell !== null) {\n        const endCell = dom.getParent(rng.endContainer, isTableCell$1);\n        return cell === endCell && hasAllContentsSelected(SugarElement.fromDom(cell), rng);\n      } else {\n        return false;\n      }\n    };\n    const validInsertion = (editor, value, parentNode) => {\n      if (parentNode.getAttribute('data-mce-bogus') === 'all') {\n        parentNode.parentNode.insertBefore(editor.dom.createFragment(value), parentNode);\n      } else {\n        const node = parentNode.firstChild;\n        const node2 = parentNode.lastChild;\n        if (!node || node === node2 && node.nodeName === 'BR') {\n          editor.dom.setHTML(parentNode, value);\n        } else {\n          editor.selection.setContent(value, { no_events: true });\n        }\n      }\n    };\n    const trimBrsFromTableCell = (dom, elm) => {\n      Optional.from(dom.getParent(elm, 'td,th')).map(SugarElement.fromDom).each(trimBlockTrailingBr);\n    };\n    const reduceInlineTextElements = (editor, merge) => {\n      const textInlineElements = editor.schema.getTextInlineElements();\n      const dom = editor.dom;\n      if (merge) {\n        const root = editor.getBody();\n        const elementUtils = ElementUtils(dom);\n        Tools.each(dom.select('*[data-mce-fragment]'), node => {\n          const isInline = isNonNullable(textInlineElements[node.nodeName.toLowerCase()]);\n          if (isInline && hasInheritableStyles(dom, node)) {\n            for (let parentNode = node.parentNode; isNonNullable(parentNode) && parentNode !== root; parentNode = parentNode.parentNode) {\n              const styleConflict = hasStyleConflict(dom, node, parentNode);\n              if (styleConflict) {\n                break;\n              }\n              if (elementUtils.compare(parentNode, node)) {\n                dom.remove(node, true);\n                break;\n              }\n            }\n          }\n        });\n      }\n    };\n    const markFragmentElements = fragment => {\n      let node = fragment;\n      while (node = node.walk()) {\n        if (node.type === 1) {\n          node.attr('data-mce-fragment', '1');\n        }\n      }\n    };\n    const unmarkFragmentElements = elm => {\n      Tools.each(elm.getElementsByTagName('*'), elm => {\n        elm.removeAttribute('data-mce-fragment');\n      });\n    };\n    const isPartOfFragment = node => {\n      return !!node.getAttribute('data-mce-fragment');\n    };\n    const canHaveChildren = (editor, node) => {\n      return node && !editor.schema.getVoidElements()[node.nodeName];\n    };\n    const moveSelectionToMarker = (editor, marker) => {\n      let nextRng;\n      const dom = editor.dom;\n      const selection = editor.selection;\n      if (!marker) {\n        return;\n      }\n      selection.scrollIntoView(marker);\n      const parentEditableElm = getContentEditableRoot$1(editor.getBody(), marker);\n      if (dom.getContentEditable(parentEditableElm) === 'false') {\n        dom.remove(marker);\n        selection.select(parentEditableElm);\n        return;\n      }\n      let rng = dom.createRng();\n      const node = marker.previousSibling;\n      if (isText$9(node)) {\n        rng.setStart(node, node.nodeValue.length);\n        const node2 = marker.nextSibling;\n        if (isText$9(node2)) {\n          node.appendData(node2.data);\n          node2.parentNode.removeChild(node2);\n        }\n      } else {\n        rng.setStartBefore(marker);\n        rng.setEndBefore(marker);\n      }\n      const findNextCaretRng = rng => {\n        let caretPos = CaretPosition.fromRangeStart(rng);\n        const caretWalker = CaretWalker(editor.getBody());\n        caretPos = caretWalker.next(caretPos);\n        if (caretPos) {\n          return caretPos.toRange();\n        }\n      };\n      const parentBlock = dom.getParent(marker, dom.isBlock);\n      dom.remove(marker);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        empty(SugarElement.fromDom(parentBlock));\n        rng.setStart(parentBlock, 0);\n        rng.setEnd(parentBlock, 0);\n        if (!isTableCell$1(parentBlock) && !isPartOfFragment(parentBlock) && (nextRng = findNextCaretRng(rng))) {\n          rng = nextRng;\n          dom.remove(parentBlock);\n        } else {\n          dom.add(parentBlock, dom.create('br', { 'data-mce-bogus': '1' }));\n        }\n      }\n      selection.setRng(rng);\n    };\n    const deleteSelectedContent = editor => {\n      const dom = editor.dom;\n      const rng = normalize(editor.selection.getRng());\n      editor.selection.setRng(rng);\n      const startCell = dom.getParent(rng.startContainer, isTableCell$1);\n      if (isTableCellContentSelected(dom, rng, startCell)) {\n        deleteCellContents(editor, rng, SugarElement.fromDom(startCell));\n      } else {\n        editor.getDoc().execCommand('Delete', false, null);\n      }\n    };\n    const insertHtmlAtCaret = (editor, value, details) => {\n      var _a;\n      let parentNode;\n      let rng, node;\n      const selection = editor.selection;\n      const dom = editor.dom;\n      const parser = editor.parser;\n      const merge = details.merge;\n      const serializer = HtmlSerializer({ validate: true }, editor.schema);\n      const bookmarkHtml = '<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;</span>';\n      if (value.indexOf('{$caret}') === -1) {\n        value += '{$caret}';\n      }\n      value = value.replace(/\\{\\$caret\\}/, bookmarkHtml);\n      rng = selection.getRng();\n      const caretElement = rng.startContainer || (rng.parentElement ? rng.parentElement() : null);\n      const body = editor.getBody();\n      if (caretElement === body && selection.isCollapsed()) {\n        if (dom.isBlock(body.firstChild) && canHaveChildren(editor, body.firstChild) && dom.isEmpty(body.firstChild)) {\n          rng = dom.createRng();\n          rng.setStart(body.firstChild, 0);\n          rng.setEnd(body.firstChild, 0);\n          selection.setRng(rng);\n        }\n      }\n      if (!selection.isCollapsed()) {\n        deleteSelectedContent(editor);\n      }\n      parentNode = selection.getNode();\n      const parserArgs = {\n        context: parentNode.nodeName.toLowerCase(),\n        data: details.data,\n        insert: true\n      };\n      const fragment = parser.parse(value, parserArgs);\n      if (details.paste === true && isListFragment(editor.schema, fragment) && isParentBlockLi(dom, parentNode)) {\n        rng = insertAtCaret$1(serializer, dom, selection.getRng(), fragment);\n        selection.setRng(rng);\n        return value;\n      }\n      if (details.paste === true && shouldPasteContentOnly(dom, fragment, parentNode, editor.getBody())) {\n        (_a = fragment.firstChild) === null || _a === void 0 ? void 0 : _a.unwrap();\n      }\n      markFragmentElements(fragment);\n      node = fragment.lastChild;\n      if (node.attr('id') === 'mce_marker') {\n        const marker = node;\n        for (node = node.prev; node; node = node.walk(true)) {\n          if (node.type === 3 || !dom.isBlock(node.name)) {\n            if (editor.schema.isValidChild(node.parent.name, 'span')) {\n              node.parent.insert(marker, node, node.name === 'br');\n            }\n            break;\n          }\n        }\n      }\n      editor._selectionOverrides.showBlockCaretContainer(parentNode);\n      if (!parserArgs.invalid) {\n        value = serializer.serialize(fragment);\n        validInsertion(editor, value, parentNode);\n      } else {\n        editor.selection.setContent(bookmarkHtml);\n        parentNode = selection.getNode();\n        const rootNode = editor.getBody();\n        if (parentNode.nodeType === 9) {\n          parentNode = node = rootNode;\n        } else {\n          node = parentNode;\n        }\n        while (node !== rootNode) {\n          parentNode = node;\n          node = node.parentNode;\n        }\n        value = parentNode === rootNode ? rootNode.innerHTML : dom.getOuterHTML(parentNode);\n        const root = parser.parse(value);\n        for (let markerNode = root; markerNode; markerNode = markerNode.walk()) {\n          if (markerNode.attr('id') === 'mce_marker') {\n            markerNode.replace(fragment);\n            break;\n          }\n        }\n        const toExtract = fragment.children();\n        const parent = fragment.parent.name;\n        fragment.unwrap();\n        const invalidChildren = filter$6(toExtract, node => !editor.schema.isValidChild(parent, node.name));\n        cleanInvalidNodes(invalidChildren, editor.schema);\n        filter$3(parser.getNodeFilters(), parser.getAttributeFilters(), root);\n        value = serializer.serialize(root);\n        if (parentNode === rootNode) {\n          dom.setHTML(rootNode, value);\n        } else {\n          dom.setOuterHTML(parentNode, value);\n        }\n      }\n      reduceInlineTextElements(editor, merge);\n      moveSelectionToMarker(editor, dom.get('mce_marker'));\n      unmarkFragmentElements(editor.getBody());\n      trimBrsFromTableCell(dom, selection.getStart());\n      return value;\n    };\n\n    const isTreeNode = content => content instanceof AstNode;\n\n    const moveSelection = editor => {\n      if (hasFocus(editor)) {\n        firstPositionIn(editor.getBody()).each(pos => {\n          const node = pos.getNode();\n          const caretPos = isTable$3(node) ? firstPositionIn(node).getOr(pos) : pos;\n          editor.selection.setRng(caretPos.toRange());\n        });\n      }\n    };\n    const setEditorHtml = (editor, html, noSelection) => {\n      editor.dom.setHTML(editor.getBody(), html);\n      if (noSelection !== true) {\n        moveSelection(editor);\n      }\n    };\n    const setContentString = (editor, body, content, args) => {\n      if (content.length === 0 || /^\\s+$/.test(content)) {\n        const padd = '<br data-mce-bogus=\"1\">';\n        if (body.nodeName === 'TABLE') {\n          content = '<tr><td>' + padd + '</td></tr>';\n        } else if (/^(UL|OL)$/.test(body.nodeName)) {\n          content = '<li>' + padd + '</li>';\n        }\n        const forcedRootBlockName = getForcedRootBlock(editor);\n        if (editor.schema.isValidChild(body.nodeName.toLowerCase(), forcedRootBlockName.toLowerCase())) {\n          content = padd;\n          content = editor.dom.createHTML(forcedRootBlockName, getForcedRootBlockAttrs(editor), content);\n        } else if (!content) {\n          content = padd;\n        }\n        setEditorHtml(editor, content, args.no_selection);\n        return {\n          content,\n          html: content\n        };\n      } else {\n        if (args.format !== 'raw') {\n          content = HtmlSerializer({ validate: false }, editor.schema).serialize(editor.parser.parse(content, {\n            isRootContent: true,\n            insert: true\n          }));\n        }\n        const trimmedHtml = isWsPreserveElement(SugarElement.fromDom(body)) ? content : Tools.trim(content);\n        setEditorHtml(editor, trimmedHtml, args.no_selection);\n        return {\n          content: trimmedHtml,\n          html: trimmedHtml\n        };\n      }\n    };\n    const setContentTree = (editor, body, content, args) => {\n      filter$3(editor.parser.getNodeFilters(), editor.parser.getAttributeFilters(), content);\n      const html = HtmlSerializer({ validate: false }, editor.schema).serialize(content);\n      const trimmedHtml = isWsPreserveElement(SugarElement.fromDom(body)) ? html : Tools.trim(html);\n      setEditorHtml(editor, trimmedHtml, args.no_selection);\n      return {\n        content,\n        html: trimmedHtml\n      };\n    };\n    const setContentInternal = (editor, content, args) => {\n      return Optional.from(editor.getBody()).map(body => {\n        if (isTreeNode(content)) {\n          return setContentTree(editor, body, content, args);\n        } else {\n          return setContentString(editor, body, content, args);\n        }\n      }).getOr({\n        content,\n        html: isTreeNode(args.content) ? '' : args.content\n      });\n    };\n\n    const sibling = (scope, predicate) => sibling$1(scope, predicate).isSome();\n\n    const ensureIsRoot = isRoot => isFunction(isRoot) ? isRoot : never;\n    const ancestor = (scope, transform, isRoot) => {\n      let element = scope.dom;\n      const stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        const transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$2 = (scope, transform, isRoot) => {\n      const current = transform(scope);\n      const stop = ensureIsRoot(isRoot);\n      return current.orThunk(() => stop(scope) ? Optional.none() : ancestor(scope, transform, stop));\n    };\n\n    const isEq$3 = isEq$5;\n    const matchesUnInheritedFormatSelector = (ed, node, name) => {\n      const formatList = ed.formatter.get(name);\n      if (formatList) {\n        for (let i = 0; i < formatList.length; i++) {\n          const format = formatList[i];\n          if (isSelectorFormat(format) && format.inherit === false && ed.dom.is(node, format.selector)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const matchParents = (editor, node, name, vars, similar) => {\n      const root = editor.dom.getRoot();\n      if (node === root) {\n        return false;\n      }\n      node = editor.dom.getParent(node, node => {\n        if (matchesUnInheritedFormatSelector(editor, node, name)) {\n          return true;\n        }\n        return node.parentNode === root || !!matchNode(editor, node, name, vars, true);\n      });\n      return !!matchNode(editor, node, name, vars, similar);\n    };\n    const matchName = (dom, node, format) => {\n      if (isInlineFormat(format) && isEq$3(node, format.inline)) {\n        return true;\n      }\n      if (isBlockFormat(format) && isEq$3(node, format.block)) {\n        return true;\n      }\n      if (isSelectorFormat(format)) {\n        return isElement$6(node) && dom.is(node, format.selector);\n      }\n      return false;\n    };\n    const matchItems = (dom, node, format, itemName, similar, vars) => {\n      const items = format[itemName];\n      if (isFunction(format.onmatch)) {\n        return format.onmatch(node, format, itemName);\n      }\n      if (items) {\n        if (isUndefined(items.length)) {\n          for (const key in items) {\n            if (has$2(items, key)) {\n              const value = itemName === 'attributes' ? dom.getAttrib(node, key) : getStyle(dom, node, key);\n              const expectedValue = replaceVars(items[key], vars);\n              const isEmptyValue = isNullable(value) || isEmpty$3(value);\n              if (isEmptyValue && isNullable(expectedValue)) {\n                continue;\n              }\n              if (similar && isEmptyValue && !format.exact) {\n                return false;\n              }\n              if ((!similar || format.exact) && !isEq$3(value, normalizeStyleValue(expectedValue, key))) {\n                return false;\n              }\n            }\n          }\n        } else {\n          for (let i = 0; i < items.length; i++) {\n            if (itemName === 'attributes' ? dom.getAttrib(node, items[i]) : getStyle(dom, node, items[i])) {\n              return true;\n            }\n          }\n        }\n      }\n      return true;\n    };\n    const matchNode = (ed, node, name, vars, similar) => {\n      const formatList = ed.formatter.get(name);\n      const dom = ed.dom;\n      if (formatList && node) {\n        for (let i = 0; i < formatList.length; i++) {\n          const format = formatList[i];\n          if (matchName(ed.dom, node, format) && matchItems(dom, node, format, 'attributes', similar, vars) && matchItems(dom, node, format, 'styles', similar, vars)) {\n            const classes = format.classes;\n            if (classes) {\n              for (let x = 0; x < classes.length; x++) {\n                if (!ed.dom.hasClass(node, replaceVars(classes[x], vars))) {\n                  return;\n                }\n              }\n            }\n            return format;\n          }\n        }\n      }\n    };\n    const match$2 = (editor, name, vars, node, similar) => {\n      if (node) {\n        return matchParents(editor, node, name, vars, similar);\n      }\n      node = editor.selection.getNode();\n      if (matchParents(editor, node, name, vars, similar)) {\n        return true;\n      }\n      const startNode = editor.selection.getStart();\n      if (startNode !== node) {\n        if (matchParents(editor, startNode, name, vars, similar)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const matchAll = (editor, names, vars) => {\n      const matchedFormatNames = [];\n      const checkedMap = {};\n      const startElement = editor.selection.getStart();\n      editor.dom.getParent(startElement, node => {\n        for (let i = 0; i < names.length; i++) {\n          const name = names[i];\n          if (!checkedMap[name] && matchNode(editor, node, name, vars)) {\n            checkedMap[name] = true;\n            matchedFormatNames.push(name);\n          }\n        }\n      }, editor.dom.getRoot());\n      return matchedFormatNames;\n    };\n    const closest$1 = (editor, names) => {\n      const isRoot = elm => eq(elm, SugarElement.fromDom(editor.getBody()));\n      const match = (elm, name) => matchNode(editor, elm.dom, name) ? Optional.some(name) : Optional.none();\n      return Optional.from(editor.selection.getStart(true)).bind(rawElm => closest$2(SugarElement.fromDom(rawElm), elm => findMap(names, name => match(elm, name)), isRoot)).getOrNull();\n    };\n    const canApply = (editor, name) => {\n      const formatList = editor.formatter.get(name);\n      const dom = editor.dom;\n      if (formatList) {\n        const startNode = editor.selection.getStart();\n        const parents = getParents$2(dom, startNode);\n        for (let x = formatList.length - 1; x >= 0; x--) {\n          const format = formatList[x];\n          if (!isSelectorFormat(format)) {\n            return true;\n          }\n          for (let i = parents.length - 1; i >= 0; i--) {\n            if (dom.is(parents[i], format.selector)) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    };\n    const matchAllOnNode = (editor, node, formatNames) => foldl(formatNames, (acc, name) => {\n      const matchSimilar = isVariableFormatName(editor, name);\n      if (editor.formatter.matchNode(node, name, {}, matchSimilar)) {\n        return acc.concat([name]);\n      } else {\n        return acc;\n      }\n    }, []);\n\n    const ZWSP = ZWSP$1, CARET_ID = '_mce_caret';\n    const importNode = (ownerDocument, node) => {\n      return ownerDocument.importNode(node, true);\n    };\n    const getEmptyCaretContainers = node => {\n      const nodes = [];\n      while (node) {\n        if (node.nodeType === 3 && node.nodeValue !== ZWSP || node.childNodes.length > 1) {\n          return [];\n        }\n        if (node.nodeType === 1) {\n          nodes.push(node);\n        }\n        node = node.firstChild;\n      }\n      return nodes;\n    };\n    const isCaretContainerEmpty = node => {\n      return getEmptyCaretContainers(node).length > 0;\n    };\n    const findFirstTextNode = node => {\n      if (node) {\n        const walker = new DomTreeWalker(node, node);\n        for (node = walker.current(); node; node = walker.next()) {\n          if (isText$9(node)) {\n            return node;\n          }\n        }\n      }\n      return null;\n    };\n    const createCaretContainer = fill => {\n      const caretContainer = SugarElement.fromTag('span');\n      setAll$1(caretContainer, {\n        'id': CARET_ID,\n        'data-mce-bogus': '1',\n        'data-mce-type': 'format-caret'\n      });\n      if (fill) {\n        append$1(caretContainer, SugarElement.fromText(ZWSP));\n      }\n      return caretContainer;\n    };\n    const trimZwspFromCaretContainer = caretContainerNode => {\n      const textNode = findFirstTextNode(caretContainerNode);\n      if (textNode && textNode.nodeValue.charAt(0) === ZWSP) {\n        textNode.deleteData(0, 1);\n      }\n      return textNode;\n    };\n    const removeCaretContainerNode = (editor, node, moveCaret = true) => {\n      const dom = editor.dom, selection = editor.selection;\n      if (isCaretContainerEmpty(node)) {\n        deleteElement$2(editor, false, SugarElement.fromDom(node), moveCaret);\n      } else {\n        const rng = selection.getRng();\n        const block = dom.getParent(node, dom.isBlock);\n        const startContainer = rng.startContainer;\n        const startOffset = rng.startOffset;\n        const endContainer = rng.endContainer;\n        const endOffset = rng.endOffset;\n        const textNode = trimZwspFromCaretContainer(node);\n        dom.remove(node, true);\n        if (startContainer === textNode && startOffset > 0) {\n          rng.setStart(textNode, startOffset - 1);\n        }\n        if (endContainer === textNode && endOffset > 0) {\n          rng.setEnd(textNode, endOffset - 1);\n        }\n        if (block && dom.isEmpty(block)) {\n          fillWithPaddingBr(SugarElement.fromDom(block));\n        }\n        selection.setRng(rng);\n      }\n    };\n    const removeCaretContainer = (editor, node, moveCaret = true) => {\n      const dom = editor.dom, selection = editor.selection;\n      if (!node) {\n        node = getParentCaretContainer(editor.getBody(), selection.getStart());\n        if (!node) {\n          while (node = dom.get(CARET_ID)) {\n            removeCaretContainerNode(editor, node, false);\n          }\n        }\n      } else {\n        removeCaretContainerNode(editor, node, moveCaret);\n      }\n    };\n    const insertCaretContainerNode = (editor, caretContainer, formatNode) => {\n      const dom = editor.dom, block = dom.getParent(formatNode, curry(isTextBlock$1, editor));\n      if (block && dom.isEmpty(block)) {\n        formatNode.parentNode.replaceChild(caretContainer, formatNode);\n      } else {\n        removeTrailingBr(SugarElement.fromDom(formatNode));\n        if (dom.isEmpty(formatNode)) {\n          formatNode.parentNode.replaceChild(caretContainer, formatNode);\n        } else {\n          dom.insertAfter(caretContainer, formatNode);\n        }\n      }\n    };\n    const appendNode = (parentNode, node) => {\n      parentNode.appendChild(node);\n      return node;\n    };\n    const insertFormatNodesIntoCaretContainer = (formatNodes, caretContainer) => {\n      const innerMostFormatNode = foldr(formatNodes, (parentNode, formatNode) => {\n        return appendNode(parentNode, formatNode.cloneNode(false));\n      }, caretContainer);\n      return appendNode(innerMostFormatNode, innerMostFormatNode.ownerDocument.createTextNode(ZWSP));\n    };\n    const cleanFormatNode = (editor, caretContainer, formatNode, name, vars, similar) => {\n      const formatter = editor.formatter;\n      const dom = editor.dom;\n      const validFormats = filter$6(keys(formatter.get()), formatName => formatName !== name && !contains$1(formatName, 'removeformat'));\n      const matchedFormats = matchAllOnNode(editor, formatNode, validFormats);\n      const uniqueFormats = filter$6(matchedFormats, fmtName => !areSimilarFormats(editor, fmtName, name));\n      if (uniqueFormats.length > 0) {\n        const clonedFormatNode = formatNode.cloneNode(false);\n        dom.add(caretContainer, clonedFormatNode);\n        formatter.remove(name, vars, clonedFormatNode, similar);\n        dom.remove(clonedFormatNode);\n        return Optional.some(clonedFormatNode);\n      } else {\n        return Optional.none();\n      }\n    };\n    const applyCaretFormat = (editor, name, vars) => {\n      let caretContainer, textNode;\n      const selection = editor.selection;\n      const selectionRng = selection.getRng();\n      let offset = selectionRng.startOffset;\n      const container = selectionRng.startContainer;\n      const text = container.nodeValue;\n      caretContainer = getParentCaretContainer(editor.getBody(), selection.getStart());\n      if (caretContainer) {\n        textNode = findFirstTextNode(caretContainer);\n      }\n      const wordcharRegex = /[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;\n      if (text && offset > 0 && offset < text.length && wordcharRegex.test(text.charAt(offset)) && wordcharRegex.test(text.charAt(offset - 1))) {\n        const bookmark = selection.getBookmark();\n        selectionRng.collapse(true);\n        let rng = expandRng(editor, selectionRng, editor.formatter.get(name));\n        rng = split(rng);\n        editor.formatter.apply(name, vars, rng);\n        selection.moveToBookmark(bookmark);\n      } else {\n        if (!caretContainer || textNode.nodeValue !== ZWSP) {\n          caretContainer = importNode(editor.getDoc(), createCaretContainer(true).dom);\n          textNode = caretContainer.firstChild;\n          selectionRng.insertNode(caretContainer);\n          offset = 1;\n          editor.formatter.apply(name, vars, caretContainer);\n        } else {\n          editor.formatter.apply(name, vars, caretContainer);\n        }\n        selection.setCursorLocation(textNode, offset);\n      }\n    };\n    const removeCaretFormat = (editor, name, vars, similar) => {\n      const dom = editor.dom;\n      const selection = editor.selection;\n      let hasContentAfter, node, formatNode;\n      const parents = [];\n      const rng = selection.getRng();\n      const container = rng.startContainer;\n      const offset = rng.startOffset;\n      node = container;\n      if (container.nodeType === 3) {\n        if (offset !== container.nodeValue.length) {\n          hasContentAfter = true;\n        }\n        node = node.parentNode;\n      }\n      while (node) {\n        if (matchNode(editor, node, name, vars, similar)) {\n          formatNode = node;\n          break;\n        }\n        if (node.nextSibling) {\n          hasContentAfter = true;\n        }\n        parents.push(node);\n        node = node.parentNode;\n      }\n      if (!formatNode) {\n        return;\n      }\n      if (hasContentAfter) {\n        const bookmark = selection.getBookmark();\n        rng.collapse(true);\n        let expandedRng = expandRng(editor, rng, editor.formatter.get(name), true);\n        expandedRng = split(expandedRng);\n        editor.formatter.remove(name, vars, expandedRng, similar);\n        selection.moveToBookmark(bookmark);\n      } else {\n        const caretContainer = getParentCaretContainer(editor.getBody(), formatNode);\n        const newCaretContainer = createCaretContainer(false).dom;\n        insertCaretContainerNode(editor, newCaretContainer, caretContainer !== null ? caretContainer : formatNode);\n        const cleanedFormatNode = cleanFormatNode(editor, newCaretContainer, formatNode, name, vars, similar);\n        const caretTextNode = insertFormatNodesIntoCaretContainer(parents.concat(cleanedFormatNode.toArray()), newCaretContainer);\n        removeCaretContainerNode(editor, caretContainer, false);\n        selection.setCursorLocation(caretTextNode, 1);\n        if (dom.isEmpty(formatNode)) {\n          dom.remove(formatNode);\n        }\n      }\n    };\n    const disableCaretContainer = (editor, keyCode) => {\n      const selection = editor.selection, body = editor.getBody();\n      removeCaretContainer(editor, null, false);\n      if ((keyCode === 8 || keyCode === 46) && selection.isCollapsed() && selection.getStart().innerHTML === ZWSP) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n      if (keyCode === 37 || keyCode === 39) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n    };\n    const setup$u = editor => {\n      editor.on('mouseup keydown', e => {\n        disableCaretContainer(editor, e.keyCode);\n      });\n    };\n    const replaceWithCaretFormat = (targetNode, formatNodes) => {\n      const caretContainer = createCaretContainer(false);\n      const innerMost = insertFormatNodesIntoCaretContainer(formatNodes, caretContainer.dom);\n      before$3(SugarElement.fromDom(targetNode), caretContainer);\n      remove$6(SugarElement.fromDom(targetNode));\n      return CaretPosition(innerMost, 0);\n    };\n    const isFormatElement = (editor, element) => {\n      const inlineElements = editor.schema.getTextInlineElements();\n      return has$2(inlineElements, name(element)) && !isCaretNode(element.dom) && !isBogus$2(element.dom);\n    };\n    const isEmptyCaretFormatElement = element => {\n      return isCaretNode(element.dom) && isCaretContainerEmpty(element.dom);\n    };\n\n    const postProcessHooks = {};\n    const filter$2 = filter$4;\n    const each$9 = each$d;\n    const addPostProcessHook = (name, hook) => {\n      const hooks = postProcessHooks[name];\n      if (!hooks) {\n        postProcessHooks[name] = [];\n      }\n      postProcessHooks[name].push(hook);\n    };\n    const postProcess$1 = (name, editor) => {\n      each$9(postProcessHooks[name], hook => {\n        hook(editor);\n      });\n    };\n    addPostProcessHook('pre', editor => {\n      const rng = editor.selection.getRng();\n      let blocks;\n      const hasPreSibling = pre => {\n        return isPre(pre.previousSibling) && indexOf(blocks, pre.previousSibling) !== -1;\n      };\n      const joinPre = (pre1, pre2) => {\n        const sPre2 = SugarElement.fromDom(pre2);\n        const doc = documentOrOwner(sPre2).dom;\n        remove$6(sPre2);\n        append(SugarElement.fromDom(pre1), [\n          SugarElement.fromTag('br', doc),\n          SugarElement.fromTag('br', doc),\n          ...children(sPre2)\n        ]);\n      };\n      const isPre = matchNodeNames(['pre']);\n      if (!rng.collapsed) {\n        blocks = editor.selection.getSelectedBlocks();\n        each$9(filter$2(filter$2(blocks, isPre), hasPreSibling), pre => {\n          joinPre(pre.previousSibling, pre);\n        });\n      }\n    });\n\n    const each$8 = Tools.each;\n    const isElementNode$1 = node => isElement$6(node) && !isBookmarkNode$1(node) && !isCaretNode(node) && !isBogus$2(node);\n    const findElementSibling = (node, siblingName) => {\n      for (let sibling = node; sibling; sibling = sibling[siblingName]) {\n        if (isText$9(sibling) && isNotEmpty(sibling.data)) {\n          return node;\n        }\n        if (isElement$6(sibling) && !isBookmarkNode$1(sibling)) {\n          return sibling;\n        }\n      }\n      return node;\n    };\n    const mergeSiblingsNodes = (dom, prev, next) => {\n      const elementUtils = ElementUtils(dom);\n      if (prev && next) {\n        prev = findElementSibling(prev, 'previousSibling');\n        next = findElementSibling(next, 'nextSibling');\n        if (elementUtils.compare(prev, next)) {\n          for (let sibling = prev.nextSibling; sibling && sibling !== next;) {\n            const tmpSibling = sibling;\n            sibling = sibling.nextSibling;\n            prev.appendChild(tmpSibling);\n          }\n          dom.remove(next);\n          Tools.each(Tools.grep(next.childNodes), node => {\n            prev.appendChild(node);\n          });\n          return prev;\n        }\n      }\n      return next;\n    };\n    const mergeSiblings = (dom, format, vars, node) => {\n      if (node && format.merge_siblings !== false) {\n        const newNode = mergeSiblingsNodes(dom, getNonWhiteSpaceSibling(node), node);\n        mergeSiblingsNodes(dom, newNode, getNonWhiteSpaceSibling(newNode, true));\n      }\n    };\n    const clearChildStyles = (dom, format, node) => {\n      if (format.clear_child_styles) {\n        const selector = format.links ? '*:not(a)' : '*';\n        each$8(dom.select(selector, node), node => {\n          if (isElementNode$1(node)) {\n            each$8(format.styles, (value, name) => {\n              dom.setStyle(node, name, '');\n            });\n          }\n        });\n      }\n    };\n    const processChildElements = (node, filter, process) => {\n      each$8(node.childNodes, node => {\n        if (isElementNode$1(node)) {\n          if (filter(node)) {\n            process(node);\n          }\n          if (node.hasChildNodes()) {\n            processChildElements(node, filter, process);\n          }\n        }\n      });\n    };\n    const unwrapEmptySpan = (dom, node) => {\n      if (node.nodeName === 'SPAN' && dom.getAttribs(node).length === 0) {\n        dom.remove(node, true);\n      }\n    };\n    const hasStyle = (dom, name) => node => !!(node && getStyle(dom, node, name));\n    const applyStyle = (dom, name, value) => node => {\n      dom.setStyle(node, name, value);\n      if (node.getAttribute('style') === '') {\n        node.removeAttribute('style');\n      }\n      unwrapEmptySpan(dom, node);\n    };\n\n    const removeResult = Adt.generate([\n      { keep: [] },\n      { rename: ['name'] },\n      { removed: [] }\n    ]);\n    const MCE_ATTR_RE = /^(src|href|style)$/;\n    const each$7 = Tools.each;\n    const isEq$2 = isEq$5;\n    const isTableCellOrRow = node => /^(TR|TH|TD)$/.test(node.nodeName);\n    const isChildOfInlineParent = (dom, node, parent) => dom.isChildOf(node, parent) && node !== parent && !dom.isBlock(parent);\n    const getContainer = (ed, rng, start) => {\n      let container = rng[start ? 'startContainer' : 'endContainer'];\n      let offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (isElement$6(container)) {\n        const lastIdx = container.childNodes.length - 1;\n        if (!start && offset) {\n          offset--;\n        }\n        container = container.childNodes[offset > lastIdx ? lastIdx : offset];\n      }\n      if (isText$9(container) && start && offset >= container.nodeValue.length) {\n        container = new DomTreeWalker(container, ed.getBody()).next() || container;\n      }\n      if (isText$9(container) && !start && offset === 0) {\n        container = new DomTreeWalker(container, ed.getBody()).prev() || container;\n      }\n      return container;\n    };\n    const normalizeTableSelection = (node, start) => {\n      const prop = start ? 'firstChild' : 'lastChild';\n      if (isTableCellOrRow(node) && node[prop]) {\n        const childNode = node[prop];\n        if (node.nodeName === 'TR') {\n          return childNode[prop] || childNode;\n        } else {\n          return childNode;\n        }\n      }\n      return node;\n    };\n    const wrap$1 = (dom, node, name, attrs) => {\n      const wrapper = dom.create(name, attrs);\n      node.parentNode.insertBefore(wrapper, node);\n      wrapper.appendChild(node);\n      return wrapper;\n    };\n    const wrapWithSiblings = (dom, node, next, name, attrs) => {\n      const start = SugarElement.fromDom(node);\n      const wrapper = SugarElement.fromDom(dom.create(name, attrs));\n      const siblings = next ? nextSiblings(start) : prevSiblings(start);\n      append(wrapper, siblings);\n      if (next) {\n        before$3(start, wrapper);\n        prepend(wrapper, start);\n      } else {\n        after$4(start, wrapper);\n        append$1(wrapper, start);\n      }\n      return wrapper.dom;\n    };\n    const isColorFormatAndAnchor = (node, format) => format.links && node.nodeName === 'A';\n    const removeNode = (ed, node, format) => {\n      const parentNode = node.parentNode;\n      let rootBlockElm;\n      const dom = ed.dom;\n      const forcedRootBlock = getForcedRootBlock(ed);\n      if (isBlockFormat(format)) {\n        if (parentNode === dom.getRoot()) {\n          if (!format.list_block || !isEq$2(node, format.list_block)) {\n            each$f(from(node.childNodes), node => {\n              if (isValid(ed, forcedRootBlock, node.nodeName.toLowerCase())) {\n                if (!rootBlockElm) {\n                  rootBlockElm = wrap$1(dom, node, forcedRootBlock);\n                  dom.setAttribs(rootBlockElm, getForcedRootBlockAttrs(ed));\n                } else {\n                  rootBlockElm.appendChild(node);\n                }\n              } else {\n                rootBlockElm = null;\n              }\n            });\n          }\n        }\n      }\n      if (isMixedFormat(format) && !isEq$2(format.inline, node)) {\n        return;\n      }\n      dom.remove(node, true);\n    };\n    const removeFormatInternal = (ed, format, vars, node, compareNode) => {\n      let stylesModified;\n      const dom = ed.dom;\n      if (!matchName(dom, node, format) && !isColorFormatAndAnchor(node, format)) {\n        return removeResult.keep();\n      }\n      const elm = node;\n      if (isInlineFormat(format) && format.remove === 'all' && isArray$1(format.preserve_attributes)) {\n        const attrsToPreserve = filter$6(dom.getAttribs(elm), attr => contains$2(format.preserve_attributes, attr.name.toLowerCase()));\n        dom.removeAllAttribs(elm);\n        each$f(attrsToPreserve, attr => dom.setAttrib(elm, attr.name, attr.value));\n        if (attrsToPreserve.length > 0) {\n          return removeResult.rename('span');\n        }\n      }\n      if (format.remove !== 'all') {\n        each$7(format.styles, (value, name) => {\n          value = normalizeStyleValue(replaceVars(value, vars), name + '');\n          if (isNumber(name)) {\n            name = value;\n            compareNode = null;\n          }\n          if (format.remove_similar || (!compareNode || isEq$2(getStyle(dom, compareNode, name), value))) {\n            dom.setStyle(elm, name, '');\n          }\n          stylesModified = true;\n        });\n        if (stylesModified && dom.getAttrib(elm, 'style') === '') {\n          elm.removeAttribute('style');\n          elm.removeAttribute('data-mce-style');\n        }\n        each$7(format.attributes, (value, name) => {\n          let valueOut;\n          value = replaceVars(value, vars);\n          if (isNumber(name)) {\n            name = value;\n            compareNode = null;\n          }\n          if (format.remove_similar || (!compareNode || isEq$2(dom.getAttrib(compareNode, name), value))) {\n            if (name === 'class') {\n              value = dom.getAttrib(elm, name);\n              if (value) {\n                valueOut = '';\n                each$f(value.split(/\\s+/), cls => {\n                  if (/mce\\-\\w+/.test(cls)) {\n                    valueOut += (valueOut ? ' ' : '') + cls;\n                  }\n                });\n                if (valueOut) {\n                  dom.setAttrib(elm, name, valueOut);\n                  return;\n                }\n              }\n            }\n            if (MCE_ATTR_RE.test(name)) {\n              elm.removeAttribute('data-mce-' + name);\n            }\n            if (name === 'style' && matchNodeNames(['li'])(elm) && dom.getStyle(elm, 'list-style-type') === 'none') {\n              elm.removeAttribute(name);\n              dom.setStyle(elm, 'list-style-type', 'none');\n              return;\n            }\n            if (name === 'class') {\n              elm.removeAttribute('className');\n            }\n            elm.removeAttribute(name);\n          }\n        });\n        each$7(format.classes, value => {\n          value = replaceVars(value, vars);\n          if (!compareNode || dom.hasClass(compareNode, value)) {\n            dom.removeClass(elm, value);\n          }\n        });\n        const attrs = dom.getAttribs(elm);\n        for (let i = 0; i < attrs.length; i++) {\n          const attrName = attrs[i].nodeName;\n          if (attrName.indexOf('_') !== 0 && attrName.indexOf('data-') !== 0) {\n            return removeResult.keep();\n          }\n        }\n      }\n      if (format.remove !== 'none') {\n        removeNode(ed, elm, format);\n        return removeResult.removed();\n      }\n      return removeResult.keep();\n    };\n    const removeFormat$1 = (ed, format, vars, node, compareNode) => removeFormatInternal(ed, format, vars, node, compareNode).fold(never, newName => {\n      ed.dom.rename(node, newName);\n      return true;\n    }, always);\n    const findFormatRoot = (editor, container, name, vars, similar) => {\n      let formatRoot;\n      each$f(getParents$2(editor.dom, container.parentNode).reverse(), parent => {\n        if (!formatRoot && parent.id !== '_start' && parent.id !== '_end') {\n          const format = matchNode(editor, parent, name, vars, similar);\n          if (format && format.split !== false) {\n            formatRoot = parent;\n          }\n        }\n      });\n      return formatRoot;\n    };\n    const removeFormatFromClone = (editor, format, vars, clone) => removeFormatInternal(editor, format, vars, clone, clone).fold(constant(clone), newName => {\n      const fragment = editor.dom.createFragment();\n      fragment.appendChild(clone);\n      return editor.dom.rename(clone, newName);\n    }, constant(null));\n    const wrapAndSplit = (editor, formatList, formatRoot, container, target, split, format, vars) => {\n      let clone, lastClone, firstClone;\n      const dom = editor.dom;\n      if (formatRoot) {\n        const formatRootParent = formatRoot.parentNode;\n        for (let parent = container.parentNode; parent && parent !== formatRootParent; parent = parent.parentNode) {\n          clone = dom.clone(parent, false);\n          for (let i = 0; i < formatList.length; i++) {\n            clone = removeFormatFromClone(editor, formatList[i], vars, clone);\n            if (clone === null) {\n              break;\n            }\n          }\n          if (clone) {\n            if (lastClone) {\n              clone.appendChild(lastClone);\n            }\n            if (!firstClone) {\n              firstClone = clone;\n            }\n            lastClone = clone;\n          }\n        }\n        if (split && (!format.mixed || !dom.isBlock(formatRoot))) {\n          container = dom.split(formatRoot, container);\n        }\n        if (lastClone) {\n          target.parentNode.insertBefore(lastClone, target);\n          firstClone.appendChild(target);\n          if (isInlineFormat(format)) {\n            mergeSiblings(dom, format, vars, lastClone);\n          }\n        }\n      }\n      return container;\n    };\n    const remove$2 = (ed, name, vars, node, similar) => {\n      const formatList = ed.formatter.get(name);\n      const format = formatList[0];\n      let contentEditable = true;\n      const dom = ed.dom;\n      const selection = ed.selection;\n      const splitToFormatRoot = container => {\n        const formatRoot = findFormatRoot(ed, container, name, vars, similar);\n        return wrapAndSplit(ed, formatList, formatRoot, container, container, true, format, vars);\n      };\n      const isRemoveBookmarkNode = node => isBookmarkNode$1(node) && isElement$6(node) && (node.id === '_start' || node.id === '_end');\n      const removeNodeFormat = node => exists(formatList, fmt => removeFormat$1(ed, fmt, vars, node, node));\n      const process = node => {\n        let lastContentEditable = true;\n        let hasContentEditableState = false;\n        if (isElement$6(node) && dom.getContentEditable(node)) {\n          lastContentEditable = contentEditable;\n          contentEditable = dom.getContentEditable(node) === 'true';\n          hasContentEditableState = true;\n        }\n        const children = from(node.childNodes);\n        if (contentEditable && !hasContentEditableState) {\n          const removed = removeNodeFormat(node);\n          const currentNodeMatches = removed || exists(formatList, f => matchName(dom, node, f));\n          const parentNode = node.parentNode;\n          if (!currentNodeMatches && isNonNullable(parentNode) && shouldExpandToSelector(format)) {\n            removeNodeFormat(parentNode);\n          }\n        }\n        if (format.deep) {\n          if (children.length) {\n            for (let i = 0; i < children.length; i++) {\n              process(children[i]);\n            }\n            if (hasContentEditableState) {\n              contentEditable = lastContentEditable;\n            }\n          }\n        }\n        const textDecorations = [\n          'underline',\n          'line-through',\n          'overline'\n        ];\n        each$f(textDecorations, decoration => {\n          if (isElement$6(node) && ed.dom.getStyle(node, 'text-decoration') === decoration && node.parentNode && getTextDecoration(dom, node.parentNode) === decoration) {\n            removeFormat$1(ed, {\n              deep: false,\n              exact: true,\n              inline: 'span',\n              styles: { textDecoration: decoration }\n            }, null, node);\n          }\n        });\n      };\n      const unwrap = start => {\n        const node = dom.get(start ? '_start' : '_end');\n        let out = node[start ? 'firstChild' : 'lastChild'];\n        if (isRemoveBookmarkNode(out)) {\n          out = out[start ? 'firstChild' : 'lastChild'];\n        }\n        if (isText$9(out) && out.data.length === 0) {\n          out = start ? node.previousSibling || node.nextSibling : node.nextSibling || node.previousSibling;\n        }\n        dom.remove(node, true);\n        return out;\n      };\n      const removeRngStyle = rng => {\n        let startContainer, endContainer;\n        let expandedRng = expandRng(ed, rng, formatList, rng.collapsed);\n        if (format.split) {\n          expandedRng = split(expandedRng);\n          startContainer = getContainer(ed, expandedRng, true);\n          endContainer = getContainer(ed, expandedRng);\n          if (startContainer !== endContainer) {\n            startContainer = normalizeTableSelection(startContainer, true);\n            endContainer = normalizeTableSelection(endContainer, false);\n            if (isChildOfInlineParent(dom, startContainer, endContainer)) {\n              const marker = Optional.from(startContainer.firstChild).getOr(startContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, true, 'span', {\n                'id': '_start',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(true);\n              return;\n            }\n            if (isChildOfInlineParent(dom, endContainer, startContainer)) {\n              const marker = Optional.from(endContainer.lastChild).getOr(endContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, false, 'span', {\n                'id': '_end',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(false);\n              return;\n            }\n            startContainer = wrap$1(dom, startContainer, 'span', {\n              'id': '_start',\n              'data-mce-type': 'bookmark'\n            });\n            endContainer = wrap$1(dom, endContainer, 'span', {\n              'id': '_end',\n              'data-mce-type': 'bookmark'\n            });\n            const newRng = dom.createRng();\n            newRng.setStartAfter(startContainer);\n            newRng.setEndBefore(endContainer);\n            walk$3(dom, newRng, nodes => {\n              each$f(nodes, n => {\n                if (!isBookmarkNode$1(n) && !isBookmarkNode$1(n.parentNode)) {\n                  splitToFormatRoot(n);\n                }\n              });\n            });\n            splitToFormatRoot(startContainer);\n            splitToFormatRoot(endContainer);\n            startContainer = unwrap(true);\n            endContainer = unwrap();\n          } else {\n            startContainer = endContainer = splitToFormatRoot(startContainer);\n          }\n          expandedRng.startContainer = startContainer.parentNode ? startContainer.parentNode : startContainer;\n          expandedRng.startOffset = dom.nodeIndex(startContainer);\n          expandedRng.endContainer = endContainer.parentNode ? endContainer.parentNode : endContainer;\n          expandedRng.endOffset = dom.nodeIndex(endContainer) + 1;\n        }\n        walk$3(dom, expandedRng, nodes => {\n          each$f(nodes, process);\n        });\n      };\n      if (node) {\n        if (isNode(node)) {\n          const rng = dom.createRng();\n          rng.setStartBefore(node);\n          rng.setEndAfter(node);\n          removeRngStyle(rng);\n        } else {\n          removeRngStyle(node);\n        }\n        fireFormatRemove(ed, name, node, vars);\n        return;\n      }\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\n        node = selection.getNode();\n        for (let i = 0; i < formatList.length; i++) {\n          if (formatList[i].ceFalseOverride) {\n            if (removeFormat$1(ed, formatList[i], vars, node, node)) {\n              break;\n            }\n          }\n        }\n        fireFormatRemove(ed, name, node, vars);\n        return;\n      }\n      if (!selection.isCollapsed() || !isInlineFormat(format) || getCellsFromEditor(ed).length) {\n        preserve(selection, true, () => {\n          runOnRanges(ed, removeRngStyle);\n        });\n        if (isInlineFormat(format) && match$2(ed, name, vars, selection.getStart())) {\n          moveStart(dom, selection, selection.getRng());\n        }\n        ed.nodeChanged();\n      } else {\n        removeCaretFormat(ed, name, vars, similar);\n      }\n      fireFormatRemove(ed, name, node, vars);\n    };\n\n    const each$6 = Tools.each;\n    const mergeTextDecorationsAndColor = (dom, format, vars, node) => {\n      const processTextDecorationsAndColor = n => {\n        if (n.nodeType === 1 && n.parentNode && n.parentNode.nodeType === 1) {\n          const textDecoration = getTextDecoration(dom, n.parentNode);\n          if (dom.getStyle(n, 'color') && textDecoration) {\n            dom.setStyle(n, 'text-decoration', textDecoration);\n          } else if (dom.getStyle(n, 'text-decoration') === textDecoration) {\n            dom.setStyle(n, 'text-decoration', null);\n          }\n        }\n      };\n      if (format.styles && (format.styles.color || format.styles.textDecoration)) {\n        Tools.walk(node, processTextDecorationsAndColor, 'childNodes');\n        processTextDecorationsAndColor(node);\n      }\n    };\n    const mergeBackgroundColorAndFontSize = (dom, format, vars, node) => {\n      if (format.styles && format.styles.backgroundColor) {\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'backgroundColor', replaceVars(format.styles.backgroundColor, vars)));\n      }\n    };\n    const mergeSubSup = (dom, format, vars, node) => {\n      if (isInlineFormat(format) && (format.inline === 'sub' || format.inline === 'sup')) {\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'fontSize', ''));\n        dom.remove(dom.select(format.inline === 'sup' ? 'sub' : 'sup', node), true);\n      }\n    };\n    const mergeWithChildren = (editor, formatList, vars, node) => {\n      each$6(formatList, format => {\n        if (isInlineFormat(format)) {\n          each$6(editor.dom.select(format.inline, node), child => {\n            if (!isElementNode$1(child)) {\n              return;\n            }\n            removeFormat$1(editor, format, vars, child, format.exact ? child : null);\n          });\n        }\n        clearChildStyles(editor.dom, format, node);\n      });\n    };\n    const mergeWithParents = (editor, format, name, vars, node) => {\n      if (matchNode(editor, node.parentNode, name, vars)) {\n        if (removeFormat$1(editor, format, vars, node)) {\n          return;\n        }\n      }\n      if (format.merge_with_parents) {\n        editor.dom.getParent(node.parentNode, parent => {\n          if (matchNode(editor, parent, name, vars)) {\n            removeFormat$1(editor, format, vars, node);\n            return true;\n          }\n        });\n      }\n    };\n\n    const each$5 = Tools.each;\n    const isElementNode = node => {\n      return isElement$6(node) && !isBookmarkNode$1(node) && !isCaretNode(node) && !isBogus$2(node);\n    };\n    const canFormatBR = (editor, format, node, parentName) => {\n      if (canFormatEmptyLines(editor) && isInlineFormat(format)) {\n        const validBRParentElements = getTextRootBlockElements(editor.schema);\n        const hasCaretNodeSibling = sibling(SugarElement.fromDom(node), sibling => isCaretNode(sibling.dom));\n        return hasNonNullableKey(validBRParentElements, parentName) && isEmpty$2(SugarElement.fromDom(node.parentNode), false) && !hasCaretNodeSibling;\n      } else {\n        return false;\n      }\n    };\n    const applyFormat$1 = (ed, name, vars, node) => {\n      const formatList = ed.formatter.get(name);\n      const format = formatList[0];\n      const isCollapsed = !node && ed.selection.isCollapsed();\n      const dom = ed.dom;\n      const selection = ed.selection;\n      const setElementFormat = (elm, fmt = format) => {\n        if (isFunction(fmt.onformat)) {\n          fmt.onformat(elm, fmt, vars, node);\n        }\n        each$5(fmt.styles, (value, name) => {\n          dom.setStyle(elm, name, replaceVars(value, vars));\n        });\n        if (fmt.styles) {\n          const styleVal = dom.getAttrib(elm, 'style');\n          if (styleVal) {\n            dom.setAttrib(elm, 'data-mce-style', styleVal);\n          }\n        }\n        each$5(fmt.attributes, (value, name) => {\n          dom.setAttrib(elm, name, replaceVars(value, vars));\n        });\n        each$5(fmt.classes, value => {\n          value = replaceVars(value, vars);\n          if (!dom.hasClass(elm, value)) {\n            dom.addClass(elm, value);\n          }\n        });\n      };\n      const applyNodeStyle = (formatList, node) => {\n        let found = false;\n        each$5(formatList, format => {\n          if (!isSelectorFormat(format)) {\n            return false;\n          }\n          if (isNonNullable(format.collapsed) && format.collapsed !== isCollapsed) {\n            return;\n          }\n          if (dom.is(node, format.selector) && !isCaretNode(node)) {\n            setElementFormat(node, format);\n            found = true;\n            return false;\n          }\n        });\n        return found;\n      };\n      const createWrapElement = wrapName => {\n        if (isString(wrapName)) {\n          const wrapElm = dom.create(wrapName);\n          setElementFormat(wrapElm);\n          return wrapElm;\n        } else {\n          return null;\n        }\n      };\n      const applyRngStyle = (dom, rng, nodeSpecific) => {\n        const newWrappers = [];\n        let contentEditable = true;\n        const wrapName = format.inline || format.block;\n        const wrapElm = createWrapElement(wrapName);\n        walk$3(dom, rng, nodes => {\n          let currentWrapElm;\n          const process = node => {\n            let hasContentEditableState = false;\n            let lastContentEditable = contentEditable;\n            const nodeName = node.nodeName.toLowerCase();\n            const parentNode = node.parentNode;\n            const parentName = parentNode.nodeName.toLowerCase();\n            if (isElement$6(node) && dom.getContentEditable(node)) {\n              lastContentEditable = contentEditable;\n              contentEditable = dom.getContentEditable(node) === 'true';\n              hasContentEditableState = true;\n            }\n            if (isBr$6(node) && !canFormatBR(ed, format, node, parentName)) {\n              currentWrapElm = null;\n              if (isBlockFormat(format)) {\n                dom.remove(node);\n              }\n              return;\n            }\n            if (isBlockFormat(format) && format.wrapper && matchNode(ed, node, name, vars)) {\n              currentWrapElm = null;\n              return;\n            }\n            if (contentEditable && !hasContentEditableState && isBlockFormat(format) && !format.wrapper && isTextBlock$1(ed, nodeName) && isValid(ed, parentName, wrapName)) {\n              const elm = dom.rename(node, wrapName);\n              setElementFormat(elm);\n              newWrappers.push(elm);\n              currentWrapElm = null;\n              return;\n            }\n            if (isSelectorFormat(format)) {\n              let found = applyNodeStyle(formatList, node);\n              if (!found && isNonNullable(parentNode) && shouldExpandToSelector(format)) {\n                found = applyNodeStyle(formatList, parentNode);\n              }\n              if (!isInlineFormat(format) || found) {\n                currentWrapElm = null;\n                return;\n              }\n            }\n            if (contentEditable && !hasContentEditableState && isValid(ed, wrapName, nodeName) && isValid(ed, parentName, wrapName) && !(!nodeSpecific && isText$9(node) && isZwsp(node.data)) && !isCaretNode(node) && (!isInlineFormat(format) || !dom.isBlock(node))) {\n              if (!currentWrapElm) {\n                currentWrapElm = dom.clone(wrapElm, false);\n                node.parentNode.insertBefore(currentWrapElm, node);\n                newWrappers.push(currentWrapElm);\n              }\n              currentWrapElm.appendChild(node);\n            } else {\n              currentWrapElm = null;\n              each$f(from(node.childNodes), process);\n              if (hasContentEditableState) {\n                contentEditable = lastContentEditable;\n              }\n              currentWrapElm = null;\n            }\n          };\n          each$f(nodes, process);\n        });\n        if (format.links === true) {\n          each$f(newWrappers, node => {\n            const process = node => {\n              if (node.nodeName === 'A') {\n                setElementFormat(node, format);\n              }\n              each$f(from(node.childNodes), process);\n            };\n            process(node);\n          });\n        }\n        each$f(newWrappers, node => {\n          const getChildCount = node => {\n            let count = 0;\n            each$f(node.childNodes, node => {\n              if (!isEmptyTextNode$1(node) && !isBookmarkNode$1(node)) {\n                count++;\n              }\n            });\n            return count;\n          };\n          const mergeStyles = node => {\n            const childElement = find$2(node.childNodes, isElementNode).filter(child => matchName(dom, child, format));\n            return childElement.map(child => {\n              const clone = dom.clone(child, false);\n              setElementFormat(clone);\n              dom.replace(clone, node, true);\n              dom.remove(child, true);\n              return clone;\n            }).getOr(node);\n          };\n          const childCount = getChildCount(node);\n          if ((newWrappers.length > 1 || !dom.isBlock(node)) && childCount === 0) {\n            dom.remove(node, true);\n            return;\n          }\n          if (isInlineFormat(format) || isBlockFormat(format) && format.wrapper) {\n            if (!format.exact && childCount === 1) {\n              node = mergeStyles(node);\n            }\n            mergeWithChildren(ed, formatList, vars, node);\n            mergeWithParents(ed, format, name, vars, node);\n            mergeBackgroundColorAndFontSize(dom, format, vars, node);\n            mergeTextDecorationsAndColor(dom, format, vars, node);\n            mergeSubSup(dom, format, vars, node);\n            mergeSiblings(dom, format, vars, node);\n          }\n        });\n      };\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\n        node = selection.getNode();\n        for (let i = 0, l = formatList.length; i < l; i++) {\n          const formatItem = formatList[i];\n          if (formatItem.ceFalseOverride && isSelectorFormat(formatItem) && dom.is(node, formatItem.selector)) {\n            setElementFormat(node, formatItem);\n            break;\n          }\n        }\n        fireFormatApply(ed, name, node, vars);\n        return;\n      }\n      if (format) {\n        if (node) {\n          if (isNode(node)) {\n            if (!applyNodeStyle(formatList, node)) {\n              const rng = dom.createRng();\n              rng.setStartBefore(node);\n              rng.setEndAfter(node);\n              applyRngStyle(dom, expandRng(ed, rng, formatList), true);\n            }\n          } else {\n            applyRngStyle(dom, node, true);\n          }\n        } else {\n          if (!isCollapsed || !isInlineFormat(format) || getCellsFromEditor(ed).length) {\n            selection.setRng(normalize(selection.getRng()));\n            preserve(selection, true, () => {\n              runOnRanges(ed, (selectionRng, fake) => {\n                const expandedRng = fake ? selectionRng : expandRng(ed, selectionRng, formatList);\n                applyRngStyle(dom, expandedRng, false);\n              });\n            });\n            moveStart(dom, selection, selection.getRng());\n            ed.nodeChanged();\n          } else {\n            applyCaretFormat(ed, name, vars);\n          }\n        }\n        postProcess$1(name, ed);\n      }\n      fireFormatApply(ed, name, node, vars);\n    };\n\n    const hasVars = value => has$2(value, 'vars');\n    const setup$t = (registeredFormatListeners, editor) => {\n      registeredFormatListeners.set({});\n      editor.on('NodeChange', e => {\n        updateAndFireChangeCallbacks(editor, e.element, registeredFormatListeners.get());\n      });\n      editor.on('FormatApply FormatRemove', e => {\n        const element = Optional.from(e.node).map(nodeOrRange => isNode(nodeOrRange) ? nodeOrRange : nodeOrRange.startContainer).bind(node => isElement$6(node) ? Optional.some(node) : Optional.from(node.parentElement)).getOrThunk(() => fallbackElement(editor));\n        updateAndFireChangeCallbacks(editor, element, registeredFormatListeners.get());\n      });\n    };\n    const fallbackElement = editor => editor.selection.getStart();\n    const matchingNode = (editor, parents, format, similar, vars) => {\n      const isMatchingNode = node => {\n        const matchingFormat = editor.formatter.matchNode(node, format, vars !== null && vars !== void 0 ? vars : {}, similar);\n        return !isUndefined(matchingFormat);\n      };\n      const isUnableToMatch = node => {\n        if (matchesUnInheritedFormatSelector(editor, node, format)) {\n          return true;\n        } else {\n          if (!similar) {\n            return isNonNullable(editor.formatter.matchNode(node, format, vars, true));\n          } else {\n            return false;\n          }\n        }\n      };\n      return findUntil$1(parents, isMatchingNode, isUnableToMatch);\n    };\n    const getParents = (editor, elm) => {\n      const element = elm !== null && elm !== void 0 ? elm : fallbackElement(editor);\n      return filter$6(getParents$2(editor.dom, element), node => isElement$6(node) && !isBogus$2(node));\n    };\n    const updateAndFireChangeCallbacks = (editor, elm, registeredCallbacks) => {\n      const parents = getParents(editor, elm);\n      each$e(registeredCallbacks, (data, format) => {\n        const runIfChanged = spec => {\n          const match = matchingNode(editor, parents, format, spec.similar, hasVars(spec) ? spec.vars : undefined);\n          const isSet = match.isSome();\n          if (spec.state.get() !== isSet) {\n            spec.state.set(isSet);\n            const node = match.getOr(elm);\n            if (hasVars(spec)) {\n              spec.callback(isSet, {\n                node,\n                format,\n                parents\n              });\n            } else {\n              each$f(spec.callbacks, callback => callback(isSet, {\n                node,\n                format,\n                parents\n              }));\n            }\n          }\n        };\n        each$f([\n          data.withSimilar,\n          data.withoutSimilar\n        ], runIfChanged);\n        each$f(data.withVars, runIfChanged);\n      });\n    };\n    const addListeners = (editor, registeredFormatListeners, formats, callback, similar, vars) => {\n      const formatChangeItems = registeredFormatListeners.get();\n      each$f(formats.split(','), format => {\n        const group = get$a(formatChangeItems, format).getOrThunk(() => {\n          const base = {\n            withSimilar: {\n              state: Cell(false),\n              similar: true,\n              callbacks: []\n            },\n            withoutSimilar: {\n              state: Cell(false),\n              similar: false,\n              callbacks: []\n            },\n            withVars: []\n          };\n          formatChangeItems[format] = base;\n          return base;\n        });\n        const getCurrent = () => {\n          const parents = getParents(editor);\n          return matchingNode(editor, parents, format, similar, vars).isSome();\n        };\n        if (isUndefined(vars)) {\n          const toAppendTo = similar ? group.withSimilar : group.withoutSimilar;\n          toAppendTo.callbacks.push(callback);\n          if (toAppendTo.callbacks.length === 1) {\n            toAppendTo.state.set(getCurrent());\n          }\n        } else {\n          group.withVars.push({\n            state: Cell(getCurrent()),\n            similar,\n            vars,\n            callback\n          });\n        }\n      });\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    const removeListeners = (registeredFormatListeners, formats, callback) => {\n      const formatChangeItems = registeredFormatListeners.get();\n      each$f(formats.split(','), format => get$a(formatChangeItems, format).each(group => {\n        formatChangeItems[format] = {\n          withSimilar: {\n            ...group.withSimilar,\n            callbacks: filter$6(group.withSimilar.callbacks, cb => cb !== callback)\n          },\n          withoutSimilar: {\n            ...group.withoutSimilar,\n            callbacks: filter$6(group.withoutSimilar.callbacks, cb => cb !== callback)\n          },\n          withVars: filter$6(group.withVars, item => item.callback !== callback)\n        };\n      }));\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    const formatChangedInternal = (editor, registeredFormatListeners, formats, callback, similar, vars) => {\n      if (registeredFormatListeners.get() === null) {\n        setup$t(registeredFormatListeners, editor);\n      }\n      addListeners(editor, registeredFormatListeners, formats, callback, similar, vars);\n      return { unbind: () => removeListeners(registeredFormatListeners, formats, callback) };\n    };\n\n    const toggle = (editor, name, vars, node) => {\n      const fmt = editor.formatter.get(name);\n      if (match$2(editor, name, vars, node) && (!('toggle' in fmt[0]) || fmt[0].toggle)) {\n        remove$2(editor, name, vars, node);\n      } else {\n        applyFormat$1(editor, name, vars, node);\n      }\n    };\n\n    function _typeof(obj) {\n      '@babel/helpers - typeof';\n      return _typeof = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && 'function' == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? 'symbol' : typeof obj;\n      }, _typeof(obj);\n    }\n    function _setPrototypeOf(o, p) {\n      _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n      };\n      return _setPrototypeOf(o, p);\n    }\n    function _isNativeReflectConstruct() {\n      if (typeof Reflect === 'undefined' || !Reflect.construct)\n        return false;\n      if (Reflect.construct.sham)\n        return false;\n      if (typeof Proxy === 'function')\n        return true;\n      try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {\n        }));\n        return true;\n      } catch (e) {\n        return false;\n      }\n    }\n    function _construct(Parent, args, Class) {\n      if (_isNativeReflectConstruct()) {\n        _construct = Reflect.construct;\n      } else {\n        _construct = function _construct(Parent, args, Class) {\n          var a = [null];\n          a.push.apply(a, args);\n          var Constructor = Function.bind.apply(Parent, a);\n          var instance = new Constructor();\n          if (Class)\n            _setPrototypeOf(instance, Class.prototype);\n          return instance;\n        };\n      }\n      return _construct.apply(null, arguments);\n    }\n    function _toConsumableArray(arr) {\n      return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n    }\n    function _arrayWithoutHoles(arr) {\n      if (Array.isArray(arr))\n        return _arrayLikeToArray(arr);\n    }\n    function _iterableToArray(iter) {\n      if (typeof Symbol !== 'undefined' && iter[Symbol.iterator] != null || iter['@@iterator'] != null)\n        return Array.from(iter);\n    }\n    function _unsupportedIterableToArray(o, minLen) {\n      if (!o)\n        return;\n      if (typeof o === 'string')\n        return _arrayLikeToArray(o, minLen);\n      var n = Object.prototype.toString.call(o).slice(8, -1);\n      if (n === 'Object' && o.constructor)\n        n = o.constructor.name;\n      if (n === 'Map' || n === 'Set')\n        return Array.from(o);\n      if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n        return _arrayLikeToArray(o, minLen);\n    }\n    function _arrayLikeToArray(arr, len) {\n      if (len == null || len > arr.length)\n        len = arr.length;\n      for (var i = 0, arr2 = new Array(len); i < len; i++)\n        arr2[i] = arr[i];\n      return arr2;\n    }\n    function _nonIterableSpread() {\n      throw new TypeError('Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.');\n    }\n    var hasOwnProperty = Object.hasOwnProperty, setPrototypeOf = Object.setPrototypeOf, isFrozen = Object.isFrozen, getPrototypeOf = Object.getPrototypeOf, getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    var freeze = Object.freeze, seal = Object.seal, create$8 = Object.create;\n    var _ref = typeof Reflect !== 'undefined' && Reflect, apply = _ref.apply, construct = _ref.construct;\n    if (!apply) {\n      apply = function apply(fun, thisValue, args) {\n        return fun.apply(thisValue, args);\n      };\n    }\n    if (!freeze) {\n      freeze = function freeze(x) {\n        return x;\n      };\n    }\n    if (!seal) {\n      seal = function seal(x) {\n        return x;\n      };\n    }\n    if (!construct) {\n      construct = function construct(Func, args) {\n        return _construct(Func, _toConsumableArray(args));\n      };\n    }\n    var arrayForEach = unapply(Array.prototype.forEach);\n    var arrayPop = unapply(Array.prototype.pop);\n    var arrayPush = unapply(Array.prototype.push);\n    var stringToLowerCase = unapply(String.prototype.toLowerCase);\n    var stringMatch = unapply(String.prototype.match);\n    var stringReplace = unapply(String.prototype.replace);\n    var stringIndexOf = unapply(String.prototype.indexOf);\n    var stringTrim = unapply(String.prototype.trim);\n    var regExpTest = unapply(RegExp.prototype.test);\n    var typeErrorCreate = unconstruct(TypeError);\n    function unapply(func) {\n      return function (thisArg) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        return apply(func, thisArg, args);\n      };\n    }\n    function unconstruct(func) {\n      return function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        return construct(func, args);\n      };\n    }\n    function addToSet(set, array) {\n      if (setPrototypeOf) {\n        setPrototypeOf(set, null);\n      }\n      var l = array.length;\n      while (l--) {\n        var element = array[l];\n        if (typeof element === 'string') {\n          var lcElement = stringToLowerCase(element);\n          if (lcElement !== element) {\n            if (!isFrozen(array)) {\n              array[l] = lcElement;\n            }\n            element = lcElement;\n          }\n        }\n        set[element] = true;\n      }\n      return set;\n    }\n    function clone(object) {\n      var newObject = create$8(null);\n      var property;\n      for (property in object) {\n        if (apply(hasOwnProperty, object, [property])) {\n          newObject[property] = object[property];\n        }\n      }\n      return newObject;\n    }\n    function lookupGetter(object, prop) {\n      while (object !== null) {\n        var desc = getOwnPropertyDescriptor(object, prop);\n        if (desc) {\n          if (desc.get) {\n            return unapply(desc.get);\n          }\n          if (typeof desc.value === 'function') {\n            return unapply(desc.value);\n          }\n        }\n        object = getPrototypeOf(object);\n      }\n      function fallbackValue(element) {\n        console.warn('fallback value for', element);\n        return null;\n      }\n      return fallbackValue;\n    }\n    var html$1 = freeze([\n      'a',\n      'abbr',\n      'acronym',\n      'address',\n      'area',\n      'article',\n      'aside',\n      'audio',\n      'b',\n      'bdi',\n      'bdo',\n      'big',\n      'blink',\n      'blockquote',\n      'body',\n      'br',\n      'button',\n      'canvas',\n      'caption',\n      'center',\n      'cite',\n      'code',\n      'col',\n      'colgroup',\n      'content',\n      'data',\n      'datalist',\n      'dd',\n      'decorator',\n      'del',\n      'details',\n      'dfn',\n      'dialog',\n      'dir',\n      'div',\n      'dl',\n      'dt',\n      'element',\n      'em',\n      'fieldset',\n      'figcaption',\n      'figure',\n      'font',\n      'footer',\n      'form',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'head',\n      'header',\n      'hgroup',\n      'hr',\n      'html',\n      'i',\n      'img',\n      'input',\n      'ins',\n      'kbd',\n      'label',\n      'legend',\n      'li',\n      'main',\n      'map',\n      'mark',\n      'marquee',\n      'menu',\n      'menuitem',\n      'meter',\n      'nav',\n      'nobr',\n      'ol',\n      'optgroup',\n      'option',\n      'output',\n      'p',\n      'picture',\n      'pre',\n      'progress',\n      'q',\n      'rp',\n      'rt',\n      'ruby',\n      's',\n      'samp',\n      'section',\n      'select',\n      'shadow',\n      'small',\n      'source',\n      'spacer',\n      'span',\n      'strike',\n      'strong',\n      'style',\n      'sub',\n      'summary',\n      'sup',\n      'table',\n      'tbody',\n      'td',\n      'template',\n      'textarea',\n      'tfoot',\n      'th',\n      'thead',\n      'time',\n      'tr',\n      'track',\n      'tt',\n      'u',\n      'ul',\n      'var',\n      'video',\n      'wbr'\n    ]);\n    var svg$1 = freeze([\n      'svg',\n      'a',\n      'altglyph',\n      'altglyphdef',\n      'altglyphitem',\n      'animatecolor',\n      'animatemotion',\n      'animatetransform',\n      'circle',\n      'clippath',\n      'defs',\n      'desc',\n      'ellipse',\n      'filter',\n      'font',\n      'g',\n      'glyph',\n      'glyphref',\n      'hkern',\n      'image',\n      'line',\n      'lineargradient',\n      'marker',\n      'mask',\n      'metadata',\n      'mpath',\n      'path',\n      'pattern',\n      'polygon',\n      'polyline',\n      'radialgradient',\n      'rect',\n      'stop',\n      'style',\n      'switch',\n      'symbol',\n      'text',\n      'textpath',\n      'title',\n      'tref',\n      'tspan',\n      'view',\n      'vkern'\n    ]);\n    var svgFilters = freeze([\n      'feBlend',\n      'feColorMatrix',\n      'feComponentTransfer',\n      'feComposite',\n      'feConvolveMatrix',\n      'feDiffuseLighting',\n      'feDisplacementMap',\n      'feDistantLight',\n      'feFlood',\n      'feFuncA',\n      'feFuncB',\n      'feFuncG',\n      'feFuncR',\n      'feGaussianBlur',\n      'feImage',\n      'feMerge',\n      'feMergeNode',\n      'feMorphology',\n      'feOffset',\n      'fePointLight',\n      'feSpecularLighting',\n      'feSpotLight',\n      'feTile',\n      'feTurbulence'\n    ]);\n    var svgDisallowed = freeze([\n      'animate',\n      'color-profile',\n      'cursor',\n      'discard',\n      'fedropshadow',\n      'font-face',\n      'font-face-format',\n      'font-face-name',\n      'font-face-src',\n      'font-face-uri',\n      'foreignobject',\n      'hatch',\n      'hatchpath',\n      'mesh',\n      'meshgradient',\n      'meshpatch',\n      'meshrow',\n      'missing-glyph',\n      'script',\n      'set',\n      'solidcolor',\n      'unknown',\n      'use'\n    ]);\n    var mathMl$1 = freeze([\n      'math',\n      'menclose',\n      'merror',\n      'mfenced',\n      'mfrac',\n      'mglyph',\n      'mi',\n      'mlabeledtr',\n      'mmultiscripts',\n      'mn',\n      'mo',\n      'mover',\n      'mpadded',\n      'mphantom',\n      'mroot',\n      'mrow',\n      'ms',\n      'mspace',\n      'msqrt',\n      'mstyle',\n      'msub',\n      'msup',\n      'msubsup',\n      'mtable',\n      'mtd',\n      'mtext',\n      'mtr',\n      'munder',\n      'munderover'\n    ]);\n    var mathMlDisallowed = freeze([\n      'maction',\n      'maligngroup',\n      'malignmark',\n      'mlongdiv',\n      'mscarries',\n      'mscarry',\n      'msgroup',\n      'mstack',\n      'msline',\n      'msrow',\n      'semantics',\n      'annotation',\n      'annotation-xml',\n      'mprescripts',\n      'none'\n    ]);\n    var text = freeze(['#text']);\n    var html = freeze([\n      'accept',\n      'action',\n      'align',\n      'alt',\n      'autocapitalize',\n      'autocomplete',\n      'autopictureinpicture',\n      'autoplay',\n      'background',\n      'bgcolor',\n      'border',\n      'capture',\n      'cellpadding',\n      'cellspacing',\n      'checked',\n      'cite',\n      'class',\n      'clear',\n      'color',\n      'cols',\n      'colspan',\n      'controls',\n      'controlslist',\n      'coords',\n      'crossorigin',\n      'datetime',\n      'decoding',\n      'default',\n      'dir',\n      'disabled',\n      'disablepictureinpicture',\n      'disableremoteplayback',\n      'download',\n      'draggable',\n      'enctype',\n      'enterkeyhint',\n      'face',\n      'for',\n      'headers',\n      'height',\n      'hidden',\n      'high',\n      'href',\n      'hreflang',\n      'id',\n      'inputmode',\n      'integrity',\n      'ismap',\n      'kind',\n      'label',\n      'lang',\n      'list',\n      'loading',\n      'loop',\n      'low',\n      'max',\n      'maxlength',\n      'media',\n      'method',\n      'min',\n      'minlength',\n      'multiple',\n      'muted',\n      'name',\n      'nonce',\n      'noshade',\n      'novalidate',\n      'nowrap',\n      'open',\n      'optimum',\n      'pattern',\n      'placeholder',\n      'playsinline',\n      'poster',\n      'preload',\n      'pubdate',\n      'radiogroup',\n      'readonly',\n      'rel',\n      'required',\n      'rev',\n      'reversed',\n      'role',\n      'rows',\n      'rowspan',\n      'spellcheck',\n      'scope',\n      'selected',\n      'shape',\n      'size',\n      'sizes',\n      'span',\n      'srclang',\n      'start',\n      'src',\n      'srcset',\n      'step',\n      'style',\n      'summary',\n      'tabindex',\n      'title',\n      'translate',\n      'type',\n      'usemap',\n      'valign',\n      'value',\n      'width',\n      'xmlns',\n      'slot'\n    ]);\n    var svg = freeze([\n      'accent-height',\n      'accumulate',\n      'additive',\n      'alignment-baseline',\n      'ascent',\n      'attributename',\n      'attributetype',\n      'azimuth',\n      'basefrequency',\n      'baseline-shift',\n      'begin',\n      'bias',\n      'by',\n      'class',\n      'clip',\n      'clippathunits',\n      'clip-path',\n      'clip-rule',\n      'color',\n      'color-interpolation',\n      'color-interpolation-filters',\n      'color-profile',\n      'color-rendering',\n      'cx',\n      'cy',\n      'd',\n      'dx',\n      'dy',\n      'diffuseconstant',\n      'direction',\n      'display',\n      'divisor',\n      'dur',\n      'edgemode',\n      'elevation',\n      'end',\n      'fill',\n      'fill-opacity',\n      'fill-rule',\n      'filter',\n      'filterunits',\n      'flood-color',\n      'flood-opacity',\n      'font-family',\n      'font-size',\n      'font-size-adjust',\n      'font-stretch',\n      'font-style',\n      'font-variant',\n      'font-weight',\n      'fx',\n      'fy',\n      'g1',\n      'g2',\n      'glyph-name',\n      'glyphref',\n      'gradientunits',\n      'gradienttransform',\n      'height',\n      'href',\n      'id',\n      'image-rendering',\n      'in',\n      'in2',\n      'k',\n      'k1',\n      'k2',\n      'k3',\n      'k4',\n      'kerning',\n      'keypoints',\n      'keysplines',\n      'keytimes',\n      'lang',\n      'lengthadjust',\n      'letter-spacing',\n      'kernelmatrix',\n      'kernelunitlength',\n      'lighting-color',\n      'local',\n      'marker-end',\n      'marker-mid',\n      'marker-start',\n      'markerheight',\n      'markerunits',\n      'markerwidth',\n      'maskcontentunits',\n      'maskunits',\n      'max',\n      'mask',\n      'media',\n      'method',\n      'mode',\n      'min',\n      'name',\n      'numoctaves',\n      'offset',\n      'operator',\n      'opacity',\n      'order',\n      'orient',\n      'orientation',\n      'origin',\n      'overflow',\n      'paint-order',\n      'path',\n      'pathlength',\n      'patterncontentunits',\n      'patterntransform',\n      'patternunits',\n      'points',\n      'preservealpha',\n      'preserveaspectratio',\n      'primitiveunits',\n      'r',\n      'rx',\n      'ry',\n      'radius',\n      'refx',\n      'refy',\n      'repeatcount',\n      'repeatdur',\n      'restart',\n      'result',\n      'rotate',\n      'scale',\n      'seed',\n      'shape-rendering',\n      'specularconstant',\n      'specularexponent',\n      'spreadmethod',\n      'startoffset',\n      'stddeviation',\n      'stitchtiles',\n      'stop-color',\n      'stop-opacity',\n      'stroke-dasharray',\n      'stroke-dashoffset',\n      'stroke-linecap',\n      'stroke-linejoin',\n      'stroke-miterlimit',\n      'stroke-opacity',\n      'stroke',\n      'stroke-width',\n      'style',\n      'surfacescale',\n      'systemlanguage',\n      'tabindex',\n      'targetx',\n      'targety',\n      'transform',\n      'transform-origin',\n      'text-anchor',\n      'text-decoration',\n      'text-rendering',\n      'textlength',\n      'type',\n      'u1',\n      'u2',\n      'unicode',\n      'values',\n      'viewbox',\n      'visibility',\n      'version',\n      'vert-adv-y',\n      'vert-origin-x',\n      'vert-origin-y',\n      'width',\n      'word-spacing',\n      'wrap',\n      'writing-mode',\n      'xchannelselector',\n      'ychannelselector',\n      'x',\n      'x1',\n      'x2',\n      'xmlns',\n      'y',\n      'y1',\n      'y2',\n      'z',\n      'zoomandpan'\n    ]);\n    var mathMl = freeze([\n      'accent',\n      'accentunder',\n      'align',\n      'bevelled',\n      'close',\n      'columnsalign',\n      'columnlines',\n      'columnspan',\n      'denomalign',\n      'depth',\n      'dir',\n      'display',\n      'displaystyle',\n      'encoding',\n      'fence',\n      'frame',\n      'height',\n      'href',\n      'id',\n      'largeop',\n      'length',\n      'linethickness',\n      'lspace',\n      'lquote',\n      'mathbackground',\n      'mathcolor',\n      'mathsize',\n      'mathvariant',\n      'maxsize',\n      'minsize',\n      'movablelimits',\n      'notation',\n      'numalign',\n      'open',\n      'rowalign',\n      'rowlines',\n      'rowspacing',\n      'rowspan',\n      'rspace',\n      'rquote',\n      'scriptlevel',\n      'scriptminsize',\n      'scriptsizemultiplier',\n      'selection',\n      'separator',\n      'separators',\n      'stretchy',\n      'subscriptshift',\n      'supscriptshift',\n      'symmetric',\n      'voffset',\n      'width',\n      'xmlns'\n    ]);\n    var xml = freeze([\n      'xlink:href',\n      'xml:id',\n      'xlink:title',\n      'xml:space',\n      'xmlns:xlink'\n    ]);\n    var MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm);\n    var ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n    var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/);\n    var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/);\n    var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i);\n    var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n    var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g);\n    var DOCTYPE_NAME = seal(/^html$/i);\n    var getGlobal = function getGlobal() {\n      return typeof window === 'undefined' ? null : window;\n    };\n    var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n      if (_typeof(trustedTypes) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n        return null;\n      }\n      var suffix = null;\n      var ATTR_NAME = 'data-tt-policy-suffix';\n      if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n        suffix = document.currentScript.getAttribute(ATTR_NAME);\n      }\n      var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n      try {\n        return trustedTypes.createPolicy(policyName, {\n          createHTML: function createHTML(html) {\n            return html;\n          }\n        });\n      } catch (_) {\n        console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n        return null;\n      }\n    };\n    function createDOMPurify() {\n      var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n      var DOMPurify = function DOMPurify(root) {\n        return createDOMPurify(root);\n      };\n      DOMPurify.version = '2.3.8';\n      DOMPurify.removed = [];\n      if (!window || !window.document || window.document.nodeType !== 9) {\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n      }\n      var originalDocument = window.document;\n      var document = window.document;\n      var DocumentFragment = window.DocumentFragment, HTMLTemplateElement = window.HTMLTemplateElement, Node = window.Node, Element = window.Element, NodeFilter = window.NodeFilter, _window$NamedNodeMap = window.NamedNodeMap, NamedNodeMap = _window$NamedNodeMap === void 0 ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap, HTMLFormElement = window.HTMLFormElement, DOMParser = window.DOMParser, trustedTypes = window.trustedTypes;\n      var ElementPrototype = Element.prototype;\n      var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n      var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n      var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n      var getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n      if (typeof HTMLTemplateElement === 'function') {\n        var template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n          document = template.content.ownerDocument;\n        }\n      }\n      var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n      var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n      var _document = document, implementation = _document.implementation, createNodeIterator = _document.createNodeIterator, createDocumentFragment = _document.createDocumentFragment, getElementsByTagName = _document.getElementsByTagName;\n      var importNode = originalDocument.importNode;\n      var documentMode = {};\n      try {\n        documentMode = clone(document).documentMode ? document.documentMode : {};\n      } catch (_) {\n      }\n      var hooks = {};\n      DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n      var MUSTACHE_EXPR$1 = MUSTACHE_EXPR, ERB_EXPR$1 = ERB_EXPR, DATA_ATTR$1 = DATA_ATTR, ARIA_ATTR$1 = ARIA_ATTR, IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA, ATTR_WHITESPACE$1 = ATTR_WHITESPACE;\n      var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;\n      var ALLOWED_TAGS = null;\n      var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n      var ALLOWED_ATTR = null;\n      var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n      var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n        tagNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        attributeNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        allowCustomizedBuiltInElements: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: false\n        }\n      }));\n      var FORBID_TAGS = null;\n      var FORBID_ATTR = null;\n      var ALLOW_ARIA_ATTR = true;\n      var ALLOW_DATA_ATTR = true;\n      var ALLOW_UNKNOWN_PROTOCOLS = false;\n      var SAFE_FOR_TEMPLATES = false;\n      var WHOLE_DOCUMENT = false;\n      var SET_CONFIG = false;\n      var FORCE_BODY = false;\n      var RETURN_DOM = false;\n      var RETURN_DOM_FRAGMENT = false;\n      var RETURN_TRUSTED_TYPE = false;\n      var SANITIZE_DOM = true;\n      var KEEP_CONTENT = true;\n      var IN_PLACE = false;\n      var USE_PROFILES = {};\n      var FORBID_CONTENTS = null;\n      var DEFAULT_FORBID_CONTENTS = addToSet({}, [\n        'annotation-xml',\n        'audio',\n        'colgroup',\n        'desc',\n        'foreignobject',\n        'head',\n        'iframe',\n        'math',\n        'mi',\n        'mn',\n        'mo',\n        'ms',\n        'mtext',\n        'noembed',\n        'noframes',\n        'noscript',\n        'plaintext',\n        'script',\n        'style',\n        'svg',\n        'template',\n        'thead',\n        'title',\n        'video',\n        'xmp'\n      ]);\n      var DATA_URI_TAGS = null;\n      var DEFAULT_DATA_URI_TAGS = addToSet({}, [\n        'audio',\n        'video',\n        'img',\n        'source',\n        'image',\n        'track'\n      ]);\n      var URI_SAFE_ATTRIBUTES = null;\n      var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n        'alt',\n        'class',\n        'for',\n        'id',\n        'label',\n        'name',\n        'pattern',\n        'placeholder',\n        'role',\n        'summary',\n        'title',\n        'value',\n        'style',\n        'xmlns'\n      ]);\n      var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n      var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n      var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n      var NAMESPACE = HTML_NAMESPACE;\n      var IS_EMPTY_INPUT = false;\n      var PARSER_MEDIA_TYPE;\n      var SUPPORTED_PARSER_MEDIA_TYPES = [\n        'application/xhtml+xml',\n        'text/html'\n      ];\n      var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n      var transformCaseFunc;\n      var CONFIG = null;\n      var formElement = document.createElement('form');\n      var isRegexOrFunction = function isRegexOrFunction(testValue) {\n        return testValue instanceof RegExp || testValue instanceof Function;\n      };\n      var _parseConfig = function _parseConfig(cfg) {\n        if (CONFIG && CONFIG === cfg) {\n          return;\n        }\n        if (!cfg || _typeof(cfg) !== 'object') {\n          cfg = {};\n        }\n        cfg = clone(cfg);\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n        URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n        DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS) : DEFAULT_DATA_URI_TAGS;\n        FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS) : DEFAULT_FORBID_CONTENTS;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n        USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n        ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false;\n        ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false;\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false;\n        SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false;\n        WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false;\n        RETURN_DOM = cfg.RETURN_DOM || false;\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false;\n        RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false;\n        FORCE_BODY = cfg.FORCE_BODY || false;\n        SANITIZE_DOM = cfg.SANITIZE_DOM !== false;\n        KEEP_CONTENT = cfg.KEEP_CONTENT !== false;\n        IN_PLACE = cfg.IN_PLACE || false;\n        IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;\n        NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n        }\n        PARSER_MEDIA_TYPE = SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE;\n        transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? function (x) {\n          return x;\n        } : stringToLowerCase;\n        if (SAFE_FOR_TEMPLATES) {\n          ALLOW_DATA_ATTR = false;\n        }\n        if (RETURN_DOM_FRAGMENT) {\n          RETURN_DOM = true;\n        }\n        if (USE_PROFILES) {\n          ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));\n          ALLOWED_ATTR = [];\n          if (USE_PROFILES.html === true) {\n            addToSet(ALLOWED_TAGS, html$1);\n            addToSet(ALLOWED_ATTR, html);\n          }\n          if (USE_PROFILES.svg === true) {\n            addToSet(ALLOWED_TAGS, svg$1);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.svgFilters === true) {\n            addToSet(ALLOWED_TAGS, svgFilters);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.mathMl === true) {\n            addToSet(ALLOWED_TAGS, mathMl$1);\n            addToSet(ALLOWED_ATTR, mathMl);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n        }\n        if (cfg.ADD_TAGS) {\n          if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n            ALLOWED_TAGS = clone(ALLOWED_TAGS);\n          }\n          addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n        }\n        if (cfg.ADD_ATTR) {\n          if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n            ALLOWED_ATTR = clone(ALLOWED_ATTR);\n          }\n          addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n          addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n        }\n        if (cfg.FORBID_CONTENTS) {\n          if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n            FORBID_CONTENTS = clone(FORBID_CONTENTS);\n          }\n          addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS);\n        }\n        if (KEEP_CONTENT) {\n          ALLOWED_TAGS['#text'] = true;\n        }\n        if (WHOLE_DOCUMENT) {\n          addToSet(ALLOWED_TAGS, [\n            'html',\n            'head',\n            'body'\n          ]);\n        }\n        if (ALLOWED_TAGS.table) {\n          addToSet(ALLOWED_TAGS, ['tbody']);\n          delete FORBID_TAGS.tbody;\n        }\n        if (freeze) {\n          freeze(cfg);\n        }\n        CONFIG = cfg;\n      };\n      var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n        'mi',\n        'mo',\n        'mn',\n        'ms',\n        'mtext'\n      ]);\n      var HTML_INTEGRATION_POINTS = addToSet({}, [\n        'foreignobject',\n        'desc',\n        'title',\n        'annotation-xml'\n      ]);\n      var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n        'title',\n        'style',\n        'font',\n        'a',\n        'script'\n      ]);\n      var ALL_SVG_TAGS = addToSet({}, svg$1);\n      addToSet(ALL_SVG_TAGS, svgFilters);\n      addToSet(ALL_SVG_TAGS, svgDisallowed);\n      var ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n      addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n      var _checkValidNamespace = function _checkValidNamespace(element) {\n        var parent = getParentNode(element);\n        if (!parent || !parent.tagName) {\n          parent = {\n            namespaceURI: HTML_NAMESPACE,\n            tagName: 'template'\n          };\n        }\n        var tagName = stringToLowerCase(element.tagName);\n        var parentTagName = stringToLowerCase(parent.tagName);\n        if (element.namespaceURI === SVG_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'svg';\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE) {\n            return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n          }\n          return Boolean(ALL_SVG_TAGS[tagName]);\n        }\n        if (element.namespaceURI === MATHML_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'math';\n          }\n          if (parent.namespaceURI === SVG_NAMESPACE) {\n            return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n          }\n          return Boolean(ALL_MATHML_TAGS[tagName]);\n        }\n        if (element.namespaceURI === HTML_NAMESPACE) {\n          if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n        }\n        return false;\n      };\n      var _forceRemove = function _forceRemove(node) {\n        arrayPush(DOMPurify.removed, { element: node });\n        try {\n          node.parentNode.removeChild(node);\n        } catch (_) {\n          try {\n            node.outerHTML = emptyHTML;\n          } catch (_) {\n            node.remove();\n          }\n        }\n      };\n      var _removeAttribute = function _removeAttribute(name, node) {\n        try {\n          arrayPush(DOMPurify.removed, {\n            attribute: node.getAttributeNode(name),\n            from: node\n          });\n        } catch (_) {\n          arrayPush(DOMPurify.removed, {\n            attribute: null,\n            from: node\n          });\n        }\n        node.removeAttribute(name);\n        if (name === 'is' && !ALLOWED_ATTR[name]) {\n          if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n            try {\n              _forceRemove(node);\n            } catch (_) {\n            }\n          } else {\n            try {\n              node.setAttribute(name, '');\n            } catch (_) {\n            }\n          }\n        }\n      };\n      var _initDocument = function _initDocument(dirty) {\n        var doc;\n        var leadingWhitespace;\n        if (FORCE_BODY) {\n          dirty = '<remove></remove>' + dirty;\n        } else {\n          var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n          leadingWhitespace = matches && matches[0];\n        }\n        if (PARSER_MEDIA_TYPE === 'application/xhtml+xml') {\n          dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n        }\n        var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        if (NAMESPACE === HTML_NAMESPACE) {\n          try {\n            doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n          } catch (_) {\n          }\n        }\n        if (!doc || !doc.documentElement) {\n          doc = implementation.createDocument(NAMESPACE, 'template', null);\n          try {\n            doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n          } catch (_) {\n          }\n        }\n        var body = doc.body || doc.documentElement;\n        if (dirty && leadingWhitespace) {\n          body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n        }\n        if (NAMESPACE === HTML_NAMESPACE) {\n          return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n        }\n        return WHOLE_DOCUMENT ? doc.documentElement : body;\n      };\n      var _createIterator = function _createIterator(root) {\n        return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n      };\n      var _isClobbered = function _isClobbered(elm) {\n        return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function');\n      };\n      var _isNode = function _isNode(object) {\n        return _typeof(Node) === 'object' ? object instanceof Node : object && _typeof(object) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n      };\n      var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) {\n          return;\n        }\n        arrayForEach(hooks[entryPoint], function (hook) {\n          hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n      };\n      var _sanitizeElements = function _sanitizeElements(currentNode) {\n        var content;\n        _executeHook('beforeSanitizeElements', currentNode, null);\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        var tagName = transformCaseFunc(currentNode.nodeName);\n        _executeHook('uponSanitizeElement', currentNode, {\n          tagName: tagName,\n          allowedTags: ALLOWED_TAGS\n        });\n        if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (tagName === 'select' && regExpTest(/<template/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName))\n              return false;\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName))\n              return false;\n          }\n          if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n            var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n            var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n            if (childNodes && parentNode) {\n              var childCount = childNodes.length;\n              for (var i = childCount - 1; i >= 0; --i) {\n                parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n              }\n            }\n          }\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n          content = currentNode.textContent;\n          content = stringReplace(content, MUSTACHE_EXPR$1, ' ');\n          content = stringReplace(content, ERB_EXPR$1, ' ');\n          if (currentNode.textContent !== content) {\n            arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n            currentNode.textContent = content;\n          }\n        }\n        _executeHook('afterSanitizeElements', currentNode, null);\n        return false;\n      };\n      var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n        if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n          return false;\n        }\n        if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName));\n        else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName));\n        else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n          if (_basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value)));\n          else {\n            return false;\n          }\n        } else if (URI_SAFE_ATTRIBUTES[lcName]);\n        else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, '')));\n        else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]);\n        else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, '')));\n        else if (!value);\n        else {\n          return false;\n        }\n        return true;\n      };\n      var _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n        return tagName.indexOf('-') > 0;\n      };\n      var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n        var attr;\n        var value;\n        var lcName;\n        var l;\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n        var attributes = currentNode.attributes;\n        if (!attributes) {\n          return;\n        }\n        var hookEvent = {\n          attrName: '',\n          attrValue: '',\n          keepAttr: true,\n          allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n        while (l--) {\n          attr = attributes[l];\n          var _attr = attr, name = _attr.name, namespaceURI = _attr.namespaceURI;\n          value = name === 'value' ? attr.value : stringTrim(attr.value);\n          lcName = transformCaseFunc(name);\n          var initValue = value;\n          hookEvent.attrName = lcName;\n          hookEvent.attrValue = value;\n          hookEvent.keepAttr = true;\n          hookEvent.forceKeepAttr = undefined;\n          _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n          value = hookEvent.attrValue;\n          if (hookEvent.forceKeepAttr) {\n            continue;\n          }\n          if (!hookEvent.keepAttr) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (regExpTest(/\\/>/i, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (SAFE_FOR_TEMPLATES) {\n            value = stringReplace(value, MUSTACHE_EXPR$1, ' ');\n            value = stringReplace(value, ERB_EXPR$1, ' ');\n          }\n          var lcTag = transformCaseFunc(currentNode.nodeName);\n          if (!_isValidAttribute(lcTag, lcName, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (value !== initValue) {\n            try {\n              if (namespaceURI) {\n                currentNode.setAttributeNS(namespaceURI, name, value);\n              } else {\n                currentNode.setAttribute(name, value);\n              }\n            } catch (_) {\n              _removeAttribute(name, currentNode);\n            }\n          }\n        }\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n      };\n      var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n        var shadowNode;\n        var shadowIterator = _createIterator(fragment);\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n        while (shadowNode = shadowIterator.nextNode()) {\n          _executeHook('uponSanitizeShadowNode', shadowNode, null);\n          if (_sanitizeElements(shadowNode)) {\n            continue;\n          }\n          if (shadowNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(shadowNode.content);\n          }\n          _sanitizeAttributes(shadowNode);\n        }\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n      };\n      DOMPurify.sanitize = function (dirty, cfg) {\n        var body;\n        var importedNode;\n        var currentNode;\n        var oldNode;\n        var returnNode;\n        IS_EMPTY_INPUT = !dirty;\n        if (IS_EMPTY_INPUT) {\n          dirty = '<!-->';\n        }\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n          if (typeof dirty.toString !== 'function') {\n            throw typeErrorCreate('toString is not a function');\n          } else {\n            dirty = dirty.toString();\n            if (typeof dirty !== 'string') {\n              throw typeErrorCreate('dirty is not a string, aborting');\n            }\n          }\n        }\n        if (!DOMPurify.isSupported) {\n          if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n            if (typeof dirty === 'string') {\n              return window.toStaticHTML(dirty);\n            }\n            if (_isNode(dirty)) {\n              return window.toStaticHTML(dirty.outerHTML);\n            }\n          }\n          return dirty;\n        }\n        if (!SET_CONFIG) {\n          _parseConfig(cfg);\n        }\n        DOMPurify.removed = [];\n        if (typeof dirty === 'string') {\n          IN_PLACE = false;\n        }\n        if (IN_PLACE) {\n          if (dirty.nodeName) {\n            var tagName = transformCaseFunc(dirty.nodeName);\n            if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n              throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n            }\n          }\n        } else if (dirty instanceof Node) {\n          body = _initDocument('<!---->');\n          importedNode = body.ownerDocument.importNode(dirty, true);\n          if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n            body = importedNode;\n          } else if (importedNode.nodeName === 'HTML') {\n            body = importedNode;\n          } else {\n            body.appendChild(importedNode);\n          }\n        } else {\n          if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && dirty.indexOf('<') === -1) {\n            return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n          }\n          body = _initDocument(dirty);\n          if (!body) {\n            return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n          }\n        }\n        if (body && FORCE_BODY) {\n          _forceRemove(body.firstChild);\n        }\n        var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n        while (currentNode = nodeIterator.nextNode()) {\n          if (currentNode.nodeType === 3 && currentNode === oldNode) {\n            continue;\n          }\n          if (_sanitizeElements(currentNode)) {\n            continue;\n          }\n          if (currentNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(currentNode.content);\n          }\n          _sanitizeAttributes(currentNode);\n          oldNode = currentNode;\n        }\n        oldNode = null;\n        if (IN_PLACE) {\n          return dirty;\n        }\n        if (RETURN_DOM) {\n          if (RETURN_DOM_FRAGMENT) {\n            returnNode = createDocumentFragment.call(body.ownerDocument);\n            while (body.firstChild) {\n              returnNode.appendChild(body.firstChild);\n            }\n          } else {\n            returnNode = body;\n          }\n          if (ALLOWED_ATTR.shadowroot) {\n            returnNode = importNode.call(originalDocument, returnNode, true);\n          }\n          return returnNode;\n        }\n        var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n        if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n          serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n        }\n        if (SAFE_FOR_TEMPLATES) {\n          serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, ' ');\n          serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, ' ');\n        }\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n      };\n      DOMPurify.setConfig = function (cfg) {\n        _parseConfig(cfg);\n        SET_CONFIG = true;\n      };\n      DOMPurify.clearConfig = function () {\n        CONFIG = null;\n        SET_CONFIG = false;\n      };\n      DOMPurify.isValidAttribute = function (tag, attr, value) {\n        if (!CONFIG) {\n          _parseConfig({});\n        }\n        var lcTag = transformCaseFunc(tag);\n        var lcName = transformCaseFunc(attr);\n        return _isValidAttribute(lcTag, lcName, value);\n      };\n      DOMPurify.addHook = function (entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') {\n          return;\n        }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        arrayPush(hooks[entryPoint], hookFunction);\n      };\n      DOMPurify.removeHook = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          return arrayPop(hooks[entryPoint]);\n        }\n      };\n      DOMPurify.removeHooks = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          hooks[entryPoint] = [];\n        }\n      };\n      DOMPurify.removeAllHooks = function () {\n        hooks = {};\n      };\n      return DOMPurify;\n    }\n    var purify = createDOMPurify();\n\n    const explode$1 = Tools.explode;\n    const create$7 = () => {\n      const filters = {};\n      const addFilter = (name, callback) => {\n        each$f(explode$1(name), name => {\n          if (!has$2(filters, name)) {\n            filters[name] = {\n              name,\n              callbacks: []\n            };\n          }\n          filters[name].callbacks.push(callback);\n        });\n      };\n      const getFilters = () => values(filters);\n      const removeFilter = (name, callback) => {\n        each$f(explode$1(name), name => {\n          if (has$2(filters, name)) {\n            if (isNonNullable(callback)) {\n              const filter = filters[name];\n              const newCallbacks = filter$6(filter.callbacks, c => c !== callback);\n              if (newCallbacks.length > 0) {\n                filter.callbacks = newCallbacks;\n              } else {\n                delete filters[name];\n              }\n            } else {\n              delete filters[name];\n            }\n          }\n        });\n      };\n      return {\n        addFilter,\n        getFilters,\n        removeFilter\n      };\n    };\n\n    const removeAttrs = (node, names) => {\n      each$f(names, name => {\n        node.attr(name, null);\n      });\n    };\n    const addFontToSpansFilter = (domParser, styles, fontSizes) => {\n      domParser.addNodeFilter('font', nodes => {\n        each$f(nodes, node => {\n          const props = styles.parse(node.attr('style'));\n          const color = node.attr('color');\n          const face = node.attr('face');\n          const size = node.attr('size');\n          if (color) {\n            props.color = color;\n          }\n          if (face) {\n            props['font-family'] = face;\n          }\n          if (size) {\n            props['font-size'] = fontSizes[parseInt(node.attr('size'), 10) - 1];\n          }\n          node.name = 'span';\n          node.attr('style', styles.serialize(props));\n          removeAttrs(node, [\n            'color',\n            'face',\n            'size'\n          ]);\n        });\n      });\n    };\n    const addStrikeFilter = (domParser, schema, styles) => {\n      domParser.addNodeFilter('strike', nodes => {\n        const convertToSTag = schema.type !== 'html4';\n        each$f(nodes, node => {\n          if (convertToSTag) {\n            node.name = 's';\n          } else {\n            const props = styles.parse(node.attr('style'));\n            props['text-decoration'] = 'line-through';\n            node.name = 'span';\n            node.attr('style', styles.serialize(props));\n          }\n        });\n      });\n    };\n    const addFilters = (domParser, settings, schema) => {\n      const styles = Styles();\n      if (settings.convert_fonts_to_spans) {\n        addFontToSpansFilter(domParser, styles, Tools.explode(settings.font_size_legacy_values));\n      }\n      addStrikeFilter(domParser, schema, styles);\n    };\n    const register$5 = (domParser, settings, schema) => {\n      if (settings.inline_styles) {\n        addFilters(domParser, settings, schema);\n      }\n    };\n\n    const blobUriToBlob = url => fetch(url).then(res => res.ok ? res.blob() : Promise.reject()).catch(() => Promise.reject(`Cannot convert ${ url } to Blob. Resource might not exist or is inaccessible.`));\n    const extractBase64Data = data => {\n      const matches = /([a-z0-9+\\/=\\s]+)/i.exec(data);\n      return matches ? matches[1] : '';\n    };\n    const parseDataUri = uri => {\n      const [type, ...rest] = uri.split(',');\n      const data = rest.join(',');\n      const matches = /data:([^/]+\\/[^;]+)(;.+)?/.exec(type);\n      if (matches) {\n        const base64Encoded = matches[2] === ';base64';\n        const extractedData = base64Encoded ? extractBase64Data(data) : decodeURIComponent(data);\n        return Optional.some({\n          type: matches[1],\n          data: extractedData,\n          base64Encoded\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const buildBlob = (type, data, base64Encoded = true) => {\n      let str = data;\n      if (base64Encoded) {\n        try {\n          str = atob(data);\n        } catch (e) {\n          return Optional.none();\n        }\n      }\n      const arr = new Uint8Array(str.length);\n      for (let i = 0; i < arr.length; i++) {\n        arr[i] = str.charCodeAt(i);\n      }\n      return Optional.some(new Blob([arr], { type }));\n    };\n    const dataUriToBlob = uri => {\n      return new Promise((resolve, reject) => {\n        parseDataUri(uri).bind(({type, data, base64Encoded}) => buildBlob(type, data, base64Encoded)).fold(() => reject('Invalid data URI'), resolve);\n      });\n    };\n    const uriToBlob = url => {\n      if (startsWith(url, 'blob:')) {\n        return blobUriToBlob(url);\n      } else if (startsWith(url, 'data:')) {\n        return dataUriToBlob(url);\n      } else {\n        return Promise.reject('Unknown URI format');\n      }\n    };\n    const blobToDataUri = blob => {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n          resolve(reader.result);\n        };\n        reader.onerror = () => {\n          reject(reader.error.message);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n\n    let count$1 = 0;\n    const uniqueId$1 = prefix => {\n      return (prefix || 'blobid') + count$1++;\n    };\n    const processDataUri = (dataUri, base64Only, generateBlobInfo) => {\n      return parseDataUri(dataUri).bind(({data, type, base64Encoded}) => {\n        if (base64Only && !base64Encoded) {\n          return Optional.none();\n        } else {\n          const base64 = base64Encoded ? data : btoa(data);\n          return generateBlobInfo(base64, type);\n        }\n      });\n    };\n    const createBlobInfo$1 = (blobCache, blob, base64) => {\n      const blobInfo = blobCache.create(uniqueId$1(), blob, base64);\n      blobCache.add(blobInfo);\n      return blobInfo;\n    };\n    const dataUriToBlobInfo = (blobCache, dataUri, base64Only = false) => {\n      return processDataUri(dataUri, base64Only, (base64, type) => Optional.from(blobCache.getByData(base64, type)).orThunk(() => buildBlob(type, base64).map(blob => createBlobInfo$1(blobCache, blob, base64))));\n    };\n    const imageToBlobInfo = (blobCache, imageSrc) => {\n      const invalidDataUri = () => Promise.reject('Invalid data URI');\n      if (startsWith(imageSrc, 'blob:')) {\n        const blobInfo = blobCache.getByUri(imageSrc);\n        if (isNonNullable(blobInfo)) {\n          return Promise.resolve(blobInfo);\n        } else {\n          return uriToBlob(imageSrc).then(blob => {\n            return blobToDataUri(blob).then(dataUri => {\n              return processDataUri(dataUri, false, base64 => {\n                return Optional.some(createBlobInfo$1(blobCache, blob, base64));\n              }).getOrThunk(invalidDataUri);\n            });\n          });\n        }\n      } else if (startsWith(imageSrc, 'data:')) {\n        return dataUriToBlobInfo(blobCache, imageSrc).fold(invalidDataUri, blobInfo => Promise.resolve(blobInfo));\n      } else {\n        return Promise.reject('Unknown image data format');\n      }\n    };\n\n    const isBogusImage = img => isNonNullable(img.attr('data-mce-bogus'));\n    const isInternalImageSource = img => img.attr('src') === Env.transparentSrc || isNonNullable(img.attr('data-mce-placeholder'));\n    const registerBase64ImageFilter = (parser, settings) => {\n      const {blob_cache: blobCache} = settings;\n      const processImage = img => {\n        const inputSrc = img.attr('src');\n        if (isInternalImageSource(img) || isBogusImage(img)) {\n          return;\n        }\n        dataUriToBlobInfo(blobCache, inputSrc, true).each(blobInfo => {\n          img.attr('src', blobInfo.blobUri());\n        });\n      };\n      if (blobCache) {\n        parser.addAttributeFilter('src', nodes => each$f(nodes, processImage));\n      }\n    };\n    const register$4 = (parser, settings) => {\n      const schema = parser.schema;\n      if (settings.remove_trailing_brs) {\n        parser.addNodeFilter('br', (nodes, _, args) => {\n          const blockElements = Tools.extend({}, schema.getBlockElements());\n          const nonEmptyElements = schema.getNonEmptyElements();\n          const whitespaceElements = schema.getWhitespaceElements();\n          blockElements.body = 1;\n          for (let i = 0, l = nodes.length; i < l; i++) {\n            let node = nodes[i];\n            let parent = node.parent;\n            if (blockElements[node.parent.name] && node === parent.lastChild) {\n              let prev = node.prev;\n              while (prev) {\n                const prevName = prev.name;\n                if (prevName !== 'span' || prev.attr('data-mce-type') !== 'bookmark') {\n                  if (prevName === 'br') {\n                    node = null;\n                  }\n                  break;\n                }\n                prev = prev.prev;\n              }\n              if (node) {\n                node.remove();\n                if (isEmpty(schema, nonEmptyElements, whitespaceElements, parent)) {\n                  const elementRule = schema.getElementRule(parent.name);\n                  if (elementRule) {\n                    if (elementRule.removeEmpty) {\n                      parent.remove();\n                    } else if (elementRule.paddEmpty) {\n                      paddEmptyNode(settings, args, blockElements, parent);\n                    }\n                  }\n                }\n              }\n            } else {\n              let lastParent = node;\n              while (parent && parent.firstChild === lastParent && parent.lastChild === lastParent) {\n                lastParent = parent;\n                if (blockElements[parent.name]) {\n                  break;\n                }\n                parent = parent.parent;\n              }\n              if (lastParent === parent) {\n                const textNode = new AstNode('#text', 3);\n                textNode.value = nbsp;\n                node.replace(textNode);\n              }\n            }\n          }\n        });\n      }\n      parser.addAttributeFilter('href', nodes => {\n        let i = nodes.length;\n        const appendRel = rel => {\n          const parts = rel.split(' ').filter(p => p.length > 0);\n          return parts.concat(['noopener']).sort().join(' ');\n        };\n        const addNoOpener = rel => {\n          const newRel = rel ? Tools.trim(rel) : '';\n          if (!/\\b(noopener)\\b/g.test(newRel)) {\n            return appendRel(newRel);\n          } else {\n            return newRel;\n          }\n        };\n        if (!settings.allow_unsafe_link_target) {\n          while (i--) {\n            const node = nodes[i];\n            if (node.name === 'a' && node.attr('target') === '_blank') {\n              node.attr('rel', addNoOpener(node.attr('rel')));\n            }\n          }\n        }\n      });\n      if (!settings.allow_html_in_named_anchor) {\n        parser.addAttributeFilter('id,name', nodes => {\n          let i = nodes.length, sibling, prevSibling, parent, node;\n          while (i--) {\n            node = nodes[i];\n            if (node.name === 'a' && node.firstChild && !node.attr('href')) {\n              parent = node.parent;\n              sibling = node.lastChild;\n              do {\n                prevSibling = sibling.prev;\n                parent.insert(sibling, node);\n                sibling = prevSibling;\n              } while (sibling);\n            }\n          }\n        });\n      }\n      if (settings.fix_list_elements) {\n        parser.addNodeFilter('ul,ol', nodes => {\n          let i = nodes.length, node, parentNode;\n          while (i--) {\n            node = nodes[i];\n            parentNode = node.parent;\n            if (parentNode.name === 'ul' || parentNode.name === 'ol') {\n              if (node.prev && node.prev.name === 'li') {\n                node.prev.append(node);\n              } else {\n                const li = new AstNode('li', 1);\n                li.attr('style', 'list-style-type: none');\n                node.wrap(li);\n              }\n            }\n          }\n        });\n      }\n      if (settings.validate && schema.getValidClasses()) {\n        parser.addAttributeFilter('class', nodes => {\n          const validClasses = schema.getValidClasses();\n          let i = nodes.length;\n          while (i--) {\n            const node = nodes[i];\n            const classList = node.attr('class').split(' ');\n            let classValue = '';\n            for (let ci = 0; ci < classList.length; ci++) {\n              const className = classList[ci];\n              let valid = false;\n              let validClassesMap = validClasses['*'];\n              if (validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              validClassesMap = validClasses[node.name];\n              if (!valid && validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              if (valid) {\n                if (classValue) {\n                  classValue += ' ';\n                }\n                classValue += className;\n              }\n            }\n            if (!classValue.length) {\n              classValue = null;\n            }\n            node.attr('class', classValue);\n          }\n        });\n      }\n      registerBase64ImageFilter(parser, settings);\n    };\n\n    const each$4 = Tools.each, trim = Tools.trim;\n    const queryParts = 'source protocol authority userInfo user password host port relative path directory file query anchor'.split(' ');\n    const DEFAULT_PORTS = {\n      ftp: 21,\n      http: 80,\n      https: 443,\n      mailto: 25\n    };\n    const safeSvgDataUrlElements = [\n      'img',\n      'video'\n    ];\n    const blockSvgDataUris = (allowSvgDataUrls, tagName) => {\n      if (isNonNullable(allowSvgDataUrls)) {\n        return !allowSvgDataUrls;\n      } else {\n        return isNonNullable(tagName) ? !contains$2(safeSvgDataUrlElements, tagName) : true;\n      }\n    };\n    const decodeUri = encodedUri => {\n      try {\n        return decodeURIComponent(encodedUri);\n      } catch (ex) {\n        return unescape(encodedUri);\n      }\n    };\n    const isInvalidUri = (settings, uri, tagName) => {\n      const decodedUri = decodeUri(uri);\n      if (settings.allow_script_urls) {\n        return false;\n      } else if (/((java|vb)script|mhtml):/i.test(decodedUri)) {\n        return true;\n      } else if (settings.allow_html_data_urls) {\n        return false;\n      } else if (/^data:image\\//i.test(decodedUri)) {\n        return blockSvgDataUris(settings.allow_svg_data_urls, tagName) && /^data:image\\/svg\\+xml/i.test(decodedUri);\n      } else {\n        return /^data:/i.test(decodedUri);\n      }\n    };\n    class URI {\n      constructor(url, settings) {\n        url = trim(url);\n        this.settings = settings || {};\n        const baseUri = this.settings.base_uri;\n        const self = this;\n        if (/^([\\w\\-]+):([^\\/]{2})/i.test(url) || /^\\s*#/.test(url)) {\n          self.source = url;\n          return;\n        }\n        const isProtocolRelative = url.indexOf('//') === 0;\n        if (url.indexOf('/') === 0 && !isProtocolRelative) {\n          url = (baseUri ? baseUri.protocol || 'http' : 'http') + '://mce_host' + url;\n        }\n        if (!/^[\\w\\-]*:?\\/\\//.test(url)) {\n          const baseUrl = this.settings.base_uri ? this.settings.base_uri.path : new URI(document.location.href).directory;\n          if (this.settings.base_uri && this.settings.base_uri.protocol == '') {\n            url = '//mce_host' + self.toAbsPath(baseUrl, url);\n          } else {\n            const match = /([^#?]*)([#?]?.*)/.exec(url);\n            url = (baseUri && baseUri.protocol || 'http') + '://mce_host' + self.toAbsPath(baseUrl, match[1]) + match[2];\n          }\n        }\n        url = url.replace(/@@/g, '(mce_at)');\n        const urlMatch = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?(\\[[a-zA-Z0-9:.%]+\\]|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(url);\n        each$4(queryParts, (v, i) => {\n          let part = urlMatch[i];\n          if (part) {\n            part = part.replace(/\\(mce_at\\)/g, '@@');\n          }\n          self[v] = part;\n        });\n        if (baseUri) {\n          if (!self.protocol) {\n            self.protocol = baseUri.protocol;\n          }\n          if (!self.userInfo) {\n            self.userInfo = baseUri.userInfo;\n          }\n          if (!self.port && self.host === 'mce_host') {\n            self.port = baseUri.port;\n          }\n          if (!self.host || self.host === 'mce_host') {\n            self.host = baseUri.host;\n          }\n          self.source = '';\n        }\n        if (isProtocolRelative) {\n          self.protocol = '';\n        }\n      }\n      static parseDataUri(uri) {\n        let type;\n        const uriComponents = decodeURIComponent(uri).split(',');\n        const matches = /data:([^;]+)/.exec(uriComponents[0]);\n        if (matches) {\n          type = matches[1];\n        }\n        return {\n          type,\n          data: uriComponents[1]\n        };\n      }\n      static isDomSafe(uri, context, options = {}) {\n        if (options.allow_script_urls) {\n          return true;\n        } else {\n          const decodedUri = Entities.decode(uri).replace(/[\\s\\u0000-\\u001F]+/g, '');\n          return !isInvalidUri(options, decodedUri, context);\n        }\n      }\n      static getDocumentBaseUrl(loc) {\n        let baseUrl;\n        if (loc.protocol.indexOf('http') !== 0 && loc.protocol !== 'file:') {\n          baseUrl = loc.href;\n        } else {\n          baseUrl = loc.protocol + '//' + loc.host + loc.pathname;\n        }\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(baseUrl)) {\n          baseUrl = baseUrl.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(baseUrl)) {\n            baseUrl += '/';\n          }\n        }\n        return baseUrl;\n      }\n      setPath(path) {\n        const pathMatch = /^(.*?)\\/?(\\w+)?$/.exec(path);\n        this.path = pathMatch[0];\n        this.directory = pathMatch[1];\n        this.file = pathMatch[2];\n        this.source = '';\n        this.getURI();\n      }\n      toRelative(uri) {\n        let output;\n        if (uri === './') {\n          return uri;\n        }\n        const relativeUri = new URI(uri, { base_uri: this });\n        if (relativeUri.host !== 'mce_host' && this.host !== relativeUri.host && relativeUri.host || this.port !== relativeUri.port || this.protocol !== relativeUri.protocol && relativeUri.protocol !== '') {\n          return relativeUri.getURI();\n        }\n        const tu = this.getURI(), uu = relativeUri.getURI();\n        if (tu === uu || tu.charAt(tu.length - 1) === '/' && tu.substr(0, tu.length - 1) === uu) {\n          return tu;\n        }\n        output = this.toRelPath(this.path, relativeUri.path);\n        if (relativeUri.query) {\n          output += '?' + relativeUri.query;\n        }\n        if (relativeUri.anchor) {\n          output += '#' + relativeUri.anchor;\n        }\n        return output;\n      }\n      toAbsolute(uri, noHost) {\n        const absoluteUri = new URI(uri, { base_uri: this });\n        return absoluteUri.getURI(noHost && this.isSameOrigin(absoluteUri));\n      }\n      isSameOrigin(uri) {\n        if (this.host == uri.host && this.protocol == uri.protocol) {\n          if (this.port == uri.port) {\n            return true;\n          }\n          const defaultPort = DEFAULT_PORTS[this.protocol];\n          if (defaultPort && (this.port || defaultPort) == (uri.port || defaultPort)) {\n            return true;\n          }\n        }\n        return false;\n      }\n      toRelPath(base, path) {\n        let breakPoint = 0, out = '', i, l;\n        const normalizedBase = base.substring(0, base.lastIndexOf('/')).split('/');\n        const items = path.split('/');\n        if (normalizedBase.length >= items.length) {\n          for (i = 0, l = normalizedBase.length; i < l; i++) {\n            if (i >= items.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (normalizedBase.length < items.length) {\n          for (i = 0, l = items.length; i < l; i++) {\n            if (i >= normalizedBase.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (breakPoint === 1) {\n          return path;\n        }\n        for (i = 0, l = normalizedBase.length - (breakPoint - 1); i < l; i++) {\n          out += '../';\n        }\n        for (i = breakPoint - 1, l = items.length; i < l; i++) {\n          if (i !== breakPoint - 1) {\n            out += '/' + items[i];\n          } else {\n            out += items[i];\n          }\n        }\n        return out;\n      }\n      toAbsPath(base, path) {\n        let i, nb = 0, o = [], outPath;\n        const tr = /\\/$/.test(path) ? '/' : '';\n        let normalizedBase = base.split('/');\n        const normalizedPath = path.split('/');\n        each$4(normalizedBase, k => {\n          if (k) {\n            o.push(k);\n          }\n        });\n        normalizedBase = o;\n        for (i = normalizedPath.length - 1, o = []; i >= 0; i--) {\n          if (normalizedPath[i].length === 0 || normalizedPath[i] === '.') {\n            continue;\n          }\n          if (normalizedPath[i] === '..') {\n            nb++;\n            continue;\n          }\n          if (nb > 0) {\n            nb--;\n            continue;\n          }\n          o.push(normalizedPath[i]);\n        }\n        i = normalizedBase.length - nb;\n        if (i <= 0) {\n          outPath = reverse(o).join('/');\n        } else {\n          outPath = normalizedBase.slice(0, i).join('/') + '/' + reverse(o).join('/');\n        }\n        if (outPath.indexOf('/') !== 0) {\n          outPath = '/' + outPath;\n        }\n        if (tr && outPath.lastIndexOf('/') !== outPath.length - 1) {\n          outPath += tr;\n        }\n        return outPath;\n      }\n      getURI(noProtoHost = false) {\n        let s;\n        if (!this.source || noProtoHost) {\n          s = '';\n          if (!noProtoHost) {\n            if (this.protocol) {\n              s += this.protocol + '://';\n            } else {\n              s += '//';\n            }\n            if (this.userInfo) {\n              s += this.userInfo + '@';\n            }\n            if (this.host) {\n              s += this.host;\n            }\n            if (this.port) {\n              s += ':' + this.port;\n            }\n          }\n          if (this.path) {\n            s += this.path;\n          }\n          if (this.query) {\n            s += '?' + this.query;\n          }\n          if (this.anchor) {\n            s += '#' + this.anchor;\n          }\n          this.source = s;\n        }\n        return this.source;\n      }\n    }\n\n    const makeMap = Tools.makeMap, extend$1 = Tools.extend;\n    const basePurifyConfig = {\n      IN_PLACE: true,\n      ALLOW_UNKNOWN_PROTOCOLS: true,\n      ALLOWED_TAGS: [\n        '#comment',\n        '#cdata-section',\n        'body'\n      ],\n      ALLOWED_ATTR: []\n    };\n    const filteredUrlAttrs = Tools.makeMap('src,href,data,background,action,formaction,poster,xlink:href');\n    const internalElementAttr = 'data-mce-type';\n    const getPurifyConfig = (settings, mimeType) => {\n      const config = { ...basePurifyConfig };\n      config.PARSER_MEDIA_TYPE = mimeType;\n      if (settings.allow_script_urls) {\n        config.ALLOWED_URI_REGEXP = /.*/;\n      } else if (settings.allow_html_data_urls) {\n        config.ALLOWED_URI_REGEXP = /^(?!(\\w+script|mhtml):)/i;\n      }\n      return config;\n    };\n    const setupPurify = (settings, schema) => {\n      const purify$1 = purify();\n      const specialElements = schema.getSpecialElements();\n      const validate = settings.validate;\n      let uid = 0;\n      purify$1.addHook('uponSanitizeElement', (ele, evt) => {\n        var _a, _b;\n        if (ele.nodeType === COMMENT && !settings.allow_conditional_comments && /^\\[if/i.test(ele.nodeValue)) {\n          ele.nodeValue = ' ' + ele.nodeValue;\n        }\n        const tagName = evt.tagName;\n        if (ele.nodeType !== ELEMENT || tagName === 'body') {\n          return;\n        }\n        const element = SugarElement.fromDom(ele);\n        const lcTagName = tagName.toLowerCase();\n        const isInternalElement = has$1(element, internalElementAttr);\n        const bogus = get$9(element, 'data-mce-bogus');\n        if (!isInternalElement && isString(bogus)) {\n          if (bogus === 'all') {\n            remove$6(element);\n          } else {\n            unwrap(element);\n          }\n          return;\n        }\n        const rule = schema.getElementRule(lcTagName);\n        if (validate && !rule) {\n          if (has$2(specialElements, lcTagName)) {\n            remove$6(element);\n          } else {\n            unwrap(element);\n          }\n          return;\n        } else {\n          evt.allowedTags[tagName] = true;\n        }\n        if (validate && !isInternalElement) {\n          each$f((_a = rule.attributesForced) !== null && _a !== void 0 ? _a : [], attr => {\n            set$2(element, attr.name, attr.value === '{$uid}' ? `mce_${ uid++ }` : attr.value);\n          });\n          each$f((_b = rule.attributesDefault) !== null && _b !== void 0 ? _b : [], attr => {\n            if (!has$1(element, attr.name)) {\n              set$2(element, attr.name, attr.value === '{$uid}' ? `mce_${ uid++ }` : attr.value);\n            }\n          });\n          if (rule.attributesRequired && !exists(rule.attributesRequired, attr => has$1(element, attr))) {\n            unwrap(element);\n            return;\n          }\n          if (rule.removeEmptyAttrs && hasNone(element)) {\n            unwrap(element);\n            return;\n          }\n          if (rule.outputName && rule.outputName !== lcTagName) {\n            mutate(element, rule.outputName);\n          }\n        }\n      });\n      purify$1.addHook('uponSanitizeAttribute', (ele, evt) => {\n        const tagName = ele.tagName.toLowerCase();\n        const {attrName, attrValue} = evt;\n        evt.keepAttr = !validate || schema.isValid(tagName, attrName) || startsWith(attrName, 'data-') || startsWith(attrName, 'aria-');\n        if (attrName in filteredUrlAttrs && isInvalidUri(settings, attrValue, tagName)) {\n          evt.keepAttr = false;\n        }\n        if (evt.keepAttr) {\n          evt.allowedAttributes[attrName] = true;\n          if (attrName in schema.getBoolAttrs()) {\n            evt.attrValue = attrName;\n          }\n          if (settings.allow_svg_data_urls && startsWith(attrValue, 'data:image/svg+xml')) {\n            evt.forceKeepAttr = true;\n          }\n        } else if (ele.hasAttribute(internalElementAttr) && (attrName === 'id' || attrName === 'class' || attrName === 'style')) {\n          evt.forceKeepAttr = true;\n        }\n      });\n      return purify$1;\n    };\n    const transferChildren = (parent, nativeParent, specialElements) => {\n      const parentName = parent.name;\n      const isSpecial = parentName in specialElements && parentName !== 'title' && parentName !== 'textarea';\n      const childNodes = nativeParent.childNodes;\n      for (let ni = 0, nl = childNodes.length; ni < nl; ni++) {\n        const nativeChild = childNodes[ni];\n        const child = new AstNode(nativeChild.nodeName.toLowerCase(), nativeChild.nodeType);\n        if (isElement$6(nativeChild)) {\n          const attributes = nativeChild.attributes;\n          for (let ai = 0, al = attributes.length; ai < al; ai++) {\n            const attr = attributes[ai];\n            child.attr(attr.name, attr.value);\n          }\n        } else if (isText$9(nativeChild)) {\n          child.value = nativeChild.data;\n          if (isSpecial) {\n            child.raw = true;\n          }\n        } else if (isComment(nativeChild) || isCData(nativeChild) || isPi(nativeChild)) {\n          child.value = nativeChild.data;\n        }\n        transferChildren(child, nativeChild, specialElements);\n        parent.append(child);\n      }\n    };\n    const walkTree = (root, preprocessors, postprocessors) => {\n      const traverseOrder = [];\n      for (let node = root, lastNode = node; isNonNullable(node); lastNode = node, node = node.walk()) {\n        each$f(preprocessors, preprocess => preprocess(node));\n        if (isNullable(node.parent) && node !== root) {\n          node = lastNode;\n        } else {\n          traverseOrder.push(node);\n        }\n      }\n      for (let i = traverseOrder.length - 1; i >= 0; i--) {\n        const node = traverseOrder[i];\n        each$f(postprocessors, postprocess => postprocess(node));\n      }\n    };\n    const whitespaceCleaner = (root, schema, settings, args) => {\n      const validate = settings.validate;\n      const nonEmptyElements = schema.getNonEmptyElements();\n      const whitespaceElements = schema.getWhitespaceElements();\n      const blockElements = extend$1(makeMap('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\n      const textRootBlockElements = getTextRootBlockElements(schema);\n      const allWhiteSpaceRegExp = /[ \\t\\r\\n]+/g;\n      const startWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\n      const endWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\n      const hasWhitespaceParent = node => {\n        node = node.parent;\n        while (isNonNullable(node)) {\n          if (node.name in whitespaceElements) {\n            return true;\n          } else {\n            node = node.parent;\n          }\n        }\n        return false;\n      };\n      const isTextRootBlockEmpty = node => {\n        let tempNode = node;\n        while (isNonNullable(tempNode)) {\n          if (tempNode.name in textRootBlockElements) {\n            return isEmpty(schema, nonEmptyElements, whitespaceElements, tempNode);\n          } else {\n            tempNode = tempNode.parent;\n          }\n        }\n        return false;\n      };\n      const isAtEdgeOfBlock = (node, start) => {\n        const neighbour = start ? node.prev : node.next;\n        if (isNonNullable(neighbour)) {\n          return false;\n        }\n        return node.parent.name in blockElements && (node.parent !== root || args.isRootContent);\n      };\n      const preprocess = node => {\n        if (node.type === 3) {\n          if (!hasWhitespaceParent(node)) {\n            let text = node.value;\n            text = text.replace(allWhiteSpaceRegExp, ' ');\n            if (isLineBreakNode(node.prev, blockElements) || isAtEdgeOfBlock(node, true)) {\n              text = text.replace(startWhiteSpaceRegExp, '');\n            }\n            if (text.length === 0) {\n              node.remove();\n            } else {\n              node.value = text;\n            }\n          }\n        }\n      };\n      const postprocess = node => {\n        var _a;\n        if (node.type === 1) {\n          const elementRule = schema.getElementRule(node.name);\n          if (validate && elementRule) {\n            const isNodeEmpty = isEmpty(schema, nonEmptyElements, whitespaceElements, node);\n            if (elementRule.paddInEmptyBlock && isNodeEmpty && isTextRootBlockEmpty(node)) {\n              paddEmptyNode(settings, args, blockElements, node);\n            } else if (elementRule.removeEmpty && isNodeEmpty) {\n              if (blockElements[node.name]) {\n                node.remove();\n              } else {\n                node.unwrap();\n              }\n            } else if (elementRule.paddEmpty && (isNodeEmpty || isPaddedWithNbsp(node))) {\n              paddEmptyNode(settings, args, blockElements, node);\n            }\n          }\n        } else if (node.type === 3) {\n          if (!hasWhitespaceParent(node)) {\n            let text = node.value;\n            if (blockElements[(_a = node.next) === null || _a === void 0 ? void 0 : _a.name] || isAtEdgeOfBlock(node, false)) {\n              text = text.replace(endWhiteSpaceRegExp, '');\n            }\n            if (text.length === 0) {\n              node.remove();\n            } else {\n              node.value = text;\n            }\n          }\n        }\n      };\n      return [\n        preprocess,\n        postprocess\n      ];\n    };\n    const getRootBlockName = (settings, args) => {\n      var _a;\n      const name = (_a = args.forced_root_block) !== null && _a !== void 0 ? _a : settings.forced_root_block;\n      if (name === false) {\n        return '';\n      } else if (name === true) {\n        return 'p';\n      } else {\n        return name;\n      }\n    };\n    const DomParser = (settings = {}, schema = Schema()) => {\n      const nodeFilterRegistry = create$7();\n      const attributeFilterRegistry = create$7();\n      const defaultedSettings = {\n        validate: true,\n        root_name: 'body',\n        ...settings\n      };\n      const parser = new DOMParser();\n      const purify = setupPurify(defaultedSettings, schema);\n      const parseAndSanitizeWithContext = (html, rootName, format = 'html') => {\n        const mimeType = format === 'xhtml' ? 'application/xhtml+xml' : 'text/html';\n        const isSpecialRoot = has$2(schema.getSpecialElements(), rootName.toLowerCase());\n        const content = isSpecialRoot ? `<${ rootName }>${ html }</${ rootName }>` : html;\n        const wrappedHtml = format === 'xhtml' ? `<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>${ content }</body></html>` : `<body>${ content }</body>`;\n        const body = parser.parseFromString(wrappedHtml, mimeType).body;\n        purify.sanitize(body, getPurifyConfig(defaultedSettings, mimeType));\n        purify.removed = [];\n        return isSpecialRoot ? body.firstChild : body;\n      };\n      const addNodeFilter = nodeFilterRegistry.addFilter;\n      const getNodeFilters = nodeFilterRegistry.getFilters;\n      const removeNodeFilter = nodeFilterRegistry.removeFilter;\n      const addAttributeFilter = attributeFilterRegistry.addFilter;\n      const getAttributeFilters = attributeFilterRegistry.getFilters;\n      const removeAttributeFilter = attributeFilterRegistry.removeFilter;\n      const findInvalidChildren = (node, invalidChildren) => {\n        const parent = node.parent;\n        if (parent && schema.children[node.name] && !schema.isValidChild(parent.name, node.name)) {\n          invalidChildren.push(node);\n        }\n      };\n      const addRootBlocks = (rootNode, rootBlockName) => {\n        const blockElements = extend$1(makeMap('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\n        const startWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\n        const endWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\n        let node = rootNode.firstChild, rootBlockNode = null;\n        const trim = rootBlock => {\n          if (rootBlock) {\n            node = rootBlock.firstChild;\n            if (node && node.type === 3) {\n              node.value = node.value.replace(startWhiteSpaceRegExp, '');\n            }\n            node = rootBlock.lastChild;\n            if (node && node.type === 3) {\n              node.value = node.value.replace(endWhiteSpaceRegExp, '');\n            }\n          }\n        };\n        if (!schema.isValidChild(rootNode.name, rootBlockName.toLowerCase())) {\n          return;\n        }\n        while (node) {\n          const next = node.next;\n          if (node.type === 3 || node.type === 1 && node.name !== 'p' && !blockElements[node.name] && !node.attr(internalElementAttr)) {\n            if (!rootBlockNode) {\n              rootBlockNode = new AstNode(rootBlockName, 1);\n              rootBlockNode.attr(defaultedSettings.forced_root_block_attrs);\n              rootNode.insert(rootBlockNode, node);\n              rootBlockNode.append(node);\n            } else {\n              rootBlockNode.append(node);\n            }\n          } else {\n            trim(rootBlockNode);\n            rootBlockNode = null;\n          }\n          node = next;\n        }\n        trim(rootBlockNode);\n      };\n      const parse = (html, args = {}) => {\n        var _a;\n        const validate = defaultedSettings.validate;\n        const rootName = (_a = args.context) !== null && _a !== void 0 ? _a : defaultedSettings.root_name;\n        const element = parseAndSanitizeWithContext(html, rootName, args.format);\n        const rootNode = new AstNode(rootName, 11);\n        transferChildren(rootNode, element, schema.getSpecialElements());\n        const [whitespacePre, whitespacePost] = whitespaceCleaner(rootNode, schema, defaultedSettings, args);\n        const invalidChildren = [];\n        const invalidFinder = validate ? node => findInvalidChildren(node, invalidChildren) : noop;\n        const matches = {\n          nodes: {},\n          attributes: {}\n        };\n        const matchFinder = node => matchNode$1(getNodeFilters(), getAttributeFilters(), node, matches);\n        walkTree(rootNode, [\n          whitespacePre,\n          matchFinder\n        ], [\n          whitespacePost,\n          invalidFinder\n        ]);\n        invalidChildren.reverse();\n        if (validate && invalidChildren.length > 0) {\n          if (args.context) {\n            const {\n              pass: topLevelChildren,\n              fail: otherChildren\n            } = partition$2(invalidChildren, child => child.parent === rootNode);\n            cleanInvalidNodes(otherChildren, schema, matchFinder);\n            args.invalid = topLevelChildren.length > 0;\n          } else {\n            cleanInvalidNodes(invalidChildren, schema, matchFinder);\n          }\n        }\n        const rootBlockName = getRootBlockName(defaultedSettings, args);\n        if (rootBlockName && (rootNode.name === 'body' || args.isRootContent)) {\n          addRootBlocks(rootNode, rootBlockName);\n        }\n        if (!args.invalid) {\n          runFilters(matches, args);\n        }\n        return rootNode;\n      };\n      const exports = {\n        schema,\n        addAttributeFilter,\n        getAttributeFilters,\n        removeAttributeFilter,\n        addNodeFilter,\n        getNodeFilters,\n        removeNodeFilter,\n        parse\n      };\n      register$4(exports, defaultedSettings);\n      register$5(exports, defaultedSettings, schema);\n      return exports;\n    };\n\n    const serializeContent = content => isTreeNode(content) ? HtmlSerializer({ validate: false }).serialize(content) : content;\n    const withSerializedContent = (content, fireEvent) => {\n      const serializedContent = serializeContent(content);\n      const eventArgs = fireEvent(serializedContent);\n      if (eventArgs.isDefaultPrevented()) {\n        return eventArgs;\n      } else if (isTreeNode(content)) {\n        if (eventArgs.content !== serializedContent) {\n          const rootNode = DomParser({\n            validate: false,\n            forced_root_block: false\n          }).parse(eventArgs.content, { context: content.name });\n          return {\n            ...eventArgs,\n            content: rootNode\n          };\n        } else {\n          return {\n            ...eventArgs,\n            content\n          };\n        }\n      } else {\n        return eventArgs;\n      }\n    };\n    const preProcessGetContent = (editor, args) => {\n      if (args.no_events) {\n        return Result.value(args);\n      } else {\n        const eventArgs = fireBeforeGetContent(editor, args);\n        if (eventArgs.isDefaultPrevented()) {\n          return Result.error(fireGetContent(editor, {\n            content: '',\n            ...eventArgs\n          }).content);\n        } else {\n          return Result.value(eventArgs);\n        }\n      }\n    };\n    const postProcessGetContent = (editor, content, args) => {\n      if (args.no_events) {\n        return content;\n      } else {\n        const processedEventArgs = withSerializedContent(content, c => fireGetContent(editor, {\n          ...args,\n          content: c\n        }));\n        return processedEventArgs.content;\n      }\n    };\n    const preProcessSetContent = (editor, args) => {\n      if (args.no_events) {\n        return Result.value(args);\n      } else {\n        const processedEventArgs = withSerializedContent(args.content, content => fireBeforeSetContent(editor, {\n          ...args,\n          content\n        }));\n        if (processedEventArgs.isDefaultPrevented()) {\n          fireSetContent(editor, processedEventArgs);\n          return Result.error(undefined);\n        } else {\n          return Result.value(processedEventArgs);\n        }\n      }\n    };\n    const postProcessSetContent = (editor, content, args) => {\n      if (!args.no_events) {\n        fireSetContent(editor, {\n          ...args,\n          content\n        });\n      }\n    };\n\n    const tableModel = (element, width, rows) => ({\n      element,\n      width,\n      rows\n    });\n    const tableRow = (element, cells) => ({\n      element,\n      cells\n    });\n    const cellPosition = (x, y) => ({\n      x,\n      y\n    });\n    const getSpan = (td, key) => {\n      const value = parseInt(get$9(td, key), 10);\n      return isNaN(value) ? 1 : value;\n    };\n    const fillout = (table, x, y, tr, td) => {\n      const rowspan = getSpan(td, 'rowspan');\n      const colspan = getSpan(td, 'colspan');\n      const rows = table.rows;\n      for (let y2 = y; y2 < y + rowspan; y2++) {\n        if (!rows[y2]) {\n          rows[y2] = tableRow(deep$1(tr), []);\n        }\n        for (let x2 = x; x2 < x + colspan; x2++) {\n          const cells = rows[y2].cells;\n          cells[x2] = y2 === y && x2 === x ? td : shallow$1(td);\n        }\n      }\n    };\n    const cellExists = (table, x, y) => {\n      const rows = table.rows;\n      const cells = rows[y] ? rows[y].cells : [];\n      return !!cells[x];\n    };\n    const skipCellsX = (table, x, y) => {\n      while (cellExists(table, x, y)) {\n        x++;\n      }\n      return x;\n    };\n    const getWidth = rows => {\n      return foldl(rows, (acc, row) => {\n        return row.cells.length > acc ? row.cells.length : acc;\n      }, 0);\n    };\n    const findElementPos = (table, element) => {\n      const rows = table.rows;\n      for (let y = 0; y < rows.length; y++) {\n        const cells = rows[y].cells;\n        for (let x = 0; x < cells.length; x++) {\n          if (eq(cells[x], element)) {\n            return Optional.some(cellPosition(x, y));\n          }\n        }\n      }\n      return Optional.none();\n    };\n    const extractRows = (table, sx, sy, ex, ey) => {\n      const newRows = [];\n      const rows = table.rows;\n      for (let y = sy; y <= ey; y++) {\n        const cells = rows[y].cells;\n        const slice = sx < ex ? cells.slice(sx, ex + 1) : cells.slice(ex, sx + 1);\n        newRows.push(tableRow(rows[y].element, slice));\n      }\n      return newRows;\n    };\n    const subTable = (table, startPos, endPos) => {\n      const sx = startPos.x, sy = startPos.y;\n      const ex = endPos.x, ey = endPos.y;\n      const newRows = sy < ey ? extractRows(table, sx, sy, ex, ey) : extractRows(table, sx, ey, ex, sy);\n      return tableModel(table.element, getWidth(newRows), newRows);\n    };\n    const createDomTable = (table, rows) => {\n      const tableElement = shallow$1(table.element);\n      const tableBody = SugarElement.fromTag('tbody');\n      append(tableBody, rows);\n      append$1(tableElement, tableBody);\n      return tableElement;\n    };\n    const modelRowsToDomRows = table => {\n      return map$3(table.rows, row => {\n        const cells = map$3(row.cells, cell => {\n          const td = deep$1(cell);\n          remove$b(td, 'colspan');\n          remove$b(td, 'rowspan');\n          return td;\n        });\n        const tr = shallow$1(row.element);\n        append(tr, cells);\n        return tr;\n      });\n    };\n    const fromDom = tableElm => {\n      const table = tableModel(shallow$1(tableElm), 0, []);\n      each$f(descendants(tableElm, 'tr'), (tr, y) => {\n        each$f(descendants(tr, 'td,th'), (td, x) => {\n          fillout(table, skipCellsX(table, x, y), y, tr, td);\n        });\n      });\n      return tableModel(table.element, getWidth(table.rows), table.rows);\n    };\n    const toDom = table => {\n      return createDomTable(table, modelRowsToDomRows(table));\n    };\n    const subsection = (table, startElement, endElement) => {\n      return findElementPos(table, startElement).bind(startPos => {\n        return findElementPos(table, endElement).map(endPos => {\n          return subTable(table, startPos, endPos);\n        });\n      });\n    };\n\n    const findParentListContainer = parents => find$2(parents, elm => name(elm) === 'ul' || name(elm) === 'ol');\n    const getFullySelectedListWrappers = (parents, rng) => find$2(parents, elm => name(elm) === 'li' && hasAllContentsSelected(elm, rng)).fold(constant([]), _li => findParentListContainer(parents).map(listCont => {\n      const listElm = SugarElement.fromTag(name(listCont));\n      const listStyles = filter$5(getAllRaw(listCont), (_style, name) => startsWith(name, 'list-style'));\n      setAll(listElm, listStyles);\n      return [\n        SugarElement.fromTag('li'),\n        listElm\n      ];\n    }).getOr([]));\n    const wrap = (innerElm, elms) => {\n      const wrapped = foldl(elms, (acc, elm) => {\n        append$1(elm, acc);\n        return elm;\n      }, innerElm);\n      return elms.length > 0 ? fromElements([wrapped]) : wrapped;\n    };\n    const directListWrappers = commonAnchorContainer => {\n      if (isListItem(commonAnchorContainer)) {\n        return parent(commonAnchorContainer).filter(isList).fold(constant([]), listElm => [\n          commonAnchorContainer,\n          listElm\n        ]);\n      } else {\n        return isList(commonAnchorContainer) ? [commonAnchorContainer] : [];\n      }\n    };\n    const getWrapElements = (rootNode, rng) => {\n      const commonAnchorContainer = SugarElement.fromDom(rng.commonAncestorContainer);\n      const parents = parentsAndSelf(commonAnchorContainer, rootNode);\n      const wrapElements = filter$6(parents, isWrapElement);\n      const listWrappers = getFullySelectedListWrappers(parents, rng);\n      const allWrappers = wrapElements.concat(listWrappers.length ? listWrappers : directListWrappers(commonAnchorContainer));\n      return map$3(allWrappers, shallow$1);\n    };\n    const emptyFragment = () => fromElements([]);\n    const getFragmentFromRange = (rootNode, rng) => wrap(SugarElement.fromDom(rng.cloneContents()), getWrapElements(rootNode, rng));\n    const getParentTable = (rootElm, cell) => ancestor$2(cell, 'table', curry(eq, rootElm));\n    const getTableFragment = (rootNode, selectedTableCells) => getParentTable(rootNode, selectedTableCells[0]).bind(tableElm => {\n      const firstCell = selectedTableCells[0];\n      const lastCell = selectedTableCells[selectedTableCells.length - 1];\n      const fullTableModel = fromDom(tableElm);\n      return subsection(fullTableModel, firstCell, lastCell).map(sectionedTableModel => fromElements([toDom(sectionedTableModel)]));\n    }).getOrThunk(emptyFragment);\n    const getSelectionFragment = (rootNode, ranges) => ranges.length > 0 && ranges[0].collapsed ? emptyFragment() : getFragmentFromRange(rootNode, ranges[0]);\n    const read$3 = (rootNode, ranges) => {\n      const selectedCells = getCellsFromElementOrRanges(ranges, rootNode);\n      return selectedCells.length > 0 ? getTableFragment(rootNode, selectedCells) : getSelectionFragment(rootNode, ranges);\n    };\n\n    const isCollapsibleWhitespace = (text, index) => index >= 0 && index < text.length && isWhiteSpace(text.charAt(index));\n    const getInnerText = bin => {\n      return trim$1(bin.innerText);\n    };\n    const getContextNodeName = parentBlockOpt => parentBlockOpt.map(block => block.nodeName).getOr('div').toLowerCase();\n    const getTextContent = editor => Optional.from(editor.selection.getRng()).map(rng => {\n      const parentBlockOpt = Optional.from(editor.dom.getParent(rng.commonAncestorContainer, editor.dom.isBlock));\n      const body = editor.getBody();\n      const contextNodeName = getContextNodeName(parentBlockOpt);\n      const bin = editor.dom.add(body, contextNodeName, {\n        'data-mce-bogus': 'all',\n        'style': 'overflow: hidden; opacity: 0;'\n      }, rng.cloneContents());\n      const text = getInnerText(bin);\n      const nonRenderedText = trim$1(bin.textContent);\n      editor.dom.remove(bin);\n      if (isCollapsibleWhitespace(nonRenderedText, 0) || isCollapsibleWhitespace(nonRenderedText, nonRenderedText.length - 1)) {\n        const parentBlock = parentBlockOpt.getOr(body);\n        const parentBlockText = getInnerText(parentBlock);\n        const textIndex = parentBlockText.indexOf(text);\n        if (textIndex === -1) {\n          return text;\n        } else {\n          const hasProceedingSpace = isCollapsibleWhitespace(parentBlockText, textIndex - 1);\n          const hasTrailingSpace = isCollapsibleWhitespace(parentBlockText, textIndex + text.length);\n          return (hasProceedingSpace ? ' ' : '') + text + (hasTrailingSpace ? ' ' : '');\n        }\n      } else {\n        return text;\n      }\n    }).getOr('');\n    const getSerializedContent = (editor, args) => {\n      const rng = editor.selection.getRng(), tmpElm = editor.dom.create('body');\n      const sel = editor.selection.getSel();\n      const ranges = processRanges(editor, getRanges$1(sel));\n      const fragment = args.contextual ? read$3(SugarElement.fromDom(editor.getBody()), ranges).dom : rng.cloneContents();\n      if (fragment) {\n        tmpElm.appendChild(fragment);\n      }\n      return editor.selection.serializer.serialize(tmpElm, args);\n    };\n    const extractSelectedContent = (editor, args) => {\n      if (args.format === 'text') {\n        return getTextContent(editor);\n      } else {\n        const content = getSerializedContent(editor, args);\n        if (args.format === 'tree') {\n          return content;\n        } else {\n          return editor.selection.isCollapsed() ? '' : content;\n        }\n      }\n    };\n    const setupArgs$3 = (args, format) => ({\n      ...args,\n      format,\n      get: true,\n      selection: true,\n      getInner: true\n    });\n    const getSelectedContentInternal = (editor, format, args = {}) => {\n      const defaultedArgs = setupArgs$3(args, format);\n      return preProcessGetContent(editor, defaultedArgs).fold(identity, updatedArgs => {\n        const content = extractSelectedContent(editor, updatedArgs);\n        return postProcessGetContent(editor, content, updatedArgs);\n      });\n    };\n\n    const KEEP = 0, INSERT = 1, DELETE = 2;\n    const diff = (left, right) => {\n      const size = left.length + right.length + 2;\n      const vDown = new Array(size);\n      const vUp = new Array(size);\n      const snake = (start, end, diag) => {\n        return {\n          start,\n          end,\n          diag\n        };\n      };\n      const buildScript = (start1, end1, start2, end2, script) => {\n        const middle = getMiddleSnake(start1, end1, start2, end2);\n        if (middle === null || middle.start === end1 && middle.diag === end1 - end2 || middle.end === start1 && middle.diag === start1 - start2) {\n          let i = start1;\n          let j = start2;\n          while (i < end1 || j < end2) {\n            if (i < end1 && j < end2 && left[i] === right[j]) {\n              script.push([\n                KEEP,\n                left[i]\n              ]);\n              ++i;\n              ++j;\n            } else {\n              if (end1 - start1 > end2 - start2) {\n                script.push([\n                  DELETE,\n                  left[i]\n                ]);\n                ++i;\n              } else {\n                script.push([\n                  INSERT,\n                  right[j]\n                ]);\n                ++j;\n              }\n            }\n          }\n        } else {\n          buildScript(start1, middle.start, start2, middle.start - middle.diag, script);\n          for (let i2 = middle.start; i2 < middle.end; ++i2) {\n            script.push([\n              KEEP,\n              left[i2]\n            ]);\n          }\n          buildScript(middle.end, end1, middle.end - middle.diag, end2, script);\n        }\n      };\n      const buildSnake = (start, diag, end1, end2) => {\n        let end = start;\n        while (end - diag < end2 && end < end1 && left[end] === right[end - diag]) {\n          ++end;\n        }\n        return snake(start, end, diag);\n      };\n      const getMiddleSnake = (start1, end1, start2, end2) => {\n        const m = end1 - start1;\n        const n = end2 - start2;\n        if (m === 0 || n === 0) {\n          return null;\n        }\n        const delta = m - n;\n        const sum = n + m;\n        const offset = (sum % 2 === 0 ? sum : sum + 1) / 2;\n        vDown[1 + offset] = start1;\n        vUp[1 + offset] = end1 + 1;\n        let d, k, i, x, y;\n        for (d = 0; d <= offset; ++d) {\n          for (k = -d; k <= d; k += 2) {\n            i = k + offset;\n            if (k === -d || k !== d && vDown[i - 1] < vDown[i + 1]) {\n              vDown[i] = vDown[i + 1];\n            } else {\n              vDown[i] = vDown[i - 1] + 1;\n            }\n            x = vDown[i];\n            y = x - start1 + start2 - k;\n            while (x < end1 && y < end2 && left[x] === right[y]) {\n              vDown[i] = ++x;\n              ++y;\n            }\n            if (delta % 2 !== 0 && delta - d <= k && k <= delta + d) {\n              if (vUp[i - delta] <= vDown[i]) {\n                return buildSnake(vUp[i - delta], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n          for (k = delta - d; k <= delta + d; k += 2) {\n            i = k + offset - delta;\n            if (k === delta - d || k !== delta + d && vUp[i + 1] <= vUp[i - 1]) {\n              vUp[i] = vUp[i + 1] - 1;\n            } else {\n              vUp[i] = vUp[i - 1];\n            }\n            x = vUp[i] - 1;\n            y = x - start1 + start2 - k;\n            while (x >= start1 && y >= start2 && left[x] === right[y]) {\n              vUp[i] = x--;\n              y--;\n            }\n            if (delta % 2 === 0 && -d <= k && k <= d) {\n              if (vUp[i] <= vDown[i + delta]) {\n                return buildSnake(vUp[i], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n        }\n      };\n      const script = [];\n      buildScript(0, left.length, 0, right.length, script);\n      return script;\n    };\n\n    const getOuterHtml = elm => {\n      if (isElement$6(elm)) {\n        return elm.outerHTML;\n      } else if (isText$9(elm)) {\n        return Entities.encodeRaw(elm.data, false);\n      } else if (isComment(elm)) {\n        return '<!--' + elm.data + '-->';\n      }\n      return '';\n    };\n    const createFragment = html => {\n      let node;\n      const container = document.createElement('div');\n      const frag = document.createDocumentFragment();\n      if (html) {\n        container.innerHTML = html;\n      }\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    const insertAt = (elm, html, index) => {\n      const fragment = createFragment(html);\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        const target = elm.childNodes[index];\n        target.parentNode.insertBefore(fragment, target);\n      } else {\n        elm.appendChild(fragment);\n      }\n    };\n    const removeAt = (elm, index) => {\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        const target = elm.childNodes[index];\n        target.parentNode.removeChild(target);\n      }\n    };\n    const applyDiff = (diff, elm) => {\n      let index = 0;\n      each$f(diff, action => {\n        if (action[0] === KEEP) {\n          index++;\n        } else if (action[0] === INSERT) {\n          insertAt(elm, action[1], index);\n          index++;\n        } else if (action[0] === DELETE) {\n          removeAt(elm, index);\n        }\n      });\n    };\n    const read$2 = elm => {\n      return filter$6(map$3(from(elm.childNodes), getOuterHtml), item => {\n        return item.length > 0;\n      });\n    };\n    const write = (fragments, elm) => {\n      const currentFragments = map$3(from(elm.childNodes), getOuterHtml);\n      applyDiff(diff(currentFragments, fragments), elm);\n      return elm;\n    };\n\n    const lazyTempDocument = cached(() => document.implementation.createHTMLDocument('undo'));\n    const hasIframes = html => {\n      return html.indexOf('</iframe>') !== -1;\n    };\n    const createFragmentedLevel = fragments => {\n      return {\n        type: 'fragmented',\n        fragments,\n        content: '',\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    const createCompleteLevel = content => {\n      return {\n        type: 'complete',\n        fragments: null,\n        content,\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    const createFromEditor = editor => {\n      const fragments = read$2(editor.getBody());\n      const trimmedFragments = bind$3(fragments, html => {\n        const trimmed = trimInternal(editor.serializer, html);\n        return trimmed.length > 0 ? [trimmed] : [];\n      });\n      const content = trimmedFragments.join('');\n      return hasIframes(content) ? createFragmentedLevel(trimmedFragments) : createCompleteLevel(content);\n    };\n    const applyToEditor = (editor, level, before) => {\n      const bookmark = before ? level.beforeBookmark : level.bookmark;\n      if (level.type === 'fragmented') {\n        write(level.fragments, editor.getBody());\n      } else {\n        editor.setContent(level.content, {\n          format: 'raw',\n          no_selection: isNonNullable(bookmark) && isPathBookmark(bookmark) ? !bookmark.isFakeCaret : true\n        });\n      }\n      editor.selection.moveToBookmark(bookmark);\n    };\n    const getLevelContent = level => {\n      return level.type === 'fragmented' ? level.fragments.join('') : level.content;\n    };\n    const getCleanLevelContent = level => {\n      const elm = SugarElement.fromTag('body', lazyTempDocument());\n      set(elm, getLevelContent(level));\n      each$f(descendants(elm, '*[data-mce-bogus]'), unwrap);\n      return get$6(elm);\n    };\n    const hasEqualContent = (level1, level2) => getLevelContent(level1) === getLevelContent(level2);\n    const hasEqualCleanedContent = (level1, level2) => getCleanLevelContent(level1) === getCleanLevelContent(level2);\n    const isEq$1 = (level1, level2) => {\n      if (!level1 || !level2) {\n        return false;\n      } else if (hasEqualContent(level1, level2)) {\n        return true;\n      } else {\n        return hasEqualCleanedContent(level1, level2);\n      }\n    };\n\n    const isUnlocked = locks => locks.get() === 0;\n\n    const setTyping = (undoManager, typing, locks) => {\n      if (isUnlocked(locks)) {\n        undoManager.typing = typing;\n      }\n    };\n    const endTyping = (undoManager, locks) => {\n      if (undoManager.typing) {\n        setTyping(undoManager, false, locks);\n        undoManager.add();\n      }\n    };\n    const endTypingLevelIgnoreLocks = undoManager => {\n      if (undoManager.typing) {\n        undoManager.typing = false;\n        undoManager.add();\n      }\n    };\n\n    const beforeChange$1 = (editor, locks, beforeBookmark) => {\n      if (isUnlocked(locks)) {\n        beforeBookmark.set(getUndoBookmark(editor.selection));\n      }\n    };\n    const addUndoLevel$1 = (editor, undoManager, index, locks, beforeBookmark, level, event) => {\n      const currentLevel = createFromEditor(editor);\n      level = level || {};\n      level = Tools.extend(level, currentLevel);\n      if (isUnlocked(locks) === false || editor.removed) {\n        return null;\n      }\n      const lastLevel = undoManager.data[index.get()];\n      if (editor.dispatch('BeforeAddUndo', {\n          level,\n          lastLevel,\n          originalEvent: event\n        }).isDefaultPrevented()) {\n        return null;\n      }\n      if (lastLevel && isEq$1(lastLevel, level)) {\n        return null;\n      }\n      if (undoManager.data[index.get()]) {\n        beforeBookmark.get().each(bm => {\n          undoManager.data[index.get()].beforeBookmark = bm;\n        });\n      }\n      const customUndoRedoLevels = getCustomUndoRedoLevels(editor);\n      if (customUndoRedoLevels) {\n        if (undoManager.data.length > customUndoRedoLevels) {\n          for (let i = 0; i < undoManager.data.length - 1; i++) {\n            undoManager.data[i] = undoManager.data[i + 1];\n          }\n          undoManager.data.length--;\n          index.set(undoManager.data.length);\n        }\n      }\n      level.bookmark = getUndoBookmark(editor.selection);\n      if (index.get() < undoManager.data.length - 1) {\n        undoManager.data.length = index.get() + 1;\n      }\n      undoManager.data.push(level);\n      index.set(undoManager.data.length - 1);\n      const args = {\n        level,\n        lastLevel,\n        originalEvent: event\n      };\n      if (index.get() > 0) {\n        editor.setDirty(true);\n        editor.dispatch('AddUndo', args);\n        editor.dispatch('change', args);\n      } else {\n        editor.dispatch('AddUndo', args);\n      }\n      return level;\n    };\n    const clear$1 = (editor, undoManager, index) => {\n      undoManager.data = [];\n      index.set(0);\n      undoManager.typing = false;\n      editor.dispatch('ClearUndos');\n    };\n    const extra$1 = (editor, undoManager, index, callback1, callback2) => {\n      if (undoManager.transact(callback1)) {\n        const bookmark = undoManager.data[index.get()].bookmark;\n        const lastLevel = undoManager.data[index.get() - 1];\n        applyToEditor(editor, lastLevel, true);\n        if (undoManager.transact(callback2)) {\n          undoManager.data[index.get() - 1].beforeBookmark = bookmark;\n        }\n      }\n    };\n    const redo$1 = (editor, index, data) => {\n      let level;\n      if (index.get() < data.length - 1) {\n        index.set(index.get() + 1);\n        level = data[index.get()];\n        applyToEditor(editor, level, false);\n        editor.setDirty(true);\n        editor.dispatch('Redo', { level });\n      }\n      return level;\n    };\n    const undo$1 = (editor, undoManager, locks, index) => {\n      let level;\n      if (undoManager.typing) {\n        undoManager.add();\n        undoManager.typing = false;\n        setTyping(undoManager, false, locks);\n      }\n      if (index.get() > 0) {\n        index.set(index.get() - 1);\n        level = undoManager.data[index.get()];\n        applyToEditor(editor, level, true);\n        editor.setDirty(true);\n        editor.dispatch('Undo', { level });\n      }\n      return level;\n    };\n    const reset$1 = undoManager => {\n      undoManager.clear();\n      undoManager.add();\n    };\n    const hasUndo$1 = (editor, undoManager, index) => index.get() > 0 || undoManager.typing && undoManager.data[0] && !isEq$1(createFromEditor(editor), undoManager.data[0]);\n    const hasRedo$1 = (undoManager, index) => index.get() < undoManager.data.length - 1 && !undoManager.typing;\n    const transact$1 = (undoManager, locks, callback) => {\n      endTyping(undoManager, locks);\n      undoManager.beforeChange();\n      undoManager.ignore(callback);\n      return undoManager.add();\n    };\n    const ignore$1 = (locks, callback) => {\n      try {\n        locks.set(locks.get() + 1);\n        callback();\n      } finally {\n        locks.set(locks.get() - 1);\n      }\n    };\n\n    const addVisualInternal = (editor, elm) => {\n      const dom = editor.dom;\n      const scope = isNonNullable(elm) ? elm : editor.getBody();\n      if (isUndefined(editor.hasVisual)) {\n        editor.hasVisual = isVisualAidsEnabled(editor);\n      }\n      each$f(dom.select('table,a', scope), matchedElm => {\n        switch (matchedElm.nodeName) {\n        case 'TABLE':\n          const cls = getVisualAidsTableClass(editor);\n          const value = dom.getAttrib(matchedElm, 'border');\n          if ((!value || value === '0') && editor.hasVisual) {\n            dom.addClass(matchedElm, cls);\n          } else {\n            dom.removeClass(matchedElm, cls);\n          }\n          break;\n        case 'A':\n          if (!dom.getAttrib(matchedElm, 'href')) {\n            const value = dom.getAttrib(matchedElm, 'name') || matchedElm.id;\n            const cls = getVisualAidsAnchorClass(editor);\n            if (value && editor.hasVisual) {\n              dom.addClass(matchedElm, cls);\n            } else {\n              dom.removeClass(matchedElm, cls);\n            }\n          }\n          break;\n        }\n      });\n      editor.dispatch('VisualAid', {\n        element: elm,\n        hasVisual: editor.hasVisual\n      });\n    };\n\n    const makePlainAdaptor = editor => ({\n      init: { bindEvents: noop },\n      undoManager: {\n        beforeChange: (locks, beforeBookmark) => beforeChange$1(editor, locks, beforeBookmark),\n        add: (undoManager, index, locks, beforeBookmark, level, event) => addUndoLevel$1(editor, undoManager, index, locks, beforeBookmark, level, event),\n        undo: (undoManager, locks, index) => undo$1(editor, undoManager, locks, index),\n        redo: (index, data) => redo$1(editor, index, data),\n        clear: (undoManager, index) => clear$1(editor, undoManager, index),\n        reset: undoManager => reset$1(undoManager),\n        hasUndo: (undoManager, index) => hasUndo$1(editor, undoManager, index),\n        hasRedo: (undoManager, index) => hasRedo$1(undoManager, index),\n        transact: (undoManager, locks, callback) => transact$1(undoManager, locks, callback),\n        ignore: (locks, callback) => ignore$1(locks, callback),\n        extra: (undoManager, index, callback1, callback2) => extra$1(editor, undoManager, index, callback1, callback2)\n      },\n      formatter: {\n        match: (name, vars, node, similar) => match$2(editor, name, vars, node, similar),\n        matchAll: (names, vars) => matchAll(editor, names, vars),\n        matchNode: (node, name, vars, similar) => matchNode(editor, node, name, vars, similar),\n        canApply: name => canApply(editor, name),\n        closest: names => closest$1(editor, names),\n        apply: (name, vars, node) => applyFormat$1(editor, name, vars, node),\n        remove: (name, vars, node, similar) => remove$2(editor, name, vars, node, similar),\n        toggle: (name, vars, node) => toggle(editor, name, vars, node),\n        formatChanged: (registeredFormatListeners, formats, callback, similar, vars) => formatChangedInternal(editor, registeredFormatListeners, formats, callback, similar, vars)\n      },\n      editor: {\n        getContent: args => getContentInternal(editor, args),\n        setContent: (content, args) => setContentInternal(editor, content, args),\n        insertContent: (value, details) => insertHtmlAtCaret(editor, value, details),\n        addVisual: elm => addVisualInternal(editor, elm)\n      },\n      selection: { getContent: (format, args) => getSelectedContentInternal(editor, format, args) },\n      autocompleter: {\n        addDecoration: range => create$9(editor, range),\n        removeDecoration: () => remove$3(editor, SugarElement.fromDom(editor.getBody()))\n      },\n      raw: { getModel: () => Optional.none() }\n    });\n    const makeRtcAdaptor = rtcEditor => {\n      const defaultVars = vars => isObject(vars) ? vars : {};\n      const {init, undoManager, formatter, editor, selection, autocompleter, raw} = rtcEditor;\n      return {\n        init: { bindEvents: init.bindEvents },\n        undoManager: {\n          beforeChange: undoManager.beforeChange,\n          add: undoManager.add,\n          undo: undoManager.undo,\n          redo: undoManager.redo,\n          clear: undoManager.clear,\n          reset: undoManager.reset,\n          hasUndo: undoManager.hasUndo,\n          hasRedo: undoManager.hasRedo,\n          transact: (_undoManager, _locks, fn) => undoManager.transact(fn),\n          ignore: (_locks, callback) => undoManager.ignore(callback),\n          extra: (_undoManager, _index, callback1, callback2) => undoManager.extra(callback1, callback2)\n        },\n        formatter: {\n          match: (name, vars, _node, similar) => formatter.match(name, defaultVars(vars), similar),\n          matchAll: formatter.matchAll,\n          matchNode: formatter.matchNode,\n          canApply: name => formatter.canApply(name),\n          closest: names => formatter.closest(names),\n          apply: (name, vars, _node) => formatter.apply(name, defaultVars(vars)),\n          remove: (name, vars, _node, _similar) => formatter.remove(name, defaultVars(vars)),\n          toggle: (name, vars, _node) => formatter.toggle(name, defaultVars(vars)),\n          formatChanged: (_rfl, formats, callback, similar, vars) => formatter.formatChanged(formats, callback, similar, vars)\n        },\n        editor: {\n          getContent: args => editor.getContent(args),\n          setContent: (content, args) => {\n            return {\n              content: editor.setContent(content, args),\n              html: ''\n            };\n          },\n          insertContent: (content, _details) => {\n            editor.insertContent(content);\n            return '';\n          },\n          addVisual: editor.addVisual\n        },\n        selection: { getContent: (_format, args) => selection.getContent(args) },\n        autocompleter: {\n          addDecoration: autocompleter.addDecoration,\n          removeDecoration: autocompleter.removeDecoration\n        },\n        raw: { getModel: () => Optional.some(raw.getRawModel()) }\n      };\n    };\n    const makeNoopAdaptor = () => {\n      const nul = constant(null);\n      const empty = constant('');\n      return {\n        init: { bindEvents: noop },\n        undoManager: {\n          beforeChange: noop,\n          add: nul,\n          undo: nul,\n          redo: nul,\n          clear: noop,\n          reset: noop,\n          hasUndo: never,\n          hasRedo: never,\n          transact: nul,\n          ignore: noop,\n          extra: noop\n        },\n        formatter: {\n          match: never,\n          matchAll: constant([]),\n          matchNode: constant(undefined),\n          canApply: never,\n          closest: empty,\n          apply: noop,\n          remove: noop,\n          toggle: noop,\n          formatChanged: constant({ unbind: noop })\n        },\n        editor: {\n          getContent: empty,\n          setContent: constant({\n            content: '',\n            html: ''\n          }),\n          insertContent: constant(''),\n          addVisual: noop\n        },\n        selection: { getContent: empty },\n        autocompleter: {\n          addDecoration: noop,\n          removeDecoration: noop\n        },\n        raw: { getModel: constant(Optional.none()) }\n      };\n    };\n    const isRtc = editor => has$2(editor.plugins, 'rtc');\n    const getRtcSetup = editor => get$a(editor.plugins, 'rtc').bind(rtcPlugin => Optional.from(rtcPlugin.setup));\n    const setup$s = editor => {\n      const editorCast = editor;\n      return getRtcSetup(editor).fold(() => {\n        editorCast.rtcInstance = makePlainAdaptor(editor);\n        return Optional.none();\n      }, setup => {\n        editorCast.rtcInstance = makeNoopAdaptor();\n        return Optional.some(() => setup().then(rtcEditor => {\n          editorCast.rtcInstance = makeRtcAdaptor(rtcEditor);\n          return rtcEditor.rtc.isRemote;\n        }));\n      });\n    };\n    const getRtcInstanceWithFallback = editor => editor.rtcInstance ? editor.rtcInstance : makePlainAdaptor(editor);\n    const getRtcInstanceWithError = editor => {\n      const rtcInstance = editor.rtcInstance;\n      if (!rtcInstance) {\n        throw new Error('Failed to get RTC instance not yet initialized.');\n      } else {\n        return rtcInstance;\n      }\n    };\n    const beforeChange = (editor, locks, beforeBookmark) => {\n      getRtcInstanceWithError(editor).undoManager.beforeChange(locks, beforeBookmark);\n    };\n    const addUndoLevel = (editor, undoManager, index, locks, beforeBookmark, level, event) => getRtcInstanceWithError(editor).undoManager.add(undoManager, index, locks, beforeBookmark, level, event);\n    const undo = (editor, undoManager, locks, index) => getRtcInstanceWithError(editor).undoManager.undo(undoManager, locks, index);\n    const redo = (editor, index, data) => getRtcInstanceWithError(editor).undoManager.redo(index, data);\n    const clear = (editor, undoManager, index) => {\n      getRtcInstanceWithError(editor).undoManager.clear(undoManager, index);\n    };\n    const reset = (editor, undoManager) => {\n      getRtcInstanceWithError(editor).undoManager.reset(undoManager);\n    };\n    const hasUndo = (editor, undoManager, index) => getRtcInstanceWithError(editor).undoManager.hasUndo(undoManager, index);\n    const hasRedo = (editor, undoManager, index) => getRtcInstanceWithError(editor).undoManager.hasRedo(undoManager, index);\n    const transact = (editor, undoManager, locks, callback) => getRtcInstanceWithError(editor).undoManager.transact(undoManager, locks, callback);\n    const ignore = (editor, locks, callback) => {\n      getRtcInstanceWithError(editor).undoManager.ignore(locks, callback);\n    };\n    const extra = (editor, undoManager, index, callback1, callback2) => {\n      getRtcInstanceWithError(editor).undoManager.extra(undoManager, index, callback1, callback2);\n    };\n    const matchFormat = (editor, name, vars, node, similar) => getRtcInstanceWithError(editor).formatter.match(name, vars, node, similar);\n    const matchAllFormats = (editor, names, vars) => getRtcInstanceWithError(editor).formatter.matchAll(names, vars);\n    const matchNodeFormat = (editor, node, name, vars, similar) => getRtcInstanceWithError(editor).formatter.matchNode(node, name, vars, similar);\n    const canApplyFormat = (editor, name) => getRtcInstanceWithError(editor).formatter.canApply(name);\n    const closestFormat = (editor, names) => getRtcInstanceWithError(editor).formatter.closest(names);\n    const applyFormat = (editor, name, vars, node) => {\n      getRtcInstanceWithError(editor).formatter.apply(name, vars, node);\n    };\n    const removeFormat = (editor, name, vars, node, similar) => {\n      getRtcInstanceWithError(editor).formatter.remove(name, vars, node, similar);\n    };\n    const toggleFormat = (editor, name, vars, node) => {\n      getRtcInstanceWithError(editor).formatter.toggle(name, vars, node);\n    };\n    const formatChanged = (editor, registeredFormatListeners, formats, callback, similar, vars) => getRtcInstanceWithError(editor).formatter.formatChanged(registeredFormatListeners, formats, callback, similar, vars);\n    const getContent$2 = (editor, args) => getRtcInstanceWithFallback(editor).editor.getContent(args);\n    const setContent$2 = (editor, content, args) => getRtcInstanceWithFallback(editor).editor.setContent(content, args);\n    const insertContent$1 = (editor, value, details) => getRtcInstanceWithFallback(editor).editor.insertContent(value, details);\n    const getSelectedContent = (editor, format, args) => getRtcInstanceWithError(editor).selection.getContent(format, args);\n    const addVisual$1 = (editor, elm) => getRtcInstanceWithError(editor).editor.addVisual(elm);\n    const bindEvents = editor => getRtcInstanceWithError(editor).init.bindEvents();\n    const addAutocompleterDecoration = (editor, range) => getRtcInstanceWithError(editor).autocompleter.addDecoration(range);\n    const removeAutocompleterDecoration = editor => getRtcInstanceWithError(editor).autocompleter.removeDecoration();\n\n    const getContent$1 = (editor, args = {}) => {\n      const format = args.format ? args.format : 'html';\n      return getSelectedContent(editor, format, args);\n    };\n\n    const removeEmpty = text => {\n      if (text.dom.length === 0) {\n        remove$6(text);\n        return Optional.none();\n      } else {\n        return Optional.some(text);\n      }\n    };\n    const walkPastBookmark = (node, start) => node.filter(elm => BookmarkManager.isBookmarkNode(elm.dom)).bind(start ? nextSibling : prevSibling);\n    const merge$1 = (outer, inner, rng, start) => {\n      const outerElm = outer.dom;\n      const innerElm = inner.dom;\n      const oldLength = start ? outerElm.length : innerElm.length;\n      if (start) {\n        mergeTextNodes(outerElm, innerElm, false, !start);\n        rng.setStart(innerElm, oldLength);\n      } else {\n        mergeTextNodes(innerElm, outerElm, false, !start);\n        rng.setEnd(innerElm, oldLength);\n      }\n    };\n    const normalizeTextIfRequired = (inner, start) => {\n      parent(inner).each(root => {\n        const text = inner.dom;\n        if (start && needsToBeNbspLeft(root, CaretPosition(text, 0))) {\n          normalizeWhitespaceAfter(text, 0);\n        } else if (!start && needsToBeNbspRight(root, CaretPosition(text, text.length))) {\n          normalizeWhitespaceBefore(text, text.length);\n        }\n      });\n    };\n    const mergeAndNormalizeText = (outerNode, innerNode, rng, start) => {\n      outerNode.bind(outer => {\n        const normalizer = start ? normalizeWhitespaceBefore : normalizeWhitespaceAfter;\n        normalizer(outer.dom, start ? outer.dom.length : 0);\n        return innerNode.filter(isText$a).map(inner => merge$1(outer, inner, rng, start));\n      }).orThunk(() => {\n        const innerTextNode = walkPastBookmark(innerNode, start).or(innerNode).filter(isText$a);\n        return innerTextNode.map(inner => normalizeTextIfRequired(inner, start));\n      });\n    };\n    const rngSetContent = (rng, fragment) => {\n      const firstChild = Optional.from(fragment.firstChild).map(SugarElement.fromDom);\n      const lastChild = Optional.from(fragment.lastChild).map(SugarElement.fromDom);\n      rng.deleteContents();\n      rng.insertNode(fragment);\n      const prevText = firstChild.bind(prevSibling).filter(isText$a).bind(removeEmpty);\n      const nextText = lastChild.bind(nextSibling).filter(isText$a).bind(removeEmpty);\n      mergeAndNormalizeText(prevText, firstChild, rng, true);\n      mergeAndNormalizeText(nextText, lastChild, rng, false);\n      rng.collapse(false);\n    };\n    const setupArgs$2 = (args, content) => ({\n      format: 'html',\n      ...args,\n      set: true,\n      selection: true,\n      content\n    });\n    const cleanContent = (editor, args) => {\n      if (args.format !== 'raw') {\n        const rng = editor.selection.getRng();\n        const contextBlock = editor.dom.getParent(rng.commonAncestorContainer, editor.dom.isBlock);\n        const contextArgs = contextBlock ? { context: contextBlock.nodeName.toLowerCase() } : {};\n        const node = editor.parser.parse(args.content, {\n          forced_root_block: false,\n          ...contextArgs,\n          ...args\n        });\n        return HtmlSerializer({ validate: false }, editor.schema).serialize(node);\n      } else {\n        return args.content;\n      }\n    };\n    const setContent$1 = (editor, content, args = {}) => {\n      const defaultedArgs = setupArgs$2(args, content);\n      preProcessSetContent(editor, defaultedArgs).each(updatedArgs => {\n        const cleanedContent = cleanContent(editor, updatedArgs);\n        const rng = editor.selection.getRng();\n        rngSetContent(rng, rng.createContextualFragment(cleanedContent));\n        editor.selection.setRng(rng);\n        scrollRangeIntoView(editor, rng);\n        postProcessSetContent(editor, cleanedContent, updatedArgs);\n      });\n    };\n\n    const deleteFromCallbackMap = (callbackMap, selector, callback) => {\n      if (callbackMap && has$2(callbackMap, selector)) {\n        const newCallbacks = filter$6(callbackMap[selector], cb => cb !== callback);\n        if (newCallbacks.length === 0) {\n          delete callbackMap[selector];\n        } else {\n          callbackMap[selector] = newCallbacks;\n        }\n      }\n    };\n    var SelectorChanged = (dom, editor) => {\n      let selectorChangedData;\n      let currentSelectors;\n      const findMatchingNode = (selector, nodes) => find$2(nodes, node => dom.is(node, selector));\n      const getParents = elem => dom.getParents(elem, null, dom.getRoot());\n      return {\n        selectorChangedWithUnbind: (selector, callback) => {\n          if (!selectorChangedData) {\n            selectorChangedData = {};\n            currentSelectors = {};\n            editor.on('NodeChange', e => {\n              const node = e.element;\n              const parents = getParents(node);\n              const matchedSelectors = {};\n              Tools.each(selectorChangedData, (callbacks, selector) => {\n                findMatchingNode(selector, parents).each(node => {\n                  if (!currentSelectors[selector]) {\n                    each$f(callbacks, callback => {\n                      callback(true, {\n                        node,\n                        selector,\n                        parents\n                      });\n                    });\n                    currentSelectors[selector] = callbacks;\n                  }\n                  matchedSelectors[selector] = callbacks;\n                });\n              });\n              Tools.each(currentSelectors, (callbacks, selector) => {\n                if (!matchedSelectors[selector]) {\n                  delete currentSelectors[selector];\n                  Tools.each(callbacks, callback => {\n                    callback(false, {\n                      node,\n                      selector,\n                      parents\n                    });\n                  });\n                }\n              });\n            });\n          }\n          if (!selectorChangedData[selector]) {\n            selectorChangedData[selector] = [];\n          }\n          selectorChangedData[selector].push(callback);\n          findMatchingNode(selector, getParents(editor.selection.getStart())).each(() => {\n            currentSelectors[selector] = selectorChangedData[selector];\n          });\n          return {\n            unbind: () => {\n              deleteFromCallbackMap(selectorChangedData, selector, callback);\n              deleteFromCallbackMap(currentSelectors, selector, callback);\n            }\n          };\n        }\n      };\n    };\n\n    const isAttachedToDom = node => {\n      return !!(node && node.ownerDocument) && contains(SugarElement.fromDom(node.ownerDocument), SugarElement.fromDom(node));\n    };\n    const isValidRange = rng => {\n      if (!rng) {\n        return false;\n      } else {\n        return isAttachedToDom(rng.startContainer) && isAttachedToDom(rng.endContainer);\n      }\n    };\n    const EditorSelection = (dom, win, serializer, editor) => {\n      let selectedRange;\n      let explicitRange;\n      const {selectorChangedWithUnbind} = SelectorChanged(dom, editor);\n      const setCursorLocation = (node, offset) => {\n        const rng = dom.createRng();\n        if (isNonNullable(node) && isNonNullable(offset)) {\n          rng.setStart(node, offset);\n          rng.setEnd(node, offset);\n          setRng(rng);\n          collapse(false);\n        } else {\n          moveEndPoint(dom, rng, editor.getBody(), true);\n          setRng(rng);\n        }\n      };\n      const getContent = args => getContent$1(editor, args);\n      const setContent = (content, args) => setContent$1(editor, content, args);\n      const getStart$1 = real => getStart(editor.getBody(), getRng$1(), real);\n      const getEnd = real => getEnd$1(editor.getBody(), getRng$1(), real);\n      const getBookmark = (type, normalized) => bookmarkManager.getBookmark(type, normalized);\n      const moveToBookmark = bookmark => bookmarkManager.moveToBookmark(bookmark);\n      const select$1 = (node, content) => {\n        select(dom, node, content).each(setRng);\n        return node;\n      };\n      const isCollapsed = () => {\n        const rng = getRng$1(), sel = getSel();\n        if (!rng || rng.item) {\n          return false;\n        }\n        if (rng.compareEndPoints) {\n          return rng.compareEndPoints('StartToEnd', rng) === 0;\n        }\n        return !sel || rng.collapsed;\n      };\n      const collapse = toStart => {\n        const rng = getRng$1();\n        rng.collapse(!!toStart);\n        setRng(rng);\n      };\n      const getSel = () => win.getSelection ? win.getSelection() : win.document.selection;\n      const getRng$1 = () => {\n        let selection, rng, elm;\n        const tryCompareBoundaryPoints = (how, sourceRange, destinationRange) => {\n          try {\n            return sourceRange.compareBoundaryPoints(how, destinationRange);\n          } catch (ex) {\n            return -1;\n          }\n        };\n        const doc = win.document;\n        if (editor.bookmark !== undefined && hasFocus(editor) === false) {\n          const bookmark = getRng(editor);\n          if (bookmark.isSome()) {\n            return bookmark.map(r => processRanges(editor, [r])[0]).getOr(doc.createRange());\n          }\n        }\n        try {\n          if ((selection = getSel()) && !isRestrictedNode(selection.anchorNode)) {\n            if (selection.rangeCount > 0) {\n              rng = selection.getRangeAt(0);\n            } else {\n              rng = selection.createRange ? selection.createRange() : doc.createRange();\n            }\n            rng = processRanges(editor, [rng])[0];\n          }\n        } catch (ex) {\n        }\n        if (!rng) {\n          rng = doc.createRange();\n        }\n        if (rng.setStart && rng.startContainer.nodeType === 9 && rng.collapsed) {\n          elm = dom.getRoot();\n          rng.setStart(elm, 0);\n          rng.setEnd(elm, 0);\n        }\n        if (selectedRange && explicitRange) {\n          if (tryCompareBoundaryPoints(rng.START_TO_START, rng, selectedRange) === 0 && tryCompareBoundaryPoints(rng.END_TO_END, rng, selectedRange) === 0) {\n            rng = explicitRange;\n          } else {\n            selectedRange = null;\n            explicitRange = null;\n          }\n        }\n        return rng;\n      };\n      const setRng = (rng, forward) => {\n        let node;\n        if (!isValidRange(rng)) {\n          return;\n        }\n        const sel = getSel();\n        const evt = editor.dispatch('SetSelectionRange', {\n          range: rng,\n          forward\n        });\n        rng = evt.range;\n        if (sel) {\n          explicitRange = rng;\n          try {\n            sel.removeAllRanges();\n            sel.addRange(rng);\n          } catch (ex) {\n          }\n          if (forward === false && sel.extend) {\n            sel.collapse(rng.endContainer, rng.endOffset);\n            sel.extend(rng.startContainer, rng.startOffset);\n          }\n          selectedRange = sel.rangeCount > 0 ? sel.getRangeAt(0) : null;\n        }\n        if (!rng.collapsed && rng.startContainer === rng.endContainer && sel.setBaseAndExtent) {\n          if (rng.endOffset - rng.startOffset < 2) {\n            if (rng.startContainer.hasChildNodes()) {\n              node = rng.startContainer.childNodes[rng.startOffset];\n              if (node && node.tagName === 'IMG') {\n                sel.setBaseAndExtent(rng.startContainer, rng.startOffset, rng.endContainer, rng.endOffset);\n                if (sel.anchorNode !== rng.startContainer || sel.focusNode !== rng.endContainer) {\n                  sel.setBaseAndExtent(node, 0, node, 1);\n                }\n              }\n            }\n          }\n        }\n        editor.dispatch('AfterSetSelectionRange', {\n          range: rng,\n          forward\n        });\n      };\n      const setNode = elm => {\n        setContent(dom.getOuterHTML(elm));\n        return elm;\n      };\n      const getNode$1 = () => getNode(editor.getBody(), getRng$1());\n      const getSelectedBlocks$1 = (startElm, endElm) => getSelectedBlocks(dom, getRng$1(), startElm, endElm);\n      const isForward = () => {\n        const sel = getSel();\n        const anchorNode = sel === null || sel === void 0 ? void 0 : sel.anchorNode;\n        const focusNode = sel === null || sel === void 0 ? void 0 : sel.focusNode;\n        if (!sel || !anchorNode || !focusNode || isRestrictedNode(anchorNode) || isRestrictedNode(focusNode)) {\n          return true;\n        }\n        const anchorRange = dom.createRng();\n        const focusRange = dom.createRng();\n        try {\n          anchorRange.setStart(anchorNode, sel.anchorOffset);\n          anchorRange.collapse(true);\n          focusRange.setStart(focusNode, sel.focusOffset);\n          focusRange.collapse(true);\n        } catch (e) {\n          return true;\n        }\n        return anchorRange.compareBoundaryPoints(anchorRange.START_TO_START, focusRange) <= 0;\n      };\n      const normalize = () => {\n        const rng = getRng$1();\n        const sel = getSel();\n        if (!hasMultipleRanges(sel) && hasAnyRanges(editor)) {\n          const normRng = normalize$2(dom, rng);\n          normRng.each(normRng => {\n            setRng(normRng, isForward());\n          });\n          return normRng.getOr(rng);\n        }\n        return rng;\n      };\n      const selectorChanged = (selector, callback) => {\n        selectorChangedWithUnbind(selector, callback);\n        return exports;\n      };\n      const getScrollContainer = () => {\n        let scrollContainer;\n        let node = dom.getRoot();\n        while (node && node.nodeName !== 'BODY') {\n          if (node.scrollHeight > node.clientHeight) {\n            scrollContainer = node;\n            break;\n          }\n          node = node.parentNode;\n        }\n        return scrollContainer;\n      };\n      const scrollIntoView = (elm, alignToTop) => {\n        if (isNonNullable(elm)) {\n          scrollElementIntoView(editor, elm, alignToTop);\n        } else {\n          scrollRangeIntoView(editor, getRng$1(), alignToTop);\n        }\n      };\n      const placeCaretAt = (clientX, clientY) => setRng(fromPoint(clientX, clientY, editor.getDoc()));\n      const getBoundingClientRect = () => {\n        const rng = getRng$1();\n        return rng.collapsed ? CaretPosition.fromRangeStart(rng).getClientRects()[0] : rng.getBoundingClientRect();\n      };\n      const destroy = () => {\n        win = selectedRange = explicitRange = null;\n        controlSelection.destroy();\n      };\n      const exports = {\n        bookmarkManager: null,\n        controlSelection: null,\n        dom,\n        win,\n        serializer,\n        editor,\n        collapse,\n        setCursorLocation,\n        getContent,\n        setContent,\n        getBookmark,\n        moveToBookmark,\n        select: select$1,\n        isCollapsed,\n        isForward,\n        setNode,\n        getNode: getNode$1,\n        getSel,\n        setRng,\n        getRng: getRng$1,\n        getStart: getStart$1,\n        getEnd,\n        getSelectedBlocks: getSelectedBlocks$1,\n        normalize,\n        selectorChanged,\n        selectorChangedWithUnbind,\n        getScrollContainer,\n        scrollIntoView,\n        placeCaretAt,\n        getBoundingClientRect,\n        destroy\n      };\n      const bookmarkManager = BookmarkManager(exports);\n      const controlSelection = ControlSelection(exports, editor);\n      exports.bookmarkManager = bookmarkManager;\n      exports.controlSelection = controlSelection;\n      return exports;\n    };\n\n    const register$3 = (htmlParser, settings, dom) => {\n      htmlParser.addAttributeFilter('data-mce-tabindex', (nodes, name) => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          node.attr('tabindex', node.attr('data-mce-tabindex'));\n          node.attr(name, null);\n        }\n      });\n      htmlParser.addAttributeFilter('src,href,style', (nodes, name) => {\n        const internalName = 'data-mce-' + name;\n        const urlConverter = settings.url_converter;\n        const urlConverterScope = settings.url_converter_scope;\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          let value = node.attr(internalName);\n          if (value !== undefined) {\n            node.attr(name, value.length > 0 ? value : null);\n            node.attr(internalName, null);\n          } else {\n            value = node.attr(name);\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n            } else if (urlConverter) {\n              value = urlConverter.call(urlConverterScope, value, name, node.name);\n            }\n            node.attr(name, value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('class', nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          let value = node.attr('class');\n          if (value) {\n            value = node.attr('class').replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g, '');\n            node.attr('class', value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', (nodes, name, args) => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          if (node.attr('data-mce-type') === 'bookmark' && !args.cleanup) {\n            const hasChildren = Optional.from(node.firstChild).exists(firstChild => !isZwsp(firstChild.value));\n            if (hasChildren) {\n              node.unwrap();\n            } else {\n              node.remove();\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('noscript', nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i].firstChild;\n          if (node) {\n            node.value = Entities.decode(node.value);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('script,style', (nodes, name) => {\n        const trim = value => {\n          return value.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g, '\\n').replace(/^[\\r\\n]*|[\\r\\n]*$/g, '').replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi, '').replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g, '');\n        };\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          const value = node.firstChild ? node.firstChild.value : '';\n          if (name === 'script') {\n            const type = node.attr('type');\n            if (type) {\n              node.attr('type', type === 'mce-no/type' ? null : type.replace(/^mce\\-/, ''));\n            }\n            if (settings.element_format === 'xhtml' && value.length > 0) {\n              node.firstChild.value = '// <![CDATA[\\n' + trim(value) + '\\n// ]]>';\n            }\n          } else {\n            if (settings.element_format === 'xhtml' && value.length > 0) {\n              node.firstChild.value = '<!--\\n' + trim(value) + '\\n-->';\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('#comment', nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          if (settings.preserve_cdata && node.value.indexOf('[CDATA[') === 0) {\n            node.name = '#cdata';\n            node.type = 4;\n            node.value = dom.decode(node.value.replace(/^\\[CDATA\\[|\\]\\]$/g, ''));\n          } else if (node.value.indexOf('mce:protected ') === 0) {\n            node.name = '#text';\n            node.type = 3;\n            node.raw = true;\n            node.value = unescape(node.value).substr(14);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('xml:namespace,input', (nodes, name) => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          if (node.type === 7) {\n            node.remove();\n          } else if (node.type === 1) {\n            if (name === 'input' && !node.attr('type')) {\n              node.attr('type', 'text');\n            }\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', nodes => {\n        each$f(nodes, node => {\n          if (node.attr('data-mce-type') === 'format-caret') {\n            if (node.isEmpty(htmlParser.schema.getNonEmptyElements())) {\n              node.remove();\n            } else {\n              node.unwrap();\n            }\n          }\n        });\n      });\n      htmlParser.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,' + 'data-mce-selected,data-mce-expando,' + 'data-mce-type,data-mce-resize,data-mce-placeholder', (nodes, name) => {\n        let i = nodes.length;\n        while (i--) {\n          nodes[i].attr(name, null);\n        }\n      });\n    };\n    const trimTrailingBr = rootNode => {\n      const isBr = node => {\n        return node && node.name === 'br';\n      };\n      const brNode1 = rootNode.lastChild;\n      if (isBr(brNode1)) {\n        const brNode2 = brNode1.prev;\n        if (isBr(brNode2)) {\n          brNode1.remove();\n          brNode2.remove();\n        }\n      }\n    };\n\n    const preProcess$1 = (editor, node, args) => {\n      let oldDoc;\n      const dom = editor.dom;\n      let clonedNode = node.cloneNode(true);\n      const impl = document.implementation;\n      if (impl.createHTMLDocument) {\n        const doc = impl.createHTMLDocument('');\n        Tools.each(clonedNode.nodeName === 'BODY' ? clonedNode.childNodes : [clonedNode], node => {\n          doc.body.appendChild(doc.importNode(node, true));\n        });\n        if (clonedNode.nodeName !== 'BODY') {\n          clonedNode = doc.body.firstChild;\n        } else {\n          clonedNode = doc.body;\n        }\n        oldDoc = dom.doc;\n        dom.doc = doc;\n      }\n      firePreProcess(editor, {\n        ...args,\n        node: clonedNode\n      });\n      if (oldDoc) {\n        dom.doc = oldDoc;\n      }\n      return clonedNode;\n    };\n    const shouldFireEvent = (editor, args) => {\n      return editor && editor.hasEventListeners('PreProcess') && !args.no_events;\n    };\n    const process$1 = (editor, node, args) => {\n      return shouldFireEvent(editor, args) ? preProcess$1(editor, node, args) : node;\n    };\n\n    const addTempAttr = (htmlParser, tempAttrs, name) => {\n      if (Tools.inArray(tempAttrs, name) === -1) {\n        htmlParser.addAttributeFilter(name, (nodes, name) => {\n          let i = nodes.length;\n          while (i--) {\n            nodes[i].attr(name, null);\n          }\n        });\n        tempAttrs.push(name);\n      }\n    };\n    const postProcess = (editor, args, content) => {\n      if (!args.no_events && editor) {\n        const outArgs = firePostProcess(editor, {\n          ...args,\n          content\n        });\n        return outArgs.content;\n      } else {\n        return content;\n      }\n    };\n    const getHtmlFromNode = (dom, node, args) => {\n      const html = trim$1(args.getInner ? node.innerHTML : dom.getOuterHTML(node));\n      return args.selection || isWsPreserveElement(SugarElement.fromDom(node)) ? html : Tools.trim(html);\n    };\n    const parseHtml = (htmlParser, html, args) => {\n      const parserArgs = args.selection ? {\n        forced_root_block: false,\n        ...args\n      } : args;\n      const rootNode = htmlParser.parse(html, parserArgs);\n      trimTrailingBr(rootNode);\n      return rootNode;\n    };\n    const serializeNode = (settings, schema, node) => {\n      const htmlSerializer = HtmlSerializer(settings, schema);\n      return htmlSerializer.serialize(node);\n    };\n    const toHtml = (editor, settings, schema, rootNode, args) => {\n      const content = serializeNode(settings, schema, rootNode);\n      return postProcess(editor, args, content);\n    };\n    const DomSerializerImpl = (settings, editor) => {\n      const tempAttrs = ['data-mce-selected'];\n      const dom = editor && editor.dom ? editor.dom : DOMUtils.DOM;\n      const schema = editor && editor.schema ? editor.schema : Schema(settings);\n      settings.entity_encoding = settings.entity_encoding || 'named';\n      settings.remove_trailing_brs = 'remove_trailing_brs' in settings ? settings.remove_trailing_brs : true;\n      const htmlParser = DomParser(settings, schema);\n      register$3(htmlParser, settings, dom);\n      const serialize = (node, parserArgs = {}) => {\n        const args = {\n          format: 'html',\n          ...parserArgs\n        };\n        const targetNode = process$1(editor, node, args);\n        const html = getHtmlFromNode(dom, targetNode, args);\n        const rootNode = parseHtml(htmlParser, html, args);\n        return args.format === 'tree' ? rootNode : toHtml(editor, settings, schema, rootNode, args);\n      };\n      return {\n        schema,\n        addNodeFilter: htmlParser.addNodeFilter,\n        addAttributeFilter: htmlParser.addAttributeFilter,\n        serialize: serialize,\n        addRules: schema.addValidElements,\n        setRules: schema.setValidElements,\n        addTempAttr: curry(addTempAttr, htmlParser, tempAttrs),\n        getTempAttrs: constant(tempAttrs),\n        getNodeFilters: htmlParser.getNodeFilters,\n        getAttributeFilters: htmlParser.getAttributeFilters,\n        removeNodeFilter: htmlParser.removeNodeFilter,\n        removeAttributeFilter: htmlParser.removeAttributeFilter\n      };\n    };\n\n    const DomSerializer = (settings, editor) => {\n      const domSerializer = DomSerializerImpl(settings, editor);\n      return {\n        schema: domSerializer.schema,\n        addNodeFilter: domSerializer.addNodeFilter,\n        addAttributeFilter: domSerializer.addAttributeFilter,\n        serialize: domSerializer.serialize,\n        addRules: domSerializer.addRules,\n        setRules: domSerializer.setRules,\n        addTempAttr: domSerializer.addTempAttr,\n        getTempAttrs: domSerializer.getTempAttrs,\n        getNodeFilters: domSerializer.getNodeFilters,\n        getAttributeFilters: domSerializer.getAttributeFilters,\n        removeNodeFilter: domSerializer.removeNodeFilter,\n        removeAttributeFilter: domSerializer.removeAttributeFilter\n      };\n    };\n\n    const defaultFormat$1 = 'html';\n    const setupArgs$1 = (args, format) => ({\n      ...args,\n      format,\n      get: true,\n      getInner: true\n    });\n    const getContent = (editor, args = {}) => {\n      const format = args.format ? args.format : defaultFormat$1;\n      const defaultedArgs = setupArgs$1(args, format);\n      return preProcessGetContent(editor, defaultedArgs).fold(identity, updatedArgs => {\n        const content = getContent$2(editor, updatedArgs);\n        return postProcessGetContent(editor, content, updatedArgs);\n      });\n    };\n\n    const defaultFormat = 'html';\n    const setupArgs = (args, content) => ({\n      format: defaultFormat,\n      ...args,\n      set: true,\n      content\n    });\n    const setContent = (editor, content, args = {}) => {\n      const defaultedArgs = setupArgs(args, content);\n      return preProcessSetContent(editor, defaultedArgs).map(updatedArgs => {\n        const result = setContent$2(editor, updatedArgs.content, updatedArgs);\n        postProcessSetContent(editor, result.html, updatedArgs);\n        return result.content;\n      }).getOr(content);\n    };\n\n    const removedOptions = ('autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,' + 'boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,' + 'force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,' + 'non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,' + 'tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,' + 'paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists').split(',');\n    const removedPlugins = 'bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor'.split(',');\n    const getRemovedOptions = options => {\n      const settingNames = filter$6(removedOptions, setting => has$2(options, setting));\n      const forcedRootBlock = options.forced_root_block;\n      if (forcedRootBlock === false || forcedRootBlock === '') {\n        settingNames.push('forced_root_block (false only)');\n      }\n      return sort(settingNames);\n    };\n    const getRemovedPlugins = options => {\n      const plugins = Tools.makeMap(options.plugins, ' ');\n      const hasPlugin = plugin => has$2(plugins, plugin);\n      const pluginNames = filter$6(removedPlugins, hasPlugin);\n      return sort(pluginNames);\n    };\n    const logRemovedWarnings = (rawOptions, normalizedOptions) => {\n      const removedOptions = getRemovedOptions(rawOptions);\n      const removedPlugins = getRemovedPlugins(normalizedOptions);\n      const hasRemovedPlugins = removedPlugins.length > 0;\n      const hasRemovedOptions = removedOptions.length > 0;\n      const isLegacyMobileTheme = normalizedOptions.theme === 'mobile';\n      if (hasRemovedPlugins || hasRemovedOptions || isLegacyMobileTheme) {\n        const listJoiner = '\\n- ';\n        const themesMessage = isLegacyMobileTheme ? `\\n\\nThemes:${ listJoiner }mobile` : '';\n        const pluginsMessage = hasRemovedPlugins ? `\\n\\nPlugins:${ listJoiner }${ removedPlugins.join(listJoiner) }` : '';\n        const optionsMessage = hasRemovedOptions ? `\\n\\nOptions:${ listJoiner }${ removedOptions.join(listJoiner) }` : '';\n        console.warn('The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. ' + 'See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information.' + themesMessage + pluginsMessage + optionsMessage);\n      }\n    };\n    const logWarnings = (rawOptions, normalizedOptions) => {\n      logRemovedWarnings(rawOptions, normalizedOptions);\n    };\n\n    const DOM$8 = DOMUtils.DOM;\n    const restoreOriginalStyles = editor => {\n      DOM$8.setStyle(editor.id, 'display', editor.orgDisplay);\n    };\n    const safeDestroy = x => Optional.from(x).each(x => x.destroy());\n    const clearDomReferences = editor => {\n      editor.contentAreaContainer = editor.formElement = editor.container = editor.editorContainer = null;\n      editor.bodyElement = editor.contentDocument = editor.contentWindow = null;\n      editor.iframeElement = editor.targetElm = null;\n      if (editor.selection) {\n        editor.selection = editor.selection.win = editor.selection.dom = editor.selection.dom.doc = null;\n      }\n    };\n    const restoreForm = editor => {\n      const form = editor.formElement;\n      if (form) {\n        if (form._mceOldSubmit) {\n          form.submit = form._mceOldSubmit;\n          form._mceOldSubmit = null;\n        }\n        DOM$8.unbind(form, 'submit reset', editor.formEventDelegate);\n      }\n    };\n    const remove$1 = editor => {\n      if (!editor.removed) {\n        const {_selectionOverrides, editorUpload} = editor;\n        const body = editor.getBody();\n        const element = editor.getElement();\n        if (body) {\n          editor.save({ is_removing: true });\n        }\n        editor.removed = true;\n        editor.unbindAllNativeEvents();\n        if (editor.hasHiddenInput && element) {\n          DOM$8.remove(element.nextSibling);\n        }\n        fireRemove(editor);\n        editor.editorManager.remove(editor);\n        if (!editor.inline && body) {\n          restoreOriginalStyles(editor);\n        }\n        fireDetach(editor);\n        DOM$8.remove(editor.getContainer());\n        safeDestroy(_selectionOverrides);\n        safeDestroy(editorUpload);\n        editor.destroy();\n      }\n    };\n    const destroy = (editor, automatic) => {\n      const {selection, dom} = editor;\n      if (editor.destroyed) {\n        return;\n      }\n      if (!automatic && !editor.removed) {\n        editor.remove();\n        return;\n      }\n      if (!automatic) {\n        editor.editorManager.off('beforeunload', editor._beforeUnload);\n        if (editor.theme && editor.theme.destroy) {\n          editor.theme.destroy();\n        }\n        safeDestroy(selection);\n        safeDestroy(dom);\n      }\n      restoreForm(editor);\n      clearDomReferences(editor);\n      editor.destroyed = true;\n    };\n\n    const CreateIconManager = () => {\n      const lookup = {};\n      const add = (id, iconPack) => {\n        lookup[id] = iconPack;\n      };\n      const get = id => {\n        if (lookup[id]) {\n          return lookup[id];\n        }\n        return { icons: {} };\n      };\n      const has = id => has$2(lookup, id);\n      return {\n        add,\n        get,\n        has\n      };\n    };\n    const IconManager = CreateIconManager();\n\n    const ModelManager = AddOnManager.ModelManager;\n\n    const getProp = (propName, elm) => {\n      const rawElm = elm.dom;\n      return rawElm[propName];\n    };\n    const getComputedSizeProp = (propName, elm) => parseInt(get$7(elm, propName), 10);\n    const getClientWidth = curry(getProp, 'clientWidth');\n    const getClientHeight = curry(getProp, 'clientHeight');\n    const getMarginTop = curry(getComputedSizeProp, 'margin-top');\n    const getMarginLeft = curry(getComputedSizeProp, 'margin-left');\n    const getBoundingClientRect = elm => elm.dom.getBoundingClientRect();\n    const isInsideElementContentArea = (bodyElm, clientX, clientY) => {\n      const clientWidth = getClientWidth(bodyElm);\n      const clientHeight = getClientHeight(bodyElm);\n      return clientX >= 0 && clientY >= 0 && clientX <= clientWidth && clientY <= clientHeight;\n    };\n    const transpose = (inline, elm, clientX, clientY) => {\n      const clientRect = getBoundingClientRect(elm);\n      const deltaX = inline ? clientRect.left + elm.dom.clientLeft + getMarginLeft(elm) : 0;\n      const deltaY = inline ? clientRect.top + elm.dom.clientTop + getMarginTop(elm) : 0;\n      const x = clientX - deltaX;\n      const y = clientY - deltaY;\n      return {\n        x,\n        y\n      };\n    };\n    const isXYInContentArea = (editor, clientX, clientY) => {\n      const bodyElm = SugarElement.fromDom(editor.getBody());\n      const targetElm = editor.inline ? bodyElm : documentElement(bodyElm);\n      const transposedPoint = transpose(editor.inline, targetElm, clientX, clientY);\n      return isInsideElementContentArea(targetElm, transposedPoint.x, transposedPoint.y);\n    };\n    const fromDomSafe = node => Optional.from(node).map(SugarElement.fromDom);\n    const isEditorAttachedToDom = editor => {\n      const rawContainer = editor.inline ? editor.getBody() : editor.getContentAreaContainer();\n      return fromDomSafe(rawContainer).map(inBody).getOr(false);\n    };\n\n    const NotificationManagerImpl = () => {\n      const unimplemented = () => {\n        throw new Error('Theme did not provide a NotificationManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        close: unimplemented,\n        getArgs: unimplemented\n      };\n    };\n\n    const NotificationManager = editor => {\n      const notifications = [];\n      const getImplementation = () => {\n        const theme = editor.theme;\n        return theme && theme.getNotificationManagerImpl ? theme.getNotificationManagerImpl() : NotificationManagerImpl();\n      };\n      const getTopNotification = () => {\n        return Optional.from(notifications[0]);\n      };\n      const isEqual = (a, b) => {\n        return a.type === b.type && a.text === b.text && !a.progressBar && !a.timeout && !b.progressBar && !b.timeout;\n      };\n      const reposition = () => {\n        each$f(notifications, notification => {\n          notification.reposition();\n        });\n      };\n      const addNotification = notification => {\n        notifications.push(notification);\n      };\n      const closeNotification = notification => {\n        findIndex$2(notifications, otherNotification => {\n          return otherNotification === notification;\n        }).each(index => {\n          notifications.splice(index, 1);\n        });\n      };\n      const open = (spec, fireEvent = true) => {\n        if (editor.removed || !isEditorAttachedToDom(editor)) {\n          return;\n        }\n        if (fireEvent) {\n          editor.dispatch('BeforeOpenNotification', { notification: spec });\n        }\n        return find$2(notifications, notification => {\n          return isEqual(getImplementation().getArgs(notification), spec);\n        }).getOrThunk(() => {\n          editor.editorManager.setActive(editor);\n          const notification = getImplementation().open(spec, () => {\n            closeNotification(notification);\n            reposition();\n            getTopNotification().fold(() => editor.focus(), top => focus$1(SugarElement.fromDom(top.getEl())));\n          });\n          addNotification(notification);\n          reposition();\n          editor.dispatch('OpenNotification', { notification: { ...notification } });\n          return notification;\n        });\n      };\n      const close = () => {\n        getTopNotification().each(notification => {\n          getImplementation().close(notification);\n          closeNotification(notification);\n          reposition();\n        });\n      };\n      const getNotifications = constant(notifications);\n      const registerEvents = editor => {\n        editor.on('SkinLoaded', () => {\n          const serviceMessage = getServiceMessage(editor);\n          if (serviceMessage) {\n            open({\n              text: serviceMessage,\n              type: 'warning',\n              timeout: 0\n            }, false);\n          }\n          reposition();\n        });\n        editor.on('show ResizeEditor ResizeWindow NodeChange', () => {\n          requestAnimationFrame(reposition);\n        });\n        editor.on('remove', () => {\n          each$f(notifications.slice(), notification => {\n            getImplementation().close(notification);\n          });\n        });\n      };\n      registerEvents(editor);\n      return {\n        open,\n        close,\n        getNotifications\n      };\n    };\n\n    const PluginManager = AddOnManager.PluginManager;\n\n    const ThemeManager = AddOnManager.ThemeManager;\n\n    var WindowManagerImpl = () => {\n      const unimplemented = () => {\n        throw new Error('Theme did not provide a WindowManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        openUrl: unimplemented,\n        alert: unimplemented,\n        confirm: unimplemented,\n        close: unimplemented,\n        getParams: unimplemented,\n        setParams: unimplemented\n      };\n    };\n\n    const WindowManager = editor => {\n      let dialogs = [];\n      const getImplementation = () => {\n        const theme = editor.theme;\n        return theme && theme.getWindowManagerImpl ? theme.getWindowManagerImpl() : WindowManagerImpl();\n      };\n      const funcBind = (scope, f) => {\n        return (...args) => {\n          return f ? f.apply(scope, args) : undefined;\n        };\n      };\n      const fireOpenEvent = dialog => {\n        editor.dispatch('OpenWindow', { dialog });\n      };\n      const fireCloseEvent = dialog => {\n        editor.dispatch('CloseWindow', { dialog });\n      };\n      const addDialog = dialog => {\n        dialogs.push(dialog);\n        fireOpenEvent(dialog);\n      };\n      const closeDialog = dialog => {\n        fireCloseEvent(dialog);\n        dialogs = filter$6(dialogs, otherDialog => {\n          return otherDialog !== dialog;\n        });\n        if (dialogs.length === 0) {\n          editor.focus();\n        }\n      };\n      const getTopDialog = () => {\n        return Optional.from(dialogs[dialogs.length - 1]);\n      };\n      const storeSelectionAndOpenDialog = openDialog => {\n        editor.editorManager.setActive(editor);\n        store(editor);\n        editor.ui.show();\n        const dialog = openDialog();\n        addDialog(dialog);\n        return dialog;\n      };\n      const open = (args, params) => {\n        return storeSelectionAndOpenDialog(() => getImplementation().open(args, params, closeDialog));\n      };\n      const openUrl = args => {\n        return storeSelectionAndOpenDialog(() => getImplementation().openUrl(args, closeDialog));\n      };\n      const alert = (message, callback, scope) => {\n        const windowManagerImpl = getImplementation();\n        windowManagerImpl.alert(message, funcBind(scope ? scope : windowManagerImpl, callback));\n      };\n      const confirm = (message, callback, scope) => {\n        const windowManagerImpl = getImplementation();\n        windowManagerImpl.confirm(message, funcBind(scope ? scope : windowManagerImpl, callback));\n      };\n      const close = () => {\n        getTopDialog().each(dialog => {\n          getImplementation().close(dialog);\n          closeDialog(dialog);\n        });\n      };\n      editor.on('remove', () => {\n        each$f(dialogs, dialog => {\n          getImplementation().close(dialog);\n        });\n      });\n      return {\n        open,\n        openUrl,\n        alert,\n        confirm,\n        close\n      };\n    };\n\n    const displayNotification = (editor, message) => {\n      editor.notificationManager.open({\n        type: 'error',\n        text: message\n      });\n    };\n    const displayError = (editor, message) => {\n      if (editor._skinLoaded) {\n        displayNotification(editor, message);\n      } else {\n        editor.on('SkinLoaded', () => {\n          displayNotification(editor, message);\n        });\n      }\n    };\n    const uploadError = (editor, message) => {\n      displayError(editor, I18n.translate([\n        'Failed to upload image: {0}',\n        message\n      ]));\n    };\n    const logError = (editor, errorType, msg) => {\n      fireError(editor, errorType, { message: msg });\n      console.error(msg);\n    };\n    const createLoadError = (type, url, name) => name ? `Failed to load ${ type }: ${ name } from url ${ url }` : `Failed to load ${ type } url: ${ url }`;\n    const pluginLoadError = (editor, url, name) => {\n      logError(editor, 'PluginLoadError', createLoadError('plugin', url, name));\n    };\n    const iconsLoadError = (editor, url, name) => {\n      logError(editor, 'IconsLoadError', createLoadError('icons', url, name));\n    };\n    const languageLoadError = (editor, url, name) => {\n      logError(editor, 'LanguageLoadError', createLoadError('language', url, name));\n    };\n    const themeLoadError = (editor, url, name) => {\n      logError(editor, 'ThemeLoadError', createLoadError('theme', url, name));\n    };\n    const modelLoadError = (editor, url, name) => {\n      logError(editor, 'ModelLoadError', createLoadError('model', url, name));\n    };\n    const pluginInitError = (editor, name, err) => {\n      const message = I18n.translate([\n        'Failed to initialize plugin: {0}',\n        name\n      ]);\n      fireError(editor, 'PluginLoadError', { message });\n      initError(message, err);\n      displayError(editor, message);\n    };\n    const initError = (message, ...x) => {\n      const console = window.console;\n      if (console) {\n        if (console.error) {\n          console.error(message, ...x);\n        } else {\n          console.log(message, ...x);\n        }\n      }\n    };\n\n    const isContentCssSkinName = url => /^[a-z0-9\\-]+$/i.test(url);\n    const getContentCssUrls = editor => {\n      return transformToUrls(editor, getContentCss(editor));\n    };\n    const getFontCssUrls = editor => {\n      return transformToUrls(editor, getFontCss(editor));\n    };\n    const transformToUrls = (editor, cssLinks) => {\n      const skinUrl = editor.editorManager.baseURL + '/skins/content';\n      const suffix = editor.editorManager.suffix;\n      const contentCssFile = `content${ suffix }.css`;\n      const inline = editor.inline === true;\n      return map$3(cssLinks, url => {\n        if (isContentCssSkinName(url) && !inline) {\n          return `${ skinUrl }/${ url }/${ contentCssFile }`;\n        } else {\n          return editor.documentBaseURI.toAbsolute(url);\n        }\n      });\n    };\n    const appendContentCssFromSettings = editor => {\n      editor.contentCSS = editor.contentCSS.concat(getContentCssUrls(editor), getFontCssUrls(editor));\n    };\n\n    const filter$1 = always;\n    const bind$1 = (element, event, handler) => bind$2(element, event, filter$1, handler);\n\n    const getAllImages = elm => {\n      return elm ? from(elm.getElementsByTagName('img')) : [];\n    };\n    const ImageScanner = (uploadStatus, blobCache) => {\n      const cachedPromises = {};\n      const findAll = (elm, predicate = always) => {\n        const images = filter$6(getAllImages(elm), img => {\n          const src = img.src;\n          if (img.hasAttribute('data-mce-bogus')) {\n            return false;\n          }\n          if (img.hasAttribute('data-mce-placeholder')) {\n            return false;\n          }\n          if (!src || src === Env.transparentSrc) {\n            return false;\n          }\n          if (startsWith(src, 'blob:')) {\n            return !uploadStatus.isUploaded(src) && predicate(img);\n          }\n          if (startsWith(src, 'data:')) {\n            return predicate(img);\n          }\n          return false;\n        });\n        const promises = map$3(images, img => {\n          const imageSrc = img.src;\n          if (has$2(cachedPromises, imageSrc)) {\n            return cachedPromises[imageSrc].then(imageInfo => {\n              if (isString(imageInfo)) {\n                return imageInfo;\n              } else {\n                return {\n                  image: img,\n                  blobInfo: imageInfo.blobInfo\n                };\n              }\n            });\n          } else {\n            const newPromise = imageToBlobInfo(blobCache, imageSrc).then(blobInfo => {\n              delete cachedPromises[imageSrc];\n              return {\n                image: img,\n                blobInfo\n              };\n            }).catch(error => {\n              delete cachedPromises[imageSrc];\n              return error;\n            });\n            cachedPromises[imageSrc] = newPromise;\n            return newPromise;\n          }\n        });\n        return Promise.all(promises);\n      };\n      return { findAll };\n    };\n\n    const UploadStatus = () => {\n      const PENDING = 1, UPLOADED = 2;\n      let blobUriStatuses = {};\n      const createStatus = (status, resultUri) => {\n        return {\n          status,\n          resultUri\n        };\n      };\n      const hasBlobUri = blobUri => {\n        return blobUri in blobUriStatuses;\n      };\n      const getResultUri = blobUri => {\n        const result = blobUriStatuses[blobUri];\n        return result ? result.resultUri : null;\n      };\n      const isPending = blobUri => {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === PENDING : false;\n      };\n      const isUploaded = blobUri => {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === UPLOADED : false;\n      };\n      const markPending = blobUri => {\n        blobUriStatuses[blobUri] = createStatus(PENDING, null);\n      };\n      const markUploaded = (blobUri, resultUri) => {\n        blobUriStatuses[blobUri] = createStatus(UPLOADED, resultUri);\n      };\n      const removeFailed = blobUri => {\n        delete blobUriStatuses[blobUri];\n      };\n      const destroy = () => {\n        blobUriStatuses = {};\n      };\n      return {\n        hasBlobUri,\n        getResultUri,\n        isPending,\n        isUploaded,\n        markPending,\n        markUploaded,\n        removeFailed,\n        destroy\n      };\n    };\n\n    let count = 0;\n    const seed = () => {\n      const rnd = () => {\n        return Math.round(Math.random() * 4294967295).toString(36);\n      };\n      const now = new Date().getTime();\n      return 's' + now.toString(36) + rnd() + rnd() + rnd();\n    };\n    const uuid = prefix => {\n      return prefix + count++ + seed();\n    };\n\n    const BlobCache = () => {\n      let cache = [];\n      const mimeToExt = mime => {\n        const mimes = {\n          'image/jpeg': 'jpg',\n          'image/jpg': 'jpg',\n          'image/gif': 'gif',\n          'image/png': 'png',\n          'image/apng': 'apng',\n          'image/avif': 'avif',\n          'image/svg+xml': 'svg',\n          'image/webp': 'webp',\n          'image/bmp': 'bmp',\n          'image/tiff': 'tiff'\n        };\n        return mimes[mime.toLowerCase()] || 'dat';\n      };\n      const create = (o, blob, base64, name, filename) => {\n        if (isString(o)) {\n          const id = o;\n          return toBlobInfo({\n            id,\n            name,\n            filename,\n            blob,\n            base64\n          });\n        } else if (isObject(o)) {\n          return toBlobInfo(o);\n        } else {\n          throw new Error('Unknown input type');\n        }\n      };\n      const toBlobInfo = o => {\n        if (!o.blob || !o.base64) {\n          throw new Error('blob and base64 representations of the image are required for BlobInfo to be created');\n        }\n        const id = o.id || uuid('blobid');\n        const name = o.name || id;\n        const blob = o.blob;\n        return {\n          id: constant(id),\n          name: constant(name),\n          filename: constant(o.filename || name + '.' + mimeToExt(blob.type)),\n          blob: constant(blob),\n          base64: constant(o.base64),\n          blobUri: constant(o.blobUri || URL.createObjectURL(blob)),\n          uri: constant(o.uri)\n        };\n      };\n      const add = blobInfo => {\n        if (!get(blobInfo.id())) {\n          cache.push(blobInfo);\n        }\n      };\n      const findFirst = predicate => find$2(cache, predicate).getOrUndefined();\n      const get = id => findFirst(cachedBlobInfo => cachedBlobInfo.id() === id);\n      const getByUri = blobUri => findFirst(blobInfo => blobInfo.blobUri() === blobUri);\n      const getByData = (base64, type) => findFirst(blobInfo => blobInfo.base64() === base64 && blobInfo.blob().type === type);\n      const removeByUri = blobUri => {\n        cache = filter$6(cache, blobInfo => {\n          if (blobInfo.blobUri() === blobUri) {\n            URL.revokeObjectURL(blobInfo.blobUri());\n            return false;\n          }\n          return true;\n        });\n      };\n      const destroy = () => {\n        each$f(cache, cachedBlobInfo => {\n          URL.revokeObjectURL(cachedBlobInfo.blobUri());\n        });\n        cache = [];\n      };\n      return {\n        create,\n        add,\n        get,\n        getByUri,\n        getByData,\n        findFirst,\n        removeByUri,\n        destroy\n      };\n    };\n\n    const Uploader = (uploadStatus, settings) => {\n      const pendingPromises = {};\n      const pathJoin = (path1, path2) => {\n        if (path1) {\n          return path1.replace(/\\/$/, '') + '/' + path2.replace(/^\\//, '');\n        }\n        return path2;\n      };\n      const defaultHandler = (blobInfo, progress) => new Promise((success, failure) => {\n        const xhr = new XMLHttpRequest();\n        xhr.open('POST', settings.url);\n        xhr.withCredentials = settings.credentials;\n        xhr.upload.onprogress = e => {\n          progress(e.loaded / e.total * 100);\n        };\n        xhr.onerror = () => {\n          failure('Image upload failed due to a XHR Transport error. Code: ' + xhr.status);\n        };\n        xhr.onload = () => {\n          if (xhr.status < 200 || xhr.status >= 300) {\n            failure('HTTP Error: ' + xhr.status);\n            return;\n          }\n          const json = JSON.parse(xhr.responseText);\n          if (!json || !isString(json.location)) {\n            failure('Invalid JSON: ' + xhr.responseText);\n            return;\n          }\n          success(pathJoin(settings.basePath, json.location));\n        };\n        const formData = new FormData();\n        formData.append('file', blobInfo.blob(), blobInfo.filename());\n        xhr.send(formData);\n      });\n      const noUpload = () => new Promise(resolve => {\n        resolve([]);\n      });\n      const handlerSuccess = (blobInfo, url) => ({\n        url,\n        blobInfo,\n        status: true\n      });\n      const handlerFailure = (blobInfo, error) => ({\n        url: '',\n        blobInfo,\n        status: false,\n        error\n      });\n      const resolvePending = (blobUri, result) => {\n        Tools.each(pendingPromises[blobUri], resolve => {\n          resolve(result);\n        });\n        delete pendingPromises[blobUri];\n      };\n      const uploadBlobInfo = (blobInfo, handler, openNotification) => {\n        uploadStatus.markPending(blobInfo.blobUri());\n        return new Promise(resolve => {\n          let notification;\n          let progress;\n          try {\n            const closeNotification = () => {\n              if (notification) {\n                notification.close();\n                progress = noop;\n              }\n            };\n            const success = url => {\n              closeNotification();\n              uploadStatus.markUploaded(blobInfo.blobUri(), url);\n              resolvePending(blobInfo.blobUri(), handlerSuccess(blobInfo, url));\n              resolve(handlerSuccess(blobInfo, url));\n            };\n            const failure = error => {\n              closeNotification();\n              uploadStatus.removeFailed(blobInfo.blobUri());\n              resolvePending(blobInfo.blobUri(), handlerFailure(blobInfo, error));\n              resolve(handlerFailure(blobInfo, error));\n            };\n            progress = percent => {\n              if (percent < 0 || percent > 100) {\n                return;\n              }\n              Optional.from(notification).orThunk(() => Optional.from(openNotification).map(apply$1)).each(n => {\n                notification = n;\n                n.progressBar.value(percent);\n              });\n            };\n            handler(blobInfo, progress).then(success, err => {\n              failure(isString(err) ? { message: err } : err);\n            });\n          } catch (ex) {\n            resolve(handlerFailure(blobInfo, ex));\n          }\n        });\n      };\n      const isDefaultHandler = handler => handler === defaultHandler;\n      const pendingUploadBlobInfo = blobInfo => {\n        const blobUri = blobInfo.blobUri();\n        return new Promise(resolve => {\n          pendingPromises[blobUri] = pendingPromises[blobUri] || [];\n          pendingPromises[blobUri].push(resolve);\n        });\n      };\n      const uploadBlobs = (blobInfos, openNotification) => {\n        blobInfos = Tools.grep(blobInfos, blobInfo => !uploadStatus.isUploaded(blobInfo.blobUri()));\n        return Promise.all(Tools.map(blobInfos, blobInfo => uploadStatus.isPending(blobInfo.blobUri()) ? pendingUploadBlobInfo(blobInfo) : uploadBlobInfo(blobInfo, settings.handler, openNotification)));\n      };\n      const upload = (blobInfos, openNotification) => !settings.url && isDefaultHandler(settings.handler) ? noUpload() : uploadBlobs(blobInfos, openNotification);\n      if (isFunction(settings.handler) === false) {\n        settings.handler = defaultHandler;\n      }\n      return { upload };\n    };\n\n    const openNotification = editor => () => editor.notificationManager.open({\n      text: editor.translate('Image uploading...'),\n      type: 'info',\n      timeout: -1,\n      progressBar: true\n    });\n    const createUploader = (editor, uploadStatus) => Uploader(uploadStatus, {\n      url: getImageUploadUrl(editor),\n      basePath: getImageUploadBasePath(editor),\n      credentials: getImagesUploadCredentials(editor),\n      handler: getImagesUploadHandler(editor)\n    });\n    const ImageUploader = editor => {\n      const uploadStatus = UploadStatus();\n      const uploader = createUploader(editor, uploadStatus);\n      return { upload: (blobInfos, showNotification = true) => uploader.upload(blobInfos, showNotification ? openNotification(editor) : undefined) };\n    };\n\n    const EditorUpload = editor => {\n      const blobCache = BlobCache();\n      let uploader, imageScanner;\n      const uploadStatus = UploadStatus();\n      const urlFilters = [];\n      const aliveGuard = callback => {\n        return result => {\n          if (editor.selection) {\n            return callback(result);\n          }\n          return [];\n        };\n      };\n      const cacheInvalidator = url => url + (url.indexOf('?') === -1 ? '?' : '&') + new Date().getTime();\n      const replaceString = (content, search, replace) => {\n        let index = 0;\n        do {\n          index = content.indexOf(search, index);\n          if (index !== -1) {\n            content = content.substring(0, index) + replace + content.substr(index + search.length);\n            index += replace.length - search.length + 1;\n          }\n        } while (index !== -1);\n        return content;\n      };\n      const replaceImageUrl = (content, targetUrl, replacementUrl) => {\n        const replacementString = `src=\"${ replacementUrl }\"${ replacementUrl === Env.transparentSrc ? ' data-mce-placeholder=\"1\"' : '' }`;\n        content = replaceString(content, `src=\"${ targetUrl }\"`, replacementString);\n        content = replaceString(content, 'data-mce-src=\"' + targetUrl + '\"', 'data-mce-src=\"' + replacementUrl + '\"');\n        return content;\n      };\n      const replaceUrlInUndoStack = (targetUrl, replacementUrl) => {\n        each$f(editor.undoManager.data, level => {\n          if (level.type === 'fragmented') {\n            level.fragments = map$3(level.fragments, fragment => replaceImageUrl(fragment, targetUrl, replacementUrl));\n          } else {\n            level.content = replaceImageUrl(level.content, targetUrl, replacementUrl);\n          }\n        });\n      };\n      const replaceImageUriInView = (image, resultUri) => {\n        const src = editor.convertURL(resultUri, 'src');\n        replaceUrlInUndoStack(image.src, resultUri);\n        setAll$1(SugarElement.fromDom(image), {\n          'src': shouldReuseFileName(editor) ? cacheInvalidator(resultUri) : resultUri,\n          'data-mce-src': src\n        });\n      };\n      const uploadImages = () => {\n        if (!uploader) {\n          uploader = createUploader(editor, uploadStatus);\n        }\n        return scanForImages().then(aliveGuard(imageInfos => {\n          const blobInfos = map$3(imageInfos, imageInfo => imageInfo.blobInfo);\n          return uploader.upload(blobInfos, openNotification(editor)).then(aliveGuard(result => {\n            const imagesToRemove = [];\n            let shouldDispatchChange = false;\n            const filteredResult = map$3(result, (uploadInfo, index) => {\n              const blobInfo = imageInfos[index].blobInfo;\n              const image = imageInfos[index].image;\n              let removed = false;\n              if (uploadInfo.status && shouldReplaceBlobUris(editor)) {\n                if (uploadInfo.url && !contains$1(image.src, uploadInfo.url)) {\n                  shouldDispatchChange = true;\n                }\n                blobCache.removeByUri(image.src);\n                if (isRtc(editor)) ; else {\n                  replaceImageUriInView(image, uploadInfo.url);\n                }\n              } else if (uploadInfo.error) {\n                if (uploadInfo.error.remove) {\n                  replaceUrlInUndoStack(image.getAttribute('src'), Env.transparentSrc);\n                  imagesToRemove.push(image);\n                  removed = true;\n                }\n                uploadError(editor, uploadInfo.error.message);\n              }\n              return {\n                element: image,\n                status: uploadInfo.status,\n                uploadUri: uploadInfo.url,\n                blobInfo,\n                removed\n              };\n            });\n            if (imagesToRemove.length > 0 && !isRtc(editor)) {\n              editor.undoManager.transact(() => {\n                each$f(imagesToRemove, element => {\n                  editor.dom.remove(element);\n                  blobCache.removeByUri(element.src);\n                });\n              });\n            } else if (shouldDispatchChange) {\n              editor.undoManager.dispatchChange();\n            }\n            return filteredResult;\n          }));\n        }));\n      };\n      const uploadImagesAuto = () => isAutomaticUploadsEnabled(editor) ? uploadImages() : Promise.resolve([]);\n      const isValidDataUriImage = imgElm => forall(urlFilters, filter => filter(imgElm));\n      const addFilter = filter => {\n        urlFilters.push(filter);\n      };\n      const scanForImages = () => {\n        if (!imageScanner) {\n          imageScanner = ImageScanner(uploadStatus, blobCache);\n        }\n        return imageScanner.findAll(editor.getBody(), isValidDataUriImage).then(aliveGuard(result => {\n          const filteredResult = filter$6(result, resultItem => {\n            if (isString(resultItem)) {\n              displayError(editor, resultItem);\n              return false;\n            } else {\n              return true;\n            }\n          });\n          if (isRtc(editor)) ; else {\n            each$f(filteredResult, resultItem => {\n              replaceUrlInUndoStack(resultItem.image.src, resultItem.blobInfo.blobUri());\n              resultItem.image.src = resultItem.blobInfo.blobUri();\n              resultItem.image.removeAttribute('data-mce-src');\n            });\n          }\n          return filteredResult;\n        }));\n      };\n      const destroy = () => {\n        blobCache.destroy();\n        uploadStatus.destroy();\n        imageScanner = uploader = null;\n      };\n      const replaceBlobUris = content => {\n        return content.replace(/src=\"(blob:[^\"]+)\"/g, (match, blobUri) => {\n          const resultUri = uploadStatus.getResultUri(blobUri);\n          if (resultUri) {\n            return 'src=\"' + resultUri + '\"';\n          }\n          let blobInfo = blobCache.getByUri(blobUri);\n          if (!blobInfo) {\n            blobInfo = foldl(editor.editorManager.get(), (result, editor) => {\n              return result || editor.editorUpload && editor.editorUpload.blobCache.getByUri(blobUri);\n            }, null);\n          }\n          if (blobInfo) {\n            const blob = blobInfo.blob();\n            return 'src=\"data:' + blob.type + ';base64,' + blobInfo.base64() + '\"';\n          }\n          return match;\n        });\n      };\n      editor.on('SetContent', () => {\n        if (isAutomaticUploadsEnabled(editor)) {\n          uploadImagesAuto();\n        } else {\n          scanForImages();\n        }\n      });\n      editor.on('RawSaveContent', e => {\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('GetContent', e => {\n        if (e.source_view || e.format === 'raw' || e.format === 'tree') {\n          return;\n        }\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('PostRender', () => {\n        editor.parser.addNodeFilter('img', images => {\n          each$f(images, img => {\n            const src = img.attr('src');\n            if (blobCache.getByUri(src)) {\n              return;\n            }\n            const resultUri = uploadStatus.getResultUri(src);\n            if (resultUri) {\n              img.attr('src', resultUri);\n            }\n          });\n        });\n      });\n      return {\n        blobCache,\n        addFilter,\n        uploadImages,\n        uploadImagesAuto,\n        scanForImages,\n        destroy\n      };\n    };\n\n    const get$1 = editor => {\n      const dom = editor.dom;\n      const schemaType = editor.schema.type;\n      const formats = {\n        valigntop: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'top' }\n          }],\n        valignmiddle: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'middle' }\n          }],\n        valignbottom: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'bottom' }\n          }],\n        alignleft: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-left',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',\n            styles: { textAlign: 'left' },\n            inherit: false,\n            preview: false\n          },\n          {\n            selector: 'img,audio,video',\n            collapsed: false,\n            styles: { float: 'left' },\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'table',\n            collapsed: false,\n            styles: {\n              marginLeft: '0px',\n              marginRight: 'auto'\n            },\n            onformat: table => {\n              dom.setStyle(table, 'float', null);\n            },\n            preview: 'font-family font-size'\n          }\n        ],\n        aligncenter: [\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',\n            styles: { textAlign: 'center' },\n            inherit: false,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-center',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'img,audio,video',\n            collapsed: false,\n            styles: {\n              display: 'block',\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: false\n          },\n          {\n            selector: 'table',\n            collapsed: false,\n            styles: {\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: 'font-family font-size'\n          }\n        ],\n        alignright: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-right',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',\n            styles: { textAlign: 'right' },\n            inherit: false,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'img,audio,video',\n            collapsed: false,\n            styles: { float: 'right' },\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'table',\n            collapsed: false,\n            styles: {\n              marginRight: '0px',\n              marginLeft: 'auto'\n            },\n            onformat: table => {\n              dom.setStyle(table, 'float', null);\n            },\n            preview: 'font-family font-size'\n          }\n        ],\n        alignjustify: [{\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',\n            styles: { textAlign: 'justify' },\n            inherit: false,\n            preview: 'font-family font-size'\n          }],\n        bold: [\n          {\n            inline: 'strong',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 'span',\n            styles: { fontWeight: 'bold' }\n          },\n          {\n            inline: 'b',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        italic: [\n          {\n            inline: 'em',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 'span',\n            styles: { fontStyle: 'italic' }\n          },\n          {\n            inline: 'i',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        underline: [\n          {\n            inline: 'span',\n            styles: { textDecoration: 'underline' },\n            exact: true\n          },\n          {\n            inline: 'u',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        strikethrough: (() => {\n          const span = {\n            inline: 'span',\n            styles: { textDecoration: 'line-through' },\n            exact: true\n          };\n          const strike = {\n            inline: 'strike',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          };\n          const s = {\n            inline: 's',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          };\n          return schemaType !== 'html4' ? [\n            s,\n            span,\n            strike\n          ] : [\n            span,\n            s,\n            strike\n          ];\n        })(),\n        forecolor: {\n          inline: 'span',\n          styles: { color: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        hilitecolor: {\n          inline: 'span',\n          styles: { backgroundColor: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        fontname: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontFamily: '%value' },\n          clear_child_styles: true\n        },\n        fontsize: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontSize: '%value' },\n          clear_child_styles: true\n        },\n        lineheight: {\n          selector: 'h1,h2,h3,h4,h5,h6,p,li,td,th,div',\n          styles: { lineHeight: '%value' }\n        },\n        fontsize_class: {\n          inline: 'span',\n          attributes: { class: '%value' }\n        },\n        blockquote: {\n          block: 'blockquote',\n          wrapper: true,\n          remove: 'all'\n        },\n        subscript: { inline: 'sub' },\n        superscript: { inline: 'sup' },\n        code: { inline: 'code' },\n        link: {\n          inline: 'a',\n          selector: 'a',\n          remove: 'all',\n          split: true,\n          deep: true,\n          onmatch: (node, _fmt, _itemName) => {\n            return isElement$6(node) && node.hasAttribute('href');\n          },\n          onformat: (elm, _fmt, vars) => {\n            Tools.each(vars, (value, key) => {\n              dom.setAttrib(elm, key, value);\n            });\n          }\n        },\n        lang: {\n          inline: 'span',\n          clear_child_styles: true,\n          remove_similar: true,\n          attributes: {\n            'lang': '%value',\n            'data-mce-lang': vars => {\n              var _a;\n              return (_a = vars === null || vars === void 0 ? void 0 : vars.customValue) !== null && _a !== void 0 ? _a : null;\n            }\n          }\n        },\n        removeformat: [\n          {\n            selector: 'b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small',\n            remove: 'all',\n            split: true,\n            expand: false,\n            block_expand: true,\n            deep: true\n          },\n          {\n            selector: 'span',\n            attributes: [\n              'style',\n              'class'\n            ],\n            remove: 'empty',\n            split: true,\n            expand: false,\n            deep: true\n          },\n          {\n            selector: '*',\n            attributes: [\n              'style',\n              'class'\n            ],\n            split: false,\n            expand: false,\n            deep: true\n          }\n        ]\n      };\n      Tools.each('p h1 h2 h3 h4 h5 h6 div address pre dt dd samp'.split(/\\s/), name => {\n        formats[name] = {\n          block: name,\n          remove: 'all'\n        };\n      });\n      return formats;\n    };\n\n    const genericBase = {\n      remove_similar: true,\n      inherit: false\n    };\n    const cellBase = {\n      selector: 'td,th',\n      ...genericBase\n    };\n    const cellFormats = {\n      tablecellbackgroundcolor: {\n        styles: { backgroundColor: '%value' },\n        ...cellBase\n      },\n      tablecellverticalalign: {\n        styles: { 'vertical-align': '%value' },\n        ...cellBase\n      },\n      tablecellbordercolor: {\n        styles: { borderColor: '%value' },\n        ...cellBase\n      },\n      tablecellclass: {\n        classes: ['%value'],\n        ...cellBase\n      },\n      tableclass: {\n        selector: 'table',\n        classes: ['%value'],\n        ...genericBase\n      },\n      tablecellborderstyle: {\n        styles: { borderStyle: '%value' },\n        ...cellBase\n      },\n      tablecellborderwidth: {\n        styles: { borderWidth: '%value' },\n        ...cellBase\n      }\n    };\n    const get = constant(cellFormats);\n\n    const FormatRegistry = editor => {\n      const formats = {};\n      const get$2 = name => isNonNullable(name) ? formats[name] : formats;\n      const has = name => has$2(formats, name);\n      const register = (name, format) => {\n        if (name) {\n          if (!isString(name)) {\n            each$e(name, (format, name) => {\n              register(name, format);\n            });\n          } else {\n            if (!isArray$1(format)) {\n              format = [format];\n            }\n            each$f(format, format => {\n              if (isUndefined(format.deep)) {\n                format.deep = !isSelectorFormat(format);\n              }\n              if (isUndefined(format.split)) {\n                format.split = !isSelectorFormat(format) || isInlineFormat(format);\n              }\n              if (isUndefined(format.remove) && isSelectorFormat(format) && !isInlineFormat(format)) {\n                format.remove = 'none';\n              }\n              if (isSelectorFormat(format) && isInlineFormat(format)) {\n                format.mixed = true;\n                format.block_expand = true;\n              }\n              if (isString(format.classes)) {\n                format.classes = format.classes.split(/\\s+/);\n              }\n            });\n            formats[name] = format;\n          }\n        }\n      };\n      const unregister = name => {\n        if (name && formats[name]) {\n          delete formats[name];\n        }\n        return formats;\n      };\n      register(get$1(editor));\n      register(get());\n      register(getFormats(editor));\n      return {\n        get: get$2,\n        has,\n        register,\n        unregister\n      };\n    };\n\n    const each$3 = Tools.each;\n    const dom = DOMUtils.DOM;\n    const parsedSelectorToHtml = (ancestry, editor) => {\n      let elm, item, fragment;\n      const schema = editor && editor.schema || Schema({});\n      const decorate = (elm, item) => {\n        if (item.classes.length) {\n          dom.addClass(elm, item.classes.join(' '));\n        }\n        dom.setAttribs(elm, item.attrs);\n      };\n      const createElement = sItem => {\n        item = typeof sItem === 'string' ? {\n          name: sItem,\n          classes: [],\n          attrs: {}\n        } : sItem;\n        const elm = dom.create(item.name);\n        decorate(elm, item);\n        return elm;\n      };\n      const getRequiredParent = (elm, candidate) => {\n        const name = typeof elm !== 'string' ? elm.nodeName.toLowerCase() : elm;\n        const elmRule = schema.getElementRule(name);\n        const parentsRequired = elmRule && elmRule.parentsRequired;\n        if (parentsRequired && parentsRequired.length) {\n          return candidate && Tools.inArray(parentsRequired, candidate) !== -1 ? candidate : parentsRequired[0];\n        } else {\n          return false;\n        }\n      };\n      const wrapInHtml = (elm, ancestry, siblings) => {\n        let parent, parentCandidate;\n        const ancestor = ancestry.length > 0 && ancestry[0];\n        const ancestorName = ancestor && ancestor.name;\n        const parentRequired = getRequiredParent(elm, ancestorName);\n        if (parentRequired) {\n          if (ancestorName === parentRequired) {\n            parentCandidate = ancestry[0];\n            ancestry = ancestry.slice(1);\n          } else {\n            parentCandidate = parentRequired;\n          }\n        } else if (ancestor) {\n          parentCandidate = ancestry[0];\n          ancestry = ancestry.slice(1);\n        } else if (!siblings) {\n          return elm;\n        }\n        if (parentCandidate) {\n          parent = createElement(parentCandidate);\n          parent.appendChild(elm);\n        }\n        if (siblings) {\n          if (!parent) {\n            parent = dom.create('div');\n            parent.appendChild(elm);\n          }\n          Tools.each(siblings, sibling => {\n            const siblingElm = createElement(sibling);\n            parent.insertBefore(siblingElm, elm);\n          });\n        }\n        return wrapInHtml(parent, ancestry, parentCandidate && parentCandidate.siblings);\n      };\n      if (ancestry && ancestry.length) {\n        item = ancestry[0];\n        elm = createElement(item);\n        fragment = dom.create('div');\n        fragment.appendChild(wrapInHtml(elm, ancestry.slice(1), item.siblings));\n        return fragment;\n      } else {\n        return '';\n      }\n    };\n    const parseSelectorItem = item => {\n      let tagName;\n      const obj = {\n        classes: [],\n        attrs: {}\n      };\n      item = obj.selector = Tools.trim(item);\n      if (item !== '*') {\n        tagName = item.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g, ($0, $1, $2, $3, $4) => {\n          switch ($1) {\n          case '#':\n            obj.attrs.id = $2;\n            break;\n          case '.':\n            obj.classes.push($2);\n            break;\n          case ':':\n            if (Tools.inArray('checked disabled enabled read-only required'.split(' '), $2) !== -1) {\n              obj.attrs[$2] = $2;\n            }\n            break;\n          }\n          if ($3 === '[') {\n            const m = $4.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);\n            if (m) {\n              obj.attrs[m[1]] = m[2];\n            }\n          }\n          return '';\n        });\n      }\n      obj.name = tagName || 'div';\n      return obj;\n    };\n    const parseSelector = selector => {\n      if (!selector || typeof selector !== 'string') {\n        return [];\n      }\n      selector = selector.split(/\\s*,\\s*/)[0];\n      selector = selector.replace(/\\s*(~\\+|~|\\+|>)\\s*/g, '$1');\n      return Tools.map(selector.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/), item => {\n        const siblings = Tools.map(item.split(/(?:~\\+|~|\\+)/), parseSelectorItem);\n        const obj = siblings.pop();\n        if (siblings.length) {\n          obj.siblings = siblings;\n        }\n        return obj;\n      }).reverse();\n    };\n    const getCssText = (editor, format) => {\n      let name, previewFrag;\n      let previewCss = '', parentFontSize;\n      let previewStyles = getPreviewStyles(editor);\n      if (previewStyles === '') {\n        return '';\n      }\n      const removeVars = val => {\n        return val.replace(/%(\\w+)/g, '');\n      };\n      if (typeof format === 'string') {\n        format = editor.formatter.get(format);\n        if (!format) {\n          return;\n        }\n        format = format[0];\n      }\n      if ('preview' in format) {\n        const previewOpt = get$a(format, 'preview');\n        if (is$2(previewOpt, false)) {\n          return '';\n        } else {\n          previewStyles = previewOpt.getOr(previewStyles);\n        }\n      }\n      name = format.block || format.inline || 'span';\n      const items = parseSelector(format.selector);\n      if (items.length) {\n        if (!items[0].name) {\n          items[0].name = name;\n        }\n        name = format.selector;\n        previewFrag = parsedSelectorToHtml(items, editor);\n      } else {\n        previewFrag = parsedSelectorToHtml([name], editor);\n      }\n      const previewElm = dom.select(name, previewFrag)[0] || previewFrag.firstChild;\n      each$3(format.styles, (value, name) => {\n        const newValue = removeVars(value);\n        if (newValue) {\n          dom.setStyle(previewElm, name, newValue);\n        }\n      });\n      each$3(format.attributes, (value, name) => {\n        const newValue = removeVars(value);\n        if (newValue) {\n          dom.setAttrib(previewElm, name, newValue);\n        }\n      });\n      each$3(format.classes, value => {\n        const newValue = removeVars(value);\n        if (!dom.hasClass(previewElm, newValue)) {\n          dom.addClass(previewElm, newValue);\n        }\n      });\n      editor.dispatch('PreviewFormats');\n      dom.setStyles(previewFrag, {\n        position: 'absolute',\n        left: -65535\n      });\n      editor.getBody().appendChild(previewFrag);\n      parentFontSize = dom.getStyle(editor.getBody(), 'fontSize', true);\n      parentFontSize = /px$/.test(parentFontSize) ? parseInt(parentFontSize, 10) : 0;\n      each$3(previewStyles.split(' '), name => {\n        let value = dom.getStyle(previewElm, name, true);\n        if (name === 'background-color' && /transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(value)) {\n          value = dom.getStyle(editor.getBody(), name, true);\n          if (rgbaToHexString(value).toLowerCase() === '#ffffff') {\n            return;\n          }\n        }\n        if (name === 'color') {\n          if (rgbaToHexString(value).toLowerCase() === '#000000') {\n            return;\n          }\n        }\n        if (name === 'font-size') {\n          if (/em|%$/.test(value)) {\n            if (parentFontSize === 0) {\n              return;\n            }\n            const numValue = parseFloat(value) / (/%$/.test(value) ? 100 : 1);\n            value = numValue * parentFontSize + 'px';\n          }\n        }\n        if (name === 'border' && value) {\n          previewCss += 'padding:0 2px;';\n        }\n        previewCss += name + ':' + value + ';';\n      });\n      editor.dispatch('AfterPreviewFormats');\n      dom.remove(previewFrag);\n      return previewCss;\n    };\n\n    const setup$r = editor => {\n      editor.addShortcut('meta+b', '', 'Bold');\n      editor.addShortcut('meta+i', '', 'Italic');\n      editor.addShortcut('meta+u', '', 'Underline');\n      for (let i = 1; i <= 6; i++) {\n        editor.addShortcut('access+' + i, '', [\n          'FormatBlock',\n          false,\n          'h' + i\n        ]);\n      }\n      editor.addShortcut('access+7', '', [\n        'FormatBlock',\n        false,\n        'p'\n      ]);\n      editor.addShortcut('access+8', '', [\n        'FormatBlock',\n        false,\n        'div'\n      ]);\n      editor.addShortcut('access+9', '', [\n        'FormatBlock',\n        false,\n        'address'\n      ]);\n    };\n\n    const Formatter = editor => {\n      const formats = FormatRegistry(editor);\n      const formatChangeState = Cell(null);\n      setup$r(editor);\n      setup$u(editor);\n      return {\n        get: formats.get,\n        has: formats.has,\n        register: formats.register,\n        unregister: formats.unregister,\n        apply: (name, vars, node) => {\n          applyFormat(editor, name, vars, node);\n        },\n        remove: (name, vars, node, similar) => {\n          removeFormat(editor, name, vars, node, similar);\n        },\n        toggle: (name, vars, node) => {\n          toggleFormat(editor, name, vars, node);\n        },\n        match: (name, vars, node, similar) => matchFormat(editor, name, vars, node, similar),\n        closest: names => closestFormat(editor, names),\n        matchAll: (names, vars) => matchAllFormats(editor, names, vars),\n        matchNode: (node, name, vars, similar) => matchNodeFormat(editor, node, name, vars, similar),\n        canApply: name => canApplyFormat(editor, name),\n        formatChanged: (formats, callback, similar, vars) => formatChanged(editor, formatChangeState, formats, callback, similar, vars),\n        getCssText: curry(getCssText, editor)\n      };\n    };\n\n    const shouldIgnoreCommand = cmd => {\n      switch (cmd.toLowerCase()) {\n      case 'undo':\n      case 'redo':\n      case 'mcefocus':\n        return true;\n      default:\n        return false;\n      }\n    };\n    const registerEvents = (editor, undoManager, locks) => {\n      const isFirstTypedCharacter = Cell(false);\n      const addNonTypingUndoLevel = e => {\n        setTyping(undoManager, false, locks);\n        undoManager.add({}, e);\n      };\n      editor.on('init', () => {\n        undoManager.add();\n      });\n      editor.on('BeforeExecCommand', e => {\n        const cmd = e.command;\n        if (!shouldIgnoreCommand(cmd)) {\n          endTyping(undoManager, locks);\n          undoManager.beforeChange();\n        }\n      });\n      editor.on('ExecCommand', e => {\n        const cmd = e.command;\n        if (!shouldIgnoreCommand(cmd)) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('ObjectResizeStart cut', () => {\n        undoManager.beforeChange();\n      });\n      editor.on('SaveContent ObjectResized blur', addNonTypingUndoLevel);\n      editor.on('dragend', addNonTypingUndoLevel);\n      editor.on('keyup', e => {\n        const keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45 || e.ctrlKey) {\n          addNonTypingUndoLevel();\n          editor.nodeChanged();\n        }\n        if (keyCode === 46 || keyCode === 8) {\n          editor.nodeChanged();\n        }\n        if (isFirstTypedCharacter.get() && undoManager.typing && isEq$1(createFromEditor(editor), undoManager.data[0]) === false) {\n          if (editor.isDirty() === false) {\n            editor.setDirty(true);\n          }\n          editor.dispatch('TypingUndo');\n          isFirstTypedCharacter.set(false);\n          editor.nodeChanged();\n        }\n      });\n      editor.on('keydown', e => {\n        const keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45) {\n          if (undoManager.typing) {\n            addNonTypingUndoLevel(e);\n          }\n          return;\n        }\n        const modKey = e.ctrlKey && !e.altKey || e.metaKey;\n        if ((keyCode < 16 || keyCode > 20) && keyCode !== 224 && keyCode !== 91 && !undoManager.typing && !modKey) {\n          undoManager.beforeChange();\n          setTyping(undoManager, true, locks);\n          undoManager.add({}, e);\n          isFirstTypedCharacter.set(true);\n        }\n      });\n      editor.on('mousedown', e => {\n        if (undoManager.typing) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      const isInsertReplacementText = event => event.inputType === 'insertReplacementText';\n      const isInsertTextDataNull = event => event.inputType === 'insertText' && event.data === null;\n      const isInsertFromPasteOrDrop = event => event.inputType === 'insertFromPaste' || event.inputType === 'insertFromDrop';\n      editor.on('input', e => {\n        if (e.inputType && (isInsertReplacementText(e) || isInsertTextDataNull(e) || isInsertFromPasteOrDrop(e))) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('AddUndo Undo Redo ClearUndos', e => {\n        if (!e.isDefaultPrevented()) {\n          editor.nodeChanged();\n        }\n      });\n    };\n    const addKeyboardShortcuts = editor => {\n      editor.addShortcut('meta+z', '', 'Undo');\n      editor.addShortcut('meta+y,meta+shift+z', '', 'Redo');\n    };\n\n    const UndoManager = editor => {\n      const beforeBookmark = value$2();\n      const locks = Cell(0);\n      const index = Cell(0);\n      const undoManager = {\n        data: [],\n        typing: false,\n        beforeChange: () => {\n          beforeChange(editor, locks, beforeBookmark);\n        },\n        add: (level, event) => {\n          return addUndoLevel(editor, undoManager, index, locks, beforeBookmark, level, event);\n        },\n        dispatchChange: () => {\n          editor.setDirty(true);\n          editor.dispatch('change', {\n            level: createFromEditor(editor),\n            lastLevel: get$b(undoManager.data, index.get()).getOrUndefined()\n          });\n        },\n        undo: () => {\n          return undo(editor, undoManager, locks, index);\n        },\n        redo: () => {\n          return redo(editor, index, undoManager.data);\n        },\n        clear: () => {\n          clear(editor, undoManager, index);\n        },\n        reset: () => {\n          reset(editor, undoManager);\n        },\n        hasUndo: () => {\n          return hasUndo(editor, undoManager, index);\n        },\n        hasRedo: () => {\n          return hasRedo(editor, undoManager, index);\n        },\n        transact: callback => {\n          return transact(editor, undoManager, locks, callback);\n        },\n        ignore: callback => {\n          ignore(editor, locks, callback);\n        },\n        extra: (callback1, callback2) => {\n          extra(editor, undoManager, index, callback1, callback2);\n        }\n      };\n      if (!isRtc(editor)) {\n        registerEvents(editor, undoManager, locks);\n      }\n      addKeyboardShortcuts(editor);\n      return undoManager;\n    };\n\n    const nonTypingKeycodes = [\n      9,\n      27,\n      VK.HOME,\n      VK.END,\n      19,\n      20,\n      44,\n      144,\n      145,\n      33,\n      34,\n      45,\n      16,\n      17,\n      18,\n      91,\n      92,\n      93,\n      VK.DOWN,\n      VK.UP,\n      VK.LEFT,\n      VK.RIGHT\n    ].concat(Env.browser.isFirefox() ? [224] : []);\n    const placeholderAttr = 'data-mce-placeholder';\n    const isKeyboardEvent = e => e.type === 'keydown' || e.type === 'keyup';\n    const isDeleteEvent = e => {\n      const keyCode = e.keyCode;\n      return keyCode === VK.BACKSPACE || keyCode === VK.DELETE;\n    };\n    const isNonTypingKeyboardEvent = e => {\n      if (isKeyboardEvent(e)) {\n        const keyCode = e.keyCode;\n        return !isDeleteEvent(e) && (VK.metaKeyPressed(e) || e.altKey || keyCode >= 112 && keyCode <= 123 || contains$2(nonTypingKeycodes, keyCode));\n      } else {\n        return false;\n      }\n    };\n    const isTypingKeyboardEvent = e => isKeyboardEvent(e) && !(isDeleteEvent(e) || e.type === 'keyup' && e.keyCode === 229);\n    const isVisuallyEmpty = (dom, rootElm, forcedRootBlock) => {\n      if (isEmpty$2(SugarElement.fromDom(rootElm), false)) {\n        const firstElement = rootElm.firstElementChild;\n        if (!firstElement) {\n          return true;\n        } else if (dom.getStyle(rootElm.firstElementChild, 'padding-left') || dom.getStyle(rootElm.firstElementChild, 'padding-right')) {\n          return false;\n        } else {\n          return forcedRootBlock === firstElement.nodeName.toLowerCase();\n        }\n      } else {\n        return false;\n      }\n    };\n    const setup$q = editor => {\n      const dom = editor.dom;\n      const rootBlock = getForcedRootBlock(editor);\n      const placeholder = getPlaceholder(editor);\n      const updatePlaceholder = (e, initial) => {\n        if (isNonTypingKeyboardEvent(e)) {\n          return;\n        }\n        const body = editor.getBody();\n        const showPlaceholder = isTypingKeyboardEvent(e) ? false : isVisuallyEmpty(dom, body, rootBlock);\n        const isPlaceholderShown = dom.getAttrib(body, placeholderAttr) !== '';\n        if (isPlaceholderShown !== showPlaceholder || initial) {\n          dom.setAttrib(body, placeholderAttr, showPlaceholder ? placeholder : null);\n          dom.setAttrib(body, 'aria-placeholder', showPlaceholder ? placeholder : null);\n          firePlaceholderToggle(editor, showPlaceholder);\n          editor.on(showPlaceholder ? 'keydown' : 'keyup', updatePlaceholder);\n          editor.off(showPlaceholder ? 'keyup' : 'keydown', updatePlaceholder);\n        }\n      };\n      if (placeholder) {\n        editor.on('init', e => {\n          updatePlaceholder(e, true);\n          editor.on('change SetContent ExecCommand', updatePlaceholder);\n          editor.on('paste', e => Delay.setEditorTimeout(editor, () => updatePlaceholder(e)));\n        });\n      }\n    };\n\n    const blockPosition = (block, position) => ({\n      block,\n      position\n    });\n    const blockBoundary = (from, to) => ({\n      from,\n      to\n    });\n    const getBlockPosition = (rootNode, pos) => {\n      const rootElm = SugarElement.fromDom(rootNode);\n      const containerElm = SugarElement.fromDom(pos.container());\n      return getParentBlock$2(rootElm, containerElm).map(block => blockPosition(block, pos));\n    };\n    const isDifferentBlocks = blockBoundary => eq(blockBoundary.from.block, blockBoundary.to.block) === false;\n    const hasSameParent = blockBoundary => parent(blockBoundary.from.block).bind(parent1 => parent(blockBoundary.to.block).filter(parent2 => eq(parent1, parent2))).isSome();\n    const isEditable$2 = blockBoundary => isContentEditableFalse$b(blockBoundary.from.block.dom) === false && isContentEditableFalse$b(blockBoundary.to.block.dom) === false;\n    const skipLastBr = (rootNode, forward, blockPosition) => {\n      if (isBr$6(blockPosition.position.getNode()) && isEmpty$2(blockPosition.block) === false) {\n        return positionIn(false, blockPosition.block.dom).bind(lastPositionInBlock => {\n          if (lastPositionInBlock.isEqual(blockPosition.position)) {\n            return fromPosition(forward, rootNode, lastPositionInBlock).bind(to => getBlockPosition(rootNode, to));\n          } else {\n            return Optional.some(blockPosition);\n          }\n        }).getOr(blockPosition);\n      } else {\n        return blockPosition;\n      }\n    };\n    const readFromRange = (rootNode, forward, rng) => {\n      const fromBlockPos = getBlockPosition(rootNode, CaretPosition.fromRangeStart(rng));\n      const toBlockPos = fromBlockPos.bind(blockPos => fromPosition(forward, rootNode, blockPos.position).bind(to => getBlockPosition(rootNode, to).map(blockPos => skipLastBr(rootNode, forward, blockPos))));\n      return lift2(fromBlockPos, toBlockPos, blockBoundary).filter(blockBoundary => isDifferentBlocks(blockBoundary) && hasSameParent(blockBoundary) && isEditable$2(blockBoundary));\n    };\n    const read$1 = (rootNode, forward, rng) => rng.collapsed ? readFromRange(rootNode, forward, rng) : Optional.none();\n\n    const getChildrenUntilBlockBoundary = block => {\n      const children$1 = children(block);\n      return findIndex$2(children$1, isBlock$2).fold(constant(children$1), index => children$1.slice(0, index));\n    };\n    const extractChildren = block => {\n      const children = getChildrenUntilBlockBoundary(block);\n      each$f(children, remove$6);\n      return children;\n    };\n    const removeEmptyRoot = (rootNode, block) => {\n      const parents = parentsAndSelf(block, rootNode);\n      return find$2(parents.reverse(), element => isEmpty$2(element)).each(remove$6);\n    };\n    const isEmptyBefore = el => filter$6(prevSiblings(el), el => !isEmpty$2(el)).length === 0;\n    const nestedBlockMerge = (rootNode, fromBlock, toBlock, insertionPoint) => {\n      if (isEmpty$2(toBlock)) {\n        fillWithPaddingBr(toBlock);\n        return firstPositionIn(toBlock.dom);\n      }\n      if (isEmptyBefore(insertionPoint) && isEmpty$2(fromBlock)) {\n        before$3(insertionPoint, SugarElement.fromTag('br'));\n      }\n      const position = prevPosition(toBlock.dom, CaretPosition.before(insertionPoint.dom));\n      each$f(extractChildren(fromBlock), child => {\n        before$3(insertionPoint, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    const sidelongBlockMerge = (rootNode, fromBlock, toBlock) => {\n      if (isEmpty$2(toBlock)) {\n        remove$6(toBlock);\n        if (isEmpty$2(fromBlock)) {\n          fillWithPaddingBr(fromBlock);\n        }\n        return firstPositionIn(fromBlock.dom);\n      }\n      const position = lastPositionIn(toBlock.dom);\n      each$f(extractChildren(fromBlock), child => {\n        append$1(toBlock, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    const findInsertionPoint = (toBlock, block) => {\n      const parentsAndSelf$1 = parentsAndSelf(block, toBlock);\n      return Optional.from(parentsAndSelf$1[parentsAndSelf$1.length - 1]);\n    };\n    const getInsertionPoint = (fromBlock, toBlock) => contains(toBlock, fromBlock) ? findInsertionPoint(toBlock, fromBlock) : Optional.none();\n    const trimBr = (first, block) => {\n      positionIn(first, block.dom).map(position => position.getNode()).map(SugarElement.fromDom).filter(isBr$5).each(remove$6);\n    };\n    const mergeBlockInto = (rootNode, fromBlock, toBlock) => {\n      trimBr(true, fromBlock);\n      trimBr(false, toBlock);\n      return getInsertionPoint(fromBlock, toBlock).fold(curry(sidelongBlockMerge, rootNode, fromBlock, toBlock), curry(nestedBlockMerge, rootNode, fromBlock, toBlock));\n    };\n    const mergeBlocks = (rootNode, forward, block1, block2) => forward ? mergeBlockInto(rootNode, block2, block1) : mergeBlockInto(rootNode, block1, block2);\n\n    const backspaceDelete$8 = (editor, forward) => {\n      const rootNode = SugarElement.fromDom(editor.getBody());\n      const position = read$1(rootNode.dom, forward, editor.selection.getRng()).map(blockBoundary => () => {\n        mergeBlocks(rootNode, forward, blockBoundary.from.block, blockBoundary.to.block).each(pos => {\n          editor.selection.setRng(pos.toRange());\n        });\n      });\n      return position;\n    };\n\n    const deleteRangeMergeBlocks = (rootNode, selection) => {\n      const rng = selection.getRng();\n      return lift2(getParentBlock$2(rootNode, SugarElement.fromDom(rng.startContainer)), getParentBlock$2(rootNode, SugarElement.fromDom(rng.endContainer)), (block1, block2) => {\n        if (eq(block1, block2) === false) {\n          return Optional.some(() => {\n            rng.deleteContents();\n            mergeBlocks(rootNode, true, block1, block2).each(pos => {\n              selection.setRng(pos.toRange());\n            });\n          });\n        } else {\n          return Optional.none();\n        }\n      }).getOr(Optional.none());\n    };\n    const isRawNodeInTable = (root, rawNode) => {\n      const node = SugarElement.fromDom(rawNode);\n      const isRoot = curry(eq, root);\n      return ancestor$3(node, isTableCell$4, isRoot).isSome();\n    };\n    const isSelectionInTable = (root, rng) => isRawNodeInTable(root, rng.startContainer) || isRawNodeInTable(root, rng.endContainer);\n    const isEverythingSelected = (root, rng) => {\n      const noPrevious = prevPosition(root.dom, CaretPosition.fromRangeStart(rng)).isNone();\n      const noNext = nextPosition(root.dom, CaretPosition.fromRangeEnd(rng)).isNone();\n      return !isSelectionInTable(root, rng) && noPrevious && noNext;\n    };\n    const emptyEditor = editor => {\n      return Optional.some(() => {\n        editor.setContent('');\n        editor.selection.setCursorLocation();\n      });\n    };\n    const deleteRange$1 = editor => {\n      const rootNode = SugarElement.fromDom(editor.getBody());\n      const rng = editor.selection.getRng();\n      return isEverythingSelected(rootNode, rng) ? emptyEditor(editor) : deleteRangeMergeBlocks(rootNode, editor.selection);\n    };\n    const backspaceDelete$7 = (editor, _forward) => editor.selection.isCollapsed() ? Optional.none() : deleteRange$1(editor);\n\n    const isContentEditableTrue$2 = isContentEditableTrue$5;\n    const isContentEditableFalse$5 = isContentEditableFalse$b;\n    const showCaret = (direction, editor, node, before, scrollIntoView) => Optional.from(editor._selectionOverrides.showCaret(direction, node, before, scrollIntoView));\n    const getNodeRange = node => {\n      const rng = node.ownerDocument.createRange();\n      rng.selectNode(node);\n      return rng;\n    };\n    const selectNode = (editor, node) => {\n      const e = editor.dispatch('BeforeObjectSelected', { target: node });\n      if (e.isDefaultPrevented()) {\n        return Optional.none();\n      }\n      return Optional.some(getNodeRange(node));\n    };\n    const renderCaretAtRange = (editor, range, scrollIntoView) => {\n      const normalizedRange = normalizeRange(1, editor.getBody(), range);\n      const caretPosition = CaretPosition.fromRangeStart(normalizedRange);\n      const caretPositionNode = caretPosition.getNode();\n      if (isInlineFakeCaretTarget(caretPositionNode)) {\n        return showCaret(1, editor, caretPositionNode, !caretPosition.isAtEnd(), false);\n      }\n      const caretPositionBeforeNode = caretPosition.getNode(true);\n      if (isInlineFakeCaretTarget(caretPositionBeforeNode)) {\n        return showCaret(1, editor, caretPositionBeforeNode, false, false);\n      }\n      const ceRoot = editor.dom.getParent(caretPosition.getNode(), node => isContentEditableFalse$5(node) || isContentEditableTrue$2(node));\n      if (isInlineFakeCaretTarget(ceRoot)) {\n        return showCaret(1, editor, ceRoot, false, scrollIntoView);\n      }\n      return Optional.none();\n    };\n    const renderRangeCaret = (editor, range, scrollIntoView) => range.collapsed ? renderCaretAtRange(editor, range, scrollIntoView).getOr(range) : range;\n\n    const isBeforeBoundary = pos => isBeforeContentEditableFalse(pos) || isBeforeMedia(pos);\n    const isAfterBoundary = pos => isAfterContentEditableFalse(pos) || isAfterMedia(pos);\n    const trimEmptyTextNode = (dom, node) => {\n      if (isText$9(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    const deleteContentAndShowCaret = (editor, range, node, direction, forward, peekCaretPosition) => {\n      showCaret(direction, editor, peekCaretPosition.getNode(!forward), forward, true).each(caretRange => {\n        if (range.collapsed) {\n          const deleteRange = range.cloneRange();\n          if (forward) {\n            deleteRange.setEnd(caretRange.startContainer, caretRange.startOffset);\n          } else {\n            deleteRange.setStart(caretRange.endContainer, caretRange.endOffset);\n          }\n          deleteRange.deleteContents();\n        } else {\n          range.deleteContents();\n        }\n        editor.selection.setRng(caretRange);\n      });\n      trimEmptyTextNode(editor.dom, node);\n    };\n    const deleteBoundaryText = (editor, forward) => {\n      const range = editor.selection.getRng();\n      if (!isText$9(range.commonAncestorContainer)) {\n        return Optional.none();\n      }\n      const direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      const caretWalker = CaretWalker(editor.getBody());\n      const getNextPosFn = curry(getVisualCaretPosition, forward ? caretWalker.next : caretWalker.prev);\n      const isBeforeFn = forward ? isBeforeBoundary : isAfterBoundary;\n      const caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      const nextCaretPosition = normalizePosition(forward, getNextPosFn(caretPosition));\n      if (!nextCaretPosition || !isMoveInsideSameBlock(caretPosition, nextCaretPosition)) {\n        return Optional.none();\n      } else if (isBeforeFn(nextCaretPosition)) {\n        return Optional.some(() => deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, nextCaretPosition));\n      }\n      const peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return Optional.some(() => deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, peekCaretPosition));\n        }\n      }\n      return Optional.none();\n    };\n    const backspaceDelete$6 = (editor, forward) => deleteBoundaryText(editor, forward);\n\n    const getEdgeCefPosition = (editor, atStart) => {\n      const root = editor.getBody();\n      return atStart ? firstPositionIn(root).filter(isBeforeContentEditableFalse) : lastPositionIn(root).filter(isAfterContentEditableFalse);\n    };\n    const isCefAtEdgeSelected = editor => {\n      const rng = editor.selection.getRng();\n      return !rng.collapsed && (getEdgeCefPosition(editor, true).exists(pos => pos.isEqual(CaretPosition.fromRangeStart(rng))) || getEdgeCefPosition(editor, false).exists(pos => pos.isEqual(CaretPosition.fromRangeEnd(rng))));\n    };\n\n    const isCompoundElement = node => isTableCell$4(SugarElement.fromDom(node)) || isListItem(SugarElement.fromDom(node));\n    const DeleteAction = Adt.generate([\n      { remove: ['element'] },\n      { moveToElement: ['element'] },\n      { moveToPosition: ['position'] }\n    ]);\n    const isAtContentEditableBlockCaret = (forward, from) => {\n      const elm = from.getNode(forward === false);\n      const caretLocation = forward ? 'after' : 'before';\n      return isElement$6(elm) && elm.getAttribute('data-mce-caret') === caretLocation;\n    };\n    const isDeleteFromCefDifferentBlocks = (root, forward, from, to) => {\n      const inSameBlock = elm => isInline$1(SugarElement.fromDom(elm)) && !isInSameBlock(from, to, root);\n      return getRelativeCefElm(!forward, from).fold(() => getRelativeCefElm(forward, to).fold(never, inSameBlock), inSameBlock);\n    };\n    const deleteEmptyBlockOrMoveToCef = (root, forward, from, to) => {\n      const toCefElm = to.getNode(forward === false);\n      return getParentBlock$2(SugarElement.fromDom(root), SugarElement.fromDom(from.getNode())).map(blockElm => isEmpty$2(blockElm) ? DeleteAction.remove(blockElm.dom) : DeleteAction.moveToElement(toCefElm)).orThunk(() => Optional.some(DeleteAction.moveToElement(toCefElm)));\n    };\n    const findCefPosition = (root, forward, from) => fromPosition(forward, root, from).bind(to => {\n      if (isCompoundElement(to.getNode())) {\n        return Optional.none();\n      } else if (isDeleteFromCefDifferentBlocks(root, forward, from, to)) {\n        return Optional.none();\n      } else if (forward && isContentEditableFalse$b(to.getNode())) {\n        return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n      } else if (forward === false && isContentEditableFalse$b(to.getNode(true))) {\n        return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n      } else if (forward && isAfterContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.moveToPosition(to));\n      } else if (forward === false && isBeforeContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.moveToPosition(to));\n      } else {\n        return Optional.none();\n      }\n    });\n    const getContentEditableBlockAction = (forward, elm) => {\n      if (forward && isContentEditableFalse$b(elm.nextSibling)) {\n        return Optional.some(DeleteAction.moveToElement(elm.nextSibling));\n      } else if (forward === false && isContentEditableFalse$b(elm.previousSibling)) {\n        return Optional.some(DeleteAction.moveToElement(elm.previousSibling));\n      } else {\n        return Optional.none();\n      }\n    };\n    const skipMoveToActionFromInlineCefToContent = (root, from, deleteAction) => deleteAction.fold(elm => Optional.some(DeleteAction.remove(elm)), elm => Optional.some(DeleteAction.moveToElement(elm)), to => {\n      if (isInSameBlock(from, to, root)) {\n        return Optional.none();\n      } else {\n        return Optional.some(DeleteAction.moveToPosition(to));\n      }\n    });\n    const getContentEditableAction = (root, forward, from) => {\n      if (isAtContentEditableBlockCaret(forward, from)) {\n        return getContentEditableBlockAction(forward, from.getNode(forward === false)).fold(() => findCefPosition(root, forward, from), Optional.some);\n      } else {\n        return findCefPosition(root, forward, from).bind(deleteAction => skipMoveToActionFromInlineCefToContent(root, from, deleteAction));\n      }\n    };\n    const read = (root, forward, rng) => {\n      const normalizedRange = normalizeRange(forward ? 1 : -1, root, rng);\n      const from = CaretPosition.fromRangeStart(normalizedRange);\n      const rootElement = SugarElement.fromDom(root);\n      if (forward === false && isAfterContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.remove(from.getNode(true)));\n      } else if (forward && isBeforeContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.remove(from.getNode()));\n      } else if (forward === false && isBeforeContentEditableFalse(from) && isAfterBr(rootElement, from)) {\n        return findPreviousBr(rootElement, from).map(br => DeleteAction.remove(br.getNode()));\n      } else if (forward && isAfterContentEditableFalse(from) && isBeforeBr$1(rootElement, from)) {\n        return findNextBr(rootElement, from).map(br => DeleteAction.remove(br.getNode()));\n      } else {\n        return getContentEditableAction(root, forward, from);\n      }\n    };\n\n    const deleteElement$1 = (editor, forward) => element => {\n      editor._selectionOverrides.hideFakeCaret();\n      deleteElement$2(editor, forward, SugarElement.fromDom(element));\n      return true;\n    };\n    const moveToElement = (editor, forward) => element => {\n      const pos = forward ? CaretPosition.before(element) : CaretPosition.after(element);\n      editor.selection.setRng(pos.toRange());\n      return true;\n    };\n    const moveToPosition = editor => pos => {\n      editor.selection.setRng(pos.toRange());\n      return true;\n    };\n    const getAncestorCe = (editor, node) => Optional.from(getContentEditableRoot$1(editor.getBody(), node));\n    const backspaceDeleteCaret = (editor, forward) => {\n      const selectedNode = editor.selection.getNode();\n      return getAncestorCe(editor, selectedNode).filter(isContentEditableFalse$b).fold(() => read(editor.getBody(), forward, editor.selection.getRng()).map(deleteAction => () => deleteAction.fold(deleteElement$1(editor, forward), moveToElement(editor, forward), moveToPosition(editor))), () => Optional.some(noop));\n    };\n    const deleteOffscreenSelection = rootElement => {\n      each$f(descendants(rootElement, '.mce-offscreen-selection'), remove$6);\n    };\n    const backspaceDeleteRange = (editor, forward) => {\n      const selectedNode = editor.selection.getNode();\n      if (isContentEditableFalse$b(selectedNode) && !isTableCell$5(selectedNode)) {\n        const hasCefAncestor = getAncestorCe(editor, selectedNode.parentNode).filter(isContentEditableFalse$b);\n        return hasCefAncestor.fold(() => Optional.some(() => {\n          deleteOffscreenSelection(SugarElement.fromDom(editor.getBody()));\n          deleteElement$2(editor, forward, SugarElement.fromDom(editor.selection.getNode()));\n          paddEmptyBody(editor);\n        }), () => Optional.some(noop));\n      }\n      if (isCefAtEdgeSelected(editor)) {\n        return Optional.some(() => {\n          deleteRangeContents(editor, editor.selection.getRng(), SugarElement.fromDom(editor.getBody()));\n        });\n      }\n      return Optional.none();\n    };\n    const paddEmptyElement = editor => {\n      const dom = editor.dom, selection = editor.selection;\n      const ceRoot = getContentEditableRoot$1(editor.getBody(), selection.getNode());\n      if (isContentEditableTrue$5(ceRoot) && dom.isBlock(ceRoot) && dom.isEmpty(ceRoot)) {\n        const br = dom.create('br', { 'data-mce-bogus': '1' });\n        dom.setHTML(ceRoot, '');\n        ceRoot.appendChild(br);\n        selection.setRng(CaretPosition.before(br).toRange());\n      }\n      return true;\n    };\n    const backspaceDelete$5 = (editor, forward) => {\n      if (editor.selection.isCollapsed()) {\n        return backspaceDeleteCaret(editor, forward);\n      } else {\n        return backspaceDeleteRange(editor, forward);\n      }\n    };\n\n    const deleteCaret$2 = (editor, forward) => {\n      const fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return fromPosition(forward, editor.getBody(), fromPos).filter(pos => forward ? isBeforeImageBlock(pos) : isAfterImageBlock(pos)).bind(pos => Optional.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, pos))).map(elm => () => editor.selection.select(elm));\n    };\n    const backspaceDelete$4 = (editor, forward) => editor.selection.isCollapsed() ? deleteCaret$2(editor, forward) : Optional.none();\n\n    const isText$2 = isText$9;\n    const startsWithCaretContainer = node => isText$2(node) && node.data[0] === ZWSP$1;\n    const endsWithCaretContainer = node => isText$2(node) && node.data[node.data.length - 1] === ZWSP$1;\n    const createZwsp = node => node.ownerDocument.createTextNode(ZWSP$1);\n    const insertBefore = node => {\n      if (isText$2(node.previousSibling)) {\n        if (endsWithCaretContainer(node.previousSibling)) {\n          return node.previousSibling;\n        } else {\n          node.previousSibling.appendData(ZWSP$1);\n          return node.previousSibling;\n        }\n      } else if (isText$2(node)) {\n        if (startsWithCaretContainer(node)) {\n          return node;\n        } else {\n          node.insertData(0, ZWSP$1);\n          return node;\n        }\n      } else {\n        const newNode = createZwsp(node);\n        node.parentNode.insertBefore(newNode, node);\n        return newNode;\n      }\n    };\n    const insertAfter = node => {\n      if (isText$2(node.nextSibling)) {\n        if (startsWithCaretContainer(node.nextSibling)) {\n          return node.nextSibling;\n        } else {\n          node.nextSibling.insertData(0, ZWSP$1);\n          return node.nextSibling;\n        }\n      } else if (isText$2(node)) {\n        if (endsWithCaretContainer(node)) {\n          return node;\n        } else {\n          node.appendData(ZWSP$1);\n          return node;\n        }\n      } else {\n        const newNode = createZwsp(node);\n        if (node.nextSibling) {\n          node.parentNode.insertBefore(newNode, node.nextSibling);\n        } else {\n          node.parentNode.appendChild(newNode);\n        }\n        return newNode;\n      }\n    };\n    const insertInline = (before, node) => before ? insertBefore(node) : insertAfter(node);\n    const insertInlineBefore = curry(insertInline, true);\n    const insertInlineAfter = curry(insertInline, false);\n\n    const insertInlinePos = (pos, before) => {\n      if (isText$9(pos.container())) {\n        return insertInline(before, pos.container());\n      } else {\n        return insertInline(before, pos.getNode());\n      }\n    };\n    const isPosCaretContainer = (pos, caret) => {\n      const caretNode = caret.get();\n      return caretNode && pos.container() === caretNode && isCaretContainerInline(caretNode);\n    };\n    const renderCaret = (caret, location) => location.fold(element => {\n      remove$4(caret.get());\n      const text = insertInlineBefore(element);\n      caret.set(text);\n      return Optional.some(CaretPosition(text, text.length - 1));\n    }, element => firstPositionIn(element).map(pos => {\n      if (!isPosCaretContainer(pos, caret)) {\n        remove$4(caret.get());\n        const text = insertInlinePos(pos, true);\n        caret.set(text);\n        return CaretPosition(text, 1);\n      } else {\n        return CaretPosition(caret.get(), 1);\n      }\n    }), element => lastPositionIn(element).map(pos => {\n      if (!isPosCaretContainer(pos, caret)) {\n        remove$4(caret.get());\n        const text = insertInlinePos(pos, false);\n        caret.set(text);\n        return CaretPosition(text, text.length - 1);\n      } else {\n        return CaretPosition(caret.get(), caret.get().length - 1);\n      }\n    }), element => {\n      remove$4(caret.get());\n      const text = insertInlineAfter(element);\n      caret.set(text);\n      return Optional.some(CaretPosition(text, 1));\n    });\n\n    const evaluateUntil = (fns, args) => {\n      for (let i = 0; i < fns.length; i++) {\n        const result = fns[i].apply(null, args);\n        if (result.isSome()) {\n          return result;\n        }\n      }\n      return Optional.none();\n    };\n\n    const Location = Adt.generate([\n      { before: ['element'] },\n      { start: ['element'] },\n      { end: ['element'] },\n      { after: ['element'] }\n    ]);\n    const rescope$1 = (rootNode, node) => {\n      const parentBlock = getParentBlock$3(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    const before = (isInlineTarget, rootNode, pos) => {\n      const nPos = normalizeForwards(pos);\n      const scope = rescope$1(rootNode, nPos.container());\n      return findRootInline(isInlineTarget, scope, nPos).fold(() => nextPosition(scope, nPos).bind(curry(findRootInline, isInlineTarget, scope)).map(inline => Location.before(inline)), Optional.none);\n    };\n    const isNotInsideFormatCaretContainer = (rootNode, elm) => getParentCaretContainer(rootNode, elm) === null;\n    const findInsideRootInline = (isInlineTarget, rootNode, pos) => findRootInline(isInlineTarget, rootNode, pos).filter(curry(isNotInsideFormatCaretContainer, rootNode));\n    const start$1 = (isInlineTarget, rootNode, pos) => {\n      const nPos = normalizeBackwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(inline => {\n        const prevPos = prevPosition(inline, nPos);\n        return prevPos.isNone() ? Optional.some(Location.start(inline)) : Optional.none();\n      });\n    };\n    const end = (isInlineTarget, rootNode, pos) => {\n      const nPos = normalizeForwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(inline => {\n        const nextPos = nextPosition(inline, nPos);\n        return nextPos.isNone() ? Optional.some(Location.end(inline)) : Optional.none();\n      });\n    };\n    const after = (isInlineTarget, rootNode, pos) => {\n      const nPos = normalizeBackwards(pos);\n      const scope = rescope$1(rootNode, nPos.container());\n      return findRootInline(isInlineTarget, scope, nPos).fold(() => prevPosition(scope, nPos).bind(curry(findRootInline, isInlineTarget, scope)).map(inline => Location.after(inline)), Optional.none);\n    };\n    const isValidLocation = location => isRtl(getElement(location)) === false;\n    const readLocation = (isInlineTarget, rootNode, pos) => {\n      const location = evaluateUntil([\n        before,\n        start$1,\n        end,\n        after\n      ], [\n        isInlineTarget,\n        rootNode,\n        pos\n      ]);\n      return location.filter(isValidLocation);\n    };\n    const getElement = location => location.fold(identity, identity, identity, identity);\n    const getName = location => location.fold(constant('before'), constant('start'), constant('end'), constant('after'));\n    const outside = location => location.fold(Location.before, Location.before, Location.after, Location.after);\n    const inside = location => location.fold(Location.start, Location.start, Location.end, Location.end);\n    const isEq = (location1, location2) => getName(location1) === getName(location2) && getElement(location1) === getElement(location2);\n    const betweenInlines = (forward, isInlineTarget, rootNode, from, to, location) => lift2(findRootInline(isInlineTarget, rootNode, from), findRootInline(isInlineTarget, rootNode, to), (fromInline, toInline) => {\n      if (fromInline !== toInline && hasSameParentBlock(rootNode, fromInline, toInline)) {\n        return Location.after(forward ? fromInline : toInline);\n      } else {\n        return location;\n      }\n    }).getOr(location);\n    const skipNoMovement = (fromLocation, toLocation) => fromLocation.fold(always, fromLocation => !isEq(fromLocation, toLocation));\n    const findLocationTraverse = (forward, isInlineTarget, rootNode, fromLocation, pos) => {\n      const from = normalizePosition(forward, pos);\n      const to = fromPosition(forward, rootNode, from).map(curry(normalizePosition, forward));\n      const location = to.fold(() => fromLocation.map(outside), to => readLocation(isInlineTarget, rootNode, to).map(curry(betweenInlines, forward, isInlineTarget, rootNode, from, to)).filter(curry(skipNoMovement, fromLocation)));\n      return location.filter(isValidLocation);\n    };\n    const findLocationSimple = (forward, location) => {\n      if (forward) {\n        return location.fold(compose(Optional.some, Location.start), Optional.none, compose(Optional.some, Location.after), Optional.none);\n      } else {\n        return location.fold(Optional.none, compose(Optional.some, Location.before), Optional.none, compose(Optional.some, Location.end));\n      }\n    };\n    const findLocation$1 = (forward, isInlineTarget, rootNode, pos) => {\n      const from = normalizePosition(forward, pos);\n      const fromLocation = readLocation(isInlineTarget, rootNode, from);\n      return readLocation(isInlineTarget, rootNode, from).bind(curry(findLocationSimple, forward)).orThunk(() => findLocationTraverse(forward, isInlineTarget, rootNode, fromLocation, pos));\n    };\n\n    const hasSelectionModifyApi = editor => {\n      return isFunction(editor.selection.getSel().modify);\n    };\n    const moveRel = (forward, selection, pos) => {\n      const delta = forward ? 1 : -1;\n      selection.setRng(CaretPosition(pos.container(), pos.offset() + delta).toRange());\n      selection.getSel().modify('move', forward ? 'forward' : 'backward', 'word');\n      return true;\n    };\n    const moveByWord = (forward, editor) => {\n      const rng = editor.selection.getRng();\n      const pos = forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n      if (!hasSelectionModifyApi(editor)) {\n        return false;\n      } else if (forward && isBeforeInline(pos)) {\n        return moveRel(true, editor.selection, pos);\n      } else if (!forward && isAfterInline(pos)) {\n        return moveRel(false, editor.selection, pos);\n      } else {\n        return false;\n      }\n    };\n\n    var BreakType;\n    (function (BreakType) {\n      BreakType[BreakType['Br'] = 0] = 'Br';\n      BreakType[BreakType['Block'] = 1] = 'Block';\n      BreakType[BreakType['Wrap'] = 2] = 'Wrap';\n      BreakType[BreakType['Eol'] = 3] = 'Eol';\n    }(BreakType || (BreakType = {})));\n    const flip = (direction, positions) => direction === HDirection.Backwards ? reverse(positions) : positions;\n    const walk$1 = (direction, caretWalker, pos) => direction === HDirection.Forwards ? caretWalker.next(pos) : caretWalker.prev(pos);\n    const getBreakType = (scope, direction, currentPos, nextPos) => {\n      if (isBr$6(nextPos.getNode(direction === HDirection.Forwards))) {\n        return BreakType.Br;\n      } else if (isInSameBlock(currentPos, nextPos) === false) {\n        return BreakType.Block;\n      } else {\n        return BreakType.Wrap;\n      }\n    };\n    const getPositionsUntil = (predicate, direction, scope, start) => {\n      const caretWalker = CaretWalker(scope);\n      let currentPos = start;\n      const positions = [];\n      while (currentPos) {\n        const nextPos = walk$1(direction, caretWalker, currentPos);\n        if (!nextPos) {\n          break;\n        }\n        if (isBr$6(nextPos.getNode(false))) {\n          if (direction === HDirection.Forwards) {\n            return {\n              positions: flip(direction, positions).concat([nextPos]),\n              breakType: BreakType.Br,\n              breakAt: Optional.some(nextPos)\n            };\n          } else {\n            return {\n              positions: flip(direction, positions),\n              breakType: BreakType.Br,\n              breakAt: Optional.some(nextPos)\n            };\n          }\n        }\n        if (!nextPos.isVisible()) {\n          currentPos = nextPos;\n          continue;\n        }\n        if (predicate(currentPos, nextPos)) {\n          const breakType = getBreakType(scope, direction, currentPos, nextPos);\n          return {\n            positions: flip(direction, positions),\n            breakType,\n            breakAt: Optional.some(nextPos)\n          };\n        }\n        positions.push(nextPos);\n        currentPos = nextPos;\n      }\n      return {\n        positions: flip(direction, positions),\n        breakType: BreakType.Eol,\n        breakAt: Optional.none()\n      };\n    };\n    const getAdjacentLinePositions = (direction, getPositionsUntilBreak, scope, start) => getPositionsUntilBreak(scope, start).breakAt.map(pos => {\n      const positions = getPositionsUntilBreak(scope, pos).positions;\n      return direction === HDirection.Backwards ? positions.concat(pos) : [pos].concat(positions);\n    }).getOr([]);\n    const findClosestHorizontalPositionFromPoint = (positions, x) => foldl(positions, (acc, newPos) => acc.fold(() => Optional.some(newPos), lastPos => lift2(head(lastPos.getClientRects()), head(newPos.getClientRects()), (lastRect, newRect) => {\n      const lastDist = Math.abs(x - lastRect.left);\n      const newDist = Math.abs(x - newRect.left);\n      return newDist <= lastDist ? newPos : lastPos;\n    }).or(acc)), Optional.none());\n    const findClosestHorizontalPosition = (positions, pos) => head(pos.getClientRects()).bind(targetRect => findClosestHorizontalPositionFromPoint(positions, targetRect.left));\n    const getPositionsUntilPreviousLine = curry(getPositionsUntil, CaretPosition.isAbove, -1);\n    const getPositionsUntilNextLine = curry(getPositionsUntil, CaretPosition.isBelow, 1);\n    const getPositionsAbove = curry(getAdjacentLinePositions, -1, getPositionsUntilPreviousLine);\n    const getPositionsBelow = curry(getAdjacentLinePositions, 1, getPositionsUntilNextLine);\n    const isAtFirstLine = (scope, pos) => getPositionsUntilPreviousLine(scope, pos).breakAt.isNone();\n    const isAtLastLine = (scope, pos) => getPositionsUntilNextLine(scope, pos).breakAt.isNone();\n    const getFirstLinePositions = scope => firstPositionIn(scope).map(pos => [pos].concat(getPositionsUntilNextLine(scope, pos).positions)).getOr([]);\n    const getLastLinePositions = scope => lastPositionIn(scope).map(pos => getPositionsUntilPreviousLine(scope, pos).positions.concat(pos)).getOr([]);\n    const getClosestPositionAbove = (scope, pos) => findClosestHorizontalPosition(getPositionsAbove(scope, pos), pos);\n    const getClosestPositionBelow = (scope, pos) => findClosestHorizontalPosition(getPositionsBelow(scope, pos), pos);\n\n    const isContentEditableFalse$4 = isContentEditableFalse$b;\n    const distanceToRectLeft$1 = (clientRect, clientX) => Math.abs(clientRect.left - clientX);\n    const distanceToRectRight$1 = (clientRect, clientX) => Math.abs(clientRect.right - clientX);\n    const isNodeClientRect = rect => hasNonNullableKey(rect, 'node');\n    const findClosestClientRect = (clientRects, clientX) => reduce(clientRects, (oldClientRect, clientRect) => {\n      const oldDistance = Math.min(distanceToRectLeft$1(oldClientRect, clientX), distanceToRectRight$1(oldClientRect, clientX));\n      const newDistance = Math.min(distanceToRectLeft$1(clientRect, clientX), distanceToRectRight$1(clientRect, clientX));\n      if (newDistance === oldDistance && isNodeClientRect(clientRect) && isContentEditableFalse$4(clientRect.node)) {\n        return clientRect;\n      }\n      if (newDistance < oldDistance) {\n        return clientRect;\n      }\n      return oldClientRect;\n    });\n\n    const getNodeClientRects = node => {\n      const toArrayWithNode = clientRects => {\n        return map$3(clientRects, rect => {\n          const clientRect = clone$1(rect);\n          clientRect.node = node;\n          return clientRect;\n        });\n      };\n      if (isElement$6(node)) {\n        return toArrayWithNode(node.getClientRects());\n      } else if (isText$9(node)) {\n        const rng = node.ownerDocument.createRange();\n        rng.setStart(node, 0);\n        rng.setEnd(node, node.data.length);\n        return toArrayWithNode(rng.getClientRects());\n      } else {\n        return [];\n      }\n    };\n    const getClientRects = nodes => bind$3(nodes, getNodeClientRects);\n\n    var VDirection;\n    (function (VDirection) {\n      VDirection[VDirection['Up'] = -1] = 'Up';\n      VDirection[VDirection['Down'] = 1] = 'Down';\n    }(VDirection || (VDirection = {})));\n    const findUntil = (direction, root, predicateFn, node) => {\n      while (node = findNode(node, direction, isEditableCaretCandidate$1, root)) {\n        if (predicateFn(node)) {\n          return;\n        }\n      }\n    };\n    const walkUntil = (direction, isAboveFn, isBeflowFn, root, predicateFn, caretPosition) => {\n      let line = 0;\n      const result = [];\n      const add = node => {\n        let clientRects = getClientRects([node]);\n        if (direction === -1) {\n          clientRects = clientRects.reverse();\n        }\n        for (let i = 0; i < clientRects.length; i++) {\n          const clientRect = clientRects[i];\n          if (isBeflowFn(clientRect, targetClientRect)) {\n            continue;\n          }\n          if (result.length > 0 && isAboveFn(clientRect, last$2(result))) {\n            line++;\n          }\n          clientRect.line = line;\n          if (predicateFn(clientRect)) {\n            return true;\n          }\n          result.push(clientRect);\n        }\n      };\n      const targetClientRect = last$2(caretPosition.getClientRects());\n      if (!targetClientRect) {\n        return result;\n      }\n      const node = caretPosition.getNode();\n      add(node);\n      findUntil(direction, root, add, node);\n      return result;\n    };\n    const aboveLineNumber = (lineNumber, clientRect) => clientRect.line > lineNumber;\n    const isLineNumber = (lineNumber, clientRect) => clientRect.line === lineNumber;\n    const upUntil = curry(walkUntil, VDirection.Up, isAbove$1, isBelow$1);\n    const downUntil = curry(walkUntil, VDirection.Down, isBelow$1, isAbove$1);\n    const positionsUntil = (direction, root, predicateFn, node) => {\n      const caretWalker = CaretWalker(root);\n      let walkFn;\n      let isBelowFn;\n      let isAboveFn;\n      let caretPosition;\n      const result = [];\n      let line = 0;\n      const getClientRect = caretPosition => {\n        if (direction === 1) {\n          return last$2(caretPosition.getClientRects());\n        }\n        return last$2(caretPosition.getClientRects());\n      };\n      if (direction === 1) {\n        walkFn = caretWalker.next;\n        isBelowFn = isBelow$1;\n        isAboveFn = isAbove$1;\n        caretPosition = CaretPosition.after(node);\n      } else {\n        walkFn = caretWalker.prev;\n        isBelowFn = isAbove$1;\n        isAboveFn = isBelow$1;\n        caretPosition = CaretPosition.before(node);\n      }\n      const targetClientRect = getClientRect(caretPosition);\n      do {\n        if (!caretPosition.isVisible()) {\n          continue;\n        }\n        const rect = getClientRect(caretPosition);\n        if (isAboveFn(rect, targetClientRect)) {\n          continue;\n        }\n        if (result.length > 0 && isBelowFn(rect, last$2(result))) {\n          line++;\n        }\n        const clientRect = clone$1(rect);\n        clientRect.position = caretPosition;\n        clientRect.line = line;\n        if (predicateFn(clientRect)) {\n          return result;\n        }\n        result.push(clientRect);\n      } while (caretPosition = walkFn(caretPosition));\n      return result;\n    };\n    const isAboveLine = lineNumber => clientRect => aboveLineNumber(lineNumber, clientRect);\n    const isLine = lineNumber => clientRect => isLineNumber(lineNumber, clientRect);\n\n    const moveToRange = (editor, rng) => {\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, editor.selection.getRng());\n    };\n    const renderRangeCaretOpt = (editor, range, scrollIntoView) => Optional.some(renderRangeCaret(editor, range, scrollIntoView));\n    const moveHorizontally = (editor, direction, range, isBefore, isAfter, isElement) => {\n      const forwards = direction === HDirection.Forwards;\n      const caretWalker = CaretWalker(editor.getBody());\n      const getNextPosFn = curry(getVisualCaretPosition, forwards ? caretWalker.next : caretWalker.prev);\n      const isBeforeFn = forwards ? isBefore : isAfter;\n      if (!range.collapsed) {\n        const node = getSelectedNode(range);\n        if (isElement(node)) {\n          return showCaret(direction, editor, node, direction === HDirection.Backwards, false);\n        } else if (isCefAtEdgeSelected(editor)) {\n          const newRange = range.cloneRange();\n          newRange.collapse(direction === HDirection.Backwards);\n          return Optional.from(newRange);\n        }\n      }\n      const caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      if (isBeforeFn(caretPosition)) {\n        return selectNode(editor, caretPosition.getNode(!forwards));\n      }\n      const nextCaretPosition = normalizePosition(forwards, getNextPosFn(caretPosition));\n      const rangeIsInContainerBlock = isRangeInCaretContainerBlock(range);\n      if (!nextCaretPosition) {\n        return rangeIsInContainerBlock ? Optional.some(range) : Optional.none();\n      }\n      if (isBeforeFn(nextCaretPosition)) {\n        return showCaret(direction, editor, nextCaretPosition.getNode(!forwards), forwards, false);\n      }\n      const peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return showCaret(direction, editor, peekCaretPosition.getNode(!forwards), forwards, false);\n        }\n      }\n      if (rangeIsInContainerBlock) {\n        return renderRangeCaretOpt(editor, nextCaretPosition.toRange(), false);\n      }\n      return Optional.none();\n    };\n    const moveVertically = (editor, direction, range, isBefore, isAfter, isElement) => {\n      const caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      const caretClientRect = last$2(caretPosition.getClientRects());\n      const forwards = direction === VDirection.Down;\n      const root = editor.getBody();\n      if (!caretClientRect) {\n        return Optional.none();\n      }\n      if (isCefAtEdgeSelected(editor)) {\n        const caretPosition = forwards ? CaretPosition.fromRangeEnd(range) : CaretPosition.fromRangeStart(range);\n        const getClosestFn = !forwards ? getClosestPositionAbove : getClosestPositionBelow;\n        return getClosestFn(root, caretPosition).orThunk(() => Optional.from(caretPosition)).map(pos => pos.toRange());\n      }\n      const walkerFn = forwards ? downUntil : upUntil;\n      const linePositions = walkerFn(root, isAboveLine(1), caretPosition);\n      const nextLinePositions = filter$6(linePositions, isLine(1));\n      const clientX = caretClientRect.left;\n      const nextLineRect = findClosestClientRect(nextLinePositions, clientX);\n      if (nextLineRect && isElement(nextLineRect.node)) {\n        const dist1 = Math.abs(clientX - nextLineRect.left);\n        const dist2 = Math.abs(clientX - nextLineRect.right);\n        return showCaret(direction, editor, nextLineRect.node, dist1 < dist2, false);\n      }\n      let currentNode;\n      if (isBefore(caretPosition)) {\n        currentNode = caretPosition.getNode();\n      } else if (isAfter(caretPosition)) {\n        currentNode = caretPosition.getNode(true);\n      } else {\n        currentNode = getSelectedNode(range);\n      }\n      if (currentNode) {\n        const caretPositions = positionsUntil(direction, root, isAboveLine(1), currentNode);\n        let closestNextLineRect = findClosestClientRect(filter$6(caretPositions, isLine(1)), clientX);\n        if (closestNextLineRect) {\n          return renderRangeCaretOpt(editor, closestNextLineRect.position.toRange(), false);\n        }\n        closestNextLineRect = last$2(filter$6(caretPositions, isLine(0)));\n        if (closestNextLineRect) {\n          return renderRangeCaretOpt(editor, closestNextLineRect.position.toRange(), false);\n        }\n      }\n      if (nextLinePositions.length === 0) {\n        return getLineEndPoint(editor, forwards).filter(forwards ? isAfter : isBefore).map(pos => renderRangeCaret(editor, pos.toRange(), false));\n      }\n      return Optional.none();\n    };\n    const getLineEndPoint = (editor, forward) => {\n      const rng = editor.selection.getRng();\n      const from = forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n      const host = getEditingHost(from.container(), editor.getBody());\n      if (forward) {\n        const lineInfo = getPositionsUntilNextLine(host, from);\n        return last$3(lineInfo.positions);\n      } else {\n        const lineInfo = getPositionsUntilPreviousLine(host, from);\n        return head(lineInfo.positions);\n      }\n    };\n    const moveToLineEndPoint$3 = (editor, forward, isElementPosition) => getLineEndPoint(editor, forward).filter(isElementPosition).exists(pos => {\n      editor.selection.setRng(pos.toRange());\n      return true;\n    });\n\n    const setCaretPosition = (editor, pos) => {\n      const rng = editor.dom.createRng();\n      rng.setStart(pos.container(), pos.offset());\n      rng.setEnd(pos.container(), pos.offset());\n      editor.selection.setRng(rng);\n    };\n    const setSelected = (state, elm) => {\n      if (state) {\n        elm.setAttribute('data-mce-selected', 'inline-boundary');\n      } else {\n        elm.removeAttribute('data-mce-selected');\n      }\n    };\n    const renderCaretLocation = (editor, caret, location) => renderCaret(caret, location).map(pos => {\n      setCaretPosition(editor, pos);\n      return location;\n    });\n    const getPositionFromRange = (range, root, forward) => {\n      const start = CaretPosition.fromRangeStart(range);\n      if (range.collapsed) {\n        return start;\n      } else {\n        const end = CaretPosition.fromRangeEnd(range);\n        return forward ? prevPosition(root, end).getOr(end) : nextPosition(root, start).getOr(start);\n      }\n    };\n    const findLocation = (editor, caret, forward) => {\n      const rootNode = editor.getBody();\n      const from = getPositionFromRange(editor.selection.getRng(), rootNode, forward);\n      const isInlineTarget$1 = curry(isInlineTarget, editor);\n      const location = findLocation$1(forward, isInlineTarget$1, rootNode, from);\n      return location.bind(location => renderCaretLocation(editor, caret, location));\n    };\n    const toggleInlines = (isInlineTarget, dom, elms) => {\n      const inlineBoundaries = map$3(descendants(SugarElement.fromDom(dom.getRoot()), '*[data-mce-selected=\"inline-boundary\"]'), e => e.dom);\n      const selectedInlines = filter$6(inlineBoundaries, isInlineTarget);\n      const targetInlines = filter$6(elms, isInlineTarget);\n      each$f(difference(selectedInlines, targetInlines), curry(setSelected, false));\n      each$f(difference(targetInlines, selectedInlines), curry(setSelected, true));\n    };\n    const safeRemoveCaretContainer = (editor, caret) => {\n      if (editor.selection.isCollapsed() && editor.composing !== true && caret.get()) {\n        const pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n        if (CaretPosition.isTextPosition(pos) && isAtZwsp(pos) === false) {\n          setCaretPosition(editor, removeAndReposition(caret.get(), pos));\n          caret.set(null);\n        }\n      }\n    };\n    const renderInsideInlineCaret = (isInlineTarget, editor, caret, elms) => {\n      if (editor.selection.isCollapsed()) {\n        const inlines = filter$6(elms, isInlineTarget);\n        each$f(inlines, _inline => {\n          const pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n          readLocation(isInlineTarget, editor.getBody(), pos).bind(location => renderCaretLocation(editor, caret, location));\n        });\n      }\n    };\n    const move$2 = (editor, caret, forward) => isInlineBoundariesEnabled(editor) ? findLocation(editor, caret, forward).isSome() : false;\n    const moveWord = (forward, editor, _caret) => isInlineBoundariesEnabled(editor) ? moveByWord(forward, editor) : false;\n    const setupSelectedState = editor => {\n      const caret = Cell(null);\n      const isInlineTarget$1 = curry(isInlineTarget, editor);\n      editor.on('NodeChange', e => {\n        if (isInlineBoundariesEnabled(editor)) {\n          toggleInlines(isInlineTarget$1, editor.dom, e.parents);\n          safeRemoveCaretContainer(editor, caret);\n          renderInsideInlineCaret(isInlineTarget$1, editor, caret, e.parents);\n        }\n      });\n      return caret;\n    };\n    const moveNextWord = curry(moveWord, true);\n    const movePrevWord = curry(moveWord, false);\n    const moveToLineEndPoint$2 = (editor, forward, caret) => {\n      if (isInlineBoundariesEnabled(editor)) {\n        const linePoint = getLineEndPoint(editor, forward).getOrThunk(() => {\n          const rng = editor.selection.getRng();\n          return forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n        });\n        return readLocation(curry(isInlineTarget, editor), editor.getBody(), linePoint).exists(loc => {\n          const outsideLoc = outside(loc);\n          return renderCaret(caret, outsideLoc).exists(pos => {\n            setCaretPosition(editor, pos);\n            return true;\n          });\n        });\n      } else {\n        return false;\n      }\n    };\n\n    const rangeFromPositions = (from, to) => {\n      const range = document.createRange();\n      range.setStart(from.container(), from.offset());\n      range.setEnd(to.container(), to.offset());\n      return range;\n    };\n    const hasOnlyTwoOrLessPositionsLeft = elm => lift2(firstPositionIn(elm), lastPositionIn(elm), (firstPos, lastPos) => {\n      const normalizedFirstPos = normalizePosition(true, firstPos);\n      const normalizedLastPos = normalizePosition(false, lastPos);\n      return nextPosition(elm, normalizedFirstPos).forall(pos => pos.isEqual(normalizedLastPos));\n    }).getOr(true);\n    const setCaretLocation = (editor, caret) => location => renderCaret(caret, location).map(pos => () => setCaretPosition(editor, pos));\n    const deleteFromTo = (editor, caret, from, to) => {\n      const rootNode = editor.getBody();\n      const isInlineTarget$1 = curry(isInlineTarget, editor);\n      editor.undoManager.ignore(() => {\n        editor.selection.setRng(rangeFromPositions(from, to));\n        execDeleteCommand(editor);\n        readLocation(isInlineTarget$1, rootNode, CaretPosition.fromRangeStart(editor.selection.getRng())).map(inside).bind(setCaretLocation(editor, caret)).each(call);\n      });\n      editor.nodeChanged();\n    };\n    const rescope = (rootNode, node) => {\n      const parentBlock = getParentBlock$3(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    const backspaceDeleteCollapsed = (editor, caret, forward, from) => {\n      const rootNode = rescope(editor.getBody(), from.container());\n      const isInlineTarget$1 = curry(isInlineTarget, editor);\n      const fromLocation = readLocation(isInlineTarget$1, rootNode, from);\n      const location = fromLocation.bind(location => {\n        if (forward) {\n          return location.fold(constant(Optional.some(inside(location))), Optional.none, constant(Optional.some(outside(location))), Optional.none);\n        } else {\n          return location.fold(Optional.none, constant(Optional.some(outside(location))), Optional.none, constant(Optional.some(inside(location))));\n        }\n      });\n      return location.map(setCaretLocation(editor, caret)).getOrThunk(() => {\n        const toPosition = navigate(forward, rootNode, from);\n        const toLocation = toPosition.bind(pos => readLocation(isInlineTarget$1, rootNode, pos));\n        return lift2(fromLocation, toLocation, () => findRootInline(isInlineTarget$1, rootNode, from).bind(elm => {\n          if (hasOnlyTwoOrLessPositionsLeft(elm)) {\n            return Optional.some(() => {\n              deleteElement$2(editor, forward, SugarElement.fromDom(elm));\n            });\n          } else {\n            return Optional.none();\n          }\n        })).getOrThunk(() => toLocation.bind(() => toPosition.map(to => {\n          return () => {\n            if (forward) {\n              deleteFromTo(editor, caret, from, to);\n            } else {\n              deleteFromTo(editor, caret, to, from);\n            }\n          };\n        })));\n      });\n    };\n    const backspaceDelete$3 = (editor, caret, forward) => {\n      if (editor.selection.isCollapsed() && isInlineBoundariesEnabled(editor)) {\n        const from = CaretPosition.fromRangeStart(editor.selection.getRng());\n        return backspaceDeleteCollapsed(editor, caret, forward, from);\n      }\n      return Optional.none();\n    };\n\n    const getParentInlines = (rootElm, startElm) => {\n      const parents = parentsAndSelf(startElm, rootElm);\n      return findIndex$2(parents, isBlock$2).fold(constant(parents), index => parents.slice(0, index));\n    };\n    const hasOnlyOneChild = elm => childNodesCount(elm) === 1;\n    const deleteLastPosition = (forward, editor, target, parentInlines) => {\n      const isFormatElement$1 = curry(isFormatElement, editor);\n      const formatNodes = map$3(filter$6(parentInlines, isFormatElement$1), elm => elm.dom);\n      if (formatNodes.length === 0) {\n        deleteElement$2(editor, forward, target);\n      } else {\n        const pos = replaceWithCaretFormat(target.dom, formatNodes);\n        editor.selection.setRng(pos.toRange());\n      }\n    };\n    const deleteCaret$1 = (editor, forward) => {\n      const rootElm = SugarElement.fromDom(editor.getBody());\n      const startElm = SugarElement.fromDom(editor.selection.getStart());\n      const parentInlines = filter$6(getParentInlines(rootElm, startElm), hasOnlyOneChild);\n      return last$3(parentInlines).bind(target => {\n        const fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n        if (willDeleteLastPositionInElement(forward, fromPos, target.dom) && !isEmptyCaretFormatElement(target)) {\n          return Optional.some(() => deleteLastPosition(forward, editor, target, parentInlines));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const backspaceDelete$2 = (editor, forward) => editor.selection.isCollapsed() ? deleteCaret$1(editor, forward) : Optional.none();\n\n    const deleteElement = (editor, forward, element) => {\n      return Optional.some(() => {\n        editor._selectionOverrides.hideFakeCaret();\n        deleteElement$2(editor, forward, SugarElement.fromDom(element));\n      });\n    };\n    const deleteCaret = (editor, forward) => {\n      const isNearMedia = forward ? isBeforeMedia : isAfterMedia;\n      const direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      const fromPos = getNormalizedRangeEndPoint(direction, editor.getBody(), editor.selection.getRng());\n      if (isNearMedia(fromPos)) {\n        return deleteElement(editor, forward, fromPos.getNode(!forward));\n      } else {\n        return Optional.from(normalizePosition(forward, fromPos)).filter(pos => isNearMedia(pos) && isMoveInsideSameBlock(fromPos, pos)).map(pos => () => deleteElement(editor, forward, pos.getNode(!forward)));\n      }\n    };\n    const deleteRange = (editor, forward) => {\n      const selectedNode = editor.selection.getNode();\n      return isMedia$2(selectedNode) ? deleteElement(editor, forward, selectedNode) : Optional.none();\n    };\n    const backspaceDelete$1 = (editor, forward) => editor.selection.isCollapsed() ? deleteCaret(editor, forward) : deleteRange(editor, forward);\n\n    const isEditable$1 = target => closest$4(target, elm => isContentEditableTrue$5(elm.dom) || isContentEditableFalse$b(elm.dom)).exists(elm => isContentEditableTrue$5(elm.dom));\n    const parseIndentValue = value => {\n      const number = parseInt(value, 10);\n      return isNaN(number) ? 0 : number;\n    };\n    const getIndentStyleName = (useMargin, element) => {\n      const indentStyleName = useMargin || isTable$2(element) ? 'margin' : 'padding';\n      const suffix = get$7(element, 'direction') === 'rtl' ? '-right' : '-left';\n      return indentStyleName + suffix;\n    };\n    const indentElement = (dom, command, useMargin, value, unit, element) => {\n      const indentStyleName = getIndentStyleName(useMargin, SugarElement.fromDom(element));\n      if (command === 'outdent') {\n        const styleValue = Math.max(0, parseIndentValue(element.style[indentStyleName]) - value);\n        dom.setStyle(element, indentStyleName, styleValue ? styleValue + unit : '');\n      } else {\n        const styleValue = parseIndentValue(element.style[indentStyleName]) + value + unit;\n        dom.setStyle(element, indentStyleName, styleValue);\n      }\n    };\n    const validateBlocks = (editor, blocks) => forall(blocks, block => {\n      const indentStyleName = getIndentStyleName(shouldIndentUseMargin(editor), block);\n      const intentValue = getRaw$1(block, indentStyleName).map(parseIndentValue).getOr(0);\n      const contentEditable = editor.dom.getContentEditable(block.dom);\n      return contentEditable !== 'false' && intentValue > 0;\n    });\n    const canOutdent = editor => {\n      const blocks = getBlocksToIndent(editor);\n      return !editor.mode.isReadOnly() && (blocks.length > 1 || validateBlocks(editor, blocks));\n    };\n    const isListComponent = el => isList(el) || isListItem(el);\n    const parentIsListComponent = el => parent(el).exists(isListComponent);\n    const getBlocksToIndent = editor => filter$6(fromDom$1(editor.selection.getSelectedBlocks()), el => !isListComponent(el) && !parentIsListComponent(el) && isEditable$1(el));\n    const handle = (editor, command) => {\n      const {dom} = editor;\n      const indentation = getIndentation(editor);\n      const indentUnit = /[a-z%]+$/i.exec(indentation)[0];\n      const indentValue = parseInt(indentation, 10);\n      const useMargin = shouldIndentUseMargin(editor);\n      each$f(getBlocksToIndent(editor), block => {\n        indentElement(dom, command, useMargin, indentValue, indentUnit, block.dom);\n      });\n    };\n    const indent = editor => handle(editor, 'indent');\n    const outdent = editor => handle(editor, 'outdent');\n\n    const backspaceDelete = editor => {\n      if (editor.selection.isCollapsed() && canOutdent(editor)) {\n        const dom = editor.dom;\n        const rng = editor.selection.getRng();\n        const pos = CaretPosition.fromRangeStart(rng);\n        const block = dom.getParent(rng.startContainer, dom.isBlock);\n        if (block !== null && isAtStartOfBlock(SugarElement.fromDom(block), pos)) {\n          return Optional.some(() => outdent(editor));\n        }\n      }\n      return Optional.none();\n    };\n\n    const findAction = (editor, caret, forward) => findMap([\n      backspaceDelete,\n      backspaceDelete$5,\n      backspaceDelete$6,\n      (editor, forward) => backspaceDelete$3(editor, caret, forward),\n      backspaceDelete$8,\n      backspaceDelete$9,\n      backspaceDelete$4,\n      backspaceDelete$1,\n      backspaceDelete$7,\n      backspaceDelete$2\n    ], item => item(editor, forward));\n    const deleteCommand = (editor, caret) => {\n      const result = findAction(editor, caret, false);\n      result.fold(() => {\n        execDeleteCommand(editor);\n        paddEmptyBody(editor);\n      }, call);\n    };\n    const forwardDeleteCommand = (editor, caret) => {\n      const result = findAction(editor, caret, true);\n      result.fold(() => execForwardDeleteCommand(editor), call);\n    };\n    const setup$p = (editor, caret) => {\n      editor.addCommand('delete', () => {\n        deleteCommand(editor, caret);\n      });\n      editor.addCommand('forwardDelete', () => {\n        forwardDeleteCommand(editor, caret);\n      });\n    };\n\n    const SIGNIFICANT_MOVE = 5;\n    const LONGPRESS_DELAY = 400;\n    const getTouch = event => {\n      if (event.touches === undefined || event.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(event.touches[0]);\n    };\n    const isFarEnough = (touch, data) => {\n      const distX = Math.abs(touch.clientX - data.x);\n      const distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    const setup$o = editor => {\n      const startData = value$2();\n      const longpressFired = Cell(false);\n      const debounceLongpress = last$1(e => {\n        editor.dispatch('longpress', {\n          ...e,\n          type: 'longpress'\n        });\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      editor.on('touchstart', e => {\n        getTouch(e).each(touch => {\n          debounceLongpress.cancel();\n          const data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: e.target\n          };\n          debounceLongpress.throttle(e);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n      }, true);\n      editor.on('touchmove', e => {\n        debounceLongpress.cancel();\n        getTouch(e).each(touch => {\n          startData.on(data => {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n              longpressFired.set(false);\n              editor.dispatch('longpresscancel');\n            }\n          });\n        });\n      }, true);\n      editor.on('touchend touchcancel', e => {\n        debounceLongpress.cancel();\n        if (e.type === 'touchcancel') {\n          return;\n        }\n        startData.get().filter(data => data.target.isEqualNode(e.target)).each(() => {\n          if (longpressFired.get()) {\n            e.preventDefault();\n          } else {\n            editor.dispatch('tap', {\n              ...e,\n              type: 'tap'\n            });\n          }\n        });\n      }, true);\n    };\n\n    const isBlockElement = (blockElements, node) => has$2(blockElements, node.nodeName);\n    const isValidTarget = (blockElements, node) => {\n      if (isText$9(node)) {\n        return true;\n      } else if (isElement$6(node)) {\n        return !isBlockElement(blockElements, node) && !isBookmarkNode$1(node);\n      } else {\n        return false;\n      }\n    };\n    const hasBlockParent = (blockElements, root, node) => {\n      return exists(parents(SugarElement.fromDom(node), SugarElement.fromDom(root)), elm => {\n        return isBlockElement(blockElements, elm.dom);\n      });\n    };\n    const shouldRemoveTextNode = (blockElements, node) => {\n      if (isText$9(node)) {\n        if (node.nodeValue.length === 0) {\n          return true;\n        } else if (/^\\s+$/.test(node.nodeValue) && (!node.nextSibling || isBlockElement(blockElements, node.nextSibling))) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const createRootBlock = editor => editor.dom.create(getForcedRootBlock(editor), getForcedRootBlockAttrs(editor));\n    const addRootBlocks = editor => {\n      const dom = editor.dom, selection = editor.selection;\n      const schema = editor.schema, blockElements = schema.getBlockElements();\n      let node = selection.getStart();\n      const rootNode = editor.getBody();\n      let rootBlockNode, tempNode, wrapped;\n      const forcedRootBlock = getForcedRootBlock(editor);\n      if (!node || !isElement$6(node)) {\n        return;\n      }\n      const rootNodeName = rootNode.nodeName.toLowerCase();\n      if (!schema.isValidChild(rootNodeName, forcedRootBlock.toLowerCase()) || hasBlockParent(blockElements, rootNode, node)) {\n        return;\n      }\n      const rng = selection.getRng();\n      const startContainer = rng.startContainer;\n      const startOffset = rng.startOffset;\n      const endContainer = rng.endContainer;\n      const endOffset = rng.endOffset;\n      const restoreSelection = hasFocus(editor);\n      node = rootNode.firstChild;\n      while (node) {\n        if (isValidTarget(blockElements, node)) {\n          if (shouldRemoveTextNode(blockElements, node)) {\n            tempNode = node;\n            node = node.nextSibling;\n            dom.remove(tempNode);\n            continue;\n          }\n          if (!rootBlockNode) {\n            rootBlockNode = createRootBlock(editor);\n            node.parentNode.insertBefore(rootBlockNode, node);\n            wrapped = true;\n          }\n          tempNode = node;\n          node = node.nextSibling;\n          rootBlockNode.appendChild(tempNode);\n        } else {\n          rootBlockNode = null;\n          node = node.nextSibling;\n        }\n      }\n      if (wrapped && restoreSelection) {\n        rng.setStart(startContainer, startOffset);\n        rng.setEnd(endContainer, endOffset);\n        selection.setRng(rng);\n        editor.nodeChanged();\n      }\n    };\n    const insertEmptyLine = (editor, root, insertBlock) => {\n      const block = SugarElement.fromDom(createRootBlock(editor));\n      const br = createPaddingBr();\n      append$1(block, br);\n      insertBlock(root, block);\n      const rng = document.createRange();\n      rng.setStartBefore(br.dom);\n      rng.setEndBefore(br.dom);\n      return rng;\n    };\n    const setup$n = editor => {\n      editor.on('NodeChange', curry(addRootBlocks, editor));\n    };\n\n    const hasClass = checkClassName => node => (' ' + node.attr('class') + ' ').indexOf(checkClassName) !== -1;\n    const replaceMatchWithSpan = (editor, content, cls) => {\n      return function (match) {\n        const args = arguments, index = args[args.length - 2];\n        const prevChar = index > 0 ? content.charAt(index - 1) : '';\n        if (prevChar === '\"') {\n          return match;\n        }\n        if (prevChar === '>') {\n          const findStartTagIndex = content.lastIndexOf('<', index);\n          if (findStartTagIndex !== -1) {\n            const tagHtml = content.substring(findStartTagIndex, index);\n            if (tagHtml.indexOf('contenteditable=\"false\"') !== -1) {\n              return match;\n            }\n          }\n        }\n        return '<span class=\"' + cls + '\" data-mce-content=\"' + editor.dom.encode(args[0]) + '\">' + editor.dom.encode(typeof args[1] === 'string' ? args[1] : args[0]) + '</span>';\n      };\n    };\n    const convertRegExpsToNonEditable = (editor, nonEditableRegExps, e) => {\n      let i = nonEditableRegExps.length, content = e.content;\n      if (e.format === 'raw') {\n        return;\n      }\n      while (i--) {\n        content = content.replace(nonEditableRegExps[i], replaceMatchWithSpan(editor, content, getNonEditableClass(editor)));\n      }\n      e.content = content;\n    };\n    const setup$m = editor => {\n      const contentEditableAttrName = 'contenteditable';\n      const editClass = ' ' + Tools.trim(getEditableClass(editor)) + ' ';\n      const nonEditClass = ' ' + Tools.trim(getNonEditableClass(editor)) + ' ';\n      const hasEditClass = hasClass(editClass);\n      const hasNonEditClass = hasClass(nonEditClass);\n      const nonEditableRegExps = getNonEditableRegExps(editor);\n      if (nonEditableRegExps.length > 0) {\n        editor.on('BeforeSetContent', e => {\n          convertRegExpsToNonEditable(editor, nonEditableRegExps, e);\n        });\n      }\n      editor.parser.addAttributeFilter('class', nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          if (hasEditClass(node)) {\n            node.attr(contentEditableAttrName, 'true');\n          } else if (hasNonEditClass(node)) {\n            node.attr(contentEditableAttrName, 'false');\n          }\n        }\n      });\n      editor.serializer.addAttributeFilter(contentEditableAttrName, nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          if (!hasEditClass(node) && !hasNonEditClass(node)) {\n            continue;\n          }\n          if (nonEditableRegExps.length > 0 && node.attr('data-mce-content')) {\n            node.name = '#text';\n            node.type = 3;\n            node.raw = true;\n            node.value = node.attr('data-mce-content');\n          } else {\n            node.attr(contentEditableAttrName, null);\n          }\n        }\n      });\n    };\n\n    const findBlockCaretContainer = editor => descendant(SugarElement.fromDom(editor.getBody()), '*[data-mce-caret]').map(elm => elm.dom).getOrNull();\n    const showBlockCaretContainer = (editor, blockCaretContainer) => {\n      if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n        showCaretContainerBlock(blockCaretContainer);\n        editor.selection.setRng(editor.selection.getRng());\n        editor.selection.scrollIntoView(blockCaretContainer);\n      }\n    };\n    const handleBlockContainer = (editor, e) => {\n      const blockCaretContainer = findBlockCaretContainer(editor);\n      if (!blockCaretContainer) {\n        return;\n      }\n      if (e.type === 'compositionstart') {\n        e.preventDefault();\n        e.stopPropagation();\n        showBlockCaretContainer(editor, blockCaretContainer);\n        return;\n      }\n      if (hasContent(blockCaretContainer)) {\n        showBlockCaretContainer(editor, blockCaretContainer);\n        editor.undoManager.add();\n      }\n    };\n    const setup$l = editor => {\n      editor.on('keyup compositionstart', curry(handleBlockContainer, editor));\n    };\n\n    const isContentEditableFalse$3 = isContentEditableFalse$b;\n    const moveToCeFalseHorizontally = (direction, editor, range) => moveHorizontally(editor, direction, range, isBeforeContentEditableFalse, isAfterContentEditableFalse, isContentEditableFalse$3);\n    const moveToCeFalseVertically = (direction, editor, range) => {\n      const isBefore = caretPosition => isBeforeContentEditableFalse(caretPosition) || isBeforeTable(caretPosition);\n      const isAfter = caretPosition => isAfterContentEditableFalse(caretPosition) || isAfterTable(caretPosition);\n      return moveVertically(editor, direction, range, isBefore, isAfter, isContentEditableFalse$3);\n    };\n    const createTextBlock = editor => {\n      const textBlock = editor.dom.create(getForcedRootBlock(editor));\n      textBlock.innerHTML = '<br data-mce-bogus=\"1\">';\n      return textBlock;\n    };\n    const exitPreBlock = (editor, direction, range) => {\n      const caretWalker = CaretWalker(editor.getBody());\n      const getVisualCaretPosition$1 = curry(getVisualCaretPosition, direction === 1 ? caretWalker.next : caretWalker.prev);\n      if (range.collapsed) {\n        const pre = editor.dom.getParent(range.startContainer, 'PRE');\n        if (!pre) {\n          return;\n        }\n        const caretPos = getVisualCaretPosition$1(CaretPosition.fromRangeStart(range));\n        if (!caretPos) {\n          const newBlock = SugarElement.fromDom(createTextBlock(editor));\n          if (direction === 1) {\n            after$4(SugarElement.fromDom(pre), newBlock);\n          } else {\n            before$3(SugarElement.fromDom(pre), newBlock);\n          }\n          editor.selection.select(newBlock.dom, true);\n          editor.selection.collapse();\n        }\n      }\n    };\n    const getHorizontalRange = (editor, forward) => {\n      const direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      const range = editor.selection.getRng();\n      return moveToCeFalseHorizontally(direction, editor, range).orThunk(() => {\n        exitPreBlock(editor, direction, range);\n        return Optional.none();\n      });\n    };\n    const getVerticalRange = (editor, down) => {\n      const direction = down ? 1 : -1;\n      const range = editor.selection.getRng();\n      return moveToCeFalseVertically(direction, editor, range).orThunk(() => {\n        exitPreBlock(editor, direction, range);\n        return Optional.none();\n      });\n    };\n    const moveH$2 = (editor, forward) => getHorizontalRange(editor, forward).exists(newRange => {\n      moveToRange(editor, newRange);\n      return true;\n    });\n    const moveV$3 = (editor, down) => getVerticalRange(editor, down).exists(newRange => {\n      moveToRange(editor, newRange);\n      return true;\n    });\n    const moveToLineEndPoint$1 = (editor, forward) => {\n      const isCefPosition = forward ? isAfterContentEditableFalse : isBeforeContentEditableFalse;\n      return moveToLineEndPoint$3(editor, forward, isCefPosition);\n    };\n    const selectToEndPoint = (editor, forward) => getEdgeCefPosition(editor, !forward).map(pos => {\n      const rng = pos.toRange();\n      const curRng = editor.selection.getRng();\n      if (forward) {\n        rng.setStart(curRng.startContainer, curRng.startOffset);\n      } else {\n        rng.setEnd(curRng.endContainer, curRng.endOffset);\n      }\n      return rng;\n    }).exists(rng => {\n      moveToRange(editor, rng);\n      return true;\n    });\n\n    const isTarget = node => contains$2(['figcaption'], name(node));\n    const getClosestTargetBlock = (pos, root) => {\n      const isRoot = curry(eq, root);\n      return closest$4(SugarElement.fromDom(pos.container()), isBlock$2, isRoot).filter(isTarget);\n    };\n    const isAtFirstOrLastLine = (root, forward, pos) => forward ? isAtLastLine(root.dom, pos) : isAtFirstLine(root.dom, pos);\n    const moveCaretToNewEmptyLine = (editor, forward) => {\n      const root = SugarElement.fromDom(editor.getBody());\n      const pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return getClosestTargetBlock(pos, root).exists(() => {\n        if (isAtFirstOrLastLine(root, forward, pos)) {\n          const insertFn = forward ? append$1 : prepend;\n          const rng = insertEmptyLine(editor, root, insertFn);\n          editor.selection.setRng(rng);\n          return true;\n        } else {\n          return false;\n        }\n      });\n    };\n    const moveV$2 = (editor, forward) => {\n      if (editor.selection.isCollapsed()) {\n        return moveCaretToNewEmptyLine(editor, forward);\n      } else {\n        return false;\n      }\n    };\n\n    const baseKeyPattern = {\n      shiftKey: false,\n      altKey: false,\n      ctrlKey: false,\n      metaKey: false,\n      keyCode: 0\n    };\n    const defaultPatterns = patterns => map$3(patterns, pattern => ({\n      ...baseKeyPattern,\n      action: noop,\n      ...pattern\n    }));\n    const defaultDelayedPatterns = patterns => map$3(patterns, pattern => ({\n      ...baseKeyPattern,\n      action: () => Optional.none(),\n      ...pattern\n    }));\n    const matchesEvent = (pattern, evt) => evt.keyCode === pattern.keyCode && evt.shiftKey === pattern.shiftKey && evt.altKey === pattern.altKey && evt.ctrlKey === pattern.ctrlKey && evt.metaKey === pattern.metaKey;\n    const match$1 = (patterns, evt) => bind$3(defaultPatterns(patterns), pattern => matchesEvent(pattern, evt) ? [pattern] : []);\n    const matchDelayed = (patterns, evt) => bind$3(defaultDelayedPatterns(patterns), pattern => matchesEvent(pattern, evt) ? [pattern] : []);\n    const action = (f, ...x) => () => f.apply(null, x);\n    const execute = (patterns, evt) => find$2(match$1(patterns, evt), pattern => pattern.action());\n    const executeWithDelayedAction = (patterns, evt) => findMap(matchDelayed(patterns, evt), pattern => pattern.action());\n\n    const moveH$1 = (editor, forward) => {\n      const direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      const range = editor.selection.getRng();\n      return moveHorizontally(editor, direction, range, isBeforeMedia, isAfterMedia, isMedia$2).exists(newRange => {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    const moveV$1 = (editor, down) => {\n      const direction = down ? 1 : -1;\n      const range = editor.selection.getRng();\n      return moveVertically(editor, direction, range, isBeforeMedia, isAfterMedia, isMedia$2).exists(newRange => {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    const moveToLineEndPoint = (editor, forward) => {\n      const isNearMedia = forward ? isAfterMedia : isBeforeMedia;\n      return moveToLineEndPoint$3(editor, forward, isNearMedia);\n    };\n\n    const adt = Adt.generate([\n      { none: ['current'] },\n      { first: ['current'] },\n      {\n        middle: [\n          'current',\n          'target'\n        ]\n      },\n      { last: ['current'] }\n    ]);\n    const none = current => adt.none(current);\n    const CellLocation = {\n      ...adt,\n      none\n    };\n\n    const firstLayer = (scope, selector) => {\n      return filterFirstLayer(scope, selector, always);\n    };\n    const filterFirstLayer = (scope, selector, predicate) => {\n      return bind$3(children(scope), x => {\n        if (is$1(x, selector)) {\n          return predicate(x) ? [x] : [];\n        } else {\n          return filterFirstLayer(x, selector, predicate);\n        }\n      });\n    };\n\n    const lookup$1 = (tags, element, isRoot = never) => {\n      if (isRoot(element)) {\n        return Optional.none();\n      }\n      if (contains$2(tags, name(element))) {\n        return Optional.some(element);\n      }\n      const isRootOrUpperTable = elm => is$1(elm, 'table') || isRoot(elm);\n      return ancestor$2(element, tags.join(','), isRootOrUpperTable);\n    };\n    const cell = (element, isRoot) => lookup$1([\n      'td',\n      'th'\n    ], element, isRoot);\n    const cells = ancestor => firstLayer(ancestor, 'th,td');\n    const table = (element, isRoot) => closest$3(element, 'table', isRoot);\n\n    const walk = (all, current, index, direction, isEligible = always) => {\n      const forwards = direction === 1;\n      if (!forwards && index <= 0) {\n        return CellLocation.first(all[0]);\n      } else if (forwards && index >= all.length - 1) {\n        return CellLocation.last(all[all.length - 1]);\n      } else {\n        const newIndex = index + direction;\n        const elem = all[newIndex];\n        return isEligible(elem) ? CellLocation.middle(current, elem) : walk(all, current, newIndex, direction, isEligible);\n      }\n    };\n    const detect = (current, isRoot) => {\n      return table(current, isRoot).bind(table => {\n        const all = cells(table);\n        const index = findIndex$2(all, x => eq(current, x));\n        return index.map(index => ({\n          index,\n          all\n        }));\n      });\n    };\n    const next = (current, isEligible, isRoot) => {\n      const detection = detect(current, isRoot);\n      return detection.fold(() => {\n        return CellLocation.none(current);\n      }, info => {\n        return walk(info.all, current, info.index, 1, isEligible);\n      });\n    };\n    const prev = (current, isEligible, isRoot) => {\n      const detection = detect(current, isRoot);\n      return detection.fold(() => {\n        return CellLocation.none();\n      }, info => {\n        return walk(info.all, current, info.index, -1, isEligible);\n      });\n    };\n\n    const closest = target => closest$3(target, '[contenteditable]');\n    const isEditable = (element, assumeEditable = false) => {\n      if (inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest(element).fold(constant(assumeEditable), editable => getRaw(editable) === 'true');\n      }\n    };\n    const getRaw = element => element.dom.contentEditable;\n\n    const deflate = (rect, delta) => ({\n      left: rect.left - delta,\n      top: rect.top - delta,\n      right: rect.right + delta * 2,\n      bottom: rect.bottom + delta * 2,\n      width: rect.width + delta,\n      height: rect.height + delta\n    });\n    const getCorners = (getYAxisValue, tds) => bind$3(tds, td => {\n      const rect = deflate(clone$1(td.getBoundingClientRect()), -1);\n      return [\n        {\n          x: rect.left,\n          y: getYAxisValue(rect),\n          cell: td\n        },\n        {\n          x: rect.right,\n          y: getYAxisValue(rect),\n          cell: td\n        }\n      ];\n    });\n    const findClosestCorner = (corners, x, y) => foldl(corners, (acc, newCorner) => acc.fold(() => Optional.some(newCorner), oldCorner => {\n      const oldDist = Math.sqrt(Math.abs(oldCorner.x - x) + Math.abs(oldCorner.y - y));\n      const newDist = Math.sqrt(Math.abs(newCorner.x - x) + Math.abs(newCorner.y - y));\n      return Optional.some(newDist < oldDist ? newCorner : oldCorner);\n    }), Optional.none());\n    const getClosestCell = (getYAxisValue, isTargetCorner, table, x, y) => {\n      const cells = descendants(SugarElement.fromDom(table), 'td,th,caption').map(e => e.dom);\n      const corners = filter$6(getCorners(getYAxisValue, cells), corner => isTargetCorner(corner, y));\n      return findClosestCorner(corners, x, y).map(corner => corner.cell);\n    };\n    const getBottomValue = rect => rect.bottom;\n    const getTopValue = rect => rect.top;\n    const isAbove = (corner, y) => corner.y < y;\n    const isBelow = (corner, y) => corner.y > y;\n    const getClosestCellAbove = curry(getClosestCell, getBottomValue, isAbove);\n    const getClosestCellBelow = curry(getClosestCell, getTopValue, isBelow);\n    const findClosestPositionInAboveCell = (table, pos) => head(pos.getClientRects()).bind(rect => getClosestCellAbove(table, rect.left, rect.top)).bind(cell => findClosestHorizontalPosition(getLastLinePositions(cell), pos));\n    const findClosestPositionInBelowCell = (table, pos) => last$3(pos.getClientRects()).bind(rect => getClosestCellBelow(table, rect.left, rect.top)).bind(cell => findClosestHorizontalPosition(getFirstLinePositions(cell), pos));\n\n    const hasNextBreak = (getPositionsUntil, scope, lineInfo) => lineInfo.breakAt.exists(breakPos => getPositionsUntil(scope, breakPos).breakAt.isSome());\n    const startsWithWrapBreak = lineInfo => lineInfo.breakType === BreakType.Wrap && lineInfo.positions.length === 0;\n    const startsWithBrBreak = lineInfo => lineInfo.breakType === BreakType.Br && lineInfo.positions.length === 1;\n    const isAtTableCellLine = (getPositionsUntil, scope, pos) => {\n      const lineInfo = getPositionsUntil(scope, pos);\n      if (startsWithWrapBreak(lineInfo) || !isBr$6(pos.getNode()) && startsWithBrBreak(lineInfo)) {\n        return !hasNextBreak(getPositionsUntil, scope, lineInfo);\n      } else {\n        return lineInfo.breakAt.isNone();\n      }\n    };\n    const isAtFirstTableCellLine = curry(isAtTableCellLine, getPositionsUntilPreviousLine);\n    const isAtLastTableCellLine = curry(isAtTableCellLine, getPositionsUntilNextLine);\n    const isCaretAtStartOrEndOfTable = (forward, rng, table) => {\n      const caretPos = CaretPosition.fromRangeStart(rng);\n      return positionIn(!forward, table).exists(pos => pos.isEqual(caretPos));\n    };\n    const navigateHorizontally = (editor, forward, table, _td) => {\n      const rng = editor.selection.getRng();\n      const direction = forward ? 1 : -1;\n      if (isFakeCaretTableBrowser() && isCaretAtStartOrEndOfTable(forward, rng, table)) {\n        showCaret(direction, editor, table, !forward, false).each(newRng => {\n          moveToRange(editor, newRng);\n        });\n        return true;\n      }\n      return false;\n    };\n    const getClosestAbovePosition = (root, table, start) => findClosestPositionInAboveCell(table, start).orThunk(() => head(start.getClientRects()).bind(rect => findClosestHorizontalPositionFromPoint(getPositionsAbove(root, CaretPosition.before(table)), rect.left))).getOr(CaretPosition.before(table));\n    const getClosestBelowPosition = (root, table, start) => findClosestPositionInBelowCell(table, start).orThunk(() => head(start.getClientRects()).bind(rect => findClosestHorizontalPositionFromPoint(getPositionsBelow(root, CaretPosition.after(table)), rect.left))).getOr(CaretPosition.after(table));\n    const getTable = (previous, pos) => {\n      const node = pos.getNode(previous);\n      return isTable$3(node) ? Optional.some(node) : Optional.none();\n    };\n    const renderBlock = (down, editor, table) => {\n      editor.undoManager.transact(() => {\n        const insertFn = down ? after$4 : before$3;\n        const rng = insertEmptyLine(editor, SugarElement.fromDom(table), insertFn);\n        moveToRange(editor, rng);\n      });\n    };\n    const moveCaret = (editor, down, pos) => {\n      const table = down ? getTable(true, pos) : getTable(false, pos);\n      const last = down === false;\n      table.fold(() => moveToRange(editor, pos.toRange()), table => positionIn(last, editor.getBody()).filter(lastPos => lastPos.isEqual(pos)).fold(() => moveToRange(editor, pos.toRange()), _ => renderBlock(down, editor, table)));\n    };\n    const navigateVertically = (editor, down, table, td) => {\n      const rng = editor.selection.getRng();\n      const pos = CaretPosition.fromRangeStart(rng);\n      const root = editor.getBody();\n      if (!down && isAtFirstTableCellLine(td, pos)) {\n        const newPos = getClosestAbovePosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else if (down && isAtLastTableCellLine(td, pos)) {\n        const newPos = getClosestBelowPosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const move$1 = (editor, forward, mover) => Optional.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(td => Optional.from(editor.dom.getParent(td, 'table')).map(table => mover(editor, forward, table, td))).getOr(false);\n    const moveH = (editor, forward) => move$1(editor, forward, navigateHorizontally);\n    const moveV = (editor, forward) => move$1(editor, forward, navigateVertically);\n    const getCellFirstCursorPosition = cell => {\n      const selection = SimSelection.exact(cell, 0, cell, 0);\n      return toNative(selection);\n    };\n    const tabGo = (editor, isRoot, cell) => {\n      return cell.fold(Optional.none, Optional.none, (_current, next) => {\n        return first(next).map(cell => {\n          return getCellFirstCursorPosition(cell);\n        });\n      }, current => {\n        editor.execCommand('mceTableInsertRowAfter');\n        return tabForward(editor, isRoot, current);\n      });\n    };\n    const tabForward = (editor, isRoot, cell) => tabGo(editor, isRoot, next(cell, isEditable));\n    const tabBackward = (editor, isRoot, cell) => tabGo(editor, isRoot, prev(cell, isEditable));\n    const handleTab = (editor, forward) => {\n      const rootElements = [\n        'table',\n        'li',\n        'dl'\n      ];\n      const body = SugarElement.fromDom(editor.getBody());\n      const isRoot = element => {\n        const name$1 = name(element);\n        return eq(element, body) || contains$2(rootElements, name$1);\n      };\n      const rng = editor.selection.getRng();\n      const container = SugarElement.fromDom(!forward ? rng.startContainer : rng.endContainer);\n      return cell(container, isRoot).map(cell => {\n        table(cell, isRoot).each(table => {\n          editor.model.table.clearSelectedCells(table.dom);\n        });\n        editor.selection.collapse(!forward);\n        const navigation = !forward ? tabBackward : tabForward;\n        const rng = navigation(editor, isRoot, cell);\n        rng.each(range => {\n          editor.selection.setRng(range);\n        });\n        return true;\n      }).getOr(false);\n    };\n\n    const executeKeydownOverride$4 = (editor, caret, evt) => {\n      const isMac = Env.os.isMacOS() || Env.os.isiOS();\n      execute([\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH$2, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH$2, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$3, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$3, editor, true)\n        },\n        ...isMac ? [\n          {\n            keyCode: VK.UP,\n            action: action(selectToEndPoint, editor, false),\n            metaKey: true,\n            shiftKey: true\n          },\n          {\n            keyCode: VK.DOWN,\n            action: action(selectToEndPoint, editor, true),\n            metaKey: true,\n            shiftKey: true\n          }\n        ] : [],\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH$1, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH$1, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$1, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$1, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(move$2, editor, caret, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(move$2, editor, caret, false)\n        },\n        {\n          keyCode: VK.RIGHT,\n          ctrlKey: !isMac,\n          altKey: isMac,\n          action: action(moveNextWord, editor, caret)\n        },\n        {\n          keyCode: VK.LEFT,\n          ctrlKey: !isMac,\n          altKey: isMac,\n          action: action(movePrevWord, editor, caret)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$2, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$2, editor, true)\n        }\n      ], evt).each(_ => {\n        evt.preventDefault();\n      });\n    };\n    const setup$k = (editor, caret) => {\n      editor.on('keydown', evt => {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$4(editor, caret, evt);\n        }\n      });\n    };\n\n    const point = (container, offset) => ({\n      container,\n      offset\n    });\n\n    const DOM$7 = DOMUtils.DOM;\n    const alwaysNext = startNode => node => startNode === node ? -1 : 0;\n    const isBoundary = dom => node => dom.isBlock(node) || contains$2([\n      'BR',\n      'IMG',\n      'HR',\n      'INPUT'\n    ], node.nodeName) || dom.getContentEditable(node) === 'false';\n    const textBefore = (node, offset, rootNode) => {\n      if (isText$9(node) && offset >= 0) {\n        return Optional.some(point(node, offset));\n      } else {\n        const textSeeker = TextSeeker(DOM$7);\n        return Optional.from(textSeeker.backwards(node, offset, alwaysNext(node), rootNode)).map(prev => point(prev.container, prev.container.data.length));\n      }\n    };\n    const textAfter = (node, offset, rootNode) => {\n      if (isText$9(node) && offset >= node.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        const textSeeker = TextSeeker(DOM$7);\n        return Optional.from(textSeeker.forwards(node, offset, alwaysNext(node), rootNode)).map(prev => point(prev.container, 0));\n      }\n    };\n    const scanLeft = (node, offset, rootNode) => {\n      if (!isText$9(node)) {\n        return Optional.none();\n      }\n      const text = node.textContent;\n      if (offset >= 0 && offset <= text.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        const textSeeker = TextSeeker(DOM$7);\n        return Optional.from(textSeeker.backwards(node, offset, alwaysNext(node), rootNode)).bind(prev => {\n          const prevText = prev.container.data;\n          return scanLeft(prev.container, offset + prevText.length, rootNode);\n        });\n      }\n    };\n    const scanRight = (node, offset, rootNode) => {\n      if (!isText$9(node)) {\n        return Optional.none();\n      }\n      const text = node.textContent;\n      if (offset <= text.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        const textSeeker = TextSeeker(DOM$7);\n        return Optional.from(textSeeker.forwards(node, offset, alwaysNext(node), rootNode)).bind(next => scanRight(next.container, offset - text.length, rootNode));\n      }\n    };\n    const repeatLeft = (dom, node, offset, process, rootNode) => {\n      const search = TextSeeker(dom, isBoundary(dom));\n      return Optional.from(search.backwards(node, offset, process, rootNode));\n    };\n\n    const isValidTextRange = rng => rng.collapsed && rng.startContainer.nodeType === 3;\n    const getText = rng => rng.toString().replace(/\\u00A0/g, ' ').replace(/\\uFEFF/g, '');\n    const isWhitespace = chr => chr !== '' && ' \\xA0\\f\\n\\r\\t\\x0B'.indexOf(chr) !== -1;\n\n    const stripTriggerChar = (text, triggerCh) => text.substring(triggerCh.length);\n    const findChar = (text, index, ch) => {\n      let i;\n      for (i = index - 1; i >= 0; i--) {\n        const char = text.charAt(i);\n        if (isWhitespace(char)) {\n          return Optional.none();\n        }\n        if (char === ch) {\n          break;\n        }\n      }\n      return Optional.some(i);\n    };\n    const findStart = (dom, initRange, ch, minChars = 0) => {\n      if (!isValidTextRange(initRange)) {\n        return Optional.none();\n      }\n      const findTriggerChIndex = (element, offset, text) => findChar(text, offset, ch).getOr(offset);\n      const root = dom.getParent(initRange.startContainer, dom.isBlock) || dom.getRoot();\n      return repeatLeft(dom, initRange.startContainer, initRange.startOffset, findTriggerChIndex, root).bind(spot => {\n        const range = initRange.cloneRange();\n        range.setStart(spot.container, spot.offset);\n        range.setEnd(initRange.endContainer, initRange.endOffset);\n        if (range.collapsed) {\n          return Optional.none();\n        }\n        const text = getText(range);\n        const triggerCharIndex = text.lastIndexOf(ch);\n        if (triggerCharIndex !== 0 || stripTriggerChar(text, ch).length < minChars) {\n          return Optional.none();\n        } else {\n          return Optional.some({\n            text: stripTriggerChar(text, ch),\n            range,\n            triggerChar: ch\n          });\n        }\n      });\n    };\n    const getContext = (dom, initRange, ch, minChars = 0) => detect$1(SugarElement.fromDom(initRange.startContainer)).fold(() => findStart(dom, initRange, ch, minChars), elm => {\n      const range = dom.createRng();\n      range.selectNode(elm.dom);\n      const text = getText(range);\n      return Optional.some({\n        range,\n        text: stripTriggerChar(text, ch),\n        triggerChar: ch\n      });\n    });\n\n    const isText$1 = node => node.nodeType === TEXT;\n    const isElement = node => node.nodeType === ELEMENT;\n    const toLast = node => {\n      if (isText$1(node)) {\n        return point(node, node.data.length);\n      } else {\n        const children = node.childNodes;\n        return children.length > 0 ? toLast(children[children.length - 1]) : point(node, children.length);\n      }\n    };\n    const toLeaf = (node, offset) => {\n      const children = node.childNodes;\n      if (children.length > 0 && offset < children.length) {\n        return toLeaf(children[offset], 0);\n      } else if (children.length > 0 && isElement(node) && children.length === offset) {\n        return toLast(children[children.length - 1]);\n      } else {\n        return point(node, offset);\n      }\n    };\n\n    const isPreviousCharContent = (dom, leaf) => {\n      const root = dom.getParent(leaf.container, dom.isBlock);\n      return repeatLeft(dom, leaf.container, leaf.offset, (_element, offset) => offset === 0 ? -1 : offset, root).filter(spot => {\n        const char = spot.container.data.charAt(spot.offset - 1);\n        return !isWhitespace(char);\n      }).isSome();\n    };\n    const isStartOfWord = dom => rng => {\n      const leaf = toLeaf(rng.startContainer, rng.startOffset);\n      return !isPreviousCharContent(dom, leaf);\n    };\n    const getTriggerContext = (dom, initRange, database) => findMap(database.triggerChars, ch => getContext(dom, initRange, ch));\n    const lookup = (editor, getDatabase) => {\n      const database = getDatabase();\n      const rng = editor.selection.getRng();\n      return getTriggerContext(editor.dom, rng, database).bind(context => lookupWithContext(editor, getDatabase, context));\n    };\n    const lookupWithContext = (editor, getDatabase, context, fetchOptions = {}) => {\n      const database = getDatabase();\n      const rng = editor.selection.getRng();\n      const startText = rng.startContainer.nodeValue;\n      const autocompleters = filter$6(database.lookupByChar(context.triggerChar), autocompleter => context.text.length >= autocompleter.minChars && autocompleter.matches.getOrThunk(() => isStartOfWord(editor.dom))(context.range, startText, context.text));\n      if (autocompleters.length === 0) {\n        return Optional.none();\n      }\n      const lookupData = Promise.all(map$3(autocompleters, ac => {\n        const fetchResult = ac.fetch(context.text, ac.maxResults, fetchOptions);\n        return fetchResult.then(results => ({\n          matchText: context.text,\n          items: results,\n          columns: ac.columns,\n          onAction: ac.onAction,\n          highlightOn: ac.highlightOn\n        }));\n      }));\n      return Optional.some({\n        lookupData,\n        context\n      });\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    const fold$1 = (res, onError, onValue) => res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    const partition = results => {\n      const values = [];\n      const errors = [];\n      each$f(results, obj => {\n        fold$1(obj, err => errors.push(err), val => values.push(val));\n      });\n      return {\n        values,\n        errors\n      };\n    };\n    const mapError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    const map = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    const bind = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    const bindError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    const svalue = v => ({\n      stype: SimpleResultType.Value,\n      svalue: v\n    });\n    const serror = e => ({\n      stype: SimpleResultType.Error,\n      serror: e\n    });\n    const toResult = res => fold$1(res, Result.error, Result.value);\n    const fromResult = res => res.fold(serror, svalue);\n    const SimpleResult = {\n      fromResult,\n      toResult,\n      svalue,\n      partition,\n      serror,\n      bind,\n      bindError,\n      map,\n      mapError,\n      fold: fold$1\n    };\n\n    const formatObj = input => {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    const formatErrors = errors => {\n      const es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant('... (only showing first ten failures)')\n        }]) : errors;\n      return map$3(es, e => {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    const nu = (path, getErrorInfo) => {\n      return SimpleResult.serror([{\n          path,\n          getErrorInfo\n        }]);\n    };\n    const missingRequired = (path, key, obj) => nu(path, () => 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj));\n    const missingKey = (path, key) => nu(path, () => 'Choice schema did not contain choice key: \"' + key + '\"');\n    const missingBranch = (path, branches, branch) => nu(path, () => 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches));\n    const custom = (path, err) => nu(path, constant(err));\n\n    const chooseFrom = (path, input, branches, ch) => {\n      const fields = get$a(branches, ch);\n      return fields.fold(() => missingBranch(path, branches, ch), vp => vp.extract(path.concat(['branch: ' + ch]), input));\n    };\n    const choose$1 = (key, branches) => {\n      const extract = (path, input) => {\n        const choice = get$a(input, key);\n        return choice.fold(() => missingKey(path, key), chosen => chooseFrom(path, input, branches, chosen));\n      };\n      const toString = () => 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      return {\n        extract,\n        toString\n      };\n    };\n\n    const shallow = (old, nu) => {\n      return nu;\n    };\n    const deep = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep);\n    const merge = baseMerge(shallow);\n\n    const required = () => ({\n      tag: 'required',\n      process: {}\n    });\n    const defaultedThunk = fallbackThunk => ({\n      tag: 'defaultedThunk',\n      process: fallbackThunk\n    });\n    const defaulted$1 = fallback => defaultedThunk(constant(fallback));\n    const asOption = () => ({\n      tag: 'option',\n      process: {}\n    });\n\n    const mergeValues = (values, base) => values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge.apply(undefined, values))) : SimpleResult.svalue(base);\n    const mergeErrors = errors => compose(SimpleResult.serror, flatten)(errors);\n    const consolidateObj = (objects, base) => {\n      const partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors(partition.errors) : mergeValues(partition.values, base);\n    };\n    const consolidateArr = objects => {\n      const partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    const ResultCombine = {\n      consolidateObj,\n      consolidateArr\n    };\n\n    const field$1 = (key, newKey, presence, prop) => ({\n      tag: 'field',\n      key,\n      newKey,\n      presence,\n      prop\n    });\n    const customField$1 = (newKey, instantiator) => ({\n      tag: 'custom',\n      newKey,\n      instantiator\n    });\n    const fold = (value, ifField, ifCustom) => {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    const value = validator => {\n      const extract = (path, val) => {\n        return SimpleResult.bindError(validator(val), err => custom(path, err));\n      };\n      const toString = constant('val');\n      return {\n        extract,\n        toString\n      };\n    };\n    const anyValue$1 = value(SimpleResult.svalue);\n\n    const requiredAccess = (path, obj, key, bundle) => get$a(obj, key).fold(() => missingRequired(path, key, obj), bundle);\n    const fallbackAccess = (obj, key, fallback, bundle) => {\n      const v = get$a(obj, key).getOrThunk(() => fallback(obj));\n      return bundle(v);\n    };\n    const optionAccess = (obj, key, bundle) => bundle(get$a(obj, key));\n    const optionDefaultedAccess = (obj, key, fallback, bundle) => {\n      const opt = get$a(obj, key).map(val => val === true ? fallback(obj) : val);\n      return bundle(opt);\n    };\n    const extractField = (field, path, obj, key, prop) => {\n      const bundle = av => prop.extract(path.concat([key]), av);\n      const bundleAsOption = optValue => optValue.fold(() => SimpleResult.svalue(Optional.none()), ov => {\n        const result = prop.extract(path.concat([key]), ov);\n        return SimpleResult.map(result, Optional.some);\n      });\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant({}), v => {\n            const result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    const extractFields = (path, obj, fields) => {\n      const success = {};\n      const errors = [];\n      for (const field of fields) {\n        fold(field, (key, newKey, presence, prop) => {\n          const result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, err => {\n            errors.push(...err);\n          }, res => {\n            success[newKey] = res;\n          });\n        }, (newKey, instantiator) => {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    const objOf = values => {\n      const extract = (path, o) => extractFields(path, o, values);\n      const toString = () => {\n        const fieldStrings = map$3(values, value => fold(value, (key, _okey, _presence, prop) => key + ' -> ' + prop.toString(), (newKey, _instantiator) => 'state(' + newKey + ')'));\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOf = prop => {\n      const extract = (path, array) => {\n        const results = map$3(array, (a, i) => prop.extract(path.concat(['[' + i + ']']), a));\n        return ResultCombine.consolidateArr(results);\n      };\n      const toString = () => 'array(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n\n    const valueOf = validator => value(v => validator(v).fold(SimpleResult.serror, SimpleResult.svalue));\n    const extractValue = (label, prop, obj) => {\n      const res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, errs => ({\n        input: obj,\n        errors: errs\n      }));\n    };\n    const asRaw = (label, prop, obj) => SimpleResult.toResult(extractValue(label, prop, obj));\n    const formatError = errInfo => {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    const choose = (key, branches) => choose$1(key, map$2(branches, objOf));\n\n    const anyValue = constant(anyValue$1);\n    const typedValue = (validator, expectedType) => value(a => {\n      const actualType = typeof a;\n      return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror(`Expected type: ${ expectedType } but got: ${ actualType }`);\n    });\n    const number = typedValue(isNumber, 'number');\n    const string = typedValue(isString, 'string');\n    const boolean = typedValue(isBoolean, 'boolean');\n    const functionProcessor = typedValue(isFunction, 'function');\n\n    const field = field$1;\n    const customField = customField$1;\n    const validateEnum = values => valueOf(value => contains$2(values, value) ? Result.value(value) : Result.error(`Unsupported value: \"${ value }\", choose one of \"${ values.join(', ') }\".`));\n    const requiredOf = (key, schema) => field(key, key, required(), schema);\n    const requiredString = key => requiredOf(key, string);\n    const requiredFunction = key => requiredOf(key, functionProcessor);\n    const requiredArrayOf = (key, schema) => field(key, key, required(), arrOf(schema));\n    const optionOf = (key, schema) => field(key, key, asOption(), schema);\n    const optionString = key => optionOf(key, string);\n    const optionFunction = key => optionOf(key, functionProcessor);\n    const defaulted = (key, fallback) => field(key, key, defaulted$1(fallback), anyValue());\n    const defaultedOf = (key, fallback, schema) => field(key, key, defaulted$1(fallback), schema);\n    const defaultedNumber = (key, fallback) => defaultedOf(key, fallback, number);\n    const defaultedString = (key, fallback) => defaultedOf(key, fallback, string);\n    const defaultedStringEnum = (key, fallback, values) => defaultedOf(key, fallback, validateEnum(values));\n    const defaultedBoolean = (key, fallback) => defaultedOf(key, fallback, boolean);\n    const defaultedFunction = (key, fallback) => defaultedOf(key, fallback, functionProcessor);\n    const defaultedArrayOf = (key, fallback, schema) => defaultedOf(key, fallback, arrOf(schema));\n\n    const type = requiredString('type');\n    const fetch$1 = requiredFunction('fetch');\n    const onAction = requiredFunction('onAction');\n    const onSetup = defaultedFunction('onSetup', () => noop);\n    const optionalText = optionString('text');\n    const optionalIcon = optionString('icon');\n    const optionalTooltip = optionString('tooltip');\n    const optionalLabel = optionString('label');\n    const active = defaultedBoolean('active', false);\n    const enabled = defaultedBoolean('enabled', true);\n    const primary = defaultedBoolean('primary', false);\n    const defaultedColumns = num => defaulted('columns', num);\n    const defaultedType = type => defaultedString('type', type);\n\n    const autocompleterSchema = objOf([\n      type,\n      requiredString('ch'),\n      defaultedNumber('minChars', 1),\n      defaultedColumns(1),\n      defaultedNumber('maxResults', 10),\n      optionFunction('matches'),\n      fetch$1,\n      onAction,\n      defaultedArrayOf('highlightOn', [], string)\n    ]);\n    const createAutocompleter = spec => asRaw('Autocompleter', autocompleterSchema, spec);\n\n    const baseToolbarButtonFields = [\n      enabled,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      onSetup\n    ];\n\n    const baseToolbarToggleButtonFields = [active].concat(baseToolbarButtonFields);\n\n    const contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    const contextButtonFields = baseToolbarButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const launchButtonFields = baseToolbarButtonFields.concat([defaultedType('contextformbutton')]);\n    const launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaultedType('contextformtogglebutton')]);\n    const toggleOrNormal = choose('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    objOf([\n      defaultedType('contextform'),\n      defaultedFunction('initValue', constant('')),\n      optionalLabel,\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n\n    const register$2 = editor => {\n      const popups = editor.ui.registry.getAll().popups;\n      const dataset = map$2(popups, popup => createAutocompleter(popup).fold(err => {\n        throw new Error(formatError(err));\n      }, identity));\n      const triggerChars = stringArray(mapToArray(dataset, v => v.ch));\n      const datasetValues = values(dataset);\n      const lookupByChar = ch => filter$6(datasetValues, dv => dv.ch === ch);\n      return {\n        dataset,\n        triggerChars,\n        lookupByChar\n      };\n    };\n\n    const setupEditorInput = (editor, api) => {\n      const update = last$1(api.load, 50);\n      editor.on('keypress compositionend', e => {\n        if (e.which === 27) {\n          return;\n        }\n        update.throttle();\n      });\n      editor.on('keydown', e => {\n        const keyCode = e.which;\n        if (keyCode === 8) {\n          update.throttle();\n        } else if (keyCode === 27) {\n          api.cancelIfNecessary();\n        }\n      });\n      editor.on('remove', update.cancel);\n    };\n    const setup$j = editor => {\n      const activeAutocompleter = value$2();\n      const uiActive = Cell(false);\n      const isActive = activeAutocompleter.isSet;\n      const cancelIfNecessary = () => {\n        if (isActive()) {\n          removeAutocompleterDecoration(editor);\n          fireAutocompleterEnd(editor);\n          uiActive.set(false);\n          activeAutocompleter.clear();\n        }\n      };\n      const commenceIfNecessary = context => {\n        if (!isActive()) {\n          addAutocompleterDecoration(editor, context.range);\n          activeAutocompleter.set({\n            triggerChar: context.triggerChar,\n            matchLength: context.text.length\n          });\n        }\n      };\n      const getAutocompleters = cached(() => register$2(editor));\n      const doLookup = fetchOptions => activeAutocompleter.get().map(ac => getContext(editor.dom, editor.selection.getRng(), ac.triggerChar).bind(newContext => lookupWithContext(editor, getAutocompleters, newContext, fetchOptions))).getOrThunk(() => lookup(editor, getAutocompleters));\n      const load = fetchOptions => {\n        doLookup(fetchOptions).fold(cancelIfNecessary, lookupInfo => {\n          commenceIfNecessary(lookupInfo.context);\n          lookupInfo.lookupData.then(lookupData => {\n            activeAutocompleter.get().map(ac => {\n              const context = lookupInfo.context;\n              if (ac.triggerChar === context.triggerChar) {\n                if (context.text.length - ac.matchLength >= 10) {\n                  cancelIfNecessary();\n                } else {\n                  activeAutocompleter.set({\n                    ...ac,\n                    matchLength: context.text.length\n                  });\n                  if (uiActive.get()) {\n                    fireAutocompleterUpdate(editor, { lookupData });\n                  } else {\n                    uiActive.set(true);\n                    fireAutocompleterStart(editor, { lookupData });\n                  }\n                }\n              }\n            });\n          });\n        });\n      };\n      editor.addCommand('mceAutocompleterReload', (_ui, value) => {\n        const fetchOptions = isObject(value) ? value.fetchOptions : {};\n        load(fetchOptions);\n      });\n      editor.addCommand('mceAutocompleterClose', cancelIfNecessary);\n      setupEditorInput(editor, {\n        cancelIfNecessary,\n        load\n      });\n    };\n\n    const createAndFireInputEvent = eventType => (editor, inputType, specifics = {}) => {\n      const target = editor.getBody();\n      const overrides = {\n        bubbles: true,\n        composed: true,\n        data: null,\n        isComposing: false,\n        detail: 0,\n        view: null,\n        target,\n        currentTarget: target,\n        eventPhase: Event.AT_TARGET,\n        originalTarget: target,\n        explicitOriginalTarget: target,\n        isTrusted: false,\n        srcElement: target,\n        cancelable: false,\n        preventDefault: noop,\n        inputType\n      };\n      const input = clone$3(new InputEvent(eventType));\n      return editor.dispatch(eventType, {\n        ...input,\n        ...overrides,\n        ...specifics\n      });\n    };\n    const fireFakeInputEvent = createAndFireInputEvent('input');\n    const fireFakeBeforeInputEvent = createAndFireInputEvent('beforeinput');\n\n    const executeKeydownOverride$3 = (editor, caret, evt) => {\n      const inputType = evt.keyCode === VK.BACKSPACE ? 'deleteContentBackward' : 'deleteContentForward';\n      executeWithDelayedAction([\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete, editor)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$5, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$5, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$6, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$6, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$3, editor, caret, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$3, editor, caret, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$9, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$9, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$4, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$4, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$1, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$1, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$7, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$7, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$8, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$8, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$2, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$2, editor, true)\n        }\n      ], evt).each(applyAction => {\n        evt.preventDefault();\n        const beforeInput = fireFakeBeforeInputEvent(editor, inputType);\n        if (!beforeInput.isDefaultPrevented()) {\n          applyAction();\n          fireFakeInputEvent(editor, inputType);\n        }\n      });\n    };\n    const executeKeyupOverride = (editor, evt) => {\n      execute([\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(paddEmptyElement, editor)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(paddEmptyElement, editor)\n        }\n      ], evt);\n    };\n    const setup$i = (editor, caret) => {\n      editor.on('keydown', evt => {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$3(editor, caret, evt);\n        }\n      });\n      editor.on('keyup', evt => {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeyupOverride(editor, evt);\n        }\n      });\n    };\n\n    const firstNonWhiteSpaceNodeSibling = node => {\n      while (node) {\n        if (node.nodeType === 1 || node.nodeType === 3 && node.data && /[\\r\\n\\s]/.test(node.data)) {\n          return node;\n        }\n        node = node.nextSibling;\n      }\n    };\n    const moveToCaretPosition = (editor, root) => {\n      let node, lastNode = root;\n      const dom = editor.dom;\n      const moveCaretBeforeOnEnterElementsMap = editor.schema.getMoveCaretBeforeOnEnterElements();\n      if (!root) {\n        return;\n      }\n      if (/^(LI|DT|DD)$/.test(root.nodeName)) {\n        const firstChild = firstNonWhiteSpaceNodeSibling(root.firstChild);\n        if (firstChild && /^(UL|OL|DL)$/.test(firstChild.nodeName)) {\n          root.insertBefore(dom.doc.createTextNode(nbsp), root.firstChild);\n        }\n      }\n      const rng = dom.createRng();\n      root.normalize();\n      if (root.hasChildNodes()) {\n        const walker = new DomTreeWalker(root, root);\n        while (node = walker.current()) {\n          if (isText$9(node)) {\n            rng.setStart(node, 0);\n            rng.setEnd(node, 0);\n            break;\n          }\n          if (moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]) {\n            rng.setStartBefore(node);\n            rng.setEndBefore(node);\n            break;\n          }\n          lastNode = node;\n          node = walker.next();\n        }\n        if (!node) {\n          rng.setStart(lastNode, 0);\n          rng.setEnd(lastNode, 0);\n        }\n      } else {\n        if (isBr$6(root)) {\n          if (root.nextSibling && dom.isBlock(root.nextSibling)) {\n            rng.setStartBefore(root);\n            rng.setEndBefore(root);\n          } else {\n            rng.setStartAfter(root);\n            rng.setEndAfter(root);\n          }\n        } else {\n          rng.setStart(root, 0);\n          rng.setEnd(root, 0);\n        }\n      }\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n    };\n    const getEditableRoot$1 = (dom, node) => {\n      const root = dom.getRoot();\n      let parent, editableRoot;\n      parent = node;\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    const getParentBlock$1 = editor => {\n      return Optional.from(editor.dom.getParent(editor.selection.getStart(true), editor.dom.isBlock));\n    };\n    const getParentBlockName = editor => {\n      return getParentBlock$1(editor).fold(constant(''), parentBlock => {\n        return parentBlock.nodeName.toUpperCase();\n      });\n    };\n    const isListItemParentBlock = editor => {\n      return getParentBlock$1(editor).filter(elm => {\n        return isListItem(SugarElement.fromDom(elm));\n      }).isSome();\n    };\n\n    const hasFirstChild = (elm, name) => {\n      return elm.firstChild && elm.firstChild.nodeName === name;\n    };\n    const isFirstChild = elm => {\n      var _a;\n      return ((_a = elm.parentNode) === null || _a === void 0 ? void 0 : _a.firstChild) === elm;\n    };\n    const hasParent = (elm, parentName) => {\n      return elm && elm.parentNode && elm.parentNode.nodeName === parentName;\n    };\n    const isListBlock = elm => {\n      return elm && /^(OL|UL|LI)$/.test(elm.nodeName);\n    };\n    const isNestedList = elm => {\n      return isListBlock(elm) && isListBlock(elm.parentNode);\n    };\n    const getContainerBlock = containerBlock => {\n      const containerBlockParent = containerBlock.parentNode;\n      if (/^(LI|DT|DD)$/.test(containerBlockParent.nodeName)) {\n        return containerBlockParent;\n      }\n      return containerBlock;\n    };\n    const isFirstOrLastLi = (containerBlock, parentBlock, first) => {\n      let node = containerBlock[first ? 'firstChild' : 'lastChild'];\n      while (node) {\n        if (isElement$6(node)) {\n          break;\n        }\n        node = node[first ? 'nextSibling' : 'previousSibling'];\n      }\n      return node === parentBlock;\n    };\n    const insert$3 = (editor, createNewBlock, containerBlock, parentBlock, newBlockName) => {\n      const dom = editor.dom;\n      const rng = editor.selection.getRng();\n      if (containerBlock === editor.getBody()) {\n        return;\n      }\n      if (isNestedList(containerBlock)) {\n        newBlockName = 'LI';\n      }\n      let newBlock = createNewBlock(newBlockName);\n      if (isFirstOrLastLi(containerBlock, parentBlock, true) && isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        if (hasParent(containerBlock, 'LI')) {\n          const containerBlockParent = getContainerBlock(containerBlock);\n          dom.insertAfter(newBlock, containerBlockParent);\n          if (isFirstChild(containerBlock)) {\n            dom.remove(containerBlockParent);\n          } else {\n            dom.remove(containerBlock);\n          }\n        } else {\n          dom.replace(newBlock, containerBlock);\n        }\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, true)) {\n        if (hasParent(containerBlock, 'LI')) {\n          dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n          newBlock.appendChild(dom.doc.createTextNode(' '));\n          newBlock.appendChild(containerBlock);\n        } else {\n          containerBlock.parentNode.insertBefore(newBlock, containerBlock);\n        }\n        dom.remove(parentBlock);\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n        dom.remove(parentBlock);\n      } else {\n        containerBlock = getContainerBlock(containerBlock);\n        const tmpRng = rng.cloneRange();\n        tmpRng.setStartAfter(parentBlock);\n        tmpRng.setEndAfter(containerBlock);\n        const fragment = tmpRng.extractContents();\n        if (newBlockName === 'LI' && hasFirstChild(fragment, 'LI')) {\n          newBlock = fragment.firstChild;\n          dom.insertAfter(fragment, containerBlock);\n        } else {\n          dom.insertAfter(fragment, containerBlock);\n          dom.insertAfter(newBlock, containerBlock);\n        }\n        dom.remove(parentBlock);\n      }\n      moveToCaretPosition(editor, newBlock);\n    };\n\n    const trimZwsp = fragment => {\n      each$f(descendants$1(SugarElement.fromDom(fragment), isText$a), text => {\n        const rawNode = text.dom;\n        rawNode.nodeValue = trim$1(rawNode.nodeValue);\n      });\n    };\n    const isEmptyAnchor = (dom, elm) => {\n      return elm && elm.nodeName === 'A' && dom.isEmpty(elm);\n    };\n    const isTableCell = node => {\n      return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n    };\n    const emptyBlock = elm => {\n      elm.innerHTML = '<br data-mce-bogus=\"1\">';\n    };\n    const containerAndSiblingName = (container, nodeName) => {\n      return container.nodeName === nodeName || container.previousSibling && container.previousSibling.nodeName === nodeName;\n    };\n    const canSplitBlock = (dom, node) => {\n      return node && dom.isBlock(node) && !/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName) && !/^(fixed|absolute)/i.test(node.style.position) && dom.getContentEditable(node) !== 'true';\n    };\n    const trimInlineElementsOnLeftSideOfBlock = (dom, nonEmptyElementsMap, block) => {\n      let node = block;\n      const firstChilds = [];\n      let i;\n      if (!node) {\n        return;\n      }\n      while (node = node.firstChild) {\n        if (dom.isBlock(node)) {\n          return;\n        }\n        if (isElement$6(node) && !nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          firstChilds.push(node);\n        }\n      }\n      i = firstChilds.length;\n      while (i--) {\n        node = firstChilds[i];\n        if (!node.hasChildNodes() || node.firstChild === node.lastChild && node.firstChild.nodeValue === '') {\n          dom.remove(node);\n        } else {\n          if (isEmptyAnchor(dom, node)) {\n            dom.remove(node);\n          }\n        }\n      }\n    };\n    const normalizeZwspOffset = (start, container, offset) => {\n      if (isText$9(container) === false) {\n        return offset;\n      } else if (start) {\n        return offset === 1 && container.data.charAt(offset - 1) === ZWSP$1 ? 0 : offset;\n      } else {\n        return offset === container.data.length - 1 && container.data.charAt(offset) === ZWSP$1 ? container.data.length : offset;\n      }\n    };\n    const includeZwspInRange = rng => {\n      const newRng = rng.cloneRange();\n      newRng.setStart(rng.startContainer, normalizeZwspOffset(true, rng.startContainer, rng.startOffset));\n      newRng.setEnd(rng.endContainer, normalizeZwspOffset(false, rng.endContainer, rng.endOffset));\n      return newRng;\n    };\n    const trimLeadingLineBreaks = node => {\n      do {\n        if (isText$9(node)) {\n          node.nodeValue = node.nodeValue.replace(/^[\\r\\n]+/, '');\n        }\n        node = node.firstChild;\n      } while (node);\n    };\n    const getEditableRoot = (dom, node) => {\n      const root = dom.getRoot();\n      let parent, editableRoot;\n      parent = node;\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    const applyAttributes = (editor, node, forcedRootBlockAttrs) => {\n      const dom = editor.dom;\n      Optional.from(forcedRootBlockAttrs.style).map(dom.parseStyle).each(attrStyles => {\n        const currentStyles = getAllRaw(SugarElement.fromDom(node));\n        const newStyles = {\n          ...currentStyles,\n          ...attrStyles\n        };\n        dom.setStyles(node, newStyles);\n      });\n      const attrClassesOpt = Optional.from(forcedRootBlockAttrs.class).map(attrClasses => attrClasses.split(/\\s+/));\n      const currentClassesOpt = Optional.from(node.className).map(currentClasses => filter$6(currentClasses.split(/\\s+/), clazz => clazz !== ''));\n      lift2(attrClassesOpt, currentClassesOpt, (attrClasses, currentClasses) => {\n        const filteredClasses = filter$6(currentClasses, clazz => !contains$2(attrClasses, clazz));\n        const newClasses = [\n          ...attrClasses,\n          ...filteredClasses\n        ];\n        dom.setAttrib(node, 'class', newClasses.join(' '));\n      });\n      const appliedAttrs = [\n        'style',\n        'class'\n      ];\n      const remainingAttrs = filter$5(forcedRootBlockAttrs, (_, attrs) => !contains$2(appliedAttrs, attrs));\n      dom.setAttribs(node, remainingAttrs);\n    };\n    const setForcedBlockAttrs = (editor, node) => {\n      const forcedRootBlockName = getForcedRootBlock(editor);\n      if (forcedRootBlockName.toLowerCase() === node.tagName.toLowerCase()) {\n        const forcedRootBlockAttrs = getForcedRootBlockAttrs(editor);\n        applyAttributes(editor, node, forcedRootBlockAttrs);\n      }\n    };\n    const wrapSelfAndSiblingsInDefaultBlock = (editor, newBlockName, rng, container, offset) => {\n      let newBlock, parentBlock, startNode, node, next, rootBlockName;\n      const dom = editor.dom, editableRoot = getEditableRoot(dom, container);\n      parentBlock = dom.getParent(container, dom.isBlock);\n      if (!parentBlock || !canSplitBlock(dom, parentBlock)) {\n        parentBlock = parentBlock || editableRoot;\n        if (parentBlock === editor.getBody() || isTableCell(parentBlock)) {\n          rootBlockName = parentBlock.nodeName.toLowerCase();\n        } else {\n          rootBlockName = parentBlock.parentNode.nodeName.toLowerCase();\n        }\n        if (!parentBlock.hasChildNodes()) {\n          newBlock = dom.create(newBlockName);\n          setForcedBlockAttrs(editor, newBlock);\n          parentBlock.appendChild(newBlock);\n          rng.setStart(newBlock, 0);\n          rng.setEnd(newBlock, 0);\n          return newBlock;\n        }\n        node = container;\n        while (node.parentNode !== parentBlock) {\n          node = node.parentNode;\n        }\n        while (node && !dom.isBlock(node)) {\n          startNode = node;\n          node = node.previousSibling;\n        }\n        if (startNode && editor.schema.isValidChild(rootBlockName, newBlockName.toLowerCase())) {\n          newBlock = dom.create(newBlockName);\n          setForcedBlockAttrs(editor, newBlock);\n          startNode.parentNode.insertBefore(newBlock, startNode);\n          node = startNode;\n          while (node && !dom.isBlock(node)) {\n            next = node.nextSibling;\n            newBlock.appendChild(node);\n            node = next;\n          }\n          rng.setStart(container, offset);\n          rng.setEnd(container, offset);\n        }\n      }\n      return container;\n    };\n    const addBrToBlockIfNeeded = (dom, block) => {\n      block.normalize();\n      const lastChild = block.lastChild;\n      if (!lastChild || /^(left|right)$/gi.test(dom.getStyle(lastChild, 'float', true))) {\n        dom.add(block, 'br');\n      }\n    };\n    const shouldEndContainer = (editor, container) => {\n      const optionValue = shouldEndContainerOnEmptyBlock(editor);\n      if (isNullable(container)) {\n        return false;\n      } else if (isString(optionValue)) {\n        return contains$2(Tools.explode(optionValue), container.nodeName.toLowerCase());\n      } else {\n        return optionValue;\n      }\n    };\n    const insert$2 = (editor, evt) => {\n      let tmpRng, container, offset, parentBlock;\n      let newBlock, fragment, containerBlock, parentBlockName, isAfterLastNodeInContainer;\n      const dom = editor.dom;\n      const schema = editor.schema, nonEmptyElementsMap = schema.getNonEmptyElements();\n      const rng = editor.selection.getRng();\n      const newBlockName = getForcedRootBlock(editor);\n      const createNewBlock = name => {\n        let node = container, block, clonedNode, caretNode;\n        const textInlineElements = schema.getTextInlineElements();\n        if (name || parentBlockName === 'TABLE' || parentBlockName === 'HR') {\n          block = dom.create(name || newBlockName);\n        } else {\n          block = parentBlock.cloneNode(false);\n        }\n        caretNode = block;\n        if (shouldKeepStyles(editor) === false) {\n          dom.setAttrib(block, 'style', null);\n          dom.setAttrib(block, 'class', null);\n        } else {\n          do {\n            if (textInlineElements[node.nodeName]) {\n              if (isCaretNode(node) || isBookmarkNode$1(node)) {\n                continue;\n              }\n              clonedNode = node.cloneNode(false);\n              dom.setAttrib(clonedNode, 'id', '');\n              if (block.hasChildNodes()) {\n                clonedNode.appendChild(block.firstChild);\n                block.appendChild(clonedNode);\n              } else {\n                caretNode = clonedNode;\n                block.appendChild(clonedNode);\n              }\n            }\n          } while ((node = node.parentNode) && node !== editableRoot);\n        }\n        setForcedBlockAttrs(editor, block);\n        emptyBlock(caretNode);\n        return block;\n      };\n      const isCaretAtStartOrEndOfBlock = start => {\n        let node, name;\n        const normalizedOffset = normalizeZwspOffset(start, container, offset);\n        if (isText$9(container) && (start ? normalizedOffset > 0 : normalizedOffset < container.nodeValue.length)) {\n          return false;\n        }\n        if (container.parentNode === parentBlock && isAfterLastNodeInContainer && !start) {\n          return true;\n        }\n        if (start && isElement$6(container) && container === parentBlock.firstChild) {\n          return true;\n        }\n        if (containerAndSiblingName(container, 'TABLE') || containerAndSiblingName(container, 'HR')) {\n          return isAfterLastNodeInContainer && !start || !isAfterLastNodeInContainer && start;\n        }\n        const walker = new DomTreeWalker(container, parentBlock);\n        if (isText$9(container)) {\n          if (start && normalizedOffset === 0) {\n            walker.prev();\n          } else if (!start && normalizedOffset === container.nodeValue.length) {\n            walker.next();\n          }\n        }\n        while (node = walker.current()) {\n          if (isElement$6(node)) {\n            if (!node.getAttribute('data-mce-bogus')) {\n              name = node.nodeName.toLowerCase();\n              if (nonEmptyElementsMap[name] && name !== 'br') {\n                return false;\n              }\n            }\n          } else if (isText$9(node) && !isWhitespaceText(node.nodeValue)) {\n            return false;\n          }\n          if (start) {\n            walker.prev();\n          } else {\n            walker.next();\n          }\n        }\n        return true;\n      };\n      const insertNewBlockAfter = () => {\n        if (/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName) && containerBlockName !== 'HGROUP') {\n          newBlock = createNewBlock(newBlockName);\n        } else {\n          newBlock = createNewBlock();\n        }\n        if (shouldEndContainer(editor, containerBlock) && canSplitBlock(dom, containerBlock) && dom.isEmpty(parentBlock)) {\n          newBlock = dom.split(containerBlock, parentBlock);\n        } else {\n          dom.insertAfter(newBlock, parentBlock);\n        }\n        moveToCaretPosition(editor, newBlock);\n      };\n      normalize$2(dom, rng).each(normRng => {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      container = rng.startContainer;\n      offset = rng.startOffset;\n      const shiftKey = !!(evt && evt.shiftKey);\n      const ctrlKey = !!(evt && evt.ctrlKey);\n      if (isElement$6(container) && container.hasChildNodes()) {\n        isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && isText$9(container)) {\n          offset = container.nodeValue.length;\n        } else {\n          offset = 0;\n        }\n      }\n      const editableRoot = getEditableRoot(dom, container);\n      if (!editableRoot) {\n        return;\n      }\n      if (!shiftKey) {\n        container = wrapSelfAndSiblingsInDefaultBlock(editor, newBlockName, rng, container, offset);\n      }\n      parentBlock = dom.getParent(container, dom.isBlock);\n      containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : '';\n      const containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      if (containerBlockName === 'LI' && !ctrlKey) {\n        parentBlock = containerBlock;\n        containerBlock = containerBlock.parentNode;\n        parentBlockName = containerBlockName;\n      }\n      if (/^(LI|DT|DD)$/.test(parentBlockName)) {\n        if (dom.isEmpty(parentBlock)) {\n          insert$3(editor, createNewBlock, containerBlock, parentBlock, newBlockName);\n          return;\n        }\n      }\n      if (parentBlock === editor.getBody()) {\n        return;\n      }\n      if (isCaretContainerBlock$1(parentBlock)) {\n        newBlock = showCaretContainerBlock(parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        setForcedBlockAttrs(editor, newBlock);\n        moveToCaretPosition(editor, newBlock);\n      } else if (isCaretAtStartOrEndOfBlock()) {\n        insertNewBlockAfter();\n      } else if (isCaretAtStartOrEndOfBlock(true)) {\n        newBlock = parentBlock.parentNode.insertBefore(createNewBlock(), parentBlock);\n        moveToCaretPosition(editor, containerAndSiblingName(parentBlock, 'HR') ? newBlock : parentBlock);\n      } else {\n        tmpRng = includeZwspInRange(rng).cloneRange();\n        tmpRng.setEndAfter(parentBlock);\n        fragment = tmpRng.extractContents();\n        trimZwsp(fragment);\n        trimLeadingLineBreaks(fragment);\n        newBlock = fragment.firstChild;\n        dom.insertAfter(fragment, parentBlock);\n        trimInlineElementsOnLeftSideOfBlock(dom, nonEmptyElementsMap, newBlock);\n        addBrToBlockIfNeeded(dom, parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        newBlock.normalize();\n        if (dom.isEmpty(newBlock)) {\n          dom.remove(newBlock);\n          insertNewBlockAfter();\n        } else {\n          setForcedBlockAttrs(editor, newBlock);\n          moveToCaretPosition(editor, newBlock);\n        }\n      }\n      dom.setAttrib(newBlock, 'id', '');\n      editor.dispatch('NewBlock', { newBlock });\n    };\n    const fakeEventName$1 = 'insertParagraph';\n    const blockbreak = {\n      insert: insert$2,\n      fakeEventName: fakeEventName$1\n    };\n\n    const hasRightSideContent = (schema, container, parentBlock) => {\n      const walker = new DomTreeWalker(container, parentBlock);\n      let node;\n      const nonEmptyElementsMap = schema.getNonEmptyElements();\n      while (node = walker.next()) {\n        if (nonEmptyElementsMap[node.nodeName.toLowerCase()] || node.length > 0) {\n          return true;\n        }\n      }\n    };\n    const moveSelectionToBr = (editor, brElm, extraBr) => {\n      const rng = editor.dom.createRng();\n      if (!extraBr) {\n        rng.setStartAfter(brElm);\n        rng.setEndAfter(brElm);\n      } else {\n        rng.setStartBefore(brElm);\n        rng.setEndBefore(brElm);\n      }\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n    };\n    const insertBrAtCaret = (editor, evt) => {\n      const selection = editor.selection;\n      const dom = editor.dom;\n      const rng = selection.getRng();\n      let brElm;\n      let extraBr;\n      normalize$2(dom, rng).each(normRng => {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      let offset = rng.startOffset;\n      let container = rng.startContainer;\n      if (container.nodeType === 1 && container.hasChildNodes()) {\n        const isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && container.nodeType === 3) {\n          offset = container.nodeValue.length;\n        } else {\n          offset = 0;\n        }\n      }\n      let parentBlock = dom.getParent(container, dom.isBlock);\n      const containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      const containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      const isControlKey = !!(evt && evt.ctrlKey);\n      if (containerBlockName === 'LI' && !isControlKey) {\n        parentBlock = containerBlock;\n      }\n      if (container && container.nodeType === 3 && offset >= container.nodeValue.length) {\n        if (!hasRightSideContent(editor.schema, container, parentBlock)) {\n          brElm = dom.create('br');\n          rng.insertNode(brElm);\n          rng.setStartAfter(brElm);\n          rng.setEndAfter(brElm);\n          extraBr = true;\n        }\n      }\n      brElm = dom.create('br');\n      rangeInsertNode(dom, rng, brElm);\n      moveSelectionToBr(editor, brElm, extraBr);\n      editor.undoManager.add();\n    };\n    const insertBrBefore = (editor, inline) => {\n      const br = SugarElement.fromTag('br');\n      before$3(SugarElement.fromDom(inline), br);\n      editor.undoManager.add();\n    };\n    const insertBrAfter = (editor, inline) => {\n      if (!hasBrAfter(editor.getBody(), inline)) {\n        after$4(SugarElement.fromDom(inline), SugarElement.fromTag('br'));\n      }\n      const br = SugarElement.fromTag('br');\n      after$4(SugarElement.fromDom(inline), br);\n      moveSelectionToBr(editor, br.dom, false);\n      editor.undoManager.add();\n    };\n    const isBeforeBr = pos => {\n      return isBr$6(pos.getNode());\n    };\n    const hasBrAfter = (rootNode, startNode) => {\n      if (isBeforeBr(CaretPosition.after(startNode))) {\n        return true;\n      } else {\n        return nextPosition(rootNode, CaretPosition.after(startNode)).map(pos => {\n          return isBr$6(pos.getNode());\n        }).getOr(false);\n      }\n    };\n    const isAnchorLink = elm => {\n      return elm && elm.nodeName === 'A' && 'href' in elm;\n    };\n    const isInsideAnchor = location => {\n      return location.fold(never, isAnchorLink, isAnchorLink, never);\n    };\n    const readInlineAnchorLocation = editor => {\n      const isInlineTarget$1 = curry(isInlineTarget, editor);\n      const position = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return readLocation(isInlineTarget$1, editor.getBody(), position).filter(isInsideAnchor);\n    };\n    const insertBrOutsideAnchor = (editor, location) => {\n      location.fold(noop, curry(insertBrBefore, editor), curry(insertBrAfter, editor), noop);\n    };\n    const insert$1 = (editor, evt) => {\n      const anchorLocation = readInlineAnchorLocation(editor);\n      if (anchorLocation.isSome()) {\n        anchorLocation.each(curry(insertBrOutsideAnchor, editor));\n      } else {\n        insertBrAtCaret(editor, evt);\n      }\n    };\n    const fakeEventName = 'insertLineBreak';\n    const linebreak = {\n      insert: insert$1,\n      fakeEventName\n    };\n\n    const matchesSelector = (editor, selector) => {\n      return getParentBlock$1(editor).filter(parentBlock => {\n        return selector.length > 0 && is$1(SugarElement.fromDom(parentBlock), selector);\n      }).isSome();\n    };\n    const shouldInsertBr = editor => {\n      return matchesSelector(editor, getBrNewLineSelector(editor));\n    };\n    const shouldBlockNewLine$1 = editor => {\n      return matchesSelector(editor, getNoNewLineSelector(editor));\n    };\n\n    const newLineAction = Adt.generate([\n      { br: [] },\n      { block: [] },\n      { none: [] }\n    ]);\n    const shouldBlockNewLine = (editor, _shiftKey) => {\n      return shouldBlockNewLine$1(editor);\n    };\n    const inListBlock = requiredState => {\n      return (editor, _shiftKey) => {\n        return isListItemParentBlock(editor) === requiredState;\n      };\n    };\n    const inBlock = (blockName, requiredState) => (editor, _shiftKey) => {\n      const state = getParentBlockName(editor) === blockName.toUpperCase();\n      return state === requiredState;\n    };\n    const inPreBlock = requiredState => inBlock('pre', requiredState);\n    const inSummaryBlock = () => inBlock('summary', true);\n    const shouldPutBrInPre = requiredState => {\n      return (editor, _shiftKey) => {\n        return shouldPutBrInPre$1(editor) === requiredState;\n      };\n    };\n    const inBrContext = (editor, _shiftKey) => {\n      return shouldInsertBr(editor);\n    };\n    const hasShiftKey = (_editor, shiftKey) => {\n      return shiftKey;\n    };\n    const canInsertIntoEditableRoot = editor => {\n      const forcedRootBlock = getForcedRootBlock(editor);\n      const rootEditable = getEditableRoot$1(editor.dom, editor.selection.getStart());\n      return rootEditable && editor.schema.isValidChild(rootEditable.nodeName, forcedRootBlock);\n    };\n    const match = (predicates, action) => {\n      return (editor, shiftKey) => {\n        const isMatch = foldl(predicates, (res, p) => {\n          return res && p(editor, shiftKey);\n        }, true);\n        return isMatch ? Optional.some(action) : Optional.none();\n      };\n    };\n    const getAction = (editor, evt) => {\n      return evaluateUntil([\n        match([shouldBlockNewLine], newLineAction.none()),\n        match([inSummaryBlock()], newLineAction.br()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(false),\n          hasShiftKey\n        ], newLineAction.br()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(false)\n        ], newLineAction.block()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(true),\n          hasShiftKey\n        ], newLineAction.block()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(true)\n        ], newLineAction.br()),\n        match([\n          inListBlock(true),\n          hasShiftKey\n        ], newLineAction.br()),\n        match([inListBlock(true)], newLineAction.block()),\n        match([inBrContext], newLineAction.br()),\n        match([hasShiftKey], newLineAction.br()),\n        match([canInsertIntoEditableRoot], newLineAction.block())\n      ], [\n        editor,\n        !!(evt && evt.shiftKey)\n      ]).getOr(newLineAction.none());\n    };\n\n    const insertBreak = (breakType, editor, evt) => {\n      if (!editor.selection.isCollapsed()) {\n        execDeleteCommand(editor);\n      }\n      if (isNonNullable(evt)) {\n        const event = fireFakeBeforeInputEvent(editor, breakType.fakeEventName);\n        if (event.isDefaultPrevented()) {\n          return;\n        }\n      }\n      breakType.insert(editor, evt);\n      if (isNonNullable(evt)) {\n        fireFakeInputEvent(editor, breakType.fakeEventName);\n      }\n    };\n    const insert = (editor, evt) => {\n      const br = () => insertBreak(linebreak, editor, evt);\n      const block = () => insertBreak(blockbreak, editor, evt);\n      const logicalAction = getAction(editor, evt);\n      switch (getNewlineBehavior(editor)) {\n      case 'linebreak':\n        logicalAction.fold(br, br, noop);\n        break;\n      case 'block':\n        logicalAction.fold(block, block, noop);\n        break;\n      case 'invert':\n        logicalAction.fold(block, br, noop);\n        break;\n      default:\n        logicalAction.fold(br, block, noop);\n        break;\n      }\n    };\n\n    const handleEnterKeyEvent = (editor, event) => {\n      if (event.isDefaultPrevented()) {\n        return;\n      }\n      event.preventDefault();\n      endTypingLevelIgnoreLocks(editor.undoManager);\n      editor.undoManager.transact(() => {\n        insert(editor, event);\n      });\n    };\n    const setup$h = editor => {\n      editor.on('keydown', event => {\n        if (event.keyCode === VK.ENTER) {\n          handleEnterKeyEvent(editor, event);\n        }\n      });\n    };\n\n    const executeKeydownOverride$2 = (editor, caret, evt) => {\n      const isMac = Env.os.isMacOS() || Env.os.isiOS();\n      execute([\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint$1, editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint$1, editor, false)\n        },\n        ...!isMac ? [\n          {\n            keyCode: VK.HOME,\n            action: action(selectToEndPoint, editor, false),\n            ctrlKey: true,\n            shiftKey: true\n          },\n          {\n            keyCode: VK.END,\n            action: action(selectToEndPoint, editor, true),\n            ctrlKey: true,\n            shiftKey: true\n          }\n        ] : [],\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint, editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint, editor, false)\n        },\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint$2, editor, true, caret)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint$2, editor, false, caret)\n        }\n      ], evt).each(_ => {\n        evt.preventDefault();\n      });\n    };\n    const setup$g = (editor, caret) => {\n      editor.on('keydown', evt => {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$2(editor, caret, evt);\n        }\n      });\n    };\n\n    const setup$f = editor => {\n      editor.on('input', e => {\n        if (e.isComposing === false) {\n          normalizeNbspsInEditor(editor);\n        }\n      });\n    };\n\n    const platform = detect$2();\n    const executeKeyupAction = (editor, caret, evt) => {\n      execute([\n        {\n          keyCode: VK.PAGE_UP,\n          action: action(moveToLineEndPoint$2, editor, false, caret)\n        },\n        {\n          keyCode: VK.PAGE_DOWN,\n          action: action(moveToLineEndPoint$2, editor, true, caret)\n        }\n      ], evt);\n    };\n    const stopImmediatePropagation = e => e.stopImmediatePropagation();\n    const isPageUpDown = evt => evt.keyCode === VK.PAGE_UP || evt.keyCode === VK.PAGE_DOWN;\n    const setNodeChangeBlocker = (blocked, editor, block) => {\n      if (block && !blocked.get()) {\n        editor.on('NodeChange', stopImmediatePropagation, true);\n      } else if (!block && blocked.get()) {\n        editor.off('NodeChange', stopImmediatePropagation);\n      }\n      blocked.set(block);\n    };\n    const setup$e = (editor, caret) => {\n      if (platform.os.isMacOS()) {\n        return;\n      }\n      const blocked = Cell(false);\n      editor.on('keydown', evt => {\n        if (isPageUpDown(evt)) {\n          setNodeChangeBlocker(blocked, editor, true);\n        }\n      });\n      editor.on('keyup', evt => {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeyupAction(editor, caret, evt);\n        }\n        if (isPageUpDown(evt) && blocked.get()) {\n          setNodeChangeBlocker(blocked, editor, false);\n          editor.nodeChanged();\n        }\n      });\n    };\n\n    const insertTextAtPosition = (text, pos) => {\n      const container = pos.container();\n      const offset = pos.offset();\n      if (isText$9(container)) {\n        container.insertData(offset, text);\n        return Optional.some(CaretPosition(container, offset + text.length));\n      } else {\n        return getElementFromPosition(pos).map(elm => {\n          const textNode = SugarElement.fromText(text);\n          if (pos.isAtEnd()) {\n            after$4(elm, textNode);\n          } else {\n            before$3(elm, textNode);\n          }\n          return CaretPosition(textNode.dom, text.length);\n        });\n      }\n    };\n    const insertNbspAtPosition = curry(insertTextAtPosition, nbsp);\n    const insertSpaceAtPosition = curry(insertTextAtPosition, ' ');\n\n    const locationToCaretPosition = root => location => location.fold(element => prevPosition(root.dom, CaretPosition.before(element)), element => firstPositionIn(element), element => lastPositionIn(element), element => nextPosition(root.dom, CaretPosition.after(element)));\n    const insertInlineBoundarySpaceOrNbsp = (root, pos) => checkPos => needsToHaveNbsp(root, checkPos) ? insertNbspAtPosition(pos) : insertSpaceAtPosition(pos);\n    const setSelection = editor => pos => {\n      editor.selection.setRng(pos.toRange());\n      editor.nodeChanged();\n      return true;\n    };\n    const insertSpaceOrNbspAtSelection = editor => {\n      const pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      const root = SugarElement.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        const isInlineTarget$1 = curry(isInlineTarget, editor);\n        const caretPosition = CaretPosition.fromRangeStart(editor.selection.getRng());\n        return readLocation(isInlineTarget$1, editor.getBody(), caretPosition).bind(locationToCaretPosition(root)).map(checkPos => () => insertInlineBoundarySpaceOrNbsp(root, pos)(checkPos).each(setSelection(editor)));\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const executeKeydownOverride$1 = (editor, evt) => {\n      executeWithDelayedAction([{\n          keyCode: VK.SPACEBAR,\n          action: action(insertSpaceOrNbspAtSelection, editor)\n        }], evt).each(applyAction => {\n        evt.preventDefault();\n        const event = fireFakeBeforeInputEvent(editor, 'insertText', { data: ' ' });\n        if (!event.isDefaultPrevented()) {\n          applyAction();\n          fireFakeInputEvent(editor, 'insertText', { data: ' ' });\n        }\n      });\n    };\n    const setup$d = editor => {\n      editor.on('keydown', evt => {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$1(editor, evt);\n        }\n      });\n    };\n\n    const tableTabNavigation = editor => {\n      if (hasTableTabNavigation(editor)) {\n        return [\n          {\n            keyCode: VK.TAB,\n            action: action(handleTab, editor, true)\n          },\n          {\n            keyCode: VK.TAB,\n            shiftKey: true,\n            action: action(handleTab, editor, false)\n          }\n        ];\n      } else {\n        return [];\n      }\n    };\n    const executeKeydownOverride = (editor, evt) => {\n      execute([...tableTabNavigation(editor)], evt).each(_ => {\n        evt.preventDefault();\n      });\n    };\n    const setup$c = editor => {\n      editor.on('keydown', evt => {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride(editor, evt);\n        }\n      });\n    };\n\n    const setup$b = editor => {\n      editor.addShortcut('Meta+P', '', 'mcePrint');\n      setup$j(editor);\n      if (isRtc(editor)) {\n        return Cell(null);\n      } else {\n        const caret = setupSelectedState(editor);\n        setup$l(editor);\n        setup$k(editor, caret);\n        setup$i(editor, caret);\n        setup$h(editor);\n        setup$d(editor);\n        setup$f(editor);\n        setup$c(editor);\n        setup$g(editor, caret);\n        setup$e(editor, caret);\n        return caret;\n      }\n    };\n\n    class NodeChange {\n      constructor(editor) {\n        this.lastPath = [];\n        this.editor = editor;\n        let lastRng;\n        const self = this;\n        if (!('onselectionchange' in editor.getDoc())) {\n          editor.on('NodeChange click mouseup keyup focus', e => {\n            const nativeRng = editor.selection.getRng();\n            const fakeRng = {\n              startContainer: nativeRng.startContainer,\n              startOffset: nativeRng.startOffset,\n              endContainer: nativeRng.endContainer,\n              endOffset: nativeRng.endOffset\n            };\n            if (e.type === 'nodechange' || !isEq$4(fakeRng, lastRng)) {\n              editor.dispatch('SelectionChange');\n            }\n            lastRng = fakeRng;\n          });\n        }\n        editor.on('contextmenu', () => {\n          editor.dispatch('SelectionChange');\n        });\n        editor.on('SelectionChange', () => {\n          const startElm = editor.selection.getStart(true);\n          if (!startElm) {\n            return;\n          }\n          if (hasAnyRanges(editor) && !self.isSameElementPath(startElm) && editor.dom.isChildOf(startElm, editor.getBody())) {\n            editor.nodeChanged({ selectionChange: true });\n          }\n        });\n        editor.on('mouseup', e => {\n          if (!e.isDefaultPrevented() && hasAnyRanges(editor)) {\n            if (editor.selection.getNode().nodeName === 'IMG') {\n              Delay.setEditorTimeout(editor, () => {\n                editor.nodeChanged();\n              });\n            } else {\n              editor.nodeChanged();\n            }\n          }\n        });\n      }\n      nodeChanged(args) {\n        const selection = this.editor.selection;\n        let node, parents, root;\n        if (this.editor.initialized && selection && !shouldDisableNodeChange(this.editor) && !this.editor.mode.isReadOnly()) {\n          root = this.editor.getBody();\n          node = selection.getStart(true) || root;\n          if (node.ownerDocument !== this.editor.getDoc() || !this.editor.dom.isChildOf(node, root)) {\n            node = root;\n          }\n          parents = [];\n          this.editor.dom.getParent(node, node => {\n            if (node === root) {\n              return true;\n            }\n            parents.push(node);\n          });\n          args = args || {};\n          args.element = node;\n          args.parents = parents;\n          this.editor.dispatch('NodeChange', args);\n        }\n      }\n      isSameElementPath(startElm) {\n        let i;\n        const editor = this.editor;\n        const currentPath = reverse(editor.dom.getParents(startElm, always, editor.getBody()));\n        if (currentPath.length === this.lastPath.length) {\n          for (i = currentPath.length; i >= 0; i--) {\n            if (currentPath[i] !== this.lastPath[i]) {\n              break;\n            }\n          }\n          if (i === -1) {\n            this.lastPath = currentPath;\n            return true;\n          }\n        }\n        this.lastPath = currentPath;\n        return false;\n      }\n    }\n\n    const internalMimeType = 'x-tinymce/html';\n    const internalHtmlMime = constant(internalMimeType);\n    const internalMark = '<!-- ' + internalMimeType + ' -->';\n    const mark = html => internalMark + html;\n    const unmark = html => html.replace(internalMark, '');\n    const isMarked = html => html.indexOf(internalMark) !== -1;\n\n    const isPlainText = text => {\n      return !/<(?:\\/?(?!(?:div|p|br|span)>)\\w+|(?:(?!(?:span style=\"white-space:\\s?pre;?\">)|br\\s?\\/>))\\w+\\s[^>]+)>/i.test(text);\n    };\n    const openContainer = (rootTag, rootAttrs) => {\n      let tag = '<' + rootTag;\n      const attrs = mapToArray(rootAttrs, (value, key) => key + '=\"' + Entities.encodeAllRaw(value) + '\"');\n      if (attrs.length) {\n        tag += ' ' + attrs.join(' ');\n      }\n      return tag + '>';\n    };\n    const toBlockElements = (text, rootTag, rootAttrs) => {\n      const blocks = text.split(/\\n\\n/);\n      const tagOpen = openContainer(rootTag, rootAttrs);\n      const tagClose = '</' + rootTag + '>';\n      const paragraphs = map$3(blocks, p => {\n        return p.split(/\\n/).join('<br />');\n      });\n      const stitch = p => {\n        return tagOpen + p + tagClose;\n      };\n      return paragraphs.length === 1 ? paragraphs[0] : map$3(paragraphs, stitch).join('');\n    };\n\n    const pasteBinDefaultContent = '%MCEPASTEBIN%';\n    const create$6 = (editor, lastRngCell) => {\n      const {dom, selection} = editor;\n      const body = editor.getBody();\n      lastRngCell.set(selection.getRng());\n      const pasteBinElm = dom.add(editor.getBody(), 'div', {\n        'id': 'mcepastebin',\n        'class': 'mce-pastebin',\n        'contentEditable': true,\n        'data-mce-bogus': 'all',\n        'style': 'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'\n      }, pasteBinDefaultContent);\n      if (Env.browser.isFirefox()) {\n        dom.setStyle(pasteBinElm, 'left', dom.getStyle(body, 'direction', true) === 'rtl' ? 65535 : -65535);\n      }\n      dom.bind(pasteBinElm, 'beforedeactivate focusin focusout', e => {\n        e.stopPropagation();\n      });\n      pasteBinElm.focus();\n      selection.select(pasteBinElm, true);\n    };\n    const remove = (editor, lastRngCell) => {\n      const dom = editor.dom;\n      if (getEl(editor)) {\n        let pasteBinClone;\n        const lastRng = lastRngCell.get();\n        while (pasteBinClone = getEl(editor)) {\n          dom.remove(pasteBinClone);\n          dom.unbind(pasteBinClone);\n        }\n        if (lastRng) {\n          editor.selection.setRng(lastRng);\n        }\n      }\n      lastRngCell.set(null);\n    };\n    const getEl = editor => editor.dom.get('mcepastebin');\n    const isPasteBin = elm => elm && elm.id === 'mcepastebin';\n    const getHtml = editor => {\n      const dom = editor.dom;\n      const copyAndRemove = (toElm, fromElm) => {\n        toElm.appendChild(fromElm);\n        dom.remove(fromElm, true);\n      };\n      const [pasteBinElm, ...pasteBinClones] = filter$6(editor.getBody().childNodes, isPasteBin);\n      each$f(pasteBinClones, pasteBinClone => {\n        copyAndRemove(pasteBinElm, pasteBinClone);\n      });\n      const dirtyWrappers = dom.select('div[id=mcepastebin]', pasteBinElm);\n      for (let i = dirtyWrappers.length - 1; i >= 0; i--) {\n        const cleanWrapper = dom.create('div');\n        pasteBinElm.insertBefore(cleanWrapper, dirtyWrappers[i]);\n        copyAndRemove(cleanWrapper, dirtyWrappers[i]);\n      }\n      return pasteBinElm ? pasteBinElm.innerHTML : '';\n    };\n    const isDefaultPasteBinContent = content => content === pasteBinDefaultContent;\n    const PasteBin = editor => {\n      const lastRng = Cell(null);\n      return {\n        create: () => create$6(editor, lastRng),\n        remove: () => remove(editor, lastRng),\n        getEl: () => getEl(editor),\n        getHtml: () => getHtml(editor),\n        getLastRng: lastRng.get\n      };\n    };\n\n    const filter = (content, items) => {\n      Tools.each(items, v => {\n        if (is$4(v, RegExp)) {\n          content = content.replace(v, '');\n        } else {\n          content = content.replace(v[0], v[1]);\n        }\n      });\n      return content;\n    };\n    const innerText = html => {\n      const schema = Schema();\n      const domParser = DomParser({}, schema);\n      let text = '';\n      const voidElements = schema.getVoidElements();\n      const ignoreElements = Tools.makeMap('script noscript style textarea video audio iframe object', ' ');\n      const blockElements = schema.getBlockElements();\n      const walk = node => {\n        const name = node.name, currentNode = node;\n        if (name === 'br') {\n          text += '\\n';\n          return;\n        }\n        if (name === 'wbr') {\n          return;\n        }\n        if (voidElements[name]) {\n          text += ' ';\n        }\n        if (ignoreElements[name]) {\n          text += ' ';\n          return;\n        }\n        if (node.type === 3) {\n          text += node.value;\n        }\n        if (!(node.name in schema.getVoidElements())) {\n          if (node = node.firstChild) {\n            do {\n              walk(node);\n            } while (node = node.next);\n          }\n        }\n        if (blockElements[name] && currentNode.next) {\n          text += '\\n';\n          if (name === 'p') {\n            text += '\\n';\n          }\n        }\n      };\n      html = filter(html, [/<!\\[[^\\]]+\\]>/g]);\n      walk(domParser.parse(html));\n      return text;\n    };\n    const trimHtml = html => {\n      const trimSpaces = (all, s1, s2) => {\n        if (!s1 && !s2) {\n          return ' ';\n        }\n        return nbsp;\n      };\n      html = filter(html, [\n        /^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/ig,\n        /<!--StartFragment-->|<!--EndFragment-->/g,\n        [\n          /( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g,\n          trimSpaces\n        ],\n        /<br class=\"Apple-interchange-newline\">/g,\n        /<br>$/i\n      ]);\n      return html;\n    };\n    const createIdGenerator = prefix => {\n      let count = 0;\n      return () => {\n        return prefix + count++;\n      };\n    };\n    const getImageMimeType = ext => {\n      const lowerExt = ext.toLowerCase();\n      const mimeOverrides = {\n        jpg: 'jpeg',\n        jpe: 'jpeg',\n        jfi: 'jpeg',\n        jif: 'jpeg',\n        jfif: 'jpeg',\n        pjpeg: 'jpeg',\n        pjp: 'jpeg',\n        svg: 'svg+xml'\n      };\n      return Tools.hasOwn(mimeOverrides, lowerExt) ? 'image/' + mimeOverrides[lowerExt] : 'image/' + lowerExt;\n    };\n\n    const preProcess = (editor, html) => {\n      const parser = DomParser({}, editor.schema);\n      parser.addNodeFilter('meta', nodes => {\n        Tools.each(nodes, node => {\n          node.remove();\n        });\n      });\n      const fragment = parser.parse(html, {\n        forced_root_block: false,\n        isRootContent: true\n      });\n      return HtmlSerializer({ validate: true }, editor.schema).serialize(fragment);\n    };\n    const processResult = (content, cancelled) => ({\n      content,\n      cancelled\n    });\n    const postProcessFilter = (editor, html, internal) => {\n      const tempBody = editor.dom.create('div', { style: 'display:none' }, html);\n      const postProcessArgs = firePastePostProcess(editor, tempBody, internal);\n      return processResult(postProcessArgs.node.innerHTML, postProcessArgs.isDefaultPrevented());\n    };\n    const filterContent = (editor, content, internal) => {\n      const preProcessArgs = firePastePreProcess(editor, content, internal);\n      const filteredContent = preProcess(editor, preProcessArgs.content);\n      if (editor.hasEventListeners('PastePostProcess') && !preProcessArgs.isDefaultPrevented()) {\n        return postProcessFilter(editor, filteredContent, internal);\n      } else {\n        return processResult(filteredContent, preProcessArgs.isDefaultPrevented());\n      }\n    };\n    const process = (editor, html, internal) => {\n      return filterContent(editor, html, internal);\n    };\n\n    const pasteHtml$1 = (editor, html) => {\n      editor.insertContent(html, {\n        merge: shouldPasteMergeFormats(editor),\n        paste: true\n      });\n      return true;\n    };\n    const isAbsoluteUrl = url => /^https?:\\/\\/[\\w\\-\\/+=.,!;:&%@^~(){}?#]+$/i.test(url);\n    const isImageUrl = (editor, url) => {\n      return isAbsoluteUrl(url) && exists(getAllowedImageFileTypes(editor), type => endsWith(url.toLowerCase(), `.${ type.toLowerCase() }`));\n    };\n    const createImage = (editor, url, pasteHtmlFn) => {\n      editor.undoManager.extra(() => {\n        pasteHtmlFn(editor, url);\n      }, () => {\n        editor.insertContent('<img src=\"' + url + '\">');\n      });\n      return true;\n    };\n    const createLink = (editor, url, pasteHtmlFn) => {\n      editor.undoManager.extra(() => {\n        pasteHtmlFn(editor, url);\n      }, () => {\n        editor.execCommand('mceInsertLink', false, url);\n      });\n      return true;\n    };\n    const linkSelection = (editor, html, pasteHtmlFn) => !editor.selection.isCollapsed() && isAbsoluteUrl(html) ? createLink(editor, html, pasteHtmlFn) : false;\n    const insertImage = (editor, html, pasteHtmlFn) => isImageUrl(editor, html) ? createImage(editor, html, pasteHtmlFn) : false;\n    const smartInsertContent = (editor, html) => {\n      Tools.each([\n        linkSelection,\n        insertImage,\n        pasteHtml$1\n      ], action => {\n        return action(editor, html, pasteHtml$1) !== true;\n      });\n    };\n    const insertContent = (editor, html, pasteAsText) => {\n      if (pasteAsText || !isSmartPasteEnabled(editor)) {\n        pasteHtml$1(editor, html);\n      } else {\n        smartInsertContent(editor, html);\n      }\n    };\n\n    const uniqueId = createIdGenerator('mceclip');\n    const doPaste = (editor, content, internal, pasteAsText) => {\n      const args = process(editor, content, internal);\n      if (args.cancelled === false) {\n        insertContent(editor, args.content, pasteAsText);\n      }\n    };\n    const pasteHtml = (editor, html, internalFlag) => {\n      const internal = internalFlag ? internalFlag : isMarked(html);\n      doPaste(editor, unmark(html), internal, false);\n    };\n    const pasteText = (editor, text) => {\n      const encodedText = editor.dom.encode(text).replace(/\\r\\n/g, '\\n');\n      const normalizedText = normalize$4(encodedText, getPasteTabSpaces(editor));\n      const html = toBlockElements(normalizedText, getForcedRootBlock(editor), getForcedRootBlockAttrs(editor));\n      doPaste(editor, html, false, true);\n    };\n    const getDataTransferItems = dataTransfer => {\n      const items = {};\n      if (dataTransfer && dataTransfer.types) {\n        for (let i = 0; i < dataTransfer.types.length; i++) {\n          const contentType = dataTransfer.types[i];\n          try {\n            items[contentType] = dataTransfer.getData(contentType);\n          } catch (ex) {\n            items[contentType] = '';\n          }\n        }\n      }\n      return items;\n    };\n    const hasContentType = (clipboardContent, mimeType) => mimeType in clipboardContent && clipboardContent[mimeType].length > 0;\n    const hasHtmlOrText = content => hasContentType(content, 'text/html') || hasContentType(content, 'text/plain');\n    const extractFilename = (editor, str) => {\n      const m = str.match(/([\\s\\S]+?)(?:\\.[a-z0-9.]+)$/i);\n      return isNonNullable(m) ? editor.dom.encode(m[1]) : null;\n    };\n    const createBlobInfo = (editor, blobCache, file, base64) => {\n      const id = uniqueId();\n      const useFileName = shouldReuseFileName(editor) && isNonNullable(file.name);\n      const name = useFileName ? extractFilename(editor, file.name) : id;\n      const filename = useFileName ? file.name : undefined;\n      const blobInfo = blobCache.create(id, file, base64, name, filename);\n      blobCache.add(blobInfo);\n      return blobInfo;\n    };\n    const pasteImage = (editor, imageItem) => {\n      parseDataUri(imageItem.uri).each(({data, type, base64Encoded}) => {\n        const base64 = base64Encoded ? data : btoa(data);\n        const file = imageItem.file;\n        const blobCache = editor.editorUpload.blobCache;\n        const existingBlobInfo = blobCache.getByData(base64, type);\n        const blobInfo = existingBlobInfo !== null && existingBlobInfo !== void 0 ? existingBlobInfo : createBlobInfo(editor, blobCache, file, base64);\n        pasteHtml(editor, `<img src=\"${ blobInfo.blobUri() }\">`, false);\n      });\n    };\n    const isClipboardEvent = event => event.type === 'paste';\n    const readFilesAsDataUris = items => Promise.all(map$3(items, file => {\n      return blobToDataUri(file).then(uri => ({\n        file,\n        uri\n      }));\n    }));\n    const isImage = editor => {\n      const allowedExtensions = getAllowedImageFileTypes(editor);\n      return file => startsWith(file.type, 'image/') && exists(allowedExtensions, extension => {\n        return getImageMimeType(extension) === file.type;\n      });\n    };\n    const getImagesFromDataTransfer = (editor, dataTransfer) => {\n      const items = dataTransfer.items ? bind$3(from(dataTransfer.items), item => {\n        return item.kind === 'file' ? [item.getAsFile()] : [];\n      }) : [];\n      const files = dataTransfer.files ? from(dataTransfer.files) : [];\n      return filter$6(items.length > 0 ? items : files, isImage(editor));\n    };\n    const pasteImageData = (editor, e, rng) => {\n      const dataTransfer = isClipboardEvent(e) ? e.clipboardData : e.dataTransfer;\n      if (shouldPasteDataImages(editor) && dataTransfer) {\n        const images = getImagesFromDataTransfer(editor, dataTransfer);\n        if (images.length > 0) {\n          e.preventDefault();\n          readFilesAsDataUris(images).then(fileResults => {\n            if (rng) {\n              editor.selection.setRng(rng);\n            }\n            each$f(fileResults, result => {\n              pasteImage(editor, result);\n            });\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    const isBrokenAndroidClipboardEvent = e => {\n      var _a, _b;\n      return Env.os.isAndroid() && ((_b = (_a = e.clipboardData) === null || _a === void 0 ? void 0 : _a.items) === null || _b === void 0 ? void 0 : _b.length) === 0;\n    };\n    const isKeyboardPasteEvent = e => VK.metaKeyPressed(e) && e.keyCode === 86 || e.shiftKey && e.keyCode === 45;\n    const insertClipboardContent = (editor, clipboardContent, html, plainTextMode) => {\n      let content = trimHtml(html);\n      const isInternal = hasContentType(clipboardContent, internalHtmlMime()) || isMarked(html);\n      const isPlainTextHtml = !isInternal && isPlainText(content);\n      const isAbsoluteUrl$1 = isAbsoluteUrl(content);\n      if (isDefaultPasteBinContent(content) || !content.length || isPlainTextHtml && !isAbsoluteUrl$1) {\n        plainTextMode = true;\n      }\n      if (plainTextMode || isAbsoluteUrl$1) {\n        if (hasContentType(clipboardContent, 'text/plain') && isPlainTextHtml) {\n          content = clipboardContent['text/plain'];\n        } else {\n          content = innerText(content);\n        }\n      }\n      if (isDefaultPasteBinContent(content)) {\n        return;\n      }\n      if (plainTextMode) {\n        pasteText(editor, content);\n      } else {\n        pasteHtml(editor, content, isInternal);\n      }\n    };\n    const registerEventHandlers = (editor, pasteBin, pasteFormat) => {\n      let keyboardPastePlainTextState;\n      const getLastRng = () => pasteBin.getLastRng() || editor.selection.getRng();\n      editor.on('keydown', e => {\n        if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n          keyboardPastePlainTextState = e.shiftKey && e.keyCode === 86;\n        }\n      });\n      editor.on('paste', e => {\n        if (e.isDefaultPrevented() || isBrokenAndroidClipboardEvent(e)) {\n          return;\n        }\n        const plainTextMode = pasteFormat.get() === 'text' || keyboardPastePlainTextState;\n        keyboardPastePlainTextState = false;\n        const clipboardContent = getDataTransferItems(e.clipboardData);\n        if (!hasHtmlOrText(clipboardContent) && pasteImageData(editor, e, getLastRng())) {\n          return;\n        }\n        if (hasContentType(clipboardContent, 'text/html')) {\n          e.preventDefault();\n          insertClipboardContent(editor, clipboardContent, clipboardContent['text/html'], plainTextMode);\n        } else {\n          pasteBin.create();\n          Delay.setEditorTimeout(editor, () => {\n            const html = pasteBin.getHtml();\n            pasteBin.remove();\n            insertClipboardContent(editor, clipboardContent, html, plainTextMode);\n          }, 0);\n        }\n      });\n    };\n    const registerDataImageFilter = editor => {\n      const isWebKitFakeUrl = src => startsWith(src, 'webkit-fake-url');\n      const isDataUri = src => startsWith(src, 'data:');\n      const isPasteInsert = args => {\n        var _a;\n        return ((_a = args.data) === null || _a === void 0 ? void 0 : _a.paste) === true;\n      };\n      editor.parser.addNodeFilter('img', (nodes, name, args) => {\n        if (!shouldPasteDataImages(editor) && isPasteInsert(args)) {\n          for (const node of nodes) {\n            const src = node.attr('src');\n            if (isString(src) && !node.attr('data-mce-object') && src !== Env.transparentSrc) {\n              if (isWebKitFakeUrl(src)) {\n                node.remove();\n              } else if (!shouldAllowHtmlDataUrls(editor) && isDataUri(src)) {\n                node.remove();\n              }\n            }\n          }\n        }\n      });\n    };\n    const registerEventsAndFilters = (editor, pasteBin, pasteFormat) => {\n      registerEventHandlers(editor, pasteBin, pasteFormat);\n      registerDataImageFilter(editor);\n    };\n\n    const togglePlainTextPaste = (editor, pasteFormat) => {\n      if (pasteFormat.get() === 'text') {\n        pasteFormat.set('html');\n        firePastePlainTextToggle(editor, false);\n      } else {\n        pasteFormat.set('text');\n        firePastePlainTextToggle(editor, true);\n      }\n      editor.focus();\n    };\n    const register$1 = (editor, pasteFormat) => {\n      editor.addCommand('mceTogglePlainTextPaste', () => {\n        togglePlainTextPaste(editor, pasteFormat);\n      });\n      editor.addCommand('mceInsertClipboardContent', (ui, value) => {\n        if (value.html) {\n          pasteHtml(editor, value.html, value.internal);\n        }\n        if (value.text) {\n          pasteText(editor, value.text);\n        }\n      });\n    };\n\n    const setHtml5Clipboard = (clipboardData, html, text) => {\n      try {\n        clipboardData.clearData();\n        clipboardData.setData('text/html', html);\n        clipboardData.setData('text/plain', text);\n        clipboardData.setData(internalHtmlMime(), html);\n        return true;\n      } catch (e) {\n        return false;\n      }\n    };\n    const setClipboardData = (evt, data, fallback, done) => {\n      if (setHtml5Clipboard(evt.clipboardData, data.html, data.text)) {\n        evt.preventDefault();\n        done();\n      } else {\n        fallback(data.html, done);\n      }\n    };\n    const fallback = editor => (html, done) => {\n      const {dom, selection} = editor;\n      const outer = dom.create('div', {\n        'contenteditable': 'false',\n        'data-mce-bogus': 'all'\n      });\n      const inner = dom.create('div', { contenteditable: 'true' }, html);\n      dom.setStyles(outer, {\n        position: 'fixed',\n        top: '0',\n        left: '-3000px',\n        width: '1000px',\n        overflow: 'hidden'\n      });\n      outer.appendChild(inner);\n      dom.add(editor.getBody(), outer);\n      const range = selection.getRng();\n      inner.focus();\n      const offscreenRange = dom.createRng();\n      offscreenRange.selectNodeContents(inner);\n      selection.setRng(offscreenRange);\n      Delay.setEditorTimeout(editor, () => {\n        selection.setRng(range);\n        dom.remove(outer);\n        done();\n      }, 0);\n    };\n    const getData = editor => ({\n      html: mark(editor.selection.getContent({ contextual: true })),\n      text: editor.selection.getContent({ format: 'text' })\n    });\n    const isTableSelection = editor => !!editor.dom.getParent(editor.selection.getStart(), 'td[data-mce-selected],th[data-mce-selected]', editor.getBody());\n    const hasSelectedContent = editor => !editor.selection.isCollapsed() || isTableSelection(editor);\n    const cut = editor => evt => {\n      if (!evt.isDefaultPrevented() && hasSelectedContent(editor)) {\n        setClipboardData(evt, getData(editor), fallback(editor), () => {\n          if (Env.browser.isChromium() || Env.browser.isFirefox()) {\n            const rng = editor.selection.getRng();\n            Delay.setEditorTimeout(editor, () => {\n              editor.selection.setRng(rng);\n              editor.execCommand('Delete');\n            }, 0);\n          } else {\n            editor.execCommand('Delete');\n          }\n        });\n      }\n    };\n    const copy = editor => evt => {\n      if (!evt.isDefaultPrevented() && hasSelectedContent(editor)) {\n        setClipboardData(evt, getData(editor), fallback(editor), noop);\n      }\n    };\n    const register = editor => {\n      editor.on('cut', cut(editor));\n      editor.on('copy', copy(editor));\n    };\n\n    const getCaretRangeFromEvent = (editor, e) => {\n      var _a, _b;\n      return RangeUtils.getCaretRangeFromPoint((_a = e.clientX) !== null && _a !== void 0 ? _a : 0, (_b = e.clientY) !== null && _b !== void 0 ? _b : 0, editor.getDoc());\n    };\n    const isPlainTextFileUrl = content => {\n      const plainTextContent = content['text/plain'];\n      return plainTextContent ? plainTextContent.indexOf('file://') === 0 : false;\n    };\n    const setFocusedRange = (editor, rng) => {\n      editor.focus();\n      if (rng) {\n        editor.selection.setRng(rng);\n      }\n    };\n    const hasImage = dataTransfer => exists(dataTransfer.files, file => /^image\\//.test(file.type));\n    const setup$a = (editor, draggingInternallyState) => {\n      if (shouldPasteBlockDrop(editor)) {\n        editor.on('dragend dragover draggesture dragdrop drop drag', e => {\n          e.preventDefault();\n          e.stopPropagation();\n        });\n      }\n      if (!shouldPasteDataImages(editor)) {\n        editor.on('drop', e => {\n          const dataTransfer = e.dataTransfer;\n          if (dataTransfer && hasImage(dataTransfer)) {\n            e.preventDefault();\n          }\n        });\n      }\n      editor.on('drop', e => {\n        if (e.isDefaultPrevented() || draggingInternallyState.get()) {\n          return;\n        }\n        const rng = getCaretRangeFromEvent(editor, e);\n        if (isNullable(rng)) {\n          return;\n        }\n        const dropContent = getDataTransferItems(e.dataTransfer);\n        const internal = hasContentType(dropContent, internalHtmlMime());\n        if ((!hasHtmlOrText(dropContent) || isPlainTextFileUrl(dropContent)) && pasteImageData(editor, e, rng)) {\n          return;\n        }\n        const internalContent = dropContent[internalHtmlMime()];\n        const content = internalContent || dropContent['text/html'] || dropContent['text/plain'];\n        if (content) {\n          e.preventDefault();\n          Delay.setEditorTimeout(editor, () => {\n            editor.undoManager.transact(() => {\n              if (internalContent) {\n                editor.execCommand('Delete');\n              }\n              setFocusedRange(editor, rng);\n              const trimmedContent = trimHtml(content);\n              if (dropContent['text/html']) {\n                pasteHtml(editor, trimmedContent, internal);\n              } else {\n                pasteText(editor, trimmedContent);\n              }\n            });\n          });\n        }\n      });\n      editor.on('dragstart', _e => {\n        draggingInternallyState.set(true);\n      });\n      editor.on('dragover dragend', e => {\n        if (shouldPasteDataImages(editor) && draggingInternallyState.get() === false) {\n          e.preventDefault();\n          setFocusedRange(editor, getCaretRangeFromEvent(editor, e));\n        }\n        if (e.type === 'dragend') {\n          draggingInternallyState.set(false);\n        }\n      });\n    };\n\n    const setup$9 = editor => {\n      const processEvent = f => e => {\n        f(editor, e);\n      };\n      const preProcess = getPastePreProcess(editor);\n      if (isFunction(preProcess)) {\n        editor.on('PastePreProcess', processEvent(preProcess));\n      }\n      const postProcess = getPastePostProcess(editor);\n      if (isFunction(postProcess)) {\n        editor.on('PastePostProcess', processEvent(postProcess));\n      }\n    };\n\n    const addPreProcessFilter = (editor, filterFunc) => {\n      editor.on('PastePreProcess', e => {\n        e.content = filterFunc(editor, e.content, e.internal);\n      });\n    };\n    const rgbRegExp = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi;\n    const rgbToHex = value => Tools.trim(value).replace(rgbRegExp, rgbaToHexString).toLowerCase();\n    const removeWebKitStyles = (editor, content, internal) => {\n      const webKitStylesOption = getPasteWebkitStyles(editor);\n      if (internal || webKitStylesOption === 'all' || !shouldPasteRemoveWebKitStyles(editor)) {\n        return content;\n      }\n      const webKitStyles = webKitStylesOption ? webKitStylesOption.split(/[, ]/) : [];\n      if (webKitStyles && webKitStylesOption !== 'none') {\n        const dom = editor.dom, node = editor.selection.getNode();\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, (all, before, value, after) => {\n          const inputStyles = dom.parseStyle(dom.decode(value));\n          const outputStyles = {};\n          for (let i = 0; i < webKitStyles.length; i++) {\n            const inputValue = inputStyles[webKitStyles[i]];\n            let compareInput = inputValue;\n            let currentValue = dom.getStyle(node, webKitStyles[i], true);\n            if (/color/.test(webKitStyles[i])) {\n              compareInput = rgbToHex(compareInput);\n              currentValue = rgbToHex(currentValue);\n            }\n            if (currentValue !== compareInput) {\n              outputStyles[webKitStyles[i]] = inputValue;\n            }\n          }\n          const outputStyle = dom.serializeStyle(outputStyles, 'span');\n          if (outputStyle) {\n            return before + ' style=\"' + outputStyle + '\"' + after;\n          }\n          return before + after;\n        });\n      } else {\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, '$1$3');\n      }\n      content = content.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi, (all, before, value, after) => {\n        return before + ' style=\"' + value + '\"' + after;\n      });\n      return content;\n    };\n    const setup$8 = editor => {\n      if (Env.browser.isChromium() || Env.browser.isSafari()) {\n        addPreProcessFilter(editor, removeWebKitStyles);\n      }\n    };\n\n    const setup$7 = editor => {\n      const draggingInternallyState = Cell(false);\n      const pasteFormat = Cell(isPasteAsTextEnabled(editor) ? 'text' : 'html');\n      const pasteBin = PasteBin(editor);\n      setup$8(editor);\n      register$1(editor, pasteFormat);\n      setup$9(editor);\n      editor.on('PreInit', () => {\n        register(editor);\n        setup$a(editor, draggingInternallyState);\n        registerEventsAndFilters(editor, pasteBin, pasteFormat);\n      });\n    };\n\n    const preventSummaryToggle = editor => {\n      editor.on('click', e => {\n        if (editor.dom.getParent(e.target, 'details')) {\n          e.preventDefault();\n        }\n      });\n    };\n    const filterDetails = editor => {\n      editor.parser.addNodeFilter('details', elms => {\n        each$f(elms, details => {\n          details.attr('data-mce-open', details.attr('open'));\n          details.attr('open', 'open');\n        });\n      });\n      editor.serializer.addNodeFilter('details', elms => {\n        each$f(elms, details => {\n          const open = details.attr('data-mce-open');\n          details.attr('open', isString(open) ? open : null);\n          details.attr('data-mce-open', null);\n        });\n      });\n    };\n    const setup$6 = editor => {\n      preventSummaryToggle(editor);\n      filterDetails(editor);\n    };\n\n    const isBr = isBr$6;\n    const isText = isText$9;\n    const isContentEditableFalse$2 = elm => isContentEditableFalse$b(elm.dom);\n    const isContentEditableTrue$1 = elm => isContentEditableTrue$5(elm.dom);\n    const isRoot = rootNode => elm => eq(SugarElement.fromDom(rootNode), elm);\n    const getClosestScope = (node, rootNode) => closest$4(SugarElement.fromDom(node), elm => isContentEditableTrue$1(elm) || isBlock$2(elm), isRoot(rootNode)).getOr(SugarElement.fromDom(rootNode)).dom;\n    const getClosestCef = (node, rootNode) => closest$4(SugarElement.fromDom(node), isContentEditableFalse$2, isRoot(rootNode));\n    const findEdgeCaretCandidate = (startNode, scope, forward) => {\n      const walker = new DomTreeWalker(startNode, scope);\n      const next = forward ? walker.next.bind(walker) : walker.prev.bind(walker);\n      let result = startNode;\n      for (let current = forward ? startNode : next(); current && !isBr(current); current = next()) {\n        if (isCaretCandidate$3(current)) {\n          result = current;\n        }\n      }\n      return result;\n    };\n    const findClosestBlockRange = (startRng, rootNode) => {\n      const startPos = CaretPosition.fromRangeStart(startRng);\n      const clickNode = startPos.getNode();\n      const scope = getClosestScope(clickNode, rootNode);\n      const startNode = findEdgeCaretCandidate(clickNode, scope, false);\n      const endNode = findEdgeCaretCandidate(clickNode, scope, true);\n      const rng = document.createRange();\n      getClosestCef(startNode, scope).fold(() => {\n        if (isText(startNode)) {\n          rng.setStart(startNode, 0);\n        } else {\n          rng.setStartBefore(startNode);\n        }\n      }, cef => rng.setStartBefore(cef.dom));\n      getClosestCef(endNode, scope).fold(() => {\n        if (isText(endNode)) {\n          rng.setEnd(endNode, endNode.data.length);\n        } else {\n          rng.setEndAfter(endNode);\n        }\n      }, cef => rng.setEndAfter(cef.dom));\n      return rng;\n    };\n    const onTripleClickSelect = editor => {\n      const rng = findClosestBlockRange(editor.selection.getRng(), editor.getBody());\n      editor.selection.setRng(normalize(rng));\n    };\n    const setup$5 = editor => {\n      editor.on('mousedown', e => {\n        if (e.detail >= 3) {\n          e.preventDefault();\n          onTripleClickSelect(editor);\n        }\n      });\n    };\n\n    var FakeCaretPosition;\n    (function (FakeCaretPosition) {\n      FakeCaretPosition['Before'] = 'before';\n      FakeCaretPosition['After'] = 'after';\n    }(FakeCaretPosition || (FakeCaretPosition = {})));\n    const distanceToRectLeft = (clientRect, clientX) => Math.abs(clientRect.left - clientX);\n    const distanceToRectRight = (clientRect, clientX) => Math.abs(clientRect.right - clientX);\n    const isInsideY = (clientY, clientRect) => clientY >= clientRect.top && clientY <= clientRect.bottom;\n    const collidesY = (r1, r2) => r1.top < r2.bottom && r1.bottom > r2.top;\n    const isOverlapping = (r1, r2) => {\n      const overlap = overlapY(r1, r2) / Math.min(r1.height, r2.height);\n      return collidesY(r1, r2) && overlap > 0.5;\n    };\n    const splitRectsPerAxis = (rects, y) => {\n      const intersectingRects = filter$6(rects, rect => isInsideY(y, rect));\n      return boundingClientRectFromRects(intersectingRects).fold(() => [\n        [],\n        rects\n      ], boundingRect => {\n        const {\n          pass: horizontal,\n          fail: vertical\n        } = partition$2(rects, rect => isOverlapping(rect, boundingRect));\n        return [\n          horizontal,\n          vertical\n        ];\n      });\n    };\n    const clientInfo = (rect, clientX) => {\n      return {\n        node: rect.node,\n        position: distanceToRectLeft(rect, clientX) < distanceToRectRight(rect, clientX) ? FakeCaretPosition.Before : FakeCaretPosition.After\n      };\n    };\n    const horizontalDistance = (rect, x, _y) => x > rect.left && x < rect.right ? 0 : Math.min(Math.abs(rect.left - x), Math.abs(rect.right - x));\n    const closestChildCaretCandidateNodeRect = (children, clientX, clientY) => {\n      const caretCandidateRect = rect => {\n        if (isCaretCandidate$3(rect.node)) {\n          return Optional.some(rect);\n        } else if (isElement$6(rect.node)) {\n          return closestChildCaretCandidateNodeRect(from(rect.node.childNodes), clientX, clientY);\n        } else {\n          return Optional.none();\n        }\n      };\n      const getClosestTextNode = (rects, distance) => {\n        if (rects.length >= 2) {\n          const r1 = caretCandidateRect(rects[0]).getOr(rects[0]);\n          const r2 = caretCandidateRect(rects[1]).getOr(rects[1]);\n          const deltaDistance = Math.abs(distance(r1, clientX, clientY) - distance(r2, clientX, clientY));\n          if (deltaDistance < 2) {\n            if (isText$9(r1.node)) {\n              return Optional.some(r1);\n            } else if (isText$9(r2.node)) {\n              return Optional.some(r2);\n            }\n          }\n        }\n        return Optional.none();\n      };\n      const findClosestCaretCandidateNodeRect = (rects, distance) => {\n        const sortedRects = sort(rects, (r1, r2) => distance(r1, clientX, clientY) - distance(r2, clientX, clientY));\n        return getClosestTextNode(sortedRects, distance).orThunk(() => findMap(sortedRects, caretCandidateRect));\n      };\n      const [horizontalRects, verticalRects] = splitRectsPerAxis(getClientRects(children), clientY);\n      const {\n        pass: above,\n        fail: below\n      } = partition$2(verticalRects, rect => rect.top < clientY);\n      return findClosestCaretCandidateNodeRect(horizontalRects, horizontalDistance).orThunk(() => findClosestCaretCandidateNodeRect(below, distanceToRectEdgeFromXY)).orThunk(() => findClosestCaretCandidateNodeRect(above, distanceToRectEdgeFromXY));\n    };\n    const traverseUp = (rootElm, scope, clientX, clientY) => {\n      const helper = (scope, prevScope) => {\n        return prevScope.fold(() => closestChildCaretCandidateNodeRect(from(scope.dom.childNodes), clientX, clientY), prevScope => {\n          const uncheckedChildren = filter$6(from(scope.dom.childNodes), node => node !== prevScope.dom);\n          return closestChildCaretCandidateNodeRect(uncheckedChildren, clientX, clientY);\n        }).orThunk(() => {\n          const parent = eq(scope, rootElm) ? Optional.none() : parentElement(scope);\n          return parent.bind(newScope => helper(newScope, Optional.some(scope)));\n        });\n      };\n      return helper(scope, Optional.none());\n    };\n    const closestCaretCandidateNodeRect = (root, clientX, clientY) => {\n      const rootElm = SugarElement.fromDom(root);\n      const ownerDoc = documentOrOwner(rootElm);\n      const elementAtPoint = SugarElement.fromPoint(ownerDoc, clientX, clientY).filter(elm => contains(rootElm, elm));\n      const element = elementAtPoint.getOr(rootElm);\n      return traverseUp(rootElm, element, clientX, clientY);\n    };\n    const closestFakeCaretCandidate = (root, clientX, clientY) => closestCaretCandidateNodeRect(root, clientX, clientY).filter(rect => isFakeCaretTarget(rect.node)).map(rect => clientInfo(rect, clientX));\n\n    const getAbsolutePosition = elm => {\n      const clientRect = elm.getBoundingClientRect();\n      const doc = elm.ownerDocument;\n      const docElem = doc.documentElement;\n      const win = doc.defaultView;\n      return {\n        top: clientRect.top + win.pageYOffset - docElem.clientTop,\n        left: clientRect.left + win.pageXOffset - docElem.clientLeft\n      };\n    };\n    const getBodyPosition = editor => editor.inline ? getAbsolutePosition(editor.getBody()) : {\n      left: 0,\n      top: 0\n    };\n    const getScrollPosition = editor => {\n      const body = editor.getBody();\n      return editor.inline ? {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      } : {\n        left: 0,\n        top: 0\n      };\n    };\n    const getBodyScroll = editor => {\n      const body = editor.getBody(), docElm = editor.getDoc().documentElement;\n      const inlineScroll = {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      };\n      const iframeScroll = {\n        left: body.scrollLeft || docElm.scrollLeft,\n        top: body.scrollTop || docElm.scrollTop\n      };\n      return editor.inline ? inlineScroll : iframeScroll;\n    };\n    const getMousePosition = (editor, event) => {\n      if (event.target.ownerDocument !== editor.getDoc()) {\n        const iframePosition = getAbsolutePosition(editor.getContentAreaContainer());\n        const scrollPosition = getBodyScroll(editor);\n        return {\n          left: event.pageX - iframePosition.left + scrollPosition.left,\n          top: event.pageY - iframePosition.top + scrollPosition.top\n        };\n      }\n      return {\n        left: event.pageX,\n        top: event.pageY\n      };\n    };\n    const calculatePosition = (bodyPosition, scrollPosition, mousePosition) => ({\n      pageX: mousePosition.left - bodyPosition.left + scrollPosition.left,\n      pageY: mousePosition.top - bodyPosition.top + scrollPosition.top\n    });\n    const calc = (editor, event) => calculatePosition(getBodyPosition(editor), getScrollPosition(editor), getMousePosition(editor, event));\n\n    const isContentEditableFalse$1 = isContentEditableFalse$b, isContentEditableTrue = isContentEditableTrue$5;\n    const isDraggable = (rootElm, elm) => isContentEditableFalse$1(elm) && elm !== rootElm;\n    const isValidDropTarget = (editor, targetElement, dragElement) => {\n      if (targetElement === dragElement || editor.dom.isChildOf(targetElement, dragElement)) {\n        return false;\n      }\n      return !isContentEditableFalse$1(targetElement);\n    };\n    const cloneElement = elm => {\n      const cloneElm = elm.cloneNode(true);\n      cloneElm.removeAttribute('data-mce-selected');\n      return cloneElm;\n    };\n    const createGhost = (editor, elm, width, height) => {\n      const dom = editor.dom;\n      const clonedElm = elm.cloneNode(true);\n      dom.setStyles(clonedElm, {\n        width,\n        height\n      });\n      dom.setAttrib(clonedElm, 'data-mce-selected', null);\n      const ghostElm = dom.create('div', {\n        'class': 'mce-drag-container',\n        'data-mce-bogus': 'all',\n        'unselectable': 'on',\n        'contenteditable': 'false'\n      });\n      dom.setStyles(ghostElm, {\n        position: 'absolute',\n        opacity: 0.5,\n        overflow: 'hidden',\n        border: 0,\n        padding: 0,\n        margin: 0,\n        width,\n        height\n      });\n      dom.setStyles(clonedElm, {\n        margin: 0,\n        boxSizing: 'border-box'\n      });\n      ghostElm.appendChild(clonedElm);\n      return ghostElm;\n    };\n    const appendGhostToBody = (ghostElm, bodyElm) => {\n      if (ghostElm.parentNode !== bodyElm) {\n        bodyElm.appendChild(ghostElm);\n      }\n    };\n    const moveGhost = (ghostElm, position, width, height, maxX, maxY) => {\n      let overflowX = 0, overflowY = 0;\n      ghostElm.style.left = position.pageX + 'px';\n      ghostElm.style.top = position.pageY + 'px';\n      if (position.pageX + width > maxX) {\n        overflowX = position.pageX + width - maxX;\n      }\n      if (position.pageY + height > maxY) {\n        overflowY = position.pageY + height - maxY;\n      }\n      ghostElm.style.width = width - overflowX + 'px';\n      ghostElm.style.height = height - overflowY + 'px';\n    };\n    const removeElement = elm => {\n      if (elm && elm.parentNode) {\n        elm.parentNode.removeChild(elm);\n      }\n    };\n    const isLeftMouseButtonPressed = e => e.button === 0;\n    const applyRelPos = (state, position) => ({\n      pageX: position.pageX - state.relX,\n      pageY: position.pageY + 5\n    });\n    const start = (state, editor) => e => {\n      if (isLeftMouseButtonPressed(e)) {\n        const ceElm = find$2(editor.dom.getParents(e.target), or(isContentEditableFalse$1, isContentEditableTrue)).getOr(null);\n        if (isDraggable(editor.getBody(), ceElm)) {\n          const elmPos = editor.dom.getPos(ceElm);\n          const bodyElm = editor.getBody();\n          const docElm = editor.getDoc().documentElement;\n          state.set({\n            element: ceElm,\n            dragging: false,\n            screenX: e.screenX,\n            screenY: e.screenY,\n            maxX: (editor.inline ? bodyElm.scrollWidth : docElm.offsetWidth) - 2,\n            maxY: (editor.inline ? bodyElm.scrollHeight : docElm.offsetHeight) - 2,\n            relX: e.pageX - elmPos.x,\n            relY: e.pageY - elmPos.y,\n            width: ceElm.offsetWidth,\n            height: ceElm.offsetHeight,\n            ghost: createGhost(editor, ceElm, ceElm.offsetWidth, ceElm.offsetHeight)\n          });\n        }\n      }\n    };\n    const move = (state, editor) => {\n      const throttledPlaceCaretAt = first$1((clientX, clientY) => {\n        editor._selectionOverrides.hideFakeCaret();\n        editor.selection.placeCaretAt(clientX, clientY);\n      }, 0);\n      editor.on('remove', throttledPlaceCaretAt.cancel);\n      return e => state.on(state => {\n        const movement = Math.max(Math.abs(e.screenX - state.screenX), Math.abs(e.screenY - state.screenY));\n        if (!state.dragging && movement > 10) {\n          const args = editor.dispatch('dragstart', { target: state.element });\n          if (args.isDefaultPrevented()) {\n            return;\n          }\n          state.dragging = true;\n          editor.focus();\n        }\n        if (state.dragging) {\n          const targetPos = applyRelPos(state, calc(editor, e));\n          appendGhostToBody(state.ghost, editor.getBody());\n          moveGhost(state.ghost, targetPos, state.width, state.height, state.maxX, state.maxY);\n          throttledPlaceCaretAt.throttle(e.clientX, e.clientY);\n        }\n      });\n    };\n    const getRawTarget = selection => {\n      const rng = selection.getSel().getRangeAt(0);\n      const startContainer = rng.startContainer;\n      return startContainer.nodeType === 3 ? startContainer.parentNode : startContainer;\n    };\n    const drop = (state, editor) => e => {\n      state.on(state => {\n        if (state.dragging) {\n          if (isValidDropTarget(editor, getRawTarget(editor.selection), state.element)) {\n            const targetClone = cloneElement(state.element);\n            const args = editor.dispatch('drop', {\n              clientX: e.clientX,\n              clientY: e.clientY\n            });\n            if (!args.isDefaultPrevented()) {\n              editor.undoManager.transact(() => {\n                removeElement(state.element);\n                editor.insertContent(editor.dom.getOuterHTML(targetClone));\n                editor._selectionOverrides.hideFakeCaret();\n              });\n            }\n          }\n          editor.dispatch('dragend');\n        }\n      });\n      removeDragState(state);\n    };\n    const stop = (state, editor) => () => {\n      state.on(state => {\n        if (state.dragging) {\n          editor.dispatch('dragend');\n        }\n      });\n      removeDragState(state);\n    };\n    const removeDragState = state => {\n      state.on(state => {\n        removeElement(state.ghost);\n      });\n      state.clear();\n    };\n    const bindFakeDragEvents = editor => {\n      const state = value$2();\n      const pageDom = DOMUtils.DOM;\n      const rootDocument = document;\n      const dragStartHandler = start(state, editor);\n      const dragHandler = move(state, editor);\n      const dropHandler = drop(state, editor);\n      const dragEndHandler = stop(state, editor);\n      editor.on('mousedown', dragStartHandler);\n      editor.on('mousemove', dragHandler);\n      editor.on('mouseup', dropHandler);\n      pageDom.bind(rootDocument, 'mousemove', dragHandler);\n      pageDom.bind(rootDocument, 'mouseup', dragEndHandler);\n      editor.on('remove', () => {\n        pageDom.unbind(rootDocument, 'mousemove', dragHandler);\n        pageDom.unbind(rootDocument, 'mouseup', dragEndHandler);\n      });\n      editor.on('keydown', e => {\n        if (e.keyCode === VK.ESC) {\n          dragEndHandler();\n        }\n      });\n    };\n    const blockUnsupportedFileDrop = editor => {\n      const preventFileDrop = e => {\n        if (!e.isDefaultPrevented()) {\n          const dataTransfer = e.dataTransfer;\n          if (dataTransfer && (contains$2(dataTransfer.types, 'Files') || dataTransfer.files.length > 0)) {\n            e.preventDefault();\n            if (e.type === 'drop') {\n              displayError(editor, 'Dropped file type is not supported');\n            }\n          }\n        }\n      };\n      const preventFileDropIfUIElement = e => {\n        if (isUIElement(editor, e.target)) {\n          preventFileDrop(e);\n        }\n      };\n      const setup = () => {\n        const pageDom = DOMUtils.DOM;\n        const dom = editor.dom;\n        const doc = document;\n        const editorRoot = editor.inline ? editor.getBody() : editor.getDoc();\n        const eventNames = [\n          'drop',\n          'dragover'\n        ];\n        each$f(eventNames, name => {\n          pageDom.bind(doc, name, preventFileDropIfUIElement);\n          dom.bind(editorRoot, name, preventFileDrop);\n        });\n        editor.on('remove', () => {\n          each$f(eventNames, name => {\n            pageDom.unbind(doc, name, preventFileDropIfUIElement);\n            dom.unbind(editorRoot, name, preventFileDrop);\n          });\n        });\n      };\n      editor.on('init', () => {\n        Delay.setEditorTimeout(editor, setup, 0);\n      });\n    };\n    const init$2 = editor => {\n      bindFakeDragEvents(editor);\n      if (shouldBlockUnsupportedDrop(editor)) {\n        blockUnsupportedFileDrop(editor);\n      }\n    };\n\n    const setup$4 = editor => {\n      const renderFocusCaret = first$1(() => {\n        if (!editor.removed && editor.getBody().contains(document.activeElement)) {\n          const rng = editor.selection.getRng();\n          if (rng.collapsed) {\n            const caretRange = renderRangeCaret(editor, rng, false);\n            editor.selection.setRng(caretRange);\n          }\n        }\n      }, 0);\n      editor.on('focus', () => {\n        renderFocusCaret.throttle();\n      });\n      editor.on('blur', () => {\n        renderFocusCaret.cancel();\n      });\n    };\n\n    const setup$3 = editor => {\n      editor.on('init', () => {\n        editor.on('focusin', e => {\n          const target = e.target;\n          if (isMedia$2(target)) {\n            const ceRoot = getContentEditableRoot$1(editor.getBody(), target);\n            const node = isContentEditableFalse$b(ceRoot) ? ceRoot : target;\n            if (editor.selection.getNode() !== node) {\n              selectNode(editor, node).each(rng => editor.selection.setRng(rng));\n            }\n          }\n        });\n      });\n    };\n\n    const isContentEditableFalse = isContentEditableFalse$b;\n    const getContentEditableRoot = (editor, node) => getContentEditableRoot$1(editor.getBody(), node);\n    const SelectionOverrides = editor => {\n      const selection = editor.selection, dom = editor.dom;\n      const isBlock = dom.isBlock;\n      const rootNode = editor.getBody();\n      const fakeCaret = FakeCaret(editor, rootNode, isBlock, () => hasFocus(editor));\n      const realSelectionId = 'sel-' + dom.uniqueId();\n      const elementSelectionAttr = 'data-mce-selected';\n      let selectedElement;\n      const isFakeSelectionElement = node => dom.hasClass(node, 'mce-offscreen-selection');\n      const isFakeSelectionTargetElement = node => node !== rootNode && (isContentEditableFalse(node) || isMedia$2(node)) && dom.isChildOf(node, rootNode);\n      const setRange = range => {\n        if (range) {\n          selection.setRng(range);\n        }\n      };\n      const showCaret = (direction, node, before, scrollIntoView = true) => {\n        const e = editor.dispatch('ShowCaret', {\n          target: node,\n          direction,\n          before\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        if (scrollIntoView) {\n          selection.scrollIntoView(node, direction === -1);\n        }\n        return fakeCaret.show(before, node);\n      };\n      const showBlockCaretContainer = blockCaretContainer => {\n        if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n          showCaretContainerBlock(blockCaretContainer);\n          selection.scrollIntoView(blockCaretContainer);\n        }\n      };\n      const registerEvents = () => {\n        editor.on('click', e => {\n          const contentEditableRoot = getContentEditableRoot(editor, e.target);\n          if (contentEditableRoot) {\n            if (isContentEditableFalse(contentEditableRoot)) {\n              e.preventDefault();\n              editor.focus();\n            }\n          }\n        });\n        editor.on('blur NewBlock', removeElementSelection);\n        editor.on('ResizeWindow FullscreenStateChanged', fakeCaret.reposition);\n        editor.on('tap', e => {\n          const targetElm = e.target;\n          const contentEditableRoot = getContentEditableRoot(editor, targetElm);\n          if (isContentEditableFalse(contentEditableRoot)) {\n            e.preventDefault();\n            selectNode(editor, contentEditableRoot).each(setElementSelection);\n          } else if (isFakeSelectionTargetElement(targetElm)) {\n            selectNode(editor, targetElm).each(setElementSelection);\n          }\n        }, true);\n        editor.on('mousedown', e => {\n          const targetElm = e.target;\n          if (targetElm !== rootNode && targetElm.nodeName !== 'HTML' && !dom.isChildOf(targetElm, rootNode)) {\n            return;\n          }\n          if (isXYInContentArea(editor, e.clientX, e.clientY) === false) {\n            return;\n          }\n          removeElementSelection();\n          hideFakeCaret();\n          const closestContentEditable = getContentEditableRoot(editor, targetElm);\n          if (isContentEditableFalse(closestContentEditable)) {\n            e.preventDefault();\n            selectNode(editor, closestContentEditable).each(setElementSelection);\n          } else {\n            closestFakeCaretCandidate(rootNode, e.clientX, e.clientY).each(caretInfo => {\n              e.preventDefault();\n              const range = showCaret(1, caretInfo.node, caretInfo.position === FakeCaretPosition.Before, false);\n              setRange(range);\n              if (isElement$6(closestContentEditable)) {\n                closestContentEditable.focus();\n              } else {\n                editor.getBody().focus();\n              }\n            });\n          }\n        });\n        editor.on('keypress', e => {\n          if (VK.modifierPressed(e)) {\n            return;\n          }\n          if (isContentEditableFalse(selection.getNode())) {\n            e.preventDefault();\n          }\n        });\n        editor.on('GetSelectionRange', e => {\n          let rng = e.range;\n          if (selectedElement) {\n            if (!selectedElement.parentNode) {\n              selectedElement = null;\n              return;\n            }\n            rng = rng.cloneRange();\n            rng.selectNode(selectedElement);\n            e.range = rng;\n          }\n        });\n        editor.on('SetSelectionRange', e => {\n          e.range = normalizeVoidElementSelection(e.range);\n          const rng = setElementSelection(e.range, e.forward);\n          if (rng) {\n            e.range = rng;\n          }\n        });\n        const isPasteBin = node => node.id === 'mcepastebin';\n        editor.on('AfterSetSelectionRange', e => {\n          const rng = e.range;\n          const parentNode = rng.startContainer.parentNode;\n          if (!isRangeInCaretContainer(rng) && !isPasteBin(parentNode)) {\n            hideFakeCaret();\n          }\n          if (!isFakeSelectionElement(parentNode)) {\n            removeElementSelection();\n          }\n        });\n        init$2(editor);\n        setup$4(editor);\n        setup$3(editor);\n      };\n      const isWithinCaretContainer = node => isCaretContainer$2(node) || startsWithCaretContainer$1(node) || endsWithCaretContainer$1(node);\n      const isRangeInCaretContainer = rng => isWithinCaretContainer(rng.startContainer) || isWithinCaretContainer(rng.endContainer);\n      const normalizeVoidElementSelection = rng => {\n        const voidElements = editor.schema.getVoidElements();\n        const newRng = dom.createRng();\n        const startContainer = rng.startContainer;\n        const startOffset = rng.startOffset;\n        const endContainer = rng.endContainer;\n        const endOffset = rng.endOffset;\n        if (has$2(voidElements, startContainer.nodeName.toLowerCase())) {\n          if (startOffset === 0) {\n            newRng.setStartBefore(startContainer);\n          } else {\n            newRng.setStartAfter(startContainer);\n          }\n        } else {\n          newRng.setStart(startContainer, startOffset);\n        }\n        if (has$2(voidElements, endContainer.nodeName.toLowerCase())) {\n          if (endOffset === 0) {\n            newRng.setEndBefore(endContainer);\n          } else {\n            newRng.setEndAfter(endContainer);\n          }\n        } else {\n          newRng.setEnd(endContainer, endOffset);\n        }\n        return newRng;\n      };\n      const setupOffscreenSelection = (node, targetClone) => {\n        const body = SugarElement.fromDom(editor.getBody());\n        const doc = editor.getDoc();\n        const realSelectionContainer = descendant(body, '#' + realSelectionId).getOrThunk(() => {\n          const newContainer = SugarElement.fromHtml('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>', doc);\n          set$2(newContainer, 'id', realSelectionId);\n          append$1(body, newContainer);\n          return newContainer;\n        });\n        const newRange = dom.createRng();\n        empty(realSelectionContainer);\n        append(realSelectionContainer, [\n          SugarElement.fromText(nbsp, doc),\n          SugarElement.fromDom(targetClone),\n          SugarElement.fromText(nbsp, doc)\n        ]);\n        newRange.setStart(realSelectionContainer.dom.firstChild, 1);\n        newRange.setEnd(realSelectionContainer.dom.lastChild, 0);\n        setAll(realSelectionContainer, { top: dom.getPos(node, editor.getBody()).y + 'px' });\n        focus$1(realSelectionContainer);\n        const sel = selection.getSel();\n        sel.removeAllRanges();\n        sel.addRange(newRange);\n        return newRange;\n      };\n      const selectElement = elm => {\n        const targetClone = elm.cloneNode(true);\n        const e = editor.dispatch('ObjectSelected', {\n          target: elm,\n          targetClone\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        const range = setupOffscreenSelection(elm, e.targetClone);\n        const nodeElm = SugarElement.fromDom(elm);\n        each$f(descendants(SugarElement.fromDom(editor.getBody()), `*[${ elementSelectionAttr }]`), elm => {\n          if (!eq(nodeElm, elm)) {\n            remove$b(elm, elementSelectionAttr);\n          }\n        });\n        if (!dom.getAttrib(elm, elementSelectionAttr)) {\n          elm.setAttribute(elementSelectionAttr, '1');\n        }\n        selectedElement = elm;\n        hideFakeCaret();\n        return range;\n      };\n      const setElementSelection = (range, forward) => {\n        if (!range) {\n          return null;\n        }\n        if (range.collapsed) {\n          if (!isRangeInCaretContainer(range)) {\n            const dir = forward ? 1 : -1;\n            const caretPosition = getNormalizedRangeEndPoint(dir, rootNode, range);\n            const beforeNode = caretPosition.getNode(!forward);\n            if (isFakeCaretTarget(beforeNode)) {\n              return showCaret(dir, beforeNode, forward ? !caretPosition.isAtEnd() : false, false);\n            }\n            const afterNode = caretPosition.getNode(forward);\n            if (isFakeCaretTarget(afterNode)) {\n              return showCaret(dir, afterNode, forward ? false : !caretPosition.isAtEnd(), false);\n            }\n          }\n          return null;\n        }\n        let startContainer = range.startContainer;\n        let startOffset = range.startOffset;\n        const endOffset = range.endOffset;\n        if (startContainer.nodeType === 3 && startOffset === 0 && isContentEditableFalse(startContainer.parentNode)) {\n          startContainer = startContainer.parentNode;\n          startOffset = dom.nodeIndex(startContainer);\n          startContainer = startContainer.parentNode;\n        }\n        if (startContainer.nodeType !== 1) {\n          return null;\n        }\n        if (endOffset === startOffset + 1 && startContainer === range.endContainer) {\n          const node = startContainer.childNodes[startOffset];\n          if (isFakeSelectionTargetElement(node)) {\n            return selectElement(node);\n          }\n        }\n        return null;\n      };\n      const removeElementSelection = () => {\n        if (selectedElement) {\n          selectedElement.removeAttribute(elementSelectionAttr);\n        }\n        descendant(SugarElement.fromDom(editor.getBody()), '#' + realSelectionId).each(remove$6);\n        selectedElement = null;\n      };\n      const destroy = () => {\n        fakeCaret.destroy();\n        selectedElement = null;\n      };\n      const hideFakeCaret = () => {\n        fakeCaret.hide();\n      };\n      if (!isRtc(editor)) {\n        registerEvents();\n      }\n      return {\n        showCaret,\n        showBlockCaretContainer,\n        hideFakeCaret,\n        destroy\n      };\n    };\n\n    const generatePath = (root, node, offset) => {\n      if (isText$9(node) && (offset < 0 || offset > node.data.length)) {\n        return [];\n      }\n      const p = [offset];\n      let current = node;\n      while (current !== root && current.parentNode) {\n        const parent = current.parentNode;\n        for (let i = 0; i < parent.childNodes.length; i++) {\n          if (parent.childNodes[i] === current) {\n            p.push(i);\n            break;\n          }\n        }\n        current = parent;\n      }\n      return current === root ? p.reverse() : [];\n    };\n    const generatePathRange = (root, startNode, startOffset, endNode, endOffset) => {\n      const start = generatePath(root, startNode, startOffset);\n      const end = generatePath(root, endNode, endOffset);\n      return {\n        start,\n        end\n      };\n    };\n    const resolvePath = (root, path) => {\n      const nodePath = path.slice();\n      const offset = nodePath.pop();\n      const resolvedNode = foldl(nodePath, (optNode, index) => optNode.bind(node => Optional.from(node.childNodes[index])), Optional.some(root));\n      return resolvedNode.bind(node => {\n        if (isText$9(node) && (offset < 0 || offset > node.data.length)) {\n          return Optional.none();\n        } else {\n          return Optional.some({\n            node,\n            offset\n          });\n        }\n      });\n    };\n    const resolvePathRange = (root, range) => resolvePath(root, range.start).bind(({\n      node: startNode,\n      offset: startOffset\n    }) => resolvePath(root, range.end).map(({\n      node: endNode,\n      offset: endOffset\n    }) => {\n      const rng = document.createRange();\n      rng.setStart(startNode, startOffset);\n      rng.setEnd(endNode, endOffset);\n      return rng;\n    }));\n    const generatePathRangeFromRange = (root, range) => generatePathRange(root, range.startContainer, range.startOffset, range.endContainer, range.endOffset);\n\n    const cleanEmptyNodes = (dom, node, isRoot) => {\n      if (node && dom.isEmpty(node) && !isRoot(node)) {\n        const parent = node.parentNode;\n        dom.remove(node);\n        cleanEmptyNodes(dom, parent, isRoot);\n      }\n    };\n    const deleteRng = (dom, rng, isRoot, clean = true) => {\n      const startParent = rng.startContainer.parentNode;\n      const endParent = rng.endContainer.parentNode;\n      rng.deleteContents();\n      if (clean && !isRoot(rng.startContainer)) {\n        if (isText$9(rng.startContainer) && rng.startContainer.data.length === 0) {\n          dom.remove(rng.startContainer);\n        }\n        if (isText$9(rng.endContainer) && rng.endContainer.data.length === 0) {\n          dom.remove(rng.endContainer);\n        }\n        cleanEmptyNodes(dom, startParent, isRoot);\n        if (startParent !== endParent) {\n          cleanEmptyNodes(dom, endParent, isRoot);\n        }\n      }\n    };\n    const getParentBlock = (editor, rng) => Optional.from(editor.dom.getParent(rng.startContainer, editor.dom.isBlock));\n\n    const stripPattern = (dom, block, pattern) => {\n      const firstTextNode = textAfter(block, 0, block);\n      firstTextNode.each(spot => {\n        const node = spot.container;\n        scanRight(node, pattern.start.length, block).each(end => {\n          const rng = dom.createRng();\n          rng.setStart(node, 0);\n          rng.setEnd(end.container, end.offset);\n          deleteRng(dom, rng, e => e === block);\n        });\n      });\n    };\n    const applyPattern$1 = (editor, match) => {\n      const dom = editor.dom;\n      const pattern = match.pattern;\n      const rng = resolvePathRange(dom.getRoot(), match.range).getOrDie('Unable to resolve path range');\n      const isBlockFormatName = (name, formatter) => {\n        const formatSet = formatter.get(name);\n        return isArray$1(formatSet) && head(formatSet).exists(format => has$2(format, 'block'));\n      };\n      getParentBlock(editor, rng).each(block => {\n        if (pattern.type === 'block-format') {\n          if (isBlockFormatName(pattern.format, editor.formatter)) {\n            editor.undoManager.transact(() => {\n              stripPattern(editor.dom, block, pattern);\n              editor.formatter.apply(pattern.format);\n            });\n          }\n        } else if (pattern.type === 'block-command') {\n          editor.undoManager.transact(() => {\n            stripPattern(editor.dom, block, pattern);\n            editor.execCommand(pattern.cmd, false, pattern.value);\n          });\n        }\n      });\n      return true;\n    };\n    const findPattern$1 = (patterns, text) => {\n      const nuText = text.replace(nbsp, ' ');\n      return find$2(patterns, pattern => text.indexOf(pattern.start) === 0 || nuText.indexOf(pattern.start) === 0);\n    };\n    const findPatterns$1 = (editor, patterns) => {\n      const dom = editor.dom;\n      const rng = editor.selection.getRng();\n      return getParentBlock(editor, rng).filter(block => {\n        const forcedRootBlock = getForcedRootBlock(editor);\n        const matchesForcedRootBlock = dom.is(block, forcedRootBlock);\n        return block !== null && matchesForcedRootBlock;\n      }).bind(block => {\n        const blockText = block.textContent;\n        const matchedPattern = findPattern$1(patterns, blockText);\n        return matchedPattern.map(pattern => {\n          if (Tools.trim(blockText).length === pattern.start.length) {\n            return [];\n          }\n          return [{\n              pattern,\n              range: generatePathRange(dom.getRoot(), block, 0, block, 0)\n            }];\n        });\n      }).getOr([]);\n    };\n    const applyMatches$1 = (editor, matches) => {\n      if (matches.length === 0) {\n        return;\n      }\n      const bookmark = editor.selection.getBookmark();\n      each$f(matches, match => applyPattern$1(editor, match));\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    const newMarker = (dom, id) => dom.create('span', {\n      'data-mce-type': 'bookmark',\n      id\n    });\n    const rangeFromMarker = (dom, marker) => {\n      const rng = dom.createRng();\n      rng.setStartAfter(marker.start);\n      rng.setEndBefore(marker.end);\n      return rng;\n    };\n    const createMarker = (dom, markerPrefix, pathRange) => {\n      const rng = resolvePathRange(dom.getRoot(), pathRange).getOrDie('Unable to resolve path range');\n      const startNode = rng.startContainer;\n      const endNode = rng.endContainer;\n      const textEnd = rng.endOffset === 0 ? endNode : endNode.splitText(rng.endOffset);\n      const textStart = rng.startOffset === 0 ? startNode : startNode.splitText(rng.startOffset);\n      return {\n        prefix: markerPrefix,\n        end: textEnd.parentNode.insertBefore(newMarker(dom, markerPrefix + '-end'), textEnd),\n        start: textStart.parentNode.insertBefore(newMarker(dom, markerPrefix + '-start'), textStart)\n      };\n    };\n    const removeMarker = (dom, marker, isRoot) => {\n      cleanEmptyNodes(dom, dom.get(marker.prefix + '-end'), isRoot);\n      cleanEmptyNodes(dom, dom.get(marker.prefix + '-start'), isRoot);\n    };\n\n    const isReplacementPattern = pattern => pattern.start.length === 0;\n    const matchesPattern = patternContent => (element, offset) => {\n      const text = element.data;\n      const searchText = text.substring(0, offset);\n      const startEndIndex = searchText.lastIndexOf(patternContent.charAt(patternContent.length - 1));\n      const startIndex = searchText.lastIndexOf(patternContent);\n      if (startIndex !== -1) {\n        return startIndex + patternContent.length;\n      } else if (startEndIndex !== -1) {\n        return startEndIndex + 1;\n      } else {\n        return -1;\n      }\n    };\n    const findPatternStartFromSpot = (dom, pattern, block, spot) => {\n      const startPattern = pattern.start;\n      const startSpot = repeatLeft(dom, spot.container, spot.offset, matchesPattern(startPattern), block);\n      return startSpot.bind(spot => {\n        if (spot.offset >= startPattern.length) {\n          const rng = dom.createRng();\n          rng.setStart(spot.container, spot.offset - startPattern.length);\n          rng.setEnd(spot.container, spot.offset);\n          return Optional.some(rng);\n        } else {\n          const offset = spot.offset - startPattern.length;\n          return scanLeft(spot.container, offset, block).map(nextSpot => {\n            const rng = dom.createRng();\n            rng.setStart(nextSpot.container, nextSpot.offset);\n            rng.setEnd(spot.container, spot.offset);\n            return rng;\n          }).filter(rng => rng.toString() === startPattern).orThunk(() => findPatternStartFromSpot(dom, pattern, block, point(spot.container, 0)));\n        }\n      });\n    };\n    const findPatternStart = (dom, pattern, node, offset, block, requireGap = false) => {\n      if (pattern.start.length === 0 && !requireGap) {\n        const rng = dom.createRng();\n        rng.setStart(node, offset);\n        rng.setEnd(node, offset);\n        return Optional.some(rng);\n      }\n      return textBefore(node, offset, block).bind(spot => {\n        const start = findPatternStartFromSpot(dom, pattern, block, spot);\n        return start.bind(startRange => {\n          if (requireGap) {\n            if (startRange.endContainer === spot.container && startRange.endOffset === spot.offset) {\n              return Optional.none();\n            } else if (spot.offset === 0 && startRange.endContainer.textContent.length === startRange.endOffset) {\n              return Optional.none();\n            }\n          }\n          return Optional.some(startRange);\n        });\n      });\n    };\n    const findPattern = (editor, block, details) => {\n      const dom = editor.dom;\n      const root = dom.getRoot();\n      const pattern = details.pattern;\n      const endNode = details.position.container;\n      const endOffset = details.position.offset;\n      return scanLeft(endNode, endOffset - details.pattern.end.length, block).bind(spot => {\n        const endPathRng = generatePathRange(root, spot.container, spot.offset, endNode, endOffset);\n        if (isReplacementPattern(pattern)) {\n          return Optional.some({\n            matches: [{\n                pattern,\n                startRng: endPathRng,\n                endRng: endPathRng\n              }],\n            position: spot\n          });\n        } else {\n          const resultsOpt = findPatternsRec(editor, details.remainingPatterns, spot.container, spot.offset, block);\n          const results = resultsOpt.getOr({\n            matches: [],\n            position: spot\n          });\n          const pos = results.position;\n          const start = findPatternStart(dom, pattern, pos.container, pos.offset, block, resultsOpt.isNone());\n          return start.map(startRng => {\n            const startPathRng = generatePathRangeFromRange(root, startRng);\n            return {\n              matches: results.matches.concat([{\n                  pattern,\n                  startRng: startPathRng,\n                  endRng: endPathRng\n                }]),\n              position: point(startRng.startContainer, startRng.startOffset)\n            };\n          });\n        }\n      });\n    };\n    const findPatternsRec = (editor, patterns, node, offset, block) => {\n      const dom = editor.dom;\n      return textBefore(node, offset, dom.getRoot()).bind(endSpot => {\n        const rng = dom.createRng();\n        rng.setStart(block, 0);\n        rng.setEnd(node, offset);\n        const text = rng.toString();\n        for (let i = 0; i < patterns.length; i++) {\n          const pattern = patterns[i];\n          if (!endsWith(text, pattern.end)) {\n            continue;\n          }\n          const patternsWithoutCurrent = patterns.slice();\n          patternsWithoutCurrent.splice(i, 1);\n          const result = findPattern(editor, block, {\n            pattern,\n            remainingPatterns: patternsWithoutCurrent,\n            position: endSpot\n          });\n          if (result.isSome()) {\n            return result;\n          }\n        }\n        return Optional.none();\n      });\n    };\n    const applyPattern = (editor, pattern, patternRange) => {\n      editor.selection.setRng(patternRange);\n      if (pattern.type === 'inline-format') {\n        each$f(pattern.format, format => {\n          editor.formatter.apply(format);\n        });\n      } else {\n        editor.execCommand(pattern.cmd, false, pattern.value);\n      }\n    };\n    const applyReplacementPattern = (editor, pattern, marker, isRoot) => {\n      const markerRange = rangeFromMarker(editor.dom, marker);\n      deleteRng(editor.dom, markerRange, isRoot);\n      applyPattern(editor, pattern, markerRange);\n    };\n    const applyPatternWithContent = (editor, pattern, startMarker, endMarker, isRoot) => {\n      const dom = editor.dom;\n      const markerEndRange = rangeFromMarker(dom, endMarker);\n      const markerStartRange = rangeFromMarker(dom, startMarker);\n      deleteRng(dom, markerStartRange, isRoot);\n      deleteRng(dom, markerEndRange, isRoot);\n      const patternMarker = {\n        prefix: startMarker.prefix,\n        start: startMarker.end,\n        end: endMarker.start\n      };\n      const patternRange = rangeFromMarker(dom, patternMarker);\n      applyPattern(editor, pattern, patternRange);\n    };\n    const addMarkers = (dom, matches) => {\n      const markerPrefix = generate$1('mce_textpattern');\n      const matchesWithEnds = foldr(matches, (acc, match) => {\n        const endMarker = createMarker(dom, markerPrefix + `_end${ acc.length }`, match.endRng);\n        return acc.concat([{\n            ...match,\n            endMarker\n          }]);\n      }, []);\n      return foldr(matchesWithEnds, (acc, match) => {\n        const idx = matchesWithEnds.length - acc.length - 1;\n        const startMarker = isReplacementPattern(match.pattern) ? match.endMarker : createMarker(dom, markerPrefix + `_start${ idx }`, match.startRng);\n        return acc.concat([{\n            ...match,\n            startMarker\n          }]);\n      }, []);\n    };\n    const findPatterns = (editor, patterns, space) => {\n      const rng = editor.selection.getRng();\n      if (rng.collapsed === false) {\n        return [];\n      }\n      return getParentBlock(editor, rng).bind(block => {\n        const offset = Math.max(0, rng.startOffset - (space ? 1 : 0));\n        return findPatternsRec(editor, patterns, rng.startContainer, offset, block);\n      }).fold(() => [], result => result.matches);\n    };\n    const applyMatches = (editor, matches) => {\n      if (matches.length === 0) {\n        return;\n      }\n      const dom = editor.dom;\n      const bookmark = editor.selection.getBookmark();\n      const matchesWithMarkers = addMarkers(dom, matches);\n      each$f(matchesWithMarkers, match => {\n        const block = dom.getParent(match.startMarker.start, dom.isBlock);\n        const isRoot = node => node === block;\n        if (isReplacementPattern(match.pattern)) {\n          applyReplacementPattern(editor, match.pattern, match.endMarker, isRoot);\n        } else {\n          applyPatternWithContent(editor, match.pattern, match.startMarker, match.endMarker, isRoot);\n        }\n        removeMarker(dom, match.endMarker, isRoot);\n        removeMarker(dom, match.startMarker, isRoot);\n      });\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    const hasPatterns = patternSet => patternSet.inlinePatterns.length > 0 || patternSet.blockPatterns.length > 0;\n    const handleEnter = (editor, patternSet) => {\n      if (!editor.selection.isCollapsed() || !hasPatterns(patternSet)) {\n        return false;\n      }\n      const inlineMatches = findPatterns(editor, patternSet.inlinePatterns, false);\n      const blockMatches = findPatterns$1(editor, patternSet.blockPatterns);\n      if (blockMatches.length > 0 || inlineMatches.length > 0) {\n        editor.undoManager.add();\n        editor.undoManager.extra(() => {\n          editor.execCommand('mceInsertNewLine');\n        }, () => {\n          editor.insertContent(zeroWidth);\n          applyMatches(editor, inlineMatches);\n          applyMatches$1(editor, blockMatches);\n          const range = editor.selection.getRng();\n          const spot = textBefore(range.startContainer, range.startOffset, editor.dom.getRoot());\n          editor.execCommand('mceInsertNewLine');\n          spot.each(s => {\n            const node = s.container;\n            if (node.data.charAt(s.offset - 1) === zeroWidth) {\n              node.deleteData(s.offset - 1, 1);\n              cleanEmptyNodes(editor.dom, node.parentNode, e => e === editor.dom.getRoot());\n            }\n          });\n        });\n        return true;\n      }\n      return false;\n    };\n    const handleInlineKey = (editor, inlinePatterns) => {\n      if (inlinePatterns.length > 0) {\n        const inlineMatches = findPatterns(editor, inlinePatterns, true);\n        if (inlineMatches.length > 0) {\n          editor.undoManager.transact(() => {\n            applyMatches(editor, inlineMatches);\n          });\n        }\n      }\n    };\n    const checkKeyEvent = (codes, event, predicate) => {\n      for (let i = 0; i < codes.length; i++) {\n        if (predicate(codes[i], event)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const checkKeyCode = (codes, event) => checkKeyEvent(codes, event, (code, event) => {\n      return code === event.keyCode && VK.modifierPressed(event) === false;\n    });\n    const checkCharCode = (chars, event) => checkKeyEvent(chars, event, (chr, event) => {\n      return chr.charCodeAt(0) === event.charCode;\n    });\n\n    const setup$2 = editor => {\n      const charCodes = [\n        ',',\n        '.',\n        ';',\n        ':',\n        '!',\n        '?'\n      ];\n      const keyCodes = [32];\n      const getPatternSet = () => createPatternSet(getTextPatterns(editor));\n      const getInlinePatterns$1 = () => getInlinePatterns(getTextPatterns(editor));\n      editor.on('keydown', e => {\n        if (e.keyCode === 13 && !VK.modifierPressed(e)) {\n          if (handleEnter(editor, getPatternSet())) {\n            e.preventDefault();\n          }\n        }\n      }, true);\n      editor.on('keyup', e => {\n        if (checkKeyCode(keyCodes, e)) {\n          handleInlineKey(editor, getInlinePatterns$1());\n        }\n      });\n      editor.on('keypress', e => {\n        if (checkCharCode(charCodes, e)) {\n          Delay.setEditorTimeout(editor, () => {\n            handleInlineKey(editor, getInlinePatterns$1());\n          });\n        }\n      });\n    };\n\n    const setup$1 = editor => {\n      setup$2(editor);\n    };\n\n    const Quirks = editor => {\n      const each = Tools.each;\n      const BACKSPACE = VK.BACKSPACE, DELETE = VK.DELETE, dom = editor.dom, selection = editor.selection, parser = editor.parser;\n      const browser = Env.browser;\n      const isGecko = browser.isFirefox();\n      const isWebKit = browser.isChromium() || browser.isSafari();\n      const isiOS = Env.deviceType.isiPhone() || Env.deviceType.isiPad();\n      const isMac = Env.os.isMacOS() || Env.os.isiOS();\n      const setEditorCommandState = (cmd, state) => {\n        try {\n          editor.getDoc().execCommand(cmd, false, state);\n        } catch (ex) {\n        }\n      };\n      const isDefaultPrevented = e => {\n        return e.isDefaultPrevented();\n      };\n      const emptyEditorWhenDeleting = () => {\n        const serializeRng = rng => {\n          const body = dom.create('body');\n          const contents = rng.cloneContents();\n          body.appendChild(contents);\n          return selection.serializer.serialize(body, { format: 'html' });\n        };\n        const allContentsSelected = rng => {\n          const selection = serializeRng(rng);\n          const allRng = dom.createRng();\n          allRng.selectNode(editor.getBody());\n          const allSelection = serializeRng(allRng);\n          return selection === allSelection;\n        };\n        editor.on('keydown', e => {\n          const keyCode = e.keyCode;\n          let isCollapsed, body;\n          if (!isDefaultPrevented(e) && (keyCode === DELETE || keyCode === BACKSPACE)) {\n            isCollapsed = editor.selection.isCollapsed();\n            body = editor.getBody();\n            if (isCollapsed && !dom.isEmpty(body)) {\n              return;\n            }\n            if (!isCollapsed && !allContentsSelected(editor.selection.getRng())) {\n              return;\n            }\n            e.preventDefault();\n            editor.setContent('');\n            if (body.firstChild && dom.isBlock(body.firstChild)) {\n              editor.selection.setCursorLocation(body.firstChild, 0);\n            } else {\n              editor.selection.setCursorLocation(body, 0);\n            }\n            editor.nodeChanged();\n          }\n        });\n      };\n      const selectAll = () => {\n        editor.shortcuts.add('meta+a', null, 'SelectAll');\n      };\n      const documentElementEditingFocus = () => {\n        if (!editor.inline) {\n          dom.bind(editor.getDoc(), 'mousedown mouseup', e => {\n            let rng;\n            if (e.target === editor.getDoc().documentElement) {\n              rng = selection.getRng();\n              editor.getBody().focus();\n              if (e.type === 'mousedown') {\n                if (isCaretContainer$2(rng.startContainer)) {\n                  return;\n                }\n                selection.placeCaretAt(e.clientX, e.clientY);\n              } else {\n                selection.setRng(rng);\n              }\n            }\n          });\n        }\n      };\n      const removeHrOnBackspace = () => {\n        editor.on('keydown', e => {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (!editor.getBody().getElementsByTagName('hr').length) {\n              return;\n            }\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              const node = selection.getNode();\n              const previousSibling = node.previousSibling;\n              if (node.nodeName === 'HR') {\n                dom.remove(node);\n                e.preventDefault();\n                return;\n              }\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'hr') {\n                dom.remove(previousSibling);\n                e.preventDefault();\n              }\n            }\n          }\n        });\n      };\n      const focusBody = () => {\n        if (!Range.prototype.getClientRects) {\n          editor.on('mousedown', e => {\n            if (!isDefaultPrevented(e) && e.target.nodeName === 'HTML') {\n              const body = editor.getBody();\n              body.blur();\n              Delay.setEditorTimeout(editor, () => {\n                body.focus();\n              });\n            }\n          });\n        }\n      };\n      const selectControlElements = () => {\n        const visualAidsAnchorClass = getVisualAidsAnchorClass(editor);\n        editor.on('click', e => {\n          const target = e.target;\n          if (/^(IMG|HR)$/.test(target.nodeName) && dom.getContentEditableParent(target) !== 'false') {\n            e.preventDefault();\n            editor.selection.select(target);\n            editor.nodeChanged();\n          }\n          if (target.nodeName === 'A' && dom.hasClass(target, visualAidsAnchorClass) && target.childNodes.length === 0) {\n            e.preventDefault();\n            selection.select(target);\n          }\n        });\n      };\n      const removeStylesWhenDeletingAcrossBlockElements = () => {\n        const getAttributeApplyFunction = () => {\n          const template = dom.getAttribs(selection.getStart().cloneNode(false));\n          return () => {\n            const target = selection.getStart();\n            if (target !== editor.getBody()) {\n              dom.setAttrib(target, 'style', null);\n              each(template, attr => {\n                target.setAttributeNode(attr.cloneNode(true));\n              });\n            }\n          };\n        };\n        const isSelectionAcrossElements = () => {\n          return !selection.isCollapsed() && dom.getParent(selection.getStart(), dom.isBlock) !== dom.getParent(selection.getEnd(), dom.isBlock);\n        };\n        editor.on('keypress', e => {\n          let applyAttributes;\n          if (!isDefaultPrevented(e) && (e.keyCode === 8 || e.keyCode === 46) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            editor.getDoc().execCommand('delete', false, null);\n            applyAttributes();\n            e.preventDefault();\n            return false;\n          }\n        });\n        dom.bind(editor.getDoc(), 'cut', e => {\n          let applyAttributes;\n          if (!isDefaultPrevented(e) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            Delay.setEditorTimeout(editor, () => {\n              applyAttributes();\n            });\n          }\n        });\n      };\n      const disableBackspaceIntoATable = () => {\n        editor.on('keydown', e => {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              const previousSibling = selection.getNode().previousSibling;\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'table') {\n                e.preventDefault();\n                return false;\n              }\n            }\n          }\n        });\n      };\n      const removeBlockQuoteOnBackSpace = () => {\n        editor.on('keydown', e => {\n          let rng, parent;\n          if (isDefaultPrevented(e) || e.keyCode !== VK.BACKSPACE) {\n            return;\n          }\n          rng = selection.getRng();\n          const container = rng.startContainer;\n          const offset = rng.startOffset;\n          const root = dom.getRoot();\n          parent = container;\n          if (!rng.collapsed || offset !== 0) {\n            return;\n          }\n          while (parent && parent.parentNode && parent.parentNode.firstChild === parent && parent.parentNode !== root) {\n            parent = parent.parentNode;\n          }\n          if (parent.tagName === 'BLOCKQUOTE') {\n            editor.formatter.toggle('blockquote', null, parent);\n            rng = dom.createRng();\n            rng.setStart(container, 0);\n            rng.setEnd(container, 0);\n            selection.setRng(rng);\n          }\n        });\n      };\n      const setGeckoEditingOptions = () => {\n        const setOpts = () => {\n          setEditorCommandState('StyleWithCSS', false);\n          setEditorCommandState('enableInlineTableEditing', false);\n          if (!getObjectResizing(editor)) {\n            setEditorCommandState('enableObjectResizing', false);\n          }\n        };\n        if (!isReadOnly$1(editor)) {\n          editor.on('BeforeExecCommand mousedown', setOpts);\n        }\n      };\n      const addBrAfterLastLinks = () => {\n        const fixLinks = () => {\n          each(dom.select('a'), node => {\n            let parentNode = node.parentNode;\n            const root = dom.getRoot();\n            if (parentNode.lastChild === node) {\n              while (parentNode && !dom.isBlock(parentNode)) {\n                if (parentNode.parentNode.lastChild !== parentNode || parentNode === root) {\n                  return;\n                }\n                parentNode = parentNode.parentNode;\n              }\n              dom.add(parentNode, 'br', { 'data-mce-bogus': 1 });\n            }\n          });\n        };\n        editor.on('SetContent ExecCommand', e => {\n          if (e.type === 'setcontent' || e.command === 'mceInsertLink') {\n            fixLinks();\n          }\n        });\n      };\n      const setDefaultBlockType = () => {\n        editor.on('init', () => {\n          setEditorCommandState('DefaultParagraphSeparator', getForcedRootBlock(editor));\n        });\n      };\n      const isAllContentSelected = editor => {\n        const body = editor.getBody();\n        const rng = editor.selection.getRng();\n        return rng.startContainer === rng.endContainer && rng.startContainer === body && rng.startOffset === 0 && rng.endOffset === body.childNodes.length;\n      };\n      const normalizeSelection = () => {\n        editor.on('keyup focusin mouseup', e => {\n          if (!VK.modifierPressed(e) && !isAllContentSelected(editor)) {\n            selection.normalize();\n          }\n        }, true);\n      };\n      const showBrokenImageIcon = () => {\n        editor.contentStyles.push('img:-moz-broken {' + '-moz-force-broken-image-icon:1;' + 'min-width:24px;' + 'min-height:24px' + '}');\n      };\n      const restoreFocusOnKeyDown = () => {\n        if (!editor.inline) {\n          editor.on('keydown', () => {\n            if (document.activeElement === document.body) {\n              editor.getWin().focus();\n            }\n          });\n        }\n      };\n      const bodyHeight = () => {\n        if (!editor.inline) {\n          editor.contentStyles.push('body {min-height: 150px}');\n          editor.on('click', e => {\n            let rng;\n            if (e.target.nodeName === 'HTML') {\n              rng = editor.selection.getRng();\n              editor.getBody().focus();\n              editor.selection.setRng(rng);\n              editor.selection.normalize();\n              editor.nodeChanged();\n            }\n          });\n        }\n      };\n      const blockCmdArrowNavigation = () => {\n        if (isMac) {\n          editor.on('keydown', e => {\n            if (VK.metaKeyPressed(e) && !e.shiftKey && (e.keyCode === 37 || e.keyCode === 39)) {\n              e.preventDefault();\n              const selection = editor.selection.getSel();\n              selection.modify('move', e.keyCode === 37 ? 'backward' : 'forward', 'lineboundary');\n            }\n          });\n        }\n      };\n      const tapLinksAndImages = () => {\n        editor.on('click', e => {\n          let elm = e.target;\n          do {\n            if (elm.tagName === 'A') {\n              e.preventDefault();\n              return;\n            }\n          } while (elm = elm.parentNode);\n        });\n        editor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');\n      };\n      const blockFormSubmitInsideEditor = () => {\n        editor.on('init', () => {\n          editor.dom.bind(editor.getBody(), 'submit', e => {\n            e.preventDefault();\n          });\n        });\n      };\n      const removeAppleInterchangeBrs = () => {\n        parser.addNodeFilter('br', nodes => {\n          let i = nodes.length;\n          while (i--) {\n            if (nodes[i].attr('class') === 'Apple-interchange-newline') {\n              nodes[i].remove();\n            }\n          }\n        });\n      };\n      const refreshContentEditable = noop;\n      const isHidden = () => {\n        if (!isGecko || editor.removed) {\n          return false;\n        }\n        const sel = editor.selection.getSel();\n        return !sel || !sel.rangeCount || sel.rangeCount === 0;\n      };\n      const setupRtc = () => {\n        if (isWebKit) {\n          documentElementEditingFocus();\n          selectControlElements();\n          blockFormSubmitInsideEditor();\n          selectAll();\n          if (isiOS) {\n            restoreFocusOnKeyDown();\n            bodyHeight();\n            tapLinksAndImages();\n          }\n        }\n        if (isGecko) {\n          focusBody();\n          setGeckoEditingOptions();\n          showBrokenImageIcon();\n          blockCmdArrowNavigation();\n        }\n      };\n      const setup = () => {\n        removeBlockQuoteOnBackSpace();\n        emptyEditorWhenDeleting();\n        if (!Env.windowsPhone) {\n          normalizeSelection();\n        }\n        if (isWebKit) {\n          documentElementEditingFocus();\n          selectControlElements();\n          setDefaultBlockType();\n          blockFormSubmitInsideEditor();\n          disableBackspaceIntoATable();\n          removeAppleInterchangeBrs();\n          if (isiOS) {\n            restoreFocusOnKeyDown();\n            bodyHeight();\n            tapLinksAndImages();\n          } else {\n            selectAll();\n          }\n        }\n        if (isGecko) {\n          removeHrOnBackspace();\n          focusBody();\n          removeStylesWhenDeletingAcrossBlockElements();\n          setGeckoEditingOptions();\n          addBrAfterLastLinks();\n          showBrokenImageIcon();\n          blockCmdArrowNavigation();\n          disableBackspaceIntoATable();\n        }\n      };\n      if (isRtc(editor)) {\n        setupRtc();\n      } else {\n        setup();\n      }\n      return {\n        refreshContentEditable,\n        isHidden\n      };\n    };\n\n    const DOM$6 = DOMUtils.DOM;\n    const appendStyle = (editor, text) => {\n      const body = SugarElement.fromDom(editor.getBody());\n      const container = getStyleContainer(getRootNode(body));\n      const style = SugarElement.fromTag('style');\n      set$2(style, 'type', 'text/css');\n      append$1(style, SugarElement.fromText(text));\n      append$1(container, style);\n      editor.on('remove', () => {\n        remove$6(style);\n      });\n    };\n    const getRootName = editor => editor.inline ? editor.getElement().nodeName.toLowerCase() : undefined;\n    const removeUndefined = obj => filter$5(obj, v => isUndefined(v) === false);\n    const mkParserSettings = editor => {\n      const getOption = editor.options.get;\n      const blobCache = editor.editorUpload.blobCache;\n      return removeUndefined({\n        allow_conditional_comments: getOption('allow_conditional_comments'),\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls'),\n        allow_html_in_named_anchor: getOption('allow_html_in_named_anchor'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_unsafe_link_target: getOption('allow_unsafe_link_target'),\n        convert_fonts_to_spans: getOption('convert_fonts_to_spans'),\n        fix_list_elements: getOption('fix_list_elements'),\n        font_size_legacy_values: getOption('font_size_legacy_values'),\n        forced_root_block: getOption('forced_root_block'),\n        forced_root_block_attrs: getOption('forced_root_block_attrs'),\n        preserve_cdata: getOption('preserve_cdata'),\n        remove_trailing_brs: getOption('remove_trailing_brs'),\n        inline_styles: getOption('inline_styles'),\n        root_name: getRootName(editor),\n        validate: true,\n        blob_cache: blobCache,\n        document: editor.getDoc()\n      });\n    };\n    const mkSchemaSettings = editor => {\n      const getOption = editor.options.get;\n      return removeUndefined({\n        custom_elements: getOption('custom_elements'),\n        extended_valid_elements: getOption('extended_valid_elements'),\n        invalid_elements: getOption('invalid_elements'),\n        invalid_styles: getOption('invalid_styles'),\n        schema: getOption('schema'),\n        valid_children: getOption('valid_children'),\n        valid_classes: getOption('valid_classes'),\n        valid_elements: getOption('valid_elements'),\n        valid_styles: getOption('valid_styles'),\n        verify_html: getOption('verify_html'),\n        padd_empty_block_inline_children: getOption('format_empty_lines')\n      });\n    };\n    const mkSerializerSettings = editor => {\n      const getOption = editor.options.get;\n      return {\n        ...mkParserSettings(editor),\n        ...mkSchemaSettings(editor),\n        ...removeUndefined({\n          url_converter: getOption('url_converter'),\n          url_converter_scope: getOption('url_converter_scope'),\n          element_format: getOption('element_format'),\n          entities: getOption('entities'),\n          entity_encoding: getOption('entity_encoding'),\n          indent: getOption('indent'),\n          indent_after: getOption('indent_after'),\n          indent_before: getOption('indent_before')\n        })\n      };\n    };\n    const createParser = editor => {\n      const parser = DomParser(mkParserSettings(editor), editor.schema);\n      parser.addAttributeFilter('src,href,style,tabindex', (nodes, name) => {\n        let i = nodes.length, node, value;\n        const dom = editor.dom;\n        const internalName = 'data-mce-' + name;\n        while (i--) {\n          node = nodes[i];\n          value = node.attr(name);\n          if (value && !node.attr(internalName)) {\n            if (value.indexOf('data:') === 0 || value.indexOf('blob:') === 0) {\n              continue;\n            }\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n              if (!value.length) {\n                value = null;\n              }\n              node.attr(internalName, value);\n              node.attr(name, value);\n            } else if (name === 'tabindex') {\n              node.attr(internalName, value);\n              node.attr(name, null);\n            } else {\n              node.attr(internalName, editor.convertURL(value, name, node.name));\n            }\n          }\n        }\n      });\n      parser.addNodeFilter('script', nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          const type = node.attr('type') || 'no/type';\n          if (type.indexOf('mce-') !== 0) {\n            node.attr('type', 'mce-' + type);\n          }\n        }\n      });\n      if (editor.options.get('preserve_cdata')) {\n        parser.addNodeFilter('#cdata', nodes => {\n          let i = nodes.length;\n          while (i--) {\n            const node = nodes[i];\n            node.type = 8;\n            node.name = '#comment';\n            node.value = '[CDATA[' + editor.dom.encode(node.value) + ']]';\n          }\n        });\n      }\n      parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div', nodes => {\n        let i = nodes.length;\n        const nonEmptyElements = editor.schema.getNonEmptyElements();\n        while (i--) {\n          const node = nodes[i];\n          if (node.isEmpty(nonEmptyElements) && node.getAll('br').length === 0) {\n            node.append(new AstNode('br', 1));\n          }\n        }\n      });\n      return parser;\n    };\n    const autoFocus = editor => {\n      const autoFocus = getAutoFocus(editor);\n      if (autoFocus) {\n        Delay.setEditorTimeout(editor, () => {\n          let focusEditor;\n          if (autoFocus === true) {\n            focusEditor = editor;\n          } else {\n            focusEditor = editor.editorManager.get(autoFocus);\n          }\n          if (!focusEditor.destroyed) {\n            focusEditor.focus();\n          }\n        }, 100);\n      }\n    };\n    const moveSelectionToFirstCaretPosition = editor => {\n      const root = editor.dom.getRoot();\n      if (!editor.inline && (!hasAnyRanges(editor) || editor.selection.getStart(true) === root)) {\n        firstPositionIn(root).each(pos => {\n          const node = pos.getNode();\n          const caretPos = isTable$3(node) ? firstPositionIn(node).getOr(pos) : pos;\n          editor.selection.setRng(caretPos.toRange());\n        });\n      }\n    };\n    const initEditor = editor => {\n      editor.bindPendingEventDelegates();\n      editor.initialized = true;\n      fireInit(editor);\n      editor.focus(true);\n      moveSelectionToFirstCaretPosition(editor);\n      editor.nodeChanged({ initial: true });\n      const initInstanceCallback = getInitInstanceCallback(editor);\n      if (isFunction(initInstanceCallback)) {\n        initInstanceCallback.call(editor, editor);\n      }\n      autoFocus(editor);\n    };\n    const getStyleSheetLoader$1 = editor => editor.inline ? editor.ui.styleSheetLoader : editor.dom.styleSheetLoader;\n    const makeStylesheetLoadingPromises = (editor, css, framedFonts) => {\n      const promises = [getStyleSheetLoader$1(editor).loadAll(css)];\n      if (editor.inline) {\n        return promises;\n      } else {\n        return promises.concat([editor.ui.styleSheetLoader.loadAll(framedFonts)]);\n      }\n    };\n    const loadContentCss = editor => {\n      const styleSheetLoader = getStyleSheetLoader$1(editor);\n      const fontCss = getFontCss(editor);\n      const css = editor.contentCSS;\n      const removeCss = () => {\n        styleSheetLoader.unloadAll(css);\n        if (!editor.inline) {\n          editor.ui.styleSheetLoader.unloadAll(fontCss);\n        }\n      };\n      const loaded = () => {\n        if (editor.removed) {\n          removeCss();\n        } else {\n          editor.on('remove', removeCss);\n        }\n      };\n      if (editor.contentStyles.length > 0) {\n        let contentCssText = '';\n        Tools.each(editor.contentStyles, style => {\n          contentCssText += style + '\\r\\n';\n        });\n        editor.dom.addStyle(contentCssText);\n      }\n      const allStylesheets = Promise.all(makeStylesheetLoadingPromises(editor, css, fontCss)).then(loaded).catch(loaded);\n      const contentStyle = getContentStyle(editor);\n      if (contentStyle) {\n        appendStyle(editor, contentStyle);\n      }\n      return allStylesheets;\n    };\n    const preInit = editor => {\n      const doc = editor.getDoc(), body = editor.getBody();\n      firePreInit(editor);\n      if (!shouldBrowserSpellcheck(editor)) {\n        doc.body.spellcheck = false;\n        DOM$6.setAttrib(body, 'spellcheck', 'false');\n      }\n      editor.quirks = Quirks(editor);\n      firePostRender(editor);\n      const directionality = getDirectionality(editor);\n      if (directionality !== undefined) {\n        body.dir = directionality;\n      }\n      const protect = getProtect(editor);\n      if (protect) {\n        editor.on('BeforeSetContent', e => {\n          Tools.each(protect, pattern => {\n            e.content = e.content.replace(pattern, str => {\n              return '<!--mce:protected ' + escape(str) + '-->';\n            });\n          });\n        });\n      }\n      editor.on('SetContent', () => {\n        editor.addVisual(editor.getBody());\n      });\n      editor.on('compositionstart compositionend', e => {\n        editor.composing = e.type === 'compositionstart';\n      });\n    };\n    const loadInitialContent = editor => {\n      if (!isRtc(editor)) {\n        editor.load({\n          initial: true,\n          format: 'html'\n        });\n      }\n      editor.startContent = editor.getContent({ format: 'raw' });\n    };\n    const initEditorWithInitialContent = editor => {\n      if (editor.removed !== true) {\n        loadInitialContent(editor);\n        initEditor(editor);\n      }\n    };\n    const contentBodyLoaded = editor => {\n      const targetElm = editor.getElement();\n      let doc = editor.getDoc();\n      if (editor.inline) {\n        DOM$6.addClass(targetElm, 'mce-content-body');\n        editor.contentDocument = doc = document;\n        editor.contentWindow = window;\n        editor.bodyElement = targetElm;\n        editor.contentAreaContainer = targetElm;\n      }\n      const body = editor.getBody();\n      body.disabled = true;\n      editor.readonly = isReadOnly$1(editor);\n      if (!editor.readonly) {\n        if (editor.inline && DOM$6.getStyle(body, 'position', true) === 'static') {\n          body.style.position = 'relative';\n        }\n        body.contentEditable = 'true';\n      }\n      body.disabled = false;\n      editor.editorUpload = EditorUpload(editor);\n      editor.schema = Schema(mkSchemaSettings(editor));\n      editor.dom = DOMUtils(doc, {\n        keep_values: true,\n        url_converter: editor.convertURL,\n        url_converter_scope: editor,\n        update_styles: true,\n        root_element: editor.inline ? editor.getBody() : null,\n        collect: () => editor.inline,\n        schema: editor.schema,\n        contentCssCors: shouldUseContentCssCors(editor),\n        referrerPolicy: getReferrerPolicy(editor),\n        onSetAttrib: e => {\n          editor.dispatch('SetAttrib', e);\n        }\n      });\n      editor.parser = createParser(editor);\n      editor.serializer = DomSerializer(mkSerializerSettings(editor), editor);\n      editor.selection = EditorSelection(editor.dom, editor.getWin(), editor.serializer, editor);\n      editor.annotator = Annotator(editor);\n      editor.formatter = Formatter(editor);\n      editor.undoManager = UndoManager(editor);\n      editor._nodeChangeDispatcher = new NodeChange(editor);\n      editor._selectionOverrides = SelectionOverrides(editor);\n      setup$o(editor);\n      setup$6(editor);\n      setup$m(editor);\n      if (!isRtc(editor)) {\n        setup$5(editor);\n        setup$1(editor);\n      }\n      const caret = setup$b(editor);\n      setup$p(editor, caret);\n      setup$n(editor);\n      setup$q(editor);\n      setup$7(editor);\n      const setupRtcThunk = setup$s(editor);\n      preInit(editor);\n      setupRtcThunk.fold(() => {\n        loadContentCss(editor).then(() => initEditorWithInitialContent(editor));\n      }, setupRtc => {\n        editor.setProgressState(true);\n        loadContentCss(editor).then(() => {\n          setupRtc().then(_rtcMode => {\n            editor.setProgressState(false);\n            initEditorWithInitialContent(editor);\n            bindEvents(editor);\n          }, err => {\n            editor.notificationManager.open({\n              type: 'error',\n              text: String(err)\n            });\n            initEditorWithInitialContent(editor);\n            bindEvents(editor);\n          });\n        });\n      });\n    };\n    const initContentBody = (editor, skipWrite) => {\n      if (!editor.inline) {\n        editor.getElement().style.visibility = editor.orgVisibility;\n      }\n      if (!skipWrite && !editor.inline) {\n        const iframe = editor.iframeElement;\n        const binder = bind$1(SugarElement.fromDom(iframe), 'load', () => {\n          binder.unbind();\n          editor.contentDocument = iframe.contentDocument;\n          contentBodyLoaded(editor);\n        });\n        if (Env.browser.isFirefox()) {\n          const doc = editor.getDoc();\n          doc.open();\n          doc.write(editor.iframeHTML);\n          doc.close();\n        } else {\n          iframe.srcdoc = editor.iframeHTML;\n        }\n      } else {\n        contentBodyLoaded(editor);\n      }\n    };\n\n    const DOM$5 = DOMUtils.DOM;\n    const createIframeElement = (id, title, customAttrs, tabindex) => {\n      const iframe = SugarElement.fromTag('iframe');\n      tabindex.each(t => set$2(iframe, 'tabindex', t));\n      setAll$1(iframe, customAttrs);\n      setAll$1(iframe, {\n        id: id + '_ifr',\n        frameBorder: '0',\n        allowTransparency: 'true',\n        title\n      });\n      add$2(iframe, 'tox-edit-area__iframe');\n      return iframe;\n    };\n    const getIframeHtml = editor => {\n      let iframeHTML = getDocType(editor) + '<html><head>';\n      if (getDocumentBaseUrl(editor) !== editor.documentBaseUrl) {\n        iframeHTML += '<base href=\"' + editor.documentBaseURI.getURI() + '\" />';\n      }\n      iframeHTML += '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';\n      const bodyId = getBodyId(editor);\n      const bodyClass = getBodyClass(editor);\n      const translatedAriaText = editor.translate(getIframeAriaText(editor));\n      if (getContentSecurityPolicy(editor)) {\n        iframeHTML += '<meta http-equiv=\"Content-Security-Policy\" content=\"' + getContentSecurityPolicy(editor) + '\" />';\n      }\n      iframeHTML += '</head>' + `<body id=\"${ bodyId }\" class=\"mce-content-body ${ bodyClass }\" data-id=\"${ editor.id }\" aria-label=\"${ translatedAriaText }\">` + '<br>' + '</body></html>';\n      return iframeHTML;\n    };\n    const createIframe = (editor, boxInfo) => {\n      const iframeTitle = editor.translate('Rich Text Area');\n      const tabindex = getOpt(SugarElement.fromDom(editor.getElement()), 'tabindex').bind(toInt);\n      const ifr = createIframeElement(editor.id, iframeTitle, getIframeAttrs(editor), tabindex).dom;\n      ifr.onload = () => {\n        ifr.onload = null;\n        editor.dispatch('load');\n      };\n      editor.contentAreaContainer = boxInfo.iframeContainer;\n      editor.iframeElement = ifr;\n      editor.iframeHTML = getIframeHtml(editor);\n      DOM$5.add(boxInfo.iframeContainer, ifr);\n    };\n    const init$1 = (editor, boxInfo) => {\n      createIframe(editor, boxInfo);\n      if (boxInfo.editorContainer) {\n        DOM$5.get(boxInfo.editorContainer).style.display = editor.orgDisplay;\n        editor.hidden = DOM$5.isHidden(boxInfo.editorContainer);\n      }\n      editor.getElement().style.display = 'none';\n      DOM$5.setAttrib(editor.id, 'aria-hidden', 'true');\n      initContentBody(editor);\n    };\n\n    const DOM$4 = DOMUtils.DOM;\n    const initPlugin = (editor, initializedPlugins, plugin) => {\n      const Plugin = PluginManager.get(plugin);\n      const pluginUrl = PluginManager.urls[plugin] || editor.documentBaseUrl.replace(/\\/$/, '');\n      plugin = Tools.trim(plugin);\n      if (Plugin && Tools.inArray(initializedPlugins, plugin) === -1) {\n        if (editor.plugins[plugin]) {\n          return;\n        }\n        try {\n          const pluginInstance = Plugin(editor, pluginUrl) || {};\n          editor.plugins[plugin] = pluginInstance;\n          if (isFunction(pluginInstance.init)) {\n            pluginInstance.init(editor, pluginUrl);\n            initializedPlugins.push(plugin);\n          }\n        } catch (e) {\n          pluginInitError(editor, plugin, e);\n        }\n      }\n    };\n    const trimLegacyPrefix = name => {\n      return name.replace(/^\\-/, '');\n    };\n    const initPlugins = editor => {\n      const initializedPlugins = [];\n      each$f(getPlugins(editor), name => {\n        initPlugin(editor, initializedPlugins, trimLegacyPrefix(name));\n      });\n    };\n    const initIcons = editor => {\n      const iconPackName = Tools.trim(getIconPackName(editor));\n      const currentIcons = editor.ui.registry.getAll().icons;\n      const loadIcons = {\n        ...IconManager.get('default').icons,\n        ...IconManager.get(iconPackName).icons\n      };\n      each$e(loadIcons, (svgData, icon) => {\n        if (!has$2(currentIcons, icon)) {\n          editor.ui.registry.addIcon(icon, svgData);\n        }\n      });\n    };\n    const initTheme = editor => {\n      const theme = getTheme(editor);\n      if (isString(theme)) {\n        const Theme = ThemeManager.get(theme);\n        editor.theme = Theme(editor, ThemeManager.urls[theme]) || {};\n        if (isFunction(editor.theme.init)) {\n          editor.theme.init(editor, ThemeManager.urls[theme] || editor.documentBaseUrl.replace(/\\/$/, ''));\n        }\n      } else {\n        editor.theme = {};\n      }\n    };\n    const initModel = editor => {\n      const model = getModel(editor);\n      const Model = ModelManager.get(model);\n      editor.model = Model(editor, ModelManager.urls[model]);\n    };\n    const renderFromLoadedTheme = editor => {\n      return editor.theme.renderUI();\n    };\n    const renderFromThemeFunc = editor => {\n      const elm = editor.getElement();\n      const theme = getTheme(editor);\n      const info = theme(editor, elm);\n      if (info.editorContainer.nodeType) {\n        info.editorContainer.id = info.editorContainer.id || editor.id + '_parent';\n      }\n      if (info.iframeContainer && info.iframeContainer.nodeType) {\n        info.iframeContainer.id = info.iframeContainer.id || editor.id + '_iframecontainer';\n      }\n      info.height = info.iframeHeight ? info.iframeHeight : elm.offsetHeight;\n      return info;\n    };\n    const createThemeFalseResult = element => {\n      return {\n        editorContainer: element,\n        iframeContainer: element,\n        api: {}\n      };\n    };\n    const renderThemeFalseIframe = targetElement => {\n      const iframeContainer = DOM$4.create('div');\n      DOM$4.insertAfter(iframeContainer, targetElement);\n      return createThemeFalseResult(iframeContainer);\n    };\n    const renderThemeFalse = editor => {\n      const targetElement = editor.getElement();\n      return editor.inline ? createThemeFalseResult(null) : renderThemeFalseIframe(targetElement);\n    };\n    const renderThemeUi = editor => {\n      const elm = editor.getElement();\n      editor.orgDisplay = elm.style.display;\n      if (isString(getTheme(editor))) {\n        return renderFromLoadedTheme(editor);\n      } else if (isFunction(getTheme(editor))) {\n        return renderFromThemeFunc(editor);\n      } else {\n        return renderThemeFalse(editor);\n      }\n    };\n    const augmentEditorUiApi = (editor, api) => {\n      const uiApiFacade = {\n        show: Optional.from(api.show).getOr(noop),\n        hide: Optional.from(api.hide).getOr(noop),\n        isEnabled: Optional.from(api.isEnabled).getOr(always),\n        setEnabled: state => {\n          if (!editor.mode.isReadOnly()) {\n            Optional.from(api.setEnabled).each(f => f(state));\n          }\n        }\n      };\n      editor.ui = {\n        ...editor.ui,\n        ...uiApiFacade\n      };\n    };\n    const init = editor => {\n      editor.dispatch('ScriptsLoaded');\n      initIcons(editor);\n      initTheme(editor);\n      initModel(editor);\n      initPlugins(editor);\n      const renderInfo = renderThemeUi(editor);\n      augmentEditorUiApi(editor, Optional.from(renderInfo.api).getOr({}));\n      const boxInfo = {\n        editorContainer: renderInfo.editorContainer,\n        iframeContainer: renderInfo.iframeContainer\n      };\n      editor.editorContainer = boxInfo.editorContainer ? boxInfo.editorContainer : null;\n      appendContentCssFromSettings(editor);\n      if (editor.inline) {\n        return initContentBody(editor);\n      } else {\n        return init$1(editor, boxInfo);\n      }\n    };\n\n    const DOM$3 = DOMUtils.DOM;\n    const hasSkipLoadPrefix = name => name.charAt(0) === '-';\n    const loadLanguage = (scriptLoader, editor) => {\n      const languageCode = getLanguageCode(editor);\n      const languageUrl = getLanguageUrl(editor);\n      if (I18n.hasCode(languageCode) === false && languageCode !== 'en') {\n        const url = isNotEmpty(languageUrl) ? languageUrl : `${ editor.editorManager.baseURL }/langs/${ languageCode }.js`;\n        scriptLoader.add(url).catch(() => {\n          languageLoadError(editor, url, languageCode);\n        });\n      }\n    };\n    const loadTheme = (editor, suffix) => {\n      const theme = getTheme(editor);\n      if (isString(theme) && !hasSkipLoadPrefix(theme) && !has$2(ThemeManager.urls, theme)) {\n        const themeUrl = getThemeUrl(editor);\n        const url = themeUrl ? editor.documentBaseURI.toAbsolute(themeUrl) : `themes/${ theme }/theme${ suffix }.js`;\n        ThemeManager.load(theme, url).catch(() => {\n          themeLoadError(editor, url, theme);\n        });\n      }\n    };\n    const loadModel = (editor, suffix) => {\n      const model = getModel(editor);\n      if (model !== 'plugin' && !has$2(ModelManager.urls, model)) {\n        const modelUrl = getModelUrl(editor);\n        const url = isString(modelUrl) ? editor.documentBaseURI.toAbsolute(modelUrl) : `models/${ model }/model${ suffix }.js`;\n        ModelManager.load(model, url).catch(() => {\n          modelLoadError(editor, url, model);\n        });\n      }\n    };\n    const getIconsUrlMetaFromUrl = editor => Optional.from(getIconsUrl(editor)).filter(isNotEmpty).map(url => ({\n      url,\n      name: Optional.none()\n    }));\n    const getIconsUrlMetaFromName = (editor, name, suffix) => Optional.from(name).filter(name => isNotEmpty(name) && !IconManager.has(name)).map(name => ({\n      url: `${ editor.editorManager.baseURL }/icons/${ name }/icons${ suffix }.js`,\n      name: Optional.some(name)\n    }));\n    const loadIcons = (scriptLoader, editor, suffix) => {\n      const defaultIconsUrl = getIconsUrlMetaFromName(editor, 'default', suffix);\n      const customIconsUrl = getIconsUrlMetaFromUrl(editor).orThunk(() => getIconsUrlMetaFromName(editor, getIconPackName(editor), ''));\n      each$f(cat([\n        defaultIconsUrl,\n        customIconsUrl\n      ]), urlMeta => {\n        scriptLoader.add(urlMeta.url).catch(() => {\n          iconsLoadError(editor, urlMeta.url, urlMeta.name.getOrUndefined());\n        });\n      });\n    };\n    const loadPlugins = (editor, suffix) => {\n      const loadPlugin = (name, url) => {\n        PluginManager.load(name, url).catch(() => {\n          pluginLoadError(editor, url, name);\n        });\n      };\n      each$e(getExternalPlugins$1(editor), (url, name) => {\n        loadPlugin(name, url);\n        editor.options.set('plugins', getPlugins(editor).concat(name));\n      });\n      each$f(getPlugins(editor), plugin => {\n        plugin = Tools.trim(plugin);\n        if (plugin && !PluginManager.urls[plugin] && !hasSkipLoadPrefix(plugin)) {\n          loadPlugin(plugin, `plugins/${ plugin }/plugin${ suffix }.js`);\n        }\n      });\n    };\n    const isThemeLoaded = editor => {\n      const theme = getTheme(editor);\n      return !isString(theme) || isNonNullable(ThemeManager.get(theme));\n    };\n    const isModelLoaded = editor => {\n      const model = getModel(editor);\n      return isNonNullable(ModelManager.get(model));\n    };\n    const loadScripts = (editor, suffix) => {\n      const scriptLoader = ScriptLoader.ScriptLoader;\n      const initEditor = () => {\n        if (!editor.removed && isThemeLoaded(editor) && isModelLoaded(editor)) {\n          init(editor);\n        }\n      };\n      loadTheme(editor, suffix);\n      loadModel(editor, suffix);\n      loadLanguage(scriptLoader, editor);\n      loadIcons(scriptLoader, editor, suffix);\n      loadPlugins(editor, suffix);\n      scriptLoader.loadQueue().then(initEditor, initEditor);\n    };\n    const getStyleSheetLoader = (element, editor) => instance.forElement(element, {\n      contentCssCors: hasContentCssCors(editor),\n      referrerPolicy: getReferrerPolicy(editor)\n    });\n    const render = editor => {\n      const id = editor.id;\n      I18n.setCode(getLanguageCode(editor));\n      const readyHandler = () => {\n        DOM$3.unbind(window, 'ready', readyHandler);\n        editor.render();\n      };\n      if (!EventUtils.Event.domLoaded) {\n        DOM$3.bind(window, 'ready', readyHandler);\n        return;\n      }\n      if (!editor.getElement()) {\n        return;\n      }\n      const element = SugarElement.fromDom(editor.getElement());\n      const snapshot = clone$4(element);\n      editor.on('remove', () => {\n        eachr(element.dom.attributes, attr => remove$b(element, attr.name));\n        setAll$1(element, snapshot);\n      });\n      editor.ui.styleSheetLoader = getStyleSheetLoader(element, editor);\n      if (!isInline(editor)) {\n        editor.orgVisibility = editor.getElement().style.visibility;\n        editor.getElement().style.visibility = 'hidden';\n      } else {\n        editor.inline = true;\n      }\n      const form = editor.getElement().form || DOM$3.getParent(id, 'form');\n      if (form) {\n        editor.formElement = form;\n        if (hasHiddenInput(editor) && !isTextareaOrInput(editor.getElement())) {\n          DOM$3.insertAfter(DOM$3.create('input', {\n            type: 'hidden',\n            name: id\n          }), id);\n          editor.hasHiddenInput = true;\n        }\n        editor.formEventDelegate = e => {\n          editor.dispatch(e.type, e);\n        };\n        DOM$3.bind(form, 'submit reset', editor.formEventDelegate);\n        editor.on('reset', () => {\n          editor.resetContent();\n        });\n        if (shouldPatchSubmit(editor) && !form.submit.nodeType && !form.submit.length && !form._mceOldSubmit) {\n          form._mceOldSubmit = form.submit;\n          form.submit = () => {\n            editor.editorManager.triggerSave();\n            editor.setDirty(false);\n            return form._mceOldSubmit(form);\n          };\n        }\n      }\n      editor.windowManager = WindowManager(editor);\n      editor.notificationManager = NotificationManager(editor);\n      if (isEncodingXml(editor)) {\n        editor.on('GetContent', e => {\n          if (e.save) {\n            e.content = DOM$3.encode(e.content);\n          }\n        });\n      }\n      if (shouldAddFormSubmitTrigger(editor)) {\n        editor.on('submit', () => {\n          if (editor.initialized) {\n            editor.save();\n          }\n        });\n      }\n      if (shouldAddUnloadTrigger(editor)) {\n        editor._beforeUnload = () => {\n          if (editor.initialized && !editor.destroyed && !editor.isHidden()) {\n            editor.save({\n              format: 'raw',\n              no_events: true,\n              set_dirty: false\n            });\n          }\n        };\n        editor.editorManager.on('BeforeUnload', editor._beforeUnload);\n      }\n      editor.editorManager.add(editor);\n      loadScripts(editor, editor.suffix);\n    };\n\n    const sectionResult = (sections, settings) => ({\n      sections: constant(sections),\n      options: constant(settings)\n    });\n    const deviceDetection = detect$2().deviceType;\n    const isPhone = deviceDetection.isPhone();\n    const isTablet = deviceDetection.isTablet();\n    const normalizePlugins = plugins => {\n      if (isNullable(plugins)) {\n        return [];\n      } else {\n        const pluginNames = isArray$1(plugins) ? plugins : plugins.split(/[ ,]/);\n        const trimmedPlugins = map$3(pluginNames, trim$3);\n        return filter$6(trimmedPlugins, isNotEmpty);\n      }\n    };\n    const extractSections = (keys, options) => {\n      const result = bifilter(options, (value, key) => {\n        return contains$2(keys, key);\n      });\n      return sectionResult(result.t, result.f);\n    };\n    const getSection = (sectionResult, name, defaults = {}) => {\n      const sections = sectionResult.sections();\n      const sectionOptions = get$a(sections, name).getOr({});\n      return Tools.extend({}, defaults, sectionOptions);\n    };\n    const hasSection = (sectionResult, name) => {\n      return has$2(sectionResult.sections(), name);\n    };\n    const getSectionConfig = (sectionResult, name) => {\n      return hasSection(sectionResult, name) ? sectionResult.sections()[name] : {};\n    };\n    const getMobileOverrideOptions = (mobileOptions, isPhone) => {\n      const defaultMobileOptions = {\n        table_grid: false,\n        object_resizing: false,\n        resize: false,\n        toolbar_mode: get$a(mobileOptions, 'toolbar_mode').getOr('scrolling'),\n        toolbar_sticky: false\n      };\n      const defaultPhoneOptions = { menubar: false };\n      return {\n        ...defaultMobileOptions,\n        ...isPhone ? defaultPhoneOptions : {}\n      };\n    };\n    const getExternalPlugins = (overrideOptions, options) => {\n      var _a;\n      const userDefinedExternalPlugins = (_a = options.external_plugins) !== null && _a !== void 0 ? _a : {};\n      if (overrideOptions && overrideOptions.external_plugins) {\n        return Tools.extend({}, overrideOptions.external_plugins, userDefinedExternalPlugins);\n      } else {\n        return userDefinedExternalPlugins;\n      }\n    };\n    const combinePlugins = (forcedPlugins, plugins) => {\n      return [].concat(normalizePlugins(forcedPlugins)).concat(normalizePlugins(plugins));\n    };\n    const getPlatformPlugins = (isMobileDevice, sectionResult, desktopPlugins, mobilePlugins) => {\n      if (isMobileDevice && hasSection(sectionResult, 'mobile')) {\n        return mobilePlugins;\n      } else {\n        return desktopPlugins;\n      }\n    };\n    const processPlugins = (isMobileDevice, sectionResult, defaultOverrideOptions, options) => {\n      const forcedPlugins = normalizePlugins(defaultOverrideOptions.forced_plugins);\n      const desktopPlugins = normalizePlugins(options.plugins);\n      const mobileConfig = getSectionConfig(sectionResult, 'mobile');\n      const mobilePlugins = mobileConfig.plugins ? normalizePlugins(mobileConfig.plugins) : desktopPlugins;\n      const platformPlugins = getPlatformPlugins(isMobileDevice, sectionResult, desktopPlugins, mobilePlugins);\n      const combinedPlugins = combinePlugins(forcedPlugins, platformPlugins);\n      return Tools.extend(options, {\n        forced_plugins: forcedPlugins,\n        plugins: combinedPlugins\n      });\n    };\n    const isOnMobile = (isMobileDevice, sectionResult) => {\n      return isMobileDevice && hasSection(sectionResult, 'mobile');\n    };\n    const combineOptions = (isMobileDevice, isPhone, defaultOptions, defaultOverrideOptions, options) => {\n      var _a;\n      const deviceOverrideOptions = isMobileDevice ? { mobile: getMobileOverrideOptions((_a = options.mobile) !== null && _a !== void 0 ? _a : {}, isPhone) } : {};\n      const sectionResult = extractSections(['mobile'], deepMerge(deviceOverrideOptions, options));\n      const extendedOptions = Tools.extend(defaultOptions, defaultOverrideOptions, sectionResult.options(), isOnMobile(isMobileDevice, sectionResult) ? getSection(sectionResult, 'mobile') : {}, { external_plugins: getExternalPlugins(defaultOverrideOptions, sectionResult.options()) });\n      return processPlugins(isMobileDevice, sectionResult, defaultOverrideOptions, extendedOptions);\n    };\n    const normalizeOptions = (defaultOverrideOptions, options) => combineOptions(isPhone || isTablet, isPhone, options, defaultOverrideOptions, options);\n\n    const addVisual = (editor, elm) => addVisual$1(editor, elm);\n\n    const registerExecCommands$3 = editor => {\n      const toggleFormat = (name, value) => {\n        editor.formatter.toggle(name, value);\n        editor.nodeChanged();\n      };\n      const toggleAlign = align => () => {\n        each$f('left,center,right,justify'.split(','), name => {\n          if (align !== name) {\n            editor.formatter.remove('align' + name);\n          }\n        });\n        if (align !== 'none') {\n          toggleFormat('align' + align);\n        }\n      };\n      editor.editorCommands.addCommands({\n        JustifyLeft: toggleAlign('left'),\n        JustifyCenter: toggleAlign('center'),\n        JustifyRight: toggleAlign('right'),\n        JustifyFull: toggleAlign('justify'),\n        JustifyNone: toggleAlign('none')\n      });\n    };\n    const registerQueryStateCommands$1 = editor => {\n      const alignStates = name => () => {\n        const selection = editor.selection;\n        const nodes = selection.isCollapsed() ? [editor.dom.getParent(selection.getNode(), editor.dom.isBlock)] : selection.getSelectedBlocks();\n        return exists(nodes, node => isNonNullable(editor.formatter.matchNode(node, name)));\n      };\n      editor.editorCommands.addCommands({\n        JustifyLeft: alignStates('alignleft'),\n        JustifyCenter: alignStates('aligncenter'),\n        JustifyRight: alignStates('alignright'),\n        JustifyFull: alignStates('alignjustify')\n      }, 'state');\n    };\n    const registerCommands$a = editor => {\n      registerExecCommands$3(editor);\n      registerQueryStateCommands$1(editor);\n    };\n\n    const registerCommands$9 = editor => {\n      editor.editorCommands.addCommands({\n        'Cut,Copy,Paste': command => {\n          const doc = editor.getDoc();\n          let failed;\n          try {\n            doc.execCommand(command);\n          } catch (ex) {\n            failed = true;\n          }\n          if (command === 'paste' && !doc.queryCommandEnabled(command)) {\n            failed = true;\n          }\n          if (failed || !doc.queryCommandSupported(command)) {\n            let msg = editor.translate(`Your browser doesn't support direct access to the clipboard. ` + 'Please use the Ctrl+X/C/V keyboard shortcuts instead.');\n            if (Env.os.isMacOS() || Env.os.isiOS()) {\n              msg = msg.replace(/Ctrl\\+/g, '\\u2318+');\n            }\n            editor.notificationManager.open({\n              text: msg,\n              type: 'error'\n            });\n          }\n        }\n      });\n    };\n\n    const trimOrPadLeftRight = (dom, rng, html) => {\n      const root = SugarElement.fromDom(dom.getRoot());\n      if (needsToBeNbspLeft(root, CaretPosition.fromRangeStart(rng))) {\n        html = html.replace(/^ /, '&nbsp;');\n      } else {\n        html = html.replace(/^&nbsp;/, ' ');\n      }\n      if (needsToBeNbspRight(root, CaretPosition.fromRangeEnd(rng))) {\n        html = html.replace(/(&nbsp;| )(<br( \\/)>)?$/, '&nbsp;');\n      } else {\n        html = html.replace(/&nbsp;(<br( \\/)?>)?$/, ' ');\n      }\n      return html;\n    };\n\n    const processValue$1 = value => {\n      if (typeof value !== 'string') {\n        const details = Tools.extend({\n          paste: value.paste,\n          data: { paste: value.paste }\n        }, value);\n        return {\n          content: value.content,\n          details\n        };\n      }\n      return {\n        content: value,\n        details: {}\n      };\n    };\n    const trimOrPad = (editor, value) => {\n      const selection = editor.selection;\n      const dom = editor.dom;\n      if (/^ | $/.test(value)) {\n        return trimOrPadLeftRight(dom, selection.getRng(), value);\n      } else {\n        return value;\n      }\n    };\n    const insertAtCaret = (editor, value) => {\n      const {content, details} = processValue$1(value);\n      preProcessSetContent(editor, {\n        content: trimOrPad(editor, content),\n        format: 'html',\n        set: false,\n        selection: true,\n        paste: details.paste\n      }).each(args => {\n        const insertedContent = insertContent$1(editor, args.content, details);\n        postProcessSetContent(editor, insertedContent, args);\n        editor.addVisual();\n      });\n    };\n\n    const registerCommands$8 = editor => {\n      editor.editorCommands.addCommands({\n        mceCleanup: () => {\n          const bm = editor.selection.getBookmark();\n          editor.setContent(editor.getContent());\n          editor.selection.moveToBookmark(bm);\n        },\n        insertImage: (_command, _ui, value) => {\n          insertAtCaret(editor, editor.dom.createHTML('img', { src: value }));\n        },\n        insertHorizontalRule: () => {\n          editor.execCommand('mceInsertContent', false, '<hr>');\n        },\n        insertText: (_command, _ui, value) => {\n          insertAtCaret(editor, editor.dom.encode(value));\n        },\n        insertHTML: (_command, _ui, value) => {\n          insertAtCaret(editor, value);\n        },\n        mceInsertContent: (_command, _ui, value) => {\n          insertAtCaret(editor, value);\n        },\n        mceSetContent: (_command, _ui, value) => {\n          editor.setContent(value);\n        },\n        mceReplaceContent: (_command, _ui, value) => {\n          editor.execCommand('mceInsertContent', false, value.replace(/\\{\\$selection\\}/g, editor.selection.getContent({ format: 'text' })));\n        },\n        mceNewDocument: () => {\n          editor.setContent('');\n        }\n      });\n    };\n\n    const legacyPropNames = {\n      'font-size': 'size',\n      'font-family': 'face'\n    };\n    const getSpecifiedFontProp = (propName, rootElm, elm) => {\n      const getProperty = elm => getRaw$1(elm, propName).orThunk(() => {\n        if (name(elm) === 'font') {\n          return get$a(legacyPropNames, propName).bind(legacyPropName => getOpt(elm, legacyPropName));\n        } else {\n          return Optional.none();\n        }\n      });\n      const isRoot = elm => eq(SugarElement.fromDom(rootElm), elm);\n      return closest$2(SugarElement.fromDom(elm), elm => getProperty(elm), isRoot);\n    };\n    const normalizeFontFamily = fontFamily => fontFamily.replace(/[\\'\\\"\\\\]/g, '').replace(/,\\s+/g, ',');\n    const getComputedFontProp = (propName, elm) => Optional.from(DOMUtils.DOM.getStyle(elm, propName, true));\n    const getFontProp = propName => (rootElm, elm) => Optional.from(elm).map(SugarElement.fromDom).filter(isElement$7).bind(element => getSpecifiedFontProp(propName, rootElm, element.dom).or(getComputedFontProp(propName, element.dom))).getOr('');\n    const getFontSize = getFontProp('font-size');\n    const getFontFamily = compose(normalizeFontFamily, getFontProp('font-family'));\n\n    const findFirstCaretElement = editor => firstPositionIn(editor.getBody()).map(caret => {\n      const container = caret.container();\n      return isText$9(container) ? container.parentNode : container;\n    });\n    const getCaretElement = editor => Optional.from(editor.selection.getRng()).bind(rng => {\n      const root = editor.getBody();\n      const atStartOfNode = rng.startContainer === root && rng.startOffset === 0;\n      return atStartOfNode ? Optional.none() : Optional.from(editor.selection.getStart(true));\n    });\n    const bindRange = (editor, binder) => getCaretElement(editor).orThunk(curry(findFirstCaretElement, editor)).map(SugarElement.fromDom).filter(isElement$7).bind(binder);\n    const mapRange = (editor, mapper) => bindRange(editor, compose1(Optional.some, mapper));\n\n    const fromFontSizeNumber = (editor, value) => {\n      if (/^[0-9.]+$/.test(value)) {\n        const fontSizeNumber = parseInt(value, 10);\n        if (fontSizeNumber >= 1 && fontSizeNumber <= 7) {\n          const fontSizes = getFontStyleValues(editor);\n          const fontClasses = getFontSizeClasses(editor);\n          if (fontClasses) {\n            return fontClasses[fontSizeNumber - 1] || value;\n          } else {\n            return fontSizes[fontSizeNumber - 1] || value;\n          }\n        } else {\n          return value;\n        }\n      } else {\n        return value;\n      }\n    };\n    const normalizeFontNames = font => {\n      const fonts = font.split(/\\s*,\\s*/);\n      return map$3(fonts, font => {\n        if (font.indexOf(' ') !== -1 && !(startsWith(font, '\"') || startsWith(font, `'`))) {\n          return `'${ font }'`;\n        } else {\n          return font;\n        }\n      }).join(',');\n    };\n    const fontNameAction = (editor, value) => {\n      const font = fromFontSizeNumber(editor, value);\n      editor.formatter.toggle('fontname', { value: normalizeFontNames(font) });\n      editor.nodeChanged();\n    };\n    const fontNameQuery = editor => mapRange(editor, elm => getFontFamily(editor.getBody(), elm.dom)).getOr('');\n    const fontSizeAction = (editor, value) => {\n      editor.formatter.toggle('fontsize', { value: fromFontSizeNumber(editor, value) });\n      editor.nodeChanged();\n    };\n    const fontSizeQuery = editor => mapRange(editor, elm => getFontSize(editor.getBody(), elm.dom)).getOr('');\n\n    const lineHeightQuery = editor => mapRange(editor, elm => {\n      const root = SugarElement.fromDom(editor.getBody());\n      const specifiedStyle = closest$2(elm, elm => getRaw$1(elm, 'line-height'), curry(eq, root));\n      const computedStyle = () => {\n        const lineHeight = parseFloat(get$7(elm, 'line-height'));\n        const fontSize = parseFloat(get$7(elm, 'font-size'));\n        return String(lineHeight / fontSize);\n      };\n      return specifiedStyle.getOrThunk(computedStyle);\n    }).getOr('');\n    const lineHeightAction = (editor, lineHeight) => {\n      editor.formatter.toggle('lineheight', { value: String(lineHeight) });\n      editor.nodeChanged();\n    };\n\n    const registerExecCommands$2 = editor => {\n      const toggleFormat = (name, value) => {\n        editor.formatter.toggle(name, value);\n        editor.nodeChanged();\n      };\n      editor.editorCommands.addCommands({\n        'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': command => {\n          toggleFormat(command);\n        },\n        'ForeColor,HiliteColor': (command, _ui, value) => {\n          toggleFormat(command, { value });\n        },\n        'BackColor': (_command, _ui, value) => {\n          toggleFormat('hilitecolor', { value });\n        },\n        'FontName': (_command, _ui, value) => {\n          fontNameAction(editor, value);\n        },\n        'FontSize': (_command, _ui, value) => {\n          fontSizeAction(editor, value);\n        },\n        'LineHeight': (_command, _ui, value) => {\n          lineHeightAction(editor, value);\n        },\n        'Lang': (command, _ui, lang) => {\n          toggleFormat(command, {\n            value: lang.code,\n            customValue: lang.customCode\n          });\n        },\n        'RemoveFormat': command => {\n          editor.formatter.remove(command);\n        },\n        'mceBlockQuote': () => {\n          toggleFormat('blockquote');\n        },\n        'FormatBlock': (_command, _ui, value) => {\n          toggleFormat(isString(value) ? value : 'p');\n        },\n        'mceToggleFormat': (_command, _ui, value) => {\n          toggleFormat(value);\n        }\n      });\n    };\n    const registerQueryValueCommands = editor => {\n      const isFormatMatch = name => editor.formatter.match(name);\n      editor.editorCommands.addCommands({\n        'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': command => isFormatMatch(command),\n        'mceBlockQuote': () => isFormatMatch('blockquote')\n      }, 'state');\n      editor.editorCommands.addQueryValueHandler('FontName', () => fontNameQuery(editor));\n      editor.editorCommands.addQueryValueHandler('FontSize', () => fontSizeQuery(editor));\n      editor.editorCommands.addQueryValueHandler('LineHeight', () => lineHeightQuery(editor));\n    };\n    const registerCommands$7 = editor => {\n      registerExecCommands$2(editor);\n      registerQueryValueCommands(editor);\n    };\n\n    const registerCommands$6 = editor => {\n      editor.editorCommands.addCommands({\n        mceAddUndoLevel: () => {\n          editor.undoManager.add();\n        },\n        mceEndUndoLevel: () => {\n          editor.undoManager.add();\n        },\n        Undo: () => {\n          editor.undoManager.undo();\n        },\n        Redo: () => {\n          editor.undoManager.redo();\n        }\n      });\n    };\n\n    const registerCommands$5 = editor => {\n      editor.editorCommands.addCommands({\n        Indent: () => {\n          indent(editor);\n        },\n        Outdent: () => {\n          outdent(editor);\n        }\n      });\n      editor.editorCommands.addCommands({ Outdent: () => canOutdent(editor) }, 'state');\n    };\n\n    const registerCommands$4 = editor => {\n      const applyLinkToSelection = (_command, _ui, value) => {\n        const linkDetails = isString(value) ? { href: value } : value;\n        const anchor = editor.dom.getParent(editor.selection.getNode(), 'a');\n        if (isObject(linkDetails) && isString(linkDetails.href)) {\n          linkDetails.href = linkDetails.href.replace(/ /g, '%20');\n          if (!anchor || !linkDetails.href) {\n            editor.formatter.remove('link');\n          }\n          if (linkDetails.href) {\n            editor.formatter.apply('link', linkDetails, anchor);\n          }\n        }\n      };\n      editor.editorCommands.addCommands({\n        unlink: () => {\n          if (editor.selection.isCollapsed()) {\n            const elm = editor.dom.getParent(editor.selection.getStart(), 'a');\n            if (elm) {\n              editor.dom.remove(elm, true);\n            }\n            return;\n          }\n          editor.formatter.remove('link');\n        },\n        mceInsertLink: applyLinkToSelection,\n        createLink: applyLinkToSelection\n      });\n    };\n\n    const registerExecCommands$1 = editor => {\n      editor.editorCommands.addCommands({\n        'InsertUnorderedList,InsertOrderedList': command => {\n          editor.getDoc().execCommand(command);\n          const listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');\n          if (listElm) {\n            const listParent = listElm.parentNode;\n            if (/^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)) {\n              const bm = editor.selection.getBookmark();\n              editor.dom.split(listParent, listElm);\n              editor.selection.moveToBookmark(bm);\n            }\n          }\n        }\n      });\n    };\n    const registerQueryStateCommands = editor => {\n      editor.editorCommands.addCommands({\n        'InsertUnorderedList,InsertOrderedList': command => {\n          const list = editor.dom.getParent(editor.selection.getNode(), 'ul,ol');\n          return list && (command === 'insertunorderedlist' && list.tagName === 'UL' || command === 'insertorderedlist' && list.tagName === 'OL');\n        }\n      }, 'state');\n    };\n    const registerCommands$3 = editor => {\n      registerExecCommands$1(editor);\n      registerQueryStateCommands(editor);\n    };\n\n    const registerCommands$2 = editor => {\n      editor.editorCommands.addCommands({\n        insertParagraph: () => {\n          insertBreak(blockbreak, editor);\n        },\n        mceInsertNewLine: (_command, _ui, value) => {\n          insert(editor, value);\n        },\n        InsertLineBreak: (_command, _ui, _value) => {\n          insertBreak(linebreak, editor);\n        }\n      });\n    };\n\n    const registerCommands$1 = editor => {\n      editor.editorCommands.addCommands({\n        mceSelectNodeDepth: (_command, _ui, value) => {\n          let counter = 0;\n          editor.dom.getParent(editor.selection.getNode(), node => {\n            if (node.nodeType === 1 && counter++ === value) {\n              editor.selection.select(node);\n              return false;\n            }\n          }, editor.getBody());\n        },\n        mceSelectNode: (_command, _ui, value) => {\n          editor.selection.select(value);\n        },\n        selectAll: () => {\n          const editingHost = editor.dom.getParent(editor.selection.getStart(), isContentEditableTrue$5);\n          if (editingHost) {\n            const rng = editor.dom.createRng();\n            rng.selectNodeContents(editingHost);\n            editor.selection.setRng(rng);\n          }\n        }\n      });\n    };\n\n    const registerExecCommands = editor => {\n      editor.editorCommands.addCommands({\n        mceRemoveNode: (_command, _ui, value) => {\n          const node = value !== null && value !== void 0 ? value : editor.selection.getNode();\n          if (node !== editor.getBody()) {\n            const bm = editor.selection.getBookmark();\n            editor.dom.remove(node, true);\n            editor.selection.moveToBookmark(bm);\n          }\n        },\n        mcePrint: () => {\n          editor.getWin().print();\n        },\n        mceFocus: (_command, _ui, value) => {\n          focus(editor, value);\n        },\n        mceToggleVisualAid: () => {\n          editor.hasVisual = !editor.hasVisual;\n          editor.addVisual();\n        }\n      });\n    };\n    const registerCommands = editor => {\n      registerCommands$a(editor);\n      registerCommands$9(editor);\n      registerCommands$6(editor);\n      registerCommands$1(editor);\n      registerCommands$8(editor);\n      registerCommands$4(editor);\n      registerCommands$5(editor);\n      registerCommands$2(editor);\n      registerCommands$3(editor);\n      registerCommands$7(editor);\n      registerExecCommands(editor);\n    };\n\n    class EditorCommands {\n      constructor(editor) {\n        this.commands = {\n          state: {},\n          exec: {},\n          value: {}\n        };\n        this.editor = editor;\n      }\n      execCommand(command, ui, value, args) {\n        const editor = this.editor;\n        const lowerCaseCommand = command.toLowerCase();\n        const skipFocus = args === null || args === void 0 ? void 0 : args.skip_focus;\n        if (editor.removed) {\n          return false;\n        }\n        if (lowerCaseCommand !== 'mcefocus') {\n          if (!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(lowerCaseCommand) && !skipFocus) {\n            editor.focus();\n          } else {\n            restore(editor);\n          }\n        }\n        const eventArgs = editor.dispatch('BeforeExecCommand', {\n          command,\n          ui,\n          value\n        });\n        if (eventArgs.isDefaultPrevented()) {\n          return false;\n        }\n        const func = this.commands.exec[lowerCaseCommand];\n        if (isFunction(func)) {\n          func(lowerCaseCommand, ui, value);\n          editor.dispatch('ExecCommand', {\n            command,\n            ui,\n            value\n          });\n          return true;\n        }\n        return false;\n      }\n      queryCommandState(command) {\n        if (this.editor.quirks.isHidden() || this.editor.removed) {\n          return false;\n        }\n        const lowerCaseCommand = command.toLowerCase();\n        const func = this.commands.state[lowerCaseCommand];\n        if (isFunction(func)) {\n          return func(lowerCaseCommand);\n        }\n        return false;\n      }\n      queryCommandValue(command) {\n        if (this.editor.quirks.isHidden() || this.editor.removed) {\n          return '';\n        }\n        const lowerCaseCommand = command.toLowerCase();\n        const func = this.commands.value[lowerCaseCommand];\n        if (isFunction(func)) {\n          return func(lowerCaseCommand);\n        }\n        return '';\n      }\n      addCommands(commandList, type = 'exec') {\n        const commands = this.commands;\n        each$e(commandList, (callback, command) => {\n          each$f(command.toLowerCase().split(','), command => {\n            commands[type][command] = callback;\n          });\n        });\n      }\n      addCommand(command, callback, scope) {\n        const lowerCaseCommand = command.toLowerCase();\n        this.commands.exec[lowerCaseCommand] = (_command, ui, value) => callback.call(scope !== null && scope !== void 0 ? scope : this.editor, ui, value);\n      }\n      queryCommandSupported(command) {\n        const lowerCaseCommand = command.toLowerCase();\n        if (this.commands.exec[lowerCaseCommand]) {\n          return true;\n        }\n        return false;\n      }\n      addQueryStateHandler(command, callback, scope) {\n        this.commands.state[command.toLowerCase()] = () => callback.call(scope !== null && scope !== void 0 ? scope : this.editor);\n      }\n      addQueryValueHandler(command, callback, scope) {\n        this.commands.value[command.toLowerCase()] = () => callback.call(scope !== null && scope !== void 0 ? scope : this.editor);\n      }\n    }\n\n    const internalContentEditableAttr = 'data-mce-contenteditable';\n    const toggleClass = (elm, cls, state) => {\n      if (has(elm, cls) && state === false) {\n        remove$8(elm, cls);\n      } else if (state) {\n        add$2(elm, cls);\n      }\n    };\n    const setEditorCommandState = (editor, cmd, state) => {\n      try {\n        editor.getDoc().execCommand(cmd, false, String(state));\n      } catch (ex) {\n      }\n    };\n    const setContentEditable = (elm, state) => {\n      elm.dom.contentEditable = state ? 'true' : 'false';\n    };\n    const switchOffContentEditableTrue = elm => {\n      each$f(descendants(elm, '*[contenteditable=\"true\"]'), elm => {\n        set$2(elm, internalContentEditableAttr, 'true');\n        setContentEditable(elm, false);\n      });\n    };\n    const switchOnContentEditableTrue = elm => {\n      each$f(descendants(elm, `*[${ internalContentEditableAttr }=\"true\"]`), elm => {\n        remove$b(elm, internalContentEditableAttr);\n        setContentEditable(elm, true);\n      });\n    };\n    const removeFakeSelection = editor => {\n      Optional.from(editor.selection.getNode()).each(elm => {\n        elm.removeAttribute('data-mce-selected');\n      });\n    };\n    const restoreFakeSelection = editor => {\n      editor.selection.setRng(editor.selection.getRng());\n    };\n    const toggleReadOnly = (editor, state) => {\n      const body = SugarElement.fromDom(editor.getBody());\n      toggleClass(body, 'mce-content-readonly', state);\n      if (state) {\n        editor.selection.controlSelection.hideResizeRect();\n        editor._selectionOverrides.hideFakeCaret();\n        removeFakeSelection(editor);\n        editor.readonly = true;\n        setContentEditable(body, false);\n        switchOffContentEditableTrue(body);\n      } else {\n        editor.readonly = false;\n        setContentEditable(body, true);\n        switchOnContentEditableTrue(body);\n        setEditorCommandState(editor, 'StyleWithCSS', false);\n        setEditorCommandState(editor, 'enableInlineTableEditing', false);\n        setEditorCommandState(editor, 'enableObjectResizing', false);\n        if (hasEditorOrUiFocus(editor)) {\n          editor.focus();\n        }\n        restoreFakeSelection(editor);\n        editor.nodeChanged();\n      }\n    };\n    const isReadOnly = editor => editor.readonly;\n    const registerFilters = editor => {\n      editor.parser.addAttributeFilter('contenteditable', nodes => {\n        if (isReadOnly(editor)) {\n          each$f(nodes, node => {\n            node.attr(internalContentEditableAttr, node.attr('contenteditable'));\n            node.attr('contenteditable', 'false');\n          });\n        }\n      });\n      editor.serializer.addAttributeFilter(internalContentEditableAttr, nodes => {\n        if (isReadOnly(editor)) {\n          each$f(nodes, node => {\n            node.attr('contenteditable', node.attr(internalContentEditableAttr));\n          });\n        }\n      });\n      editor.serializer.addTempAttr(internalContentEditableAttr);\n    };\n    const registerReadOnlyContentFilters = editor => {\n      if (editor.serializer) {\n        registerFilters(editor);\n      } else {\n        editor.on('PreInit', () => {\n          registerFilters(editor);\n        });\n      }\n    };\n    const isClickEvent = e => e.type === 'click';\n    const allowedEvents = ['copy'];\n    const isReadOnlyAllowedEvent = e => contains$2(allowedEvents, e.type);\n    const getAnchorHrefOpt = (editor, elm) => {\n      const isRoot = elm => eq(elm, SugarElement.fromDom(editor.getBody()));\n      return closest$3(elm, 'a', isRoot).bind(a => getOpt(a, 'href'));\n    };\n    const processReadonlyEvents = (editor, e) => {\n      if (isClickEvent(e) && !VK.metaKeyPressed(e)) {\n        const elm = SugarElement.fromDom(e.target);\n        getAnchorHrefOpt(editor, elm).each(href => {\n          e.preventDefault();\n          if (/^#/.test(href)) {\n            const targetEl = editor.dom.select(`${ href },[name=\"${ removeLeading(href, '#') }\"]`);\n            if (targetEl.length) {\n              editor.selection.scrollIntoView(targetEl[0], true);\n            }\n          } else {\n            window.open(href, '_blank', 'rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes');\n          }\n        });\n      } else if (isReadOnlyAllowedEvent(e)) {\n        editor.dispatch(e.type, e);\n      }\n    };\n    const registerReadOnlySelectionBlockers = editor => {\n      editor.on('ShowCaret', e => {\n        if (isReadOnly(editor)) {\n          e.preventDefault();\n        }\n      });\n      editor.on('ObjectSelected', e => {\n        if (isReadOnly(editor)) {\n          e.preventDefault();\n        }\n      });\n    };\n\n    const nativeEvents = Tools.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange ' + 'mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover ' + 'draggesture dragdrop drop drag submit ' + 'compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel', ' ');\n    class EventDispatcher {\n      constructor(settings) {\n        this.bindings = {};\n        this.settings = settings || {};\n        this.scope = this.settings.scope || this;\n        this.toggleEvent = this.settings.toggleEvent || never;\n      }\n      static isNative(name) {\n        return !!nativeEvents[name.toLowerCase()];\n      }\n      fire(name, args) {\n        return this.dispatch(name, args);\n      }\n      dispatch(name, args) {\n        const lcName = name.toLowerCase();\n        const event = normalize$3(lcName, args !== null && args !== void 0 ? args : {}, this.scope);\n        if (this.settings.beforeFire) {\n          this.settings.beforeFire(event);\n        }\n        const handlers = this.bindings[lcName];\n        if (handlers) {\n          for (let i = 0, l = handlers.length; i < l; i++) {\n            const callback = handlers[i];\n            if (callback.removed) {\n              continue;\n            }\n            if (callback.once) {\n              this.off(lcName, callback.func);\n            }\n            if (event.isImmediatePropagationStopped()) {\n              return event;\n            }\n            if (callback.func.call(this.scope, event) === false) {\n              event.preventDefault();\n              return event;\n            }\n          }\n        }\n        return event;\n      }\n      on(name, callback, prepend, extra) {\n        if (callback === false) {\n          callback = never;\n        }\n        if (callback) {\n          const wrappedCallback = {\n            func: callback,\n            removed: false\n          };\n          if (extra) {\n            Tools.extend(wrappedCallback, extra);\n          }\n          const names = name.toLowerCase().split(' ');\n          let i = names.length;\n          while (i--) {\n            const currentName = names[i];\n            let handlers = this.bindings[currentName];\n            if (!handlers) {\n              handlers = [];\n              this.toggleEvent(currentName, true);\n            }\n            if (prepend) {\n              handlers = [\n                wrappedCallback,\n                ...handlers\n              ];\n            } else {\n              handlers = [\n                ...handlers,\n                wrappedCallback\n              ];\n            }\n            this.bindings[currentName] = handlers;\n          }\n        }\n        return this;\n      }\n      off(name, callback) {\n        if (name) {\n          const names = name.toLowerCase().split(' ');\n          let i = names.length;\n          while (i--) {\n            const currentName = names[i];\n            let handlers = this.bindings[currentName];\n            if (!currentName) {\n              each$e(this.bindings, (_value, bindingName) => {\n                this.toggleEvent(bindingName, false);\n                delete this.bindings[bindingName];\n              });\n              return this;\n            }\n            if (handlers) {\n              if (!callback) {\n                handlers.length = 0;\n              } else {\n                const filteredHandlers = partition$2(handlers, handler => handler.func === callback);\n                handlers = filteredHandlers.fail;\n                this.bindings[currentName] = handlers;\n                each$f(filteredHandlers.pass, handler => {\n                  handler.removed = true;\n                });\n              }\n              if (!handlers.length) {\n                this.toggleEvent(name, false);\n                delete this.bindings[currentName];\n              }\n            }\n          }\n        } else {\n          each$e(this.bindings, (_value, name) => {\n            this.toggleEvent(name, false);\n          });\n          this.bindings = {};\n        }\n        return this;\n      }\n      once(name, callback, prepend) {\n        return this.on(name, callback, prepend, { once: true });\n      }\n      has(name) {\n        name = name.toLowerCase();\n        return !(!this.bindings[name] || this.bindings[name].length === 0);\n      }\n    }\n\n    const getEventDispatcher = obj => {\n      if (!obj._eventDispatcher) {\n        obj._eventDispatcher = new EventDispatcher({\n          scope: obj,\n          toggleEvent: (name, state) => {\n            if (EventDispatcher.isNative(name) && obj.toggleNativeEvent) {\n              obj.toggleNativeEvent(name, state);\n            }\n          }\n        });\n      }\n      return obj._eventDispatcher;\n    };\n    const Observable = {\n      fire(name, args, bubble) {\n        return this.dispatch(name, args, bubble);\n      },\n      dispatch(name, args, bubble) {\n        const self = this;\n        if (self.removed && name !== 'remove' && name !== 'detach') {\n          return normalize$3(name.toLowerCase(), args !== null && args !== void 0 ? args : {}, self);\n        }\n        const dispatcherArgs = getEventDispatcher(self).dispatch(name, args);\n        if (bubble !== false && self.parent) {\n          let parent = self.parent();\n          while (parent && !dispatcherArgs.isPropagationStopped()) {\n            parent.dispatch(name, dispatcherArgs, false);\n            parent = parent.parent();\n          }\n        }\n        return dispatcherArgs;\n      },\n      on(name, callback, prepend) {\n        return getEventDispatcher(this).on(name, callback, prepend);\n      },\n      off(name, callback) {\n        return getEventDispatcher(this).off(name, callback);\n      },\n      once(name, callback) {\n        return getEventDispatcher(this).once(name, callback);\n      },\n      hasEventListeners(name) {\n        return getEventDispatcher(this).has(name);\n      }\n    };\n\n    const DOM$2 = DOMUtils.DOM;\n    let customEventRootDelegates;\n    const getEventTarget = (editor, eventName) => {\n      if (eventName === 'selectionchange') {\n        return editor.getDoc();\n      }\n      if (!editor.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(eventName)) {\n        return editor.getDoc().documentElement;\n      }\n      const eventRoot = getEventRoot(editor);\n      if (eventRoot) {\n        if (!editor.eventRoot) {\n          editor.eventRoot = DOM$2.select(eventRoot)[0];\n        }\n        return editor.eventRoot;\n      }\n      return editor.getBody();\n    };\n    const isListening = editor => !editor.hidden && !isReadOnly(editor);\n    const fireEvent = (editor, eventName, e) => {\n      if (isListening(editor)) {\n        editor.dispatch(eventName, e);\n      } else if (isReadOnly(editor)) {\n        processReadonlyEvents(editor, e);\n      }\n    };\n    const bindEventDelegate = (editor, eventName) => {\n      let delegate;\n      if (!editor.delegates) {\n        editor.delegates = {};\n      }\n      if (editor.delegates[eventName] || editor.removed) {\n        return;\n      }\n      const eventRootElm = getEventTarget(editor, eventName);\n      if (getEventRoot(editor)) {\n        if (!customEventRootDelegates) {\n          customEventRootDelegates = {};\n          editor.editorManager.on('removeEditor', () => {\n            if (!editor.editorManager.activeEditor) {\n              if (customEventRootDelegates) {\n                each$e(customEventRootDelegates, (_value, name) => {\n                  editor.dom.unbind(getEventTarget(editor, name));\n                });\n                customEventRootDelegates = null;\n              }\n            }\n          });\n        }\n        if (customEventRootDelegates[eventName]) {\n          return;\n        }\n        delegate = e => {\n          const target = e.target;\n          const editors = editor.editorManager.get();\n          let i = editors.length;\n          while (i--) {\n            const body = editors[i].getBody();\n            if (body === target || DOM$2.isChildOf(target, body)) {\n              fireEvent(editors[i], eventName, e);\n            }\n          }\n        };\n        customEventRootDelegates[eventName] = delegate;\n        DOM$2.bind(eventRootElm, eventName, delegate);\n      } else {\n        delegate = e => {\n          fireEvent(editor, eventName, e);\n        };\n        DOM$2.bind(eventRootElm, eventName, delegate);\n        editor.delegates[eventName] = delegate;\n      }\n    };\n    const EditorObservable = {\n      ...Observable,\n      bindPendingEventDelegates() {\n        const self = this;\n        Tools.each(self._pendingNativeEvents, name => {\n          bindEventDelegate(self, name);\n        });\n      },\n      toggleNativeEvent(name, state) {\n        const self = this;\n        if (name === 'focus' || name === 'blur') {\n          return;\n        }\n        if (self.removed) {\n          return;\n        }\n        if (state) {\n          if (self.initialized) {\n            bindEventDelegate(self, name);\n          } else {\n            if (!self._pendingNativeEvents) {\n              self._pendingNativeEvents = [name];\n            } else {\n              self._pendingNativeEvents.push(name);\n            }\n          }\n        } else if (self.initialized) {\n          self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\n          delete self.delegates[name];\n        }\n      },\n      unbindAllNativeEvents() {\n        const self = this;\n        const body = self.getBody();\n        const dom = self.dom;\n        if (self.delegates) {\n          each$e(self.delegates, (value, name) => {\n            self.dom.unbind(getEventTarget(self, name), name, value);\n          });\n          delete self.delegates;\n        }\n        if (!self.inline && body && dom) {\n          body.onload = null;\n          dom.unbind(self.getWin());\n          dom.unbind(self.getDoc());\n        }\n        if (dom) {\n          dom.unbind(body);\n          dom.unbind(self.getContainer());\n        }\n      }\n    };\n\n    const stringListProcessor = value => {\n      if (isString(value)) {\n        return {\n          value: value.split(/[ ,]/),\n          valid: true\n        };\n      } else if (isArrayOf(value, isString)) {\n        return {\n          value,\n          valid: true\n        };\n      } else {\n        return {\n          valid: false,\n          message: `The value must be a string[] or a comma/space separated string.`\n        };\n      }\n    };\n    const getBuiltInProcessor = type => {\n      const validator = (() => {\n        switch (type) {\n        case 'array':\n          return isArray$1;\n        case 'boolean':\n          return isBoolean;\n        case 'function':\n          return isFunction;\n        case 'number':\n          return isNumber;\n        case 'object':\n          return isObject;\n        case 'string':\n          return isString;\n        case 'string[]':\n          return stringListProcessor;\n        case 'object[]':\n          return val => isArrayOf(val, isObject);\n        case 'regexp':\n          return val => is$4(val, RegExp);\n        }\n      })();\n      return value => processValue(value, validator, `The value must be a ${ type }.`);\n    };\n    const isBuiltInSpec = spec => isString(spec.processor);\n    const getErrorMessage = (message, result) => {\n      const additionalText = isEmpty$3(result.message) ? '' : `. ${ result.message }`;\n      return message + additionalText;\n    };\n    const isValidResult = result => result.valid;\n    const processValue = (value, processor, message = '') => {\n      const result = processor(value);\n      if (isBoolean(result)) {\n        return result ? {\n          value: value,\n          valid: true\n        } : {\n          valid: false,\n          message\n        };\n      } else {\n        return result;\n      }\n    };\n    const processDefaultValue = (name, defaultValue, processor) => {\n      if (!isUndefined(defaultValue)) {\n        const result = processValue(defaultValue, processor);\n        if (isValidResult(result)) {\n          return result.value;\n        } else {\n          console.error(getErrorMessage(`Invalid default value passed for the \"${ name }\" option`, result));\n        }\n      }\n      return undefined;\n    };\n    const create$5 = (editor, initialOptions) => {\n      const registry = {};\n      const values = {};\n      const setValue = (name, value, processor) => {\n        const result = processValue(value, processor);\n        if (isValidResult(result)) {\n          values[name] = result.value;\n          return true;\n        } else {\n          console.warn(getErrorMessage(`Invalid value passed for the ${ name } option`, result));\n          return false;\n        }\n      };\n      const register = (name, spec) => {\n        const processor = isBuiltInSpec(spec) ? getBuiltInProcessor(spec.processor) : spec.processor;\n        const defaultValue = processDefaultValue(name, spec.default, processor);\n        registry[name] = {\n          ...spec,\n          default: defaultValue,\n          processor\n        };\n        const initValue = get$a(values, name).orThunk(() => get$a(initialOptions, name));\n        initValue.each(value => setValue(name, value, processor));\n      };\n      const isRegistered = name => has$2(registry, name);\n      const get = name => get$a(values, name).orThunk(() => get$a(registry, name).map(spec => spec.default)).getOrUndefined();\n      const set = (name, value) => {\n        if (!isRegistered(name)) {\n          console.warn(`\"${ name }\" is not a registered option. Ensure the option has been registered before setting a value.`);\n          return false;\n        } else {\n          const spec = registry[name];\n          if (spec.immutable) {\n            console.error(`\"${ name }\" is an immutable option and cannot be updated`);\n            return false;\n          } else {\n            return setValue(name, value, spec.processor);\n          }\n        }\n      };\n      const unset = name => {\n        const registered = isRegistered(name);\n        if (registered) {\n          delete values[name];\n        }\n        return registered;\n      };\n      const isSet = name => has$2(values, name);\n      return {\n        register,\n        isRegistered,\n        get,\n        set,\n        unset,\n        isSet\n      };\n    };\n\n    const defaultModes = [\n      'design',\n      'readonly'\n    ];\n    const switchToMode = (editor, activeMode, availableModes, mode) => {\n      const oldMode = availableModes[activeMode.get()];\n      const newMode = availableModes[mode];\n      try {\n        newMode.activate();\n      } catch (e) {\n        console.error(`problem while activating editor mode ${ mode }:`, e);\n        return;\n      }\n      oldMode.deactivate();\n      if (oldMode.editorReadOnly !== newMode.editorReadOnly) {\n        toggleReadOnly(editor, newMode.editorReadOnly);\n      }\n      activeMode.set(mode);\n      fireSwitchMode(editor, mode);\n    };\n    const setMode = (editor, availableModes, activeMode, mode) => {\n      if (mode === activeMode.get()) {\n        return;\n      } else if (!has$2(availableModes, mode)) {\n        throw new Error(`Editor mode '${ mode }' is invalid`);\n      }\n      if (editor.initialized) {\n        switchToMode(editor, activeMode, availableModes, mode);\n      } else {\n        editor.on('init', () => switchToMode(editor, activeMode, availableModes, mode));\n      }\n    };\n    const registerMode = (availableModes, mode, api) => {\n      if (contains$2(defaultModes, mode)) {\n        throw new Error(`Cannot override default mode ${ mode }`);\n      }\n      return {\n        ...availableModes,\n        [mode]: {\n          ...api,\n          deactivate: () => {\n            try {\n              api.deactivate();\n            } catch (e) {\n              console.error(`problem while deactivating editor mode ${ mode }:`, e);\n            }\n          }\n        }\n      };\n    };\n\n    const create$4 = editor => {\n      const activeMode = Cell('design');\n      const availableModes = Cell({\n        design: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: false\n        },\n        readonly: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: true\n        }\n      });\n      registerReadOnlyContentFilters(editor);\n      registerReadOnlySelectionBlockers(editor);\n      return {\n        isReadOnly: () => isReadOnly(editor),\n        set: mode => setMode(editor, availableModes.get(), activeMode, mode),\n        get: () => activeMode.get(),\n        register: (mode, api) => {\n          availableModes.set(registerMode(availableModes.get(), mode, api));\n        }\n      };\n    };\n\n    const each$2 = Tools.each, explode = Tools.explode;\n    const keyCodeLookup = {\n      f1: 112,\n      f2: 113,\n      f3: 114,\n      f4: 115,\n      f5: 116,\n      f6: 117,\n      f7: 118,\n      f8: 119,\n      f9: 120,\n      f10: 121,\n      f11: 122,\n      f12: 123\n    };\n    const modifierNames = Tools.makeMap('alt,ctrl,shift,meta,access');\n    const parseShortcut = pattern => {\n      let key;\n      const shortcut = {};\n      const isMac = Env.os.isMacOS() || Env.os.isiOS();\n      each$2(explode(pattern.toLowerCase(), '+'), value => {\n        if (value in modifierNames) {\n          shortcut[value] = true;\n        } else {\n          if (/^[0-9]{2,}$/.test(value)) {\n            shortcut.keyCode = parseInt(value, 10);\n          } else {\n            shortcut.charCode = value.charCodeAt(0);\n            shortcut.keyCode = keyCodeLookup[value] || value.toUpperCase().charCodeAt(0);\n          }\n        }\n      });\n      const id = [shortcut.keyCode];\n      for (key in modifierNames) {\n        if (shortcut[key]) {\n          id.push(key);\n        } else {\n          shortcut[key] = false;\n        }\n      }\n      shortcut.id = id.join(',');\n      if (shortcut.access) {\n        shortcut.alt = true;\n        if (isMac) {\n          shortcut.ctrl = true;\n        } else {\n          shortcut.shift = true;\n        }\n      }\n      if (shortcut.meta) {\n        if (isMac) {\n          shortcut.meta = true;\n        } else {\n          shortcut.ctrl = true;\n          shortcut.meta = false;\n        }\n      }\n      return shortcut;\n    };\n    class Shortcuts {\n      constructor(editor) {\n        this.shortcuts = {};\n        this.pendingPatterns = [];\n        this.editor = editor;\n        const self = this;\n        editor.on('keyup keypress keydown', e => {\n          if ((self.hasModifier(e) || self.isFunctionKey(e)) && !e.isDefaultPrevented()) {\n            each$2(self.shortcuts, shortcut => {\n              if (self.matchShortcut(e, shortcut)) {\n                self.pendingPatterns = shortcut.subpatterns.slice(0);\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(shortcut);\n                }\n                return true;\n              }\n            });\n            if (self.matchShortcut(e, self.pendingPatterns[0])) {\n              if (self.pendingPatterns.length === 1) {\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(self.pendingPatterns[0]);\n                }\n              }\n              self.pendingPatterns.shift();\n            }\n          }\n        });\n      }\n      add(pattern, desc, cmdFunc, scope) {\n        const self = this;\n        const func = self.normalizeCommandFunc(cmdFunc);\n        each$2(explode(Tools.trim(pattern)), pattern => {\n          const shortcut = self.createShortcut(pattern, desc, func, scope);\n          self.shortcuts[shortcut.id] = shortcut;\n        });\n        return true;\n      }\n      remove(pattern) {\n        const shortcut = this.createShortcut(pattern);\n        if (this.shortcuts[shortcut.id]) {\n          delete this.shortcuts[shortcut.id];\n          return true;\n        }\n        return false;\n      }\n      normalizeCommandFunc(cmdFunc) {\n        const self = this;\n        const cmd = cmdFunc;\n        if (typeof cmd === 'string') {\n          return () => {\n            self.editor.execCommand(cmd, false, null);\n          };\n        } else if (Tools.isArray(cmd)) {\n          return () => {\n            self.editor.execCommand(cmd[0], cmd[1], cmd[2]);\n          };\n        } else {\n          return cmd;\n        }\n      }\n      createShortcut(pattern, desc, cmdFunc, scope) {\n        const shortcuts = Tools.map(explode(pattern, '>'), parseShortcut);\n        shortcuts[shortcuts.length - 1] = Tools.extend(shortcuts[shortcuts.length - 1], {\n          func: cmdFunc,\n          scope: scope || this.editor\n        });\n        return Tools.extend(shortcuts[0], {\n          desc: this.editor.translate(desc),\n          subpatterns: shortcuts.slice(1)\n        });\n      }\n      hasModifier(e) {\n        return e.altKey || e.ctrlKey || e.metaKey;\n      }\n      isFunctionKey(e) {\n        return e.type === 'keydown' && e.keyCode >= 112 && e.keyCode <= 123;\n      }\n      matchShortcut(e, shortcut) {\n        if (!shortcut) {\n          return false;\n        }\n        if (shortcut.ctrl !== e.ctrlKey || shortcut.meta !== e.metaKey) {\n          return false;\n        }\n        if (shortcut.alt !== e.altKey || shortcut.shift !== e.shiftKey) {\n          return false;\n        }\n        if (e.keyCode === shortcut.keyCode || e.charCode && e.charCode === shortcut.charCode) {\n          e.preventDefault();\n          return true;\n        }\n        return false;\n      }\n      executeShortcutAction(shortcut) {\n        return shortcut.func ? shortcut.func.call(shortcut.scope) : null;\n      }\n    }\n\n    const create$3 = () => {\n      const buttons = {};\n      const menuItems = {};\n      const popups = {};\n      const icons = {};\n      const contextMenus = {};\n      const contextToolbars = {};\n      const sidebars = {};\n      const add = (collection, type) => (name, spec) => collection[name.toLowerCase()] = {\n        ...spec,\n        type\n      };\n      const addIcon = (name, svgData) => icons[name.toLowerCase()] = svgData;\n      return {\n        addButton: add(buttons, 'button'),\n        addGroupToolbarButton: add(buttons, 'grouptoolbarbutton'),\n        addToggleButton: add(buttons, 'togglebutton'),\n        addMenuButton: add(buttons, 'menubutton'),\n        addSplitButton: add(buttons, 'splitbutton'),\n        addMenuItem: add(menuItems, 'menuitem'),\n        addNestedMenuItem: add(menuItems, 'nestedmenuitem'),\n        addToggleMenuItem: add(menuItems, 'togglemenuitem'),\n        addAutocompleter: add(popups, 'autocompleter'),\n        addContextMenu: add(contextMenus, 'contextmenu'),\n        addContextToolbar: add(contextToolbars, 'contexttoolbar'),\n        addContextForm: add(contextToolbars, 'contextform'),\n        addSidebar: add(sidebars, 'sidebar'),\n        addIcon,\n        getAll: () => ({\n          buttons,\n          menuItems,\n          icons,\n          popups,\n          contextMenus,\n          contextToolbars,\n          sidebars\n        })\n      };\n    };\n\n    const registry = () => {\n      const bridge = create$3();\n      return {\n        addAutocompleter: bridge.addAutocompleter,\n        addButton: bridge.addButton,\n        addContextForm: bridge.addContextForm,\n        addContextMenu: bridge.addContextMenu,\n        addContextToolbar: bridge.addContextToolbar,\n        addIcon: bridge.addIcon,\n        addMenuButton: bridge.addMenuButton,\n        addMenuItem: bridge.addMenuItem,\n        addNestedMenuItem: bridge.addNestedMenuItem,\n        addSidebar: bridge.addSidebar,\n        addSplitButton: bridge.addSplitButton,\n        addToggleButton: bridge.addToggleButton,\n        addGroupToolbarButton: bridge.addGroupToolbarButton,\n        addToggleMenuItem: bridge.addToggleMenuItem,\n        getAll: bridge.getAll\n      };\n    };\n\n    const DOM$1 = DOMUtils.DOM;\n    const extend = Tools.extend, each$1 = Tools.each;\n    class Editor {\n      constructor(id, options, editorManager) {\n        this.plugins = {};\n        this.contentCSS = [];\n        this.contentStyles = [];\n        this.loadedCSS = {};\n        this.isNotDirty = false;\n        this.editorManager = editorManager;\n        this.documentBaseUrl = editorManager.documentBaseURL;\n        extend(this, EditorObservable);\n        const self = this;\n        this.id = id;\n        this.hidden = false;\n        const normalizedOptions = normalizeOptions(editorManager.defaultOptions, options);\n        this.options = create$5(self, normalizedOptions);\n        register$7(self);\n        const getOption = this.options.get;\n        if (getOption('deprecation_warnings')) {\n          logWarnings(options, normalizedOptions);\n        }\n        const suffix = getOption('suffix');\n        if (suffix) {\n          editorManager.suffix = suffix;\n        }\n        this.suffix = editorManager.suffix;\n        const baseUrl = getOption('base_url');\n        if (baseUrl) {\n          editorManager._setBaseUrl(baseUrl);\n        }\n        this.baseUri = editorManager.baseURI;\n        const referrerPolicy = getReferrerPolicy(self);\n        if (referrerPolicy) {\n          ScriptLoader.ScriptLoader._setReferrerPolicy(referrerPolicy);\n          DOMUtils.DOM.styleSheetLoader._setReferrerPolicy(referrerPolicy);\n        }\n        AddOnManager.languageLoad = getOption('language_load');\n        AddOnManager.baseURL = editorManager.baseURL;\n        this.setDirty(false);\n        this.documentBaseURI = new URI(getDocumentBaseUrl(self), { base_uri: this.baseUri });\n        this.baseURI = this.baseUri;\n        this.inline = isInline(self);\n        this.shortcuts = new Shortcuts(this);\n        this.editorCommands = new EditorCommands(this);\n        registerCommands(this);\n        const cacheSuffix = getOption('cache_suffix');\n        if (cacheSuffix) {\n          Env.cacheSuffix = cacheSuffix.replace(/^[\\?\\&]+/, '');\n        }\n        this.ui = {\n          registry: registry(),\n          styleSheetLoader: undefined,\n          show: noop,\n          hide: noop,\n          setEnabled: noop,\n          isEnabled: always\n        };\n        this.mode = create$4(self);\n        editorManager.dispatch('SetupEditor', { editor: this });\n        const setupCallback = getSetupCallback(self);\n        if (isFunction(setupCallback)) {\n          setupCallback.call(self, self);\n        }\n      }\n      render() {\n        render(this);\n      }\n      focus(skipFocus) {\n        this.execCommand('mceFocus', false, skipFocus);\n      }\n      hasFocus() {\n        return hasFocus(this);\n      }\n      translate(text) {\n        return I18n.translate(text);\n      }\n      getParam(name, defaultVal, type) {\n        const options = this.options;\n        if (!options.isRegistered(name)) {\n          if (isNonNullable(type)) {\n            options.register(name, {\n              processor: type,\n              default: defaultVal\n            });\n          } else {\n            options.register(name, {\n              processor: always,\n              default: defaultVal\n            });\n          }\n        }\n        return !options.isSet(name) && !isUndefined(defaultVal) ? defaultVal : options.get(name);\n      }\n      hasPlugin(name, loaded) {\n        const hasPlugin = contains$2(getPlugins(this), name);\n        if (hasPlugin) {\n          return loaded ? PluginManager.get(name) !== undefined : true;\n        } else {\n          return false;\n        }\n      }\n      nodeChanged(args) {\n        this._nodeChangeDispatcher.nodeChanged(args);\n      }\n      addCommand(name, callback, scope) {\n        this.editorCommands.addCommand(name, callback, scope);\n      }\n      addQueryStateHandler(name, callback, scope) {\n        this.editorCommands.addQueryStateHandler(name, callback, scope);\n      }\n      addQueryValueHandler(name, callback, scope) {\n        this.editorCommands.addQueryValueHandler(name, callback, scope);\n      }\n      addShortcut(pattern, desc, cmdFunc, scope) {\n        this.shortcuts.add(pattern, desc, cmdFunc, scope);\n      }\n      execCommand(cmd, ui, value, args) {\n        return this.editorCommands.execCommand(cmd, ui, value, args);\n      }\n      queryCommandState(cmd) {\n        return this.editorCommands.queryCommandState(cmd);\n      }\n      queryCommandValue(cmd) {\n        return this.editorCommands.queryCommandValue(cmd);\n      }\n      queryCommandSupported(cmd) {\n        return this.editorCommands.queryCommandSupported(cmd);\n      }\n      show() {\n        const self = this;\n        if (self.hidden) {\n          self.hidden = false;\n          if (self.inline) {\n            self.getBody().contentEditable = 'true';\n          } else {\n            DOM$1.show(self.getContainer());\n            DOM$1.hide(self.id);\n          }\n          self.load();\n          self.dispatch('show');\n        }\n      }\n      hide() {\n        const self = this;\n        if (!self.hidden) {\n          self.save();\n          if (self.inline) {\n            self.getBody().contentEditable = 'false';\n            if (self === self.editorManager.focusedEditor) {\n              self.editorManager.focusedEditor = null;\n            }\n          } else {\n            DOM$1.hide(self.getContainer());\n            DOM$1.setStyle(self.id, 'display', self.orgDisplay);\n          }\n          self.hidden = true;\n          self.dispatch('hide');\n        }\n      }\n      isHidden() {\n        return this.hidden;\n      }\n      setProgressState(state, time) {\n        this.dispatch('ProgressState', {\n          state,\n          time\n        });\n      }\n      load(args) {\n        const self = this;\n        let elm = self.getElement(), html;\n        if (self.removed) {\n          return '';\n        }\n        if (elm) {\n          args = args || {};\n          args.load = true;\n          const value = isTextareaOrInput(elm) ? elm.value : elm.innerHTML;\n          html = self.setContent(value, args);\n          args.element = elm;\n          if (!args.no_events) {\n            self.dispatch('LoadContent', args);\n          }\n          args.element = elm = null;\n          return html;\n        }\n      }\n      save(args) {\n        const self = this;\n        let elm = self.getElement(), html, form;\n        if (!elm || !self.initialized || self.removed) {\n          return;\n        }\n        args = args || {};\n        args.save = true;\n        args.element = elm;\n        html = args.content = self.getContent(args);\n        if (!args.no_events) {\n          self.dispatch('SaveContent', args);\n        }\n        if (args.format === 'raw') {\n          self.dispatch('RawSaveContent', args);\n        }\n        html = args.content;\n        if (!isTextareaOrInput(elm)) {\n          if (args.is_removing || !self.inline) {\n            elm.innerHTML = html;\n          }\n          if (form = DOM$1.getParent(self.id, 'form')) {\n            each$1(form.elements, elm => {\n              if (elm.name === self.id) {\n                elm.value = html;\n                return false;\n              }\n            });\n          }\n        } else {\n          elm.value = html;\n        }\n        args.element = elm = null;\n        if (args.set_dirty !== false) {\n          self.setDirty(false);\n        }\n        return html;\n      }\n      setContent(content, args) {\n        return setContent(this, content, args);\n      }\n      getContent(args) {\n        return getContent(this, args);\n      }\n      insertContent(content, args) {\n        if (args) {\n          content = extend({ content }, args);\n        }\n        this.execCommand('mceInsertContent', false, content);\n      }\n      resetContent(initialContent) {\n        if (initialContent === undefined) {\n          setContent(this, this.startContent, { format: 'raw' });\n        } else {\n          setContent(this, initialContent);\n        }\n        this.undoManager.reset();\n        this.setDirty(false);\n        this.nodeChanged();\n      }\n      isDirty() {\n        return !this.isNotDirty;\n      }\n      setDirty(state) {\n        const oldState = !this.isNotDirty;\n        this.isNotDirty = !state;\n        if (state && state !== oldState) {\n          this.dispatch('dirty');\n        }\n      }\n      getContainer() {\n        const self = this;\n        if (!self.container) {\n          self.container = DOM$1.get(self.editorContainer || self.id + '_parent');\n        }\n        return self.container;\n      }\n      getContentAreaContainer() {\n        return this.contentAreaContainer;\n      }\n      getElement() {\n        if (!this.targetElm) {\n          this.targetElm = DOM$1.get(this.id);\n        }\n        return this.targetElm;\n      }\n      getWin() {\n        const self = this;\n        let elm;\n        if (!self.contentWindow) {\n          elm = self.iframeElement;\n          if (elm) {\n            self.contentWindow = elm.contentWindow;\n          }\n        }\n        return self.contentWindow;\n      }\n      getDoc() {\n        const self = this;\n        let win;\n        if (!self.contentDocument) {\n          win = self.getWin();\n          if (win) {\n            self.contentDocument = win.document;\n          }\n        }\n        return self.contentDocument;\n      }\n      getBody() {\n        const doc = this.getDoc();\n        return this.bodyElement || (doc ? doc.body : null);\n      }\n      convertURL(url, name, elm) {\n        const self = this, getOption = self.options.get;\n        const urlConverterCallback = getUrlConverterCallback(self);\n        if (isFunction(urlConverterCallback)) {\n          return urlConverterCallback.call(self, url, elm, true, name);\n        }\n        if (!getOption('convert_urls') || elm && elm.nodeName === 'LINK' || url.indexOf('file:') === 0 || url.length === 0) {\n          return url;\n        }\n        if (getOption('relative_urls')) {\n          return self.documentBaseURI.toRelative(url);\n        }\n        url = self.documentBaseURI.toAbsolute(url, getOption('remove_script_host'));\n        return url;\n      }\n      addVisual(elm) {\n        addVisual(this, elm);\n      }\n      remove() {\n        remove$1(this);\n      }\n      destroy(automatic) {\n        destroy(this, automatic);\n      }\n      uploadImages() {\n        return this.editorUpload.uploadImages();\n      }\n      _scanForImages() {\n        return this.editorUpload.scanForImages();\n      }\n    }\n\n    const DOM = DOMUtils.DOM;\n    const each = Tools.each;\n    let boundGlobalEvents = false;\n    let beforeUnloadDelegate;\n    let editors = [];\n    const globalEventDelegate = e => {\n      const type = e.type;\n      each(EditorManager.get(), editor => {\n        switch (type) {\n        case 'scroll':\n          editor.dispatch('ScrollWindow', e);\n          break;\n        case 'resize':\n          editor.dispatch('ResizeWindow', e);\n          break;\n        }\n      });\n    };\n    const toggleGlobalEvents = state => {\n      if (state !== boundGlobalEvents) {\n        const DOM = DOMUtils.DOM;\n        if (state) {\n          DOM.bind(window, 'resize', globalEventDelegate);\n          DOM.bind(window, 'scroll', globalEventDelegate);\n        } else {\n          DOM.unbind(window, 'resize', globalEventDelegate);\n          DOM.unbind(window, 'scroll', globalEventDelegate);\n        }\n        boundGlobalEvents = state;\n      }\n    };\n    const removeEditorFromList = targetEditor => {\n      const oldEditors = editors;\n      editors = filter$6(editors, editor => {\n        return targetEditor !== editor;\n      });\n      if (EditorManager.activeEditor === targetEditor) {\n        EditorManager.activeEditor = editors.length > 0 ? editors[0] : null;\n      }\n      if (EditorManager.focusedEditor === targetEditor) {\n        EditorManager.focusedEditor = null;\n      }\n      return oldEditors.length !== editors.length;\n    };\n    const purgeDestroyedEditor = editor => {\n      if (editor && editor.initialized && !(editor.getContainer() || editor.getBody()).parentNode) {\n        removeEditorFromList(editor);\n        editor.unbindAllNativeEvents();\n        editor.destroy(true);\n        editor.removed = true;\n        editor = null;\n      }\n      return editor;\n    };\n    const isQuirksMode = document.compatMode !== 'CSS1Compat';\n    const EditorManager = {\n      ...Observable,\n      baseURI: null,\n      baseURL: null,\n      defaultOptions: {},\n      documentBaseURL: null,\n      suffix: null,\n      majorVersion: '6',\n      minorVersion: '1.2',\n      releaseDate: '2022-07-29',\n      i18n: I18n,\n      activeEditor: null,\n      focusedEditor: null,\n      setup() {\n        const self = this;\n        let baseURL, documentBaseURL, suffix = '';\n        documentBaseURL = URI.getDocumentBaseUrl(document.location);\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(documentBaseURL)) {\n          documentBaseURL = documentBaseURL.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(documentBaseURL)) {\n            documentBaseURL += '/';\n          }\n        }\n        const preInit = window.tinymce || window.tinyMCEPreInit;\n        if (preInit) {\n          baseURL = preInit.base || preInit.baseURL;\n          suffix = preInit.suffix;\n        } else {\n          const scripts = document.getElementsByTagName('script');\n          for (let i = 0; i < scripts.length; i++) {\n            const src = scripts[i].src || '';\n            if (src === '') {\n              continue;\n            }\n            const srcScript = src.substring(src.lastIndexOf('/'));\n            if (/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(src)) {\n              if (srcScript.indexOf('.min') !== -1) {\n                suffix = '.min';\n              }\n              baseURL = src.substring(0, src.lastIndexOf('/'));\n              break;\n            }\n          }\n          if (!baseURL && document.currentScript) {\n            const src = document.currentScript.src;\n            if (src.indexOf('.min') !== -1) {\n              suffix = '.min';\n            }\n            baseURL = src.substring(0, src.lastIndexOf('/'));\n          }\n        }\n        self.baseURL = new URI(documentBaseURL).toAbsolute(baseURL);\n        self.documentBaseURL = documentBaseURL;\n        self.baseURI = new URI(self.baseURL);\n        self.suffix = suffix;\n        setup$v(self);\n      },\n      overrideDefaults(defaultOptions) {\n        const baseUrl = defaultOptions.base_url;\n        if (baseUrl) {\n          this._setBaseUrl(baseUrl);\n        }\n        const suffix = defaultOptions.suffix;\n        if (defaultOptions.suffix) {\n          this.suffix = suffix;\n        }\n        this.defaultOptions = defaultOptions;\n        const pluginBaseUrls = defaultOptions.plugin_base_urls;\n        if (pluginBaseUrls !== undefined) {\n          each$e(pluginBaseUrls, (pluginBaseUrl, pluginName) => {\n            AddOnManager.PluginManager.urls[pluginName] = pluginBaseUrl;\n          });\n        }\n      },\n      init(options) {\n        const self = this;\n        let result;\n        const invalidInlineTargets = Tools.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track ' + 'colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu', ' ');\n        const isInvalidInlineTarget = (options, elm) => options.inline && elm.tagName.toLowerCase() in invalidInlineTargets;\n        const createId = elm => {\n          let id = elm.id;\n          if (!id) {\n            id = get$a(elm, 'name').filter(name => !DOM.get(name)).getOrThunk(DOM.uniqueId);\n            elm.setAttribute('id', id);\n          }\n          return id;\n        };\n        const execCallback = name => {\n          const callback = options[name];\n          if (!callback) {\n            return;\n          }\n          return callback.apply(self, []);\n        };\n        const findTargets = options => {\n          if (Env.browser.isIE() || Env.browser.isEdge()) {\n            initError('TinyMCE does not support the browser you are using. For a list of supported' + ' browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers');\n            return [];\n          } else if (isQuirksMode) {\n            initError('Failed to initialize the editor as the document is not in standards mode. ' + 'TinyMCE requires standards mode.');\n            return [];\n          } else if (isString(options.selector)) {\n            return DOM.select(options.selector);\n          } else if (isNonNullable(options.target)) {\n            return [options.target];\n          } else {\n            return [];\n          }\n        };\n        let provideResults = editors => {\n          result = editors;\n        };\n        const initEditors = () => {\n          let initCount = 0;\n          const editors = [];\n          let targets;\n          const createEditor = (id, options, targetElm) => {\n            const editor = new Editor(id, options, self);\n            editors.push(editor);\n            editor.on('init', () => {\n              if (++initCount === targets.length) {\n                provideResults(editors);\n              }\n            });\n            editor.targetElm = editor.targetElm || targetElm;\n            editor.render();\n          };\n          DOM.unbind(window, 'ready', initEditors);\n          execCallback('onpageload');\n          targets = unique$1(findTargets(options));\n          Tools.each(targets, elm => {\n            purgeDestroyedEditor(self.get(elm.id));\n          });\n          targets = Tools.grep(targets, elm => {\n            return !self.get(elm.id);\n          });\n          if (targets.length === 0) {\n            provideResults([]);\n          } else {\n            each(targets, elm => {\n              if (isInvalidInlineTarget(options, elm)) {\n                initError('Could not initialize inline editor on invalid inline target element', elm);\n              } else {\n                createEditor(createId(elm), options, elm);\n              }\n            });\n          }\n        };\n        DOM.bind(window, 'ready', initEditors);\n        return new Promise(resolve => {\n          if (result) {\n            resolve(result);\n          } else {\n            provideResults = editors => {\n              resolve(editors);\n            };\n          }\n        });\n      },\n      get(id) {\n        if (arguments.length === 0) {\n          return editors.slice(0);\n        } else if (isString(id)) {\n          return find$2(editors, editor => {\n            return editor.id === id;\n          }).getOr(null);\n        } else if (isNumber(id)) {\n          return editors[id] ? editors[id] : null;\n        } else {\n          return null;\n        }\n      },\n      add(editor) {\n        const self = this;\n        const existingEditor = self.get(editor.id);\n        if (existingEditor === editor) {\n          return editor;\n        }\n        if (existingEditor === null) {\n          editors.push(editor);\n        }\n        toggleGlobalEvents(true);\n        self.activeEditor = editor;\n        self.dispatch('AddEditor', { editor });\n        if (!beforeUnloadDelegate) {\n          beforeUnloadDelegate = e => {\n            const event = self.dispatch('BeforeUnload');\n            if (event.returnValue) {\n              e.preventDefault();\n              e.returnValue = event.returnValue;\n              return event.returnValue;\n            }\n          };\n          window.addEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        return editor;\n      },\n      createEditor(id, options) {\n        return this.add(new Editor(id, options, this));\n      },\n      remove(selector) {\n        const self = this;\n        let i, editor;\n        if (!selector) {\n          for (i = editors.length - 1; i >= 0; i--) {\n            self.remove(editors[i]);\n          }\n          return;\n        }\n        if (isString(selector)) {\n          each(DOM.select(selector), elm => {\n            editor = self.get(elm.id);\n            if (editor) {\n              self.remove(editor);\n            }\n          });\n          return;\n        }\n        editor = selector;\n        if (isNull(self.get(editor.id))) {\n          return null;\n        }\n        if (removeEditorFromList(editor)) {\n          self.dispatch('RemoveEditor', { editor });\n        }\n        if (editors.length === 0) {\n          window.removeEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        editor.remove();\n        toggleGlobalEvents(editors.length > 0);\n        return editor;\n      },\n      execCommand(cmd, ui, value) {\n        var _a;\n        const self = this;\n        const editorId = isObject(value) ? (_a = value.id) !== null && _a !== void 0 ? _a : value.index : value;\n        switch (cmd) {\n        case 'mceAddEditor': {\n            if (!self.get(editorId)) {\n              const editorOptions = value.options;\n              new Editor(editorId, editorOptions, self).render();\n            }\n            return true;\n          }\n        case 'mceRemoveEditor': {\n            const editor = self.get(editorId);\n            if (editor) {\n              editor.remove();\n            }\n            return true;\n          }\n        case 'mceToggleEditor': {\n            const editor = self.get(editorId);\n            if (!editor) {\n              self.execCommand('mceAddEditor', false, value);\n              return true;\n            }\n            if (editor.isHidden()) {\n              editor.show();\n            } else {\n              editor.hide();\n            }\n            return true;\n          }\n        }\n        if (self.activeEditor) {\n          return self.activeEditor.execCommand(cmd, ui, value);\n        }\n        return false;\n      },\n      triggerSave: () => {\n        each(editors, editor => {\n          editor.save();\n        });\n      },\n      addI18n: (code, items) => {\n        I18n.add(code, items);\n      },\n      translate: text => {\n        return I18n.translate(text);\n      },\n      setActive(editor) {\n        const activeEditor = this.activeEditor;\n        if (this.activeEditor !== editor) {\n          if (activeEditor) {\n            activeEditor.dispatch('deactivate', { relatedTarget: editor });\n          }\n          editor.dispatch('activate', { relatedTarget: activeEditor });\n        }\n        this.activeEditor = editor;\n      },\n      _setBaseUrl(baseUrl) {\n        this.baseURL = new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\\/+$/, ''));\n        this.baseURI = new URI(this.baseURL);\n      }\n    };\n    EditorManager.setup();\n\n    const setup = () => {\n      const dataValue = value$2();\n      const FakeClipboardItem = items => ({\n        items,\n        types: keys(items),\n        getType: type => get$a(items, type).getOrUndefined()\n      });\n      const write = data => {\n        dataValue.set(data);\n      };\n      const read = () => dataValue.get().getOrUndefined();\n      const clear = dataValue.clear;\n      return {\n        FakeClipboardItem,\n        write,\n        read,\n        clear\n      };\n    };\n    const FakeClipboard = setup();\n\n    const min = Math.min, max = Math.max, round = Math.round;\n    const relativePosition = (rect, targetRect, rel) => {\n      let x = targetRect.x;\n      let y = targetRect.y;\n      const w = rect.w;\n      const h = rect.h;\n      const targetW = targetRect.w;\n      const targetH = targetRect.h;\n      const relChars = (rel || '').split('');\n      if (relChars[0] === 'b') {\n        y += targetH;\n      }\n      if (relChars[1] === 'r') {\n        x += targetW;\n      }\n      if (relChars[0] === 'c') {\n        y += round(targetH / 2);\n      }\n      if (relChars[1] === 'c') {\n        x += round(targetW / 2);\n      }\n      if (relChars[3] === 'b') {\n        y -= h;\n      }\n      if (relChars[4] === 'r') {\n        x -= w;\n      }\n      if (relChars[3] === 'c') {\n        y -= round(h / 2);\n      }\n      if (relChars[4] === 'c') {\n        x -= round(w / 2);\n      }\n      return create$2(x, y, w, h);\n    };\n    const findBestRelativePosition = (rect, targetRect, constrainRect, rels) => {\n      let pos, i;\n      for (i = 0; i < rels.length; i++) {\n        pos = relativePosition(rect, targetRect, rels[i]);\n        if (pos.x >= constrainRect.x && pos.x + pos.w <= constrainRect.w + constrainRect.x && pos.y >= constrainRect.y && pos.y + pos.h <= constrainRect.h + constrainRect.y) {\n          return rels[i];\n        }\n      }\n      return null;\n    };\n    const inflate = (rect, w, h) => {\n      return create$2(rect.x - w, rect.y - h, rect.w + w * 2, rect.h + h * 2);\n    };\n    const intersect = (rect, cropRect) => {\n      const x1 = max(rect.x, cropRect.x);\n      const y1 = max(rect.y, cropRect.y);\n      const x2 = min(rect.x + rect.w, cropRect.x + cropRect.w);\n      const y2 = min(rect.y + rect.h, cropRect.y + cropRect.h);\n      if (x2 - x1 < 0 || y2 - y1 < 0) {\n        return null;\n      }\n      return create$2(x1, y1, x2 - x1, y2 - y1);\n    };\n    const clamp = (rect, clampRect, fixedSize) => {\n      let x1 = rect.x;\n      let y1 = rect.y;\n      let x2 = rect.x + rect.w;\n      let y2 = rect.y + rect.h;\n      const cx2 = clampRect.x + clampRect.w;\n      const cy2 = clampRect.y + clampRect.h;\n      const underflowX1 = max(0, clampRect.x - x1);\n      const underflowY1 = max(0, clampRect.y - y1);\n      const overflowX2 = max(0, x2 - cx2);\n      const overflowY2 = max(0, y2 - cy2);\n      x1 += underflowX1;\n      y1 += underflowY1;\n      if (fixedSize) {\n        x2 += underflowX1;\n        y2 += underflowY1;\n        x1 -= overflowX2;\n        y1 -= overflowY2;\n      }\n      x2 -= overflowX2;\n      y2 -= overflowY2;\n      return create$2(x1, y1, x2 - x1, y2 - y1);\n    };\n    const create$2 = (x, y, w, h) => {\n      return {\n        x,\n        y,\n        w,\n        h\n      };\n    };\n    const fromClientRect = clientRect => {\n      return create$2(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\n    };\n    const Rect = {\n      inflate,\n      relativePosition,\n      findBestRelativePosition,\n      intersect,\n      clamp,\n      create: create$2,\n      fromClientRect\n    };\n\n    const awaiter = (resolveCb, rejectCb, timeout = 1000) => {\n      let done = false;\n      let timer = null;\n      const complete = completer => (...args) => {\n        if (!done) {\n          done = true;\n          if (timer !== null) {\n            clearTimeout(timer);\n            timer = null;\n          }\n          completer.apply(null, args);\n        }\n      };\n      const resolve = complete(resolveCb);\n      const reject = complete(rejectCb);\n      const start = (...args) => {\n        if (!done && timer === null) {\n          timer = setTimeout(() => reject.apply(null, args), timeout);\n        }\n      };\n      return {\n        start,\n        resolve,\n        reject\n      };\n    };\n    const create$1 = () => {\n      const tasks = {};\n      const resultFns = {};\n      const load = (id, url) => {\n        const loadErrMsg = `Script at URL \"${ url }\" failed to load`;\n        const runErrMsg = `Script at URL \"${ url }\" did not call \\`tinymce.Resource.add('${ id }', data)\\` within 1 second`;\n        if (tasks[id] !== undefined) {\n          return tasks[id];\n        } else {\n          const task = new Promise((resolve, reject) => {\n            const waiter = awaiter(resolve, reject);\n            resultFns[id] = waiter.resolve;\n            ScriptLoader.ScriptLoader.loadScript(url).then(() => waiter.start(runErrMsg), () => waiter.reject(loadErrMsg));\n          });\n          tasks[id] = task;\n          return task;\n        }\n      };\n      const add = (id, data) => {\n        if (resultFns[id] !== undefined) {\n          resultFns[id](data);\n          delete resultFns[id];\n        }\n        tasks[id] = Promise.resolve(data);\n      };\n      const unload = id => {\n        delete tasks[id];\n      };\n      return {\n        load,\n        add,\n        unload\n      };\n    };\n    const Resource = create$1();\n\n    const create = () => (() => {\n      let data = {};\n      let keys = [];\n      const storage = {\n        getItem: key => {\n          const item = data[key];\n          return item ? item : null;\n        },\n        setItem: (key, value) => {\n          keys.push(key);\n          data[key] = String(value);\n        },\n        key: index => {\n          return keys[index];\n        },\n        removeItem: key => {\n          keys = keys.filter(k => k === key);\n          delete data[key];\n        },\n        clear: () => {\n          keys = [];\n          data = {};\n        },\n        length: 0\n      };\n      Object.defineProperty(storage, 'length', {\n        get: () => keys.length,\n        configurable: false,\n        enumerable: false\n      });\n      return storage;\n    })();\n\n    let localStorage;\n    try {\n      const test = '__storage_test__';\n      localStorage = window.localStorage;\n      localStorage.setItem(test, test);\n      localStorage.removeItem(test);\n    } catch (e) {\n      localStorage = create();\n    }\n    var LocalStorage = localStorage;\n\n    const publicApi = {\n      geom: { Rect },\n      util: {\n        Delay,\n        Tools,\n        VK,\n        URI,\n        EventDispatcher,\n        Observable,\n        I18n,\n        LocalStorage,\n        ImageUploader\n      },\n      dom: {\n        EventUtils,\n        TreeWalker: DomTreeWalker,\n        TextSeeker,\n        DOMUtils,\n        ScriptLoader,\n        RangeUtils,\n        Serializer: DomSerializer,\n        StyleSheetLoader,\n        ControlSelection,\n        BookmarkManager,\n        Selection: EditorSelection,\n        Event: EventUtils.Event\n      },\n      html: {\n        Styles,\n        Entities,\n        Node: AstNode,\n        Schema,\n        DomParser,\n        Writer,\n        Serializer: HtmlSerializer\n      },\n      Env,\n      AddOnManager,\n      Annotator,\n      Formatter,\n      UndoManager,\n      EditorCommands,\n      WindowManager,\n      NotificationManager,\n      EditorObservable,\n      Shortcuts,\n      Editor,\n      FocusManager,\n      EditorManager,\n      DOM: DOMUtils.DOM,\n      ScriptLoader: ScriptLoader.ScriptLoader,\n      PluginManager,\n      ThemeManager,\n      ModelManager,\n      IconManager,\n      Resource,\n      FakeClipboard,\n      trim: Tools.trim,\n      isArray: Tools.isArray,\n      is: Tools.is,\n      toArray: Tools.toArray,\n      makeMap: Tools.makeMap,\n      each: Tools.each,\n      map: Tools.map,\n      grep: Tools.grep,\n      inArray: Tools.inArray,\n      extend: Tools.extend,\n      walk: Tools.walk,\n      resolve: Tools.resolve,\n      explode: Tools.explode,\n      _addCacheSuffix: Tools._addCacheSuffix\n    };\n    const tinymce = Tools.extend(EditorManager, publicApi);\n\n    const exportToModuleLoaders = tinymce => {\n      if (typeof module === 'object') {\n        try {\n          module.exports = tinymce;\n        } catch (_) {\n        }\n      }\n    };\n    const exportToWindowGlobal = tinymce => {\n      window.tinymce = tinymce;\n      window.tinyMCE = tinymce;\n    };\n    exportToWindowGlobal(tinymce);\n    exportToModuleLoaders(tinymce);\n\n})();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = jQuery;","const __WEBPACK_NAMESPACE_OBJECT__ = Craft;","import $ from 'jquery'\nimport Craft from 'craft'\nimport tinymce from 'tinymce'\nimport 'tinymce/icons/default'\nimport 'tinymce/models/dom'\nimport 'tinymce/plugins/autoresize'\nimport 'tinymce/plugins/code'\nimport 'tinymce/plugins/image'\nimport 'tinymce/plugins/link'\nimport 'tinymce/plugins/lists'\nimport 'tinymce/themes/silver'\n\nfunction showModalFactory(elementType, settings={})\n{\n\tlet modal\n\treturn function showModal()\n\t{\n\t\tif(!modal)\n\t\t{\n\t\t\tmodal = Craft.createElementSelectorModal(elementType, Object.assign({\n\t\t\t\tresizable: true,\n\t\t\t\tmultiSelect: false,\n\t\t\t\tdisableOnSelect: true,\n\t\t\t}, settings))\n\t\t}\n\t\telse\n\t\t{\n\t\t\tmodal.show()\n\t\t}\n\t}\n}\n\nwindow.initTinyMCE = function(settings, editorConfig={})\n{\n\tconsole.log(settings)\n\tfunction setup(editor)\n\t{\n\t\tfor(let { elementType, optionTitle, sources } of settings.linkOptions)\n\t\t{\n\t\t\tconst elementTypeHandle = elementType.replace(/^\\w|_\\w/g, (match) => match.toLowerCase())\n\t\t\tconst command = elementTypeHandle + 'Link'\n\n\t\t\tconst showModal = showModalFactory(elementType, {\n\t\t\t\tsources,\n\t\t\t\tcriteria: { locale: settings.locale },\n\t\t\t\tonSelect([ element ])\n\t\t\t\t{\n\t\t\t\t\tconst selectedContent = editor.selection.getContent()\n\n\t\t\t\t\tconst url = `${element.url}#${elementTypeHandle}:${element.id}`\n\t\t\t\t\tconst title = element.label\n\t\t\t\t\tconst label = (selectedContent || element.label)\n\t\t\t\t\tconst command = (selectedContent ? 'mceReplaceContent' : 'mceInsertContent')\n\n\t\t\t\t\teditor.execCommand(command, false, `<a href=\"${url}\" title=\"${title}\">${label}</a>`)\n\t\t\t\t},\n\t\t\t})\n\n\t\t\teditor.addButton(command, {\n\t\t\t\ticon: 'link',\n\t\t\t\tstorageKey: 'tinymce.' + command,\n\t\t\t\ttooltip: optionTitle,\n\t\t\t\tonclick: () => showModal(),\n\t\t\t})\n\t\t}\n\n\t\tfor(let { elementType, optionTitle, sources } of settings.mediaOptions)\n\t\t{\n\t\t\tconst elementTypeHandle = elementType.replace(/^\\w|_\\w/g, (match) => match.toLowerCase())\n\t\t\tconst command = elementTypeHandle + 'Media'\n\n\t\t\tconst showModal = showModalFactory(elementType, {\n\t\t\t\tsources,\n\t\t\t\ttransforms: settings.transforms,\n\t\t\t\tstorageKey: 'RichTextFieldType.ChooseImage',\n\t\t\t\tcriteria: {\n\t\t\t\t\tlocale: settings.locale,\n\t\t\t\t\tkind: 'image',\n\t\t\t\t},\n\t\t\t\tonSelect([ element ], transform=null)\n\t\t\t\t{\n\t\t\t\t\tconst selectedContent = editor.selection.getContent()\n\n\t\t\t\t\tconst url = `${element.url}#${elementTypeHandle}:${element.id}` + (transform ? `:${transform}` : '')\n\t\t\t\t\tconst title = element.label\n\t\t\t\t\tconst width = ''\n\t\t\t\t\tconst height = ''\n\t\t\t\t\tconst command = (selectedContent ? 'mceReplaceContent' : 'mceInsertContent')\n\n\t\t\t\t\teditor.execCommand(command, false, `<img src=\"${url}\" alt=\"${title}\" width=\"${width}\" height=\"${height}\">`)\n\t\t\t\t},\n\t\t\t})\n\n\t\t\teditor.addButton(command, {\n\t\t\t\ticon: 'image',\n\t\t\t\tstorageKey: 'tinymce.' + command,\n\t\t\t\ttooltip: optionTitle,\n\t\t\t\tonclick: () => showModal(),\n\t\t\t})\n\t\t}\n\t}\n\n\tfunction init(editor)\n\t{\n\t\tconst $element = $(editor.container)\n\t\tconst $form = $(editor.formElement)\n\n\t\teditor.on('focus', e => $element.addClass('mce-focused'))\n\t\teditor.on('blur', e => $element.removeClass('mce-focused'))\n\n\t\tconst elementEditor = $form.data('elementEditor')\n\t\tconst contentObserver = new window.MutationObserver(() => {\n\t\t\teditor.targetElm.value = editor.getContent()\n\t\t\tconst $target = elementEditor.isFullPage ? Garnish.$bod : $form\n\t\t\t$target.trigger('change')\n\t\t})\n\t\tcontentObserver.observe(editor.getBody(), {\n\t\t\tcharacterData: true,\n\t\t\tchildList: true,\n\t\t\tsubtree: true,\n\t\t})\n\t}\n\n\ttinymce.init(Object.assign(\n\t\t{\n\t\t\tplugins: 'autoresize lists link image code',\n\t\t\tcontent_css: false,\n\n\t\t\t// Toolbars\n\t\t\tmenubar: false,\n\t\t\tstatusbar: false,\n\t\t\ttoolbar: 'undo redo | blocks | bold italic strikethrough | bullist numlist | link entryLink assetLink | image assetMedia | hr | code',\n\n\t\t\t// Formatting\n\t\t\tallow_conditional_comments: false,\n\t\t\telement_format: 'html',\n\t\t\tfix_list_elements: true,\n\n\t\t\t// Links\n\t\t\trelative_urls: false,\n\t\t\tremove_script_host: false,\n\t\t\tanchor_top: false,\n\t\t\tanchor_bottom: false,\n\n\t\t\t// Auto-resize\n\t\t\tautoresize_bottom_margin: 0,\n\t\t},\n\t\teditorConfig,\n\t\t{\n\t\t\tselector: '#' + settings.id,\n\t\t\tlanguage: settings.language,\n\t\t\tdirectionality: settings.direction,\n\n\t\t\tsetup,\n\n\t\t\tinit_instance_callback(editor)\n\t\t\t{\n\t\t\t\tinit(editor)\n\t\t\t\t\n\t\t\t\tconst configInit = editorConfig.init_instance_callback\n\t\t\t\tif(typeof configInit === 'function')\n\t\t\t\t{\n\t\t\t\t\tconfigInit.apply(this, arguments)\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\t))\n}\n"],"names":["tinymce","IconManager","add","icons","global$1","util","Tools","resolve","isType$1","type","value","x","t","Array","isArray","o","v","proto","constructor","String","prototype","isPrototypeOf","_a","name","typeOf","isSimpleType","isString","isObject","isNull","a","isBoolean","isNonNullable","isNullable","isFunction","isNumber","noop","constant","identity","tripleEquals","b","curry","fn","initialArgs","restArgs","all","concat","apply","not","f","never","always","Optional","tag","this","static","singletonNone","fold","onNone","onSome","isSome","isNone","map","mapper","some","none","bind","binder","exists","predicate","forall","filter","getOr","replacement","or","getOrThunk","thunk","orThunk","getOrDie","message","Error","getOrNull","getOrUndefined","each","worker","toArray","toString","nativeSlice","slice","nativeIndexOf","indexOf","nativePush","push","contains$2","xs","ts","call","rawIndexOf","pred","i","len","length","range$1","num","r","map$1","each$2","partition","pass","fail","filter$2","foldr","acc","eachr","foldl","find$1","until","findUntil","findIndex","flatten","bind$2","mapToObject","get$d","head","last$2","findMap","arr","keys","Object","hasOwnProperty","each$1","obj","props","k","tupleMap","tuple","filter$1","onTrue","onFalse","internalFilter","objAcc","mapToArray","values","has$1","key","window","Function","element","dom","nodeName","toLowerCase","nodeType","isType","isComment","isElement","isText","isDocument","isDocumentFragment","isTag","e","rawSet","console","error","setAttribute","set$2","setAll$1","attrs","get$b","getAttribute","undefined","getOpt","from","remove$7","removeAttribute","clone$2","attributes","attr","fromDom$1","node","SugarElement","fromHtml","html","scope","div","document","createElement","innerHTML","hasChildNodes","childNodes","fromTag","fromText","text","createTextNode","fromDom","fromPoint","docElm","y","elementFromPoint","is$2","selector","elem","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","one","base","querySelector","eq$1","e1","e2","contains$1","d1","d2","contains","is$1","owner","ownerDocument","documentOrOwner","dos","parent","parentNode","parents","isRoot","stop","ret","rawParent","p","prevSibling","previousSibling","nextSibling","children$2","child$2","index","cs","before$3","marker","insertBefore","after$5","append$1","prepend","firstChild$1","firstChild","appendChild","wrap","wrapper","after$4","elements","append","empty","textContent","rogue","remove$6","removeChild","unwrap","children","clone$1","original","isDeep","cloneNode","shallow","deep","shallowAs","nu","validSectionList","detail","rowspan","colspan","rowdetail","cells","section","elementnew","isNew","isLocked","rowcells","supported","Element","attachShadow","Node","getRootNode","isSupported$1","getShadowRoot","host","getShadowHost","isOpenShadowHost","shadowRoot","inBody","doc","body","fbc","fab","getBody$1","descendants$1","result","ancestors$3","ancestors$4","children$1","descendants","querySelectorAll","all$1","ClosestOrAncestor","is","ancestor","ancestor$2","el","ancestor$1","child","child$1","descendant","closest$1","lhs","rhs","comparator","left","cat","someIf","checkRange","str","substr","start","startsWith","prefix","endsWith","suffix","trim","s","replace","blank","isNotEmpty","isSupported","style","getPropertyValue","internalSet","property","setProperty","set$1","setAll","css","get$a","getComputedStyle","getUnsafeProperty","getRaw$2","raw","remove$5","removeProperty","internalRemove","getAttrValue","cell","fallback","parseInt","getSpan","hasColspan","cellOrCol","hasRowspan","getCssValue","minWidth","minHeight","firstLayer","filterFirstLayer","tags","join","elm","lookup","cells$1","columns$1","columnGroups","columnGroup","table","rows$1","fromRowsOrColGroups","elems","getSection","row","column","getParentSection","group","parentName","isValidSection","fromTable$1","rows","cached","called","args","unknown$2","nu$2","major","minor","Version","detect","versionRegexes","agent","cleanedAgent","regexes","test","firstMatch","Number","find","unknown","detect$4","candidates","userAgent","candidate","search","normalVersionRegex","checkContains","target","uastring","browsers","brand","oses","PlatformInfo","edge","chromium","opera","firefox","safari","nu$1","info","current","version","isBrowser","isEdge","isChromium","isIE","isOpera","isFirefox","isSafari","Browser","ie","windows","android","linux","macos","solaris","freebsd","chromeos","isOS","isWindows","isiOS","isAndroid","isMacOS","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","ios","PlatformDetection","userAgentDataOpt","mediaMatch","browser","userAgentData","brands","uaBrand","lcBrand","detectBrowser$1","detectBrowser","os","detectOs","deviceType","isiPad","isiPhone","isMobile","isTouch","isTablet","isPhone","iOSwebview","isDesktop","isWebView","DeviceType","query","matchMedia","platform","navigator","detect$2","Dimension","getOffset","get","parseFloat","aggregate","properties","val","isNaN","set","h","match","getOuter","max","cumulativeInclusions","toNumber","px","toFloat","getProp","getCalculatedWidth","boxSizing","width","getBoundingClientRect","offsetWidth","size","upper","lower","calcContentBoxSize","api$2","get$9","getOuter$2","getInner","getRuntime$1","addCells","gridRow","existingCells","before","after","newCells","setCells","addCell","mutateCell","getCell","getCellElement","cellLength","extractGridDetails","grid","cols","clone","cloneRow","cloneCell","LOCKED_COL_ATTR","getLockedColumnsFromTable","lockedColStr","lockedCols","getLockedColumnsFromGrid","locked","idx","lockedArr","_val","copy","sort","sort$1","filterItems","warehouse","generate$1","list","access","lockedColumns","rowData","maxRows","maxColumns","rowCount","colgroupRows","currentRow","rowCell","hasNonNullableKey","extended","occupiedColumnPosition","occupiedRowPosition","columnPosition","newpos","Math","columns","colgroups","columnsGroup","columnIndex","colIndex","columnext","generateColumns","colgroup$1","colgroup","grid$1","Warehouse","fromTable","generate","getAt","findItem","item","filtered","justCells","w","justColumns","hasColumns","getColumnAt","isValidCell","rowsArr","col","decide","getBlock","isValid","getFallback","inBlock","c","deduce","rest","reverse","aa","delta","next","n","extras","abs","onDirection","isLtr","isRtl","getDirection","api$1","height","offsetHeight","get$8","getOuter$1","getRuntime","top","translate","SugarPosition","firstDefinedOrZero","absolute","win","defaultView","documentElement","offsetLeft","offsetTop","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","viewport","box","boxPosition","rowInfo","colInfo","rtlEdge","ltrEdge","getLeftEdge","getRightEdge","getTop$1","getTopEdge","getBottomEdge","findPositions","getInnerEdge","getOuterEdge","array","lines","cellOption","lastLine","positions","optElements","detect$1","step","amount","units","unsupportedLength","fixed","relative","pattern","decimalDigits","exponentPart","opt","input","unsignedDecimalLiteral","dot","RegExp","parse","accepted","exec","unitRaw","unit","check","isUnit","rPercentageBasedSizeRegex","rPixelBasedSizeRegex","isCol$2","getPercentSize","outerGetter","innerGetter","relativeParent","parentElement","setPixelWidth","setPercentageWidth","setHeight","normalizePixelSize","getter","setter","number","newSize","total","floor","convert","getTotalHeight","getHeightValue","getRaw$1","prop","getRawWidth$1","getPercentageWidth","getPixelWidth$1","getHeight","get$7","setGenericWidth","getPercentTableWidth","percentageBasedSizeRegex","isCol$1","getRawW","getRawH","getDimension","cellOpt","backups","getWidthFrom","getWidth","columnCells","justCols","pos","colFilter","supportsColWidths","isValidColumn","getDeduced","deduced","d","getPixelWidths","tableSize","minCellWidth","getHeightFrom","direction","widthLookup","noneSize","zero","pixelWidth","getWidths","getCellDelta","singleColumnWidth","setElementWidth","adjustTableWidth","isRelative","label","percentageSize","getFloatWidth","cellWidth","getPercentageWidths","_delta","currentWidth","pixelSize","newWidth","TableSize","chooseSize","makeCell","seenSelected","rowIndex","td","extract$1","selectedSelector","isSelected","replica","replicaHouse","replicaStats","house","totalColumns","minRow","minCol","maxRow","maxCol","allCells","selectedCells","startRow","endRow","startCol","endCol","statsStruct","findSelectedStats","unselectedCells","stats","totalRows","j","fillInGaps","widthDelta","colWidths","allColsWidth","selectedColsWidth","getTableWidthDelta","emptyRows","clean","api","getOption","nodeValue","NodeValue","get$6","getEnd","elementsWithCursorPosition","isCursorPosition","first","descend","res","descendant$1","last$1","descendantRtl","transferableAttributes","createCell","createCol","createColgroup","createRow$1","replace$1","cloneChildren","copy$2","pasteReplace","cellOperations","mutate","formatsToClone","cloneCss","prev","source","sourceDom","targetDom","cssText","copy$1","formats","lastNode","oldCell","newCell","firstText","formatSelector","last","clonedFormat","cloneFormats","validAttributes","attributeName","attribute","cloneAppropriateAttributes","colGap","gap","paste$1","getBody","editor","getIsRoot","removeDataStyle","removeStyleAttribute","getSelectionStart","selection","getStart","getPixelWidth","getPixelHeight","inSelection","bounds","leftEdge","rightEdge","topEdge","bottomEdge","finishCol","finishRow","isWithin","getAnyBox","startCell","finishCell","startCoords","finishCoords","sc","fc","detailA","detailB","min","getBox$1","isRect","detailIsWithin","isRectangular","intercepts$1","finish","inside","parentCell","innerCell","c1","c2","moveBy","deltaRow","deltaColumn","moveBy$1","getWarehouse","intercepts","nestedIntercepts","firstTable","lastTable","optStartCell","optLastCell","lastCell","TagBoundaries","DomUniverse","up","closest","down","styles","getRaw","remove","copyTo","destination","as","insert","afterAll","appendAll","create","comparePosition","other","compareDocumentPosition","isSpecial","getLanguage","getText","setText","isBoundary","isEmptyTag","isNonEditable","eq","unsafeOne","universe","look","tail","commonElement","end","sharedOne$1","ancestors$1","ps1","ps2","prune","path","ind","pruned1","pruned2","shared","firstpath","secondpath","universe$3","sharedOne","_universe","lookupTable","container","identify","rootTable","boxes","startTable","finishTable","ancestorCells","ancestors","lca","lcaTable","finishAncestorCells","startAncestorCells","retrieve$1","sels","getEdges","firstSelectedSelector","lastSelectedSelector","shiftSelection","getLast","identified","expandTo","retrieve","retrieveBox","edges","sectionSelector","firstAncestor","lastAncestor","fA","lA","getBox","unmergable","hasSpan","span","mergable","ephemera","strSelected","strFirstSelected","strLastSelected","selected","firstSelected","lastSelected","forMenu","getSelectionFromSelector","initCell","cellName","getSelectionCellOrCaption","getSelectionCell","getCellsFromSelection","nodes","model","getSelectedCells","registerEvents","actions","on","multiCellContext","preventDefault","extractSelected","content","format","innerText","getTextContent","serializer","serialize","serializeElements","getCellsFromFakeSelection","paste","isTable","getDoc","generators","targets","clipboard","pasteCells","focus","point","offset","scan$1","toEnd","freefallRtl$2","freefallRtl$1","universe$2","halve","main","getGenericWidth","surround","sizes","startIndex","endIndex","results","clampDeltaHelper","minCellSize","diff","clampNegativeDelta","clampDelta","resizeTable","calcRelativeDeltas","ratio","newThis","calcLeftEdgeDeltas","clampedDelta","calcFixedDeltas","resizer","clampTableDelta","calcMiddleDeltas","_prev","calcRightEdgeDeltas","calcRedestributedWidths","totalWidth","pixelDelta","newSizes","preserveTable","isLastColumn","maxDelta","_index","_minCellSize","_totalWidth","_pixelDelta","_isRelative","getGridSize","isHeaderCell","isHeaderCells","getRowHeaderType","isHeaderRow","getRowType","findCommonCellType","subType","headerCells","transformCell","substitution","transformRow","fixedCell","mutate$1","sectionCells","TableSection","rowType","findTableRowHeaderType","isEditable$1","assumeEditable","isContentEditable","editable","contentEditable","setIfNot","ignore","insert$1","render$1","newRows","syncRows","gridSection","tr","syncColGroup","colGroup","renderSection","sectionName","newSection","generateSection","sectionElems","renderOrRemoveSection","removeSection","headSection","bodySection","footSection","columnGroupsSection","findDiff","comp","subgrid","getRow","isColRow","getColumn","toDetails","seen","details","updateSeen","rowdetailnew","toGrid","colgroupCols","rowCells","rowDetail","toDetailList","findInWarehouse","extractCells","cell$1","lc","run","operation","extract","adjustment","postAction","genWrappers","behaviours","tableSection","fromWarehouse","cursor","out","newElements","tableSizing","sizing","resizing","resize","onPasteByEditor","onCells","onUnlockedCells","allUnlocked","isUnlockedTableCell","unmerge","currentCell","isToReplace","splitRows","uniqueCells","sub","value$1","applyHelper","constHelper","outputHelper","output","inner","_onError","onValue","isValue","isError","Result","mapError","toOptional","onError","_onValue","msg","fromOption","optional","err","measureWidth","gridA","gridB","rowDelta","colDelta","measureHeight","generateElements","generator","rowFill","exampleRow","colFill","newChildren","tailor","fillCols","fillRows","gridWidth","isLastColLocked","modifiedCols","newLockedColumns","isSpanning","matching","getLockedColumnsWithinBounds","startAddress","colNum","merge$1","validStartAddress","currentStartAddress","gridColLength","adjustedRowAddress","possibleColAddresses","validColAddress","getValidStartAddress","gridBRows","lockedColumnsWithinBounds","rowRemainder","colRemainder","colRequired","rowRequired","measure","fittedGrid","newLockedColumnsWithinBounds","lockedColumnObj","skippedCol","gridBColIndex","newCellElm","mergeTables","insertCols","prevCell","substitute","splitCols","fittedNewGrid","secondDelta","fittedOldGrid","insertRows","oldCols","oldRows","newLocked","secondDiff","fittedGridB","newChild","lockedColFill","insertRowAt","example","newRow","ex","insertColumnAt","withinSpan","getElementFor","isDuplicatedCell","notInStartRow","notInStartColumn","determineScope","applyScope","newScope","isInHeader","getScope","replaceIn","replacer","genScope","shouldReplace","mapCells","isTarget","getColumnCells","replaceColumns","indexes","rowHeaders","shouldReplaceCell","targetColumn","_colIndex","columnReplacePredicate","scopeGenerator","columnScopeGenerator","replaceRows","targetRow","getRowCells","columnHeaders","_cell","newGrid","_rowIndex","rowReplacerPredicate","rowScopeGenerator","replaceCells","targetCells","Adt","cases","constructors","adt","acase","count","keys$1","argLength","foldArgs","branches","branchKeys","reqKey","log","params","ColumnContext","only","middle","right","determine","context","neighbours","measures","recalculateHeightForCells","heights","recalculate","widths","groups","recalculateWidthForColumns","recalculateWidthForCells","recalculateAndApply","adjustWidth","clampedStep","deltas","newWidths","dx","adjustHeight","getPixelHeights","newHeights","dy","newCellSizes","newRowSizes","matchRowHeight","uniqueColumns","currentDetail","isCol","isColgroup","isRow$1","elementToData","getScopeAttribute","Generators","toData","data","nuCell","recent","getOrInit","makeNew","replaceOrInit","merge","stringAttributes","baseScope","scopes","getScopeProperty","blockList","universe$1","isBlock","tagName","isBlock$1","isList","isList$1","isEmptyTag$1","isBr","markCell","rightSiblingIsBlock","rightSibling","isListItem","contents","advancedBr","markContent","isEditable","outcome","elementFromGrid","_b","findEditableCursorPosition","bundle","cursorElement","uniqueRows","makeRowsSection","initialGrid","rowIndexes","opMakeRowsHeader","opMakeRowsBody","opMakeRowsFooter","gridifyRows","pasteDetails","fromPastedRows","wh","_table","_info","adjustWidthTo","adjustAndRedistributeWidths","resizeBehaviour","tablePixelWidth","adjustAndRedistributeWidths$1","firstColumnIsLocked","_warehouse","lastColumnIsLocked","getColumnsWidth","uniqueCols","insertColumnsExtractor","pasteColumnsExtractor","headerCellGenerator","bodyCellGenerator","insertRowsBefore","targetIndex","insertRowsAfter","newG","insertColumnsBefore","extractDetail","insertColumnsAfter","eraseColumns","_comparator","_genWrappers","deleteColumnsAt","maxColIndex","eraseRows","deleteRowsAt","maxRowIndex","makeColumnsHeader","columnIndexes","unmakeColumnsHeader","makeRowsHeader","makeRowsBody","makeRowsFooter","makeCellsHeader","unmakeCellsHeader","mergeCells","merge$2","onMergable","mergeable","unmergeCells","onUnmergable","gridify","address","pasteColsBefore","mergedGrid","pasteColsAfter","pasteRowsBefore","pasteRowsAfter","getColumnsType","lastSelectedCell","minColRange","maxColRange","selectedColumnCells","getCellsType","getRowsType","minRowRange","maxRowRange","rowTypes","hasHeader","hasFooter","hasBody","findCommonRowType","fireNewRow","dispatch","fireNewCell","fireTableModified","styleModified","structure","structureModified","styleAndStructureModified","option","options","defaultWidth","getPixelForcedWidth","parentBlock","getParent","getTableCloneElements","getTableHeaderType","getTableColumnResizingBehaviour","isPreserveTableColumnResizing","isResizeTableColumnResizing","getTableSizingMode","isTablePercentagesForced","isTablePixelsForced","isTableResponsiveForced","hasTableResizeBars","shouldStyleWithCss","getTableDefaultAttributes","defaultAttributes","isSet","determineDefaultTableAttributes","getTableDefaultStyles","defaultStyles","determineDefaultTableStyles","tableUseColumnGroup","get$5","TableActions","resizeHandler","cellSelectionHandler","isTableBody","colMutationOp","getTableSectionType","setSelectionFromAction","firstCell","clearSelectedCells","rng","createRng","selectNode","setRng","des","setStart","setEnd","execute","guard","effect","noEvents","refresh","range","deleteRow","deleteColumn","getTableRowType","getTableCellType","getTableColType","constrainSpan","currentColspan","isColInRange","copyCols","fakeColGroups","colsToCopy","copiedCols","clonedCol","fakeColgroup","generateColGroup","fakeRows","cellsToCopy","copiedCells","clonedCell","fakeTR","generateRows","copyRows","slicedGrid","filteredGrid","slicedDetails","adt$5","invalid","pixels","percent","validateFor","rawAmount","substring","Size","redistributeValues","newWidthType","newTotalWidth","scale","pc","redistributeToPx","_pc","redistributeToPercent","redistribute$1","newType","floats","redistributeEmpty","normalize","sum","add$3","scan","remainder","floored","roundDown","round","validate","getUnit","redistribute","optWidth","optHeight","widthUnit","oldWidths","getRawWidths","nuWidths","redistributeToColumns","redistributeToW","newHeight","hUnit","totalHeight","oldHeights","getRawHeights","redistributeToH","isPercentSizing","isPixelSizing","isNoneSizing","cleanupLegacyAttributes","convertToPercentSize","convertToPixelSize","getPixelTableWidth","convertToNoneSize","rowElements","DefaultRenderOptions","border","colGroups","createGroupRow","createRows","createRow","placeCaretInCell","select","collapse","colHeaders","undoManager","headerType","renderOpts","rowHeadersGoInThead","actualRowHeaders","thead","theadRows","tbody","tbodyRows","render","get$4","insertContent","addVisual","isPercentage","fireEvents","tableElm","selectFirstCellInTable","global","tableTypeBase","tableTypeRow","tableTypeColumn","setData","items","fakeClipboardItem","FakeClipboardItem","write","getData","read","getType","clearData","clear","setRows","rowsOpt","clearRows","getRows","setColumns","columnsOpt","clearColumns","getColumns","getSelectionStartCellOrCaption","registerCommands","getTableFromCell","performActionOnSelection","action","getSelectionStartCell","postExecute","_data","actOnSelection","copyRowSelection","copyColSelection","pasteOnSelection","clonedRows","pasteRows","actOnType","getAction","_ui","get$c","no_events","mceTableSplitCells","mceTableMergeCells","mceTableInsertRowBefore","mceTableInsertRowAfter","mceTableInsertColBefore","mceTableInsertColAfter","mceTableDeleteCol","mceTableDeleteRow","mceTableCutCol","mceTableCutRow","mceTableCopyCol","mceTableCopyRow","mceTablePasteColBefore","mceTablePasteColAfter","mceTablePasteRowBefore","mceTablePasteRowAfter","mceTableDelete","cellOrCaption","isEmpty","setContent","setCursorLocation","nodeChanged","mceTableCellToggleClass","clazz","allHaveClass","formatter","formatterAction","mceTableToggleClass","toggle","mceTableToggleCaption","caption","appendAt","mceTableSizingMode","setSizingMode","mceTableCellType","mceTableColType","mceTableRowType","func","addCommand","checkInput","headerRows","headerColumns","insertTable","getFormatName","validArgs","has","formatName","adt$4","Situ","cata","subject","onBefore","onOn","onAfter","situ","Response","kill","createRange","selectNodeContents","selectNodeContentsUsing","relativeToNative","startSitu","finishSitu","setStartBefore","setStartAfter","setEndBefore","setEndAfter","setFinish","exactToNative","soffset","foffset","toRect","rect","bottom","adt$3","ltr","rtl","fromRange","startContainer","startOffset","endContainer","endOffset","diagnose","ranges","domRange","exact","getRanges","collapsed","rev","doDiagnose","asLtrRange","SimRange","Situs","convertToRange","makeSitus","selectRange","cellSel","traverse","mode","backtrack","_direction","transition","sidestep","advance","sibling","successors","go","rules","succ","rule","fb","Walkers","hone","isLeaf","seekLeft$1","seekRight$1","before$1","after$1","after$2","adt$2","success","failedUp","failedDown","isRow","BeforeAfter","verify","bridge","beforeOffset","afterOffset","failure","afterCell","beforeCell","beforeBounds","getRect","afterBounds","isOverlapping","_sharedRow","onSuccess","onFailedUp","onFailedDown","gatherer","cand","gather","handleParent","findBr","br","adjacent","inParent","indexInParent","tryBr","handleBr","tgt","moveDown","caret","moveUp","xDelta","yDelta","toCaret","getElemBox","getBoxAt","getRangedRect","getPartialBox","getEntireBox","adt$1","retry","inOutsideBlock","isOutside","downMovement","adjuster","guessBox","lowerCaret","move","adjustTil","movement","numRetries","isAtTable","adjustForTable","situsFromPoint","guess","newCaret","moved","adjusted","getInnerHeight","checkScroll","scrollBy","Retries","tryUp","higherCaret","tryDown","getJumpSize","findSpot","getSelection","sel","brNeighbour","fromSitus","analysis","_message","process","tryCursor","situs","tryAgain","tryAt","inSameTable","simulate","initial","anchor","spot","handle$1","navigate","precheck","firstUpCheck","seekLeft","lastOffset","lastDownCheck","seekRight","Cell","doRevoke","revoke","singleton","findCell","isKey","keycode","isUp","isDown","isNavigation","isBackward","isForward","SimSelection","exactFromRange","simRange","getWin","_finishSitu","_soffset","_finish","_foffset","caretPositionFromPoint","offsetNode","caretRangeFromPoint","availableSearch","beforeSpecial","name$1","makeRange","same","getNativeSelection","doSetNativeRange","removeAllRanges","addRange","doSetRange","setRangeFromRelative","setBaseAndExtent","extend","setLegacyRtlRange","setExact","preprocessExact","setRelative","preprocessRelative","readRange","rangeCount","firstRng","getRangeAt","lastRng","doGetExact","anchorNode","focusNode","anchorOffset","focusOffset","setToElement","selectNodeContents$1","get$2","getExact","getFirstRect","rects","getClientRects","getFirstRect$1","getAtPoint","WindowBridge","exactAdt","clearSelection","collapseSelection","toStart","setSelection","setRelativeSelection","selectContents","innerHeight","getScrollY","_DOC","get$3","by","rc","mouse","annotations","handlers","clearstate","applySelection","event","clearBeforeUpdate","singleCell","isNonEditableCell","isCellClosestContentEditable","mousedown","mouseover","mouseup","MouseSelection","keyboard","clearToNavigate","keydown","realEvent","which","shiftKey","handler","update$1","attempts","navigation","newSels","update","_","keyup","sync","split","supports","classList","add$1","id","add$2","SelectionAnnotation","onSelection","onClear","removeSelectionAttributes","addSelectionAttribute","multiple","single","getOtherCells","upOrLeftCells","upGrid","upDetails","slicedCells","getUpOrLeftCells","downOrRightCells","downGrid","downDetails","getDownOrRightCells","fromRawEvent$1","rawEvent","composed","composedPath","getOriginalEventTarget","stopPropagation","prevent","fa","mkEvent","clientX","clientY","useCapture","wrapped","handle","addEventListener","unbind","removeEventListener","bind$1","fromRawEvent","hasInternalTarget","TableCellSelectionHandler","cellSelection","lazyRoot","Selections","otherCells","fireTableSelectionChange","fireTableSelectionClear","_e","mouseHandlers","keyHandlers","external$1","external","handleResponse","response","hasShiftKey","ns","isLeftMouse","button","doubleTap","lastTarget","lastTimeStamp","touchEnd","lT","lTS","timeStamp","getDoubleTap","buttons","wrappedEvent","getRng","hide","show","addTempAttr","onMultiple","onSingle","Event","fields","trigger","create$1","typeDefs","registry","baseWith","handleUnsupported","required","validateStrArr","everything","sorted","checkDupes","req","reqMessage","invalidKeys","incorrect","invalidTypeMessage","handleExact","unsupported","unsuppMessage","exactly","DragMode","DragSink","DragApi","InDrag","previous","events","onEvent","old","compare","reset","Movement","noDragState","NoDrag","inDragState","dragState","off","isOn","setup","mutation","settings","active","drop","sink","throttledDrop","rate","timer","cancel","clearTimeout","throttle","setTimeout","runIfActive","forceDrop","delayDrop","destroy","namespace","dashNamespace","resolve$1","MouseDrag","dragApi","blocker","layerClass","position","Blocker","mdown","mup","mmove","mout","BarMutation","drag","delegate","Mutation","assign","resizeBar","resizeRowBar","resizeColBar","wire","drawBar","origin","cpOption","cp","bar","refreshCol","colPositions","tableHeight","colBar","refreshRow","rowPositions","tableWidth","rowBar","refreshGrid","warhouse","isResizable","resizableRowBars","resizableRows","resizableRowPositions","_pos","barIndex","resizableColBars","resizableCols","colElmOpt","resizableColumns","resizableColPositions","bars","resizeBarDragging","BarManager","transform","hoverTable","getResizer","_dataRow","_dataCol","currentCol","getDelta","dir","startAdjust","isColBar","view","tbl","hideBars","showBars","TableResize","lazySizing","hdirection","vdirection","manager","beforeResize","afterResize","startDrag","_event","refreshBars","ResizeWire","chrome","createContainer","padding","margin","barResizerPrefix","TableResizeHandler","selectionRng","tableResize","resizeWire","startW","startRawW","lazyResizingBehaviour","afterCornerResize","isRightEdgeResize","getNumColumns","isPercentage$1","percentW","isPixel","computedWidth","syncPixels","sz","inline","rawWire","objectResizing","hasTableObjectResizing","rawTable","fireObjectResizeStart","fireObjectResized","targetElm","addClass","getStyle","getAttrib","getRawWidth","isReadOnly","setupTable","registerOption","register","processor","default","valid","lookupOnSelection","addQueryValueHandler","registerQueryCommands","DomModel","getMinHeight","getMaxHeight","getAutoResizeOverflowPadding","getAutoResizeBottomMargin","toggleScrolling","state","overflowY","parseCssValueToInt","computed","oldSize","plugins","fullscreen","isFullscreen","docEle","resizeBottomMargin","getElement","resizeHeight","marginTop","marginBottom","contentHeight","chromeHeight","getContainer","getContentAreaContainer","maxHeight","deltaSize","setStyle","fireResizeEditor","scrollTo","hasFocus","setContentEvent","shouldScrollIntoView","scrollIntoView","register$1","overflowPadding","setStyles","editorContent","getContent","source_view","windowManager","open","title","primary","initialData","code","onSubmit","transact","close","onAction","execCommand","ui","addButton","icon","tooltip","addMenuItem","global$4","getPrototypeOf","hasProto","isPlainObject","global$3","global$2","register$2","isArrayOf","hasDimensions","hasAdvTab","hasUploadTab","getPrependUrl","getClassList","hasDescription","hasImageTitle","hasImageCaption","getImageList","showAccessibilityOptions","isAutomaticUploadsEnabled","parseIntAndGetMax","val1","val2","removePixelSuffix","addPixelSuffix","isPlaceholderImage","imgElm","hasAttribute","isSafeImageUrl","src","isDomSafe","allow_html_data_urls","allow_script_urls","allow_svg_data_urls","DOM","getHspace","image","marginLeft","marginRight","getVspace","getBorder","borderWidth","hasCaption","updateAttrib","toggleCaption","figureElm","insertAfter","removeFigure","class","wrapInFigure","normalizeStyle","normalizeCss","attrValue","setSize","getSize","setHspace","pxValue","setVspace","setBorder","setBorderStyle","borderStyle","isFigure","getIsDecorative","getAlt","getStyleValue","hspace","vspace","getBorderStyle","alt","isDecorative","updateProp","oldData","newData","setAlt","setAttrib","sugarImage","normalized","_name","_value","updateAlt","normalizeCss$1","mergedCss","splitMargin","mergeMargins","compressed","getSelectedImage","getNode","splitTextBlock","figure","textBlockElements","schema","getTextBlockElements","parentElm","isValidChild","textBlock","insertImageAtCaret","outerHTML","insertedElm","writeImageDataToSelection","syncSrcAttr","selectImage","onload","onerror","setAttribs","clientWidth","clientHeight","waitLoadImage","insertOrUpdateImage","partialData","sanitizedData","sanitizeImageData","deleteImage","deepMerge","merger","objects","curObject","getValue","sanitizeList","extractValue","menu","sanitizer","extractor","findEntryDelegate","isGroup","ListUtils","optList","AdvTab","inputMode","collect","urlListSanitizer","convertURL","url","futureImageList","Promise","completer","callback","imageList","fetch","then","ok","json","createImageList","hasAdvTab$1","hasUploadTab$1","hasUploadUrl$1","hasUploadUrl","hasUploadHandler$1","hasUploadHandler","readImageDataFromSelection","hasDescription$1","hasImageTitle$1","hasDimensions$1","hasImageCaption$1","hasAccessibilityOptions","automaticUploads","prependURL","preUrl","makeItems","imageDescription","enabled","filetype","useColumns","MainTab","UploadTab","fromImageData","meta","images","dimensions","classes","borderstyle","fileinput","toImageData","removeEmptyAlt","addPrependUrl","srcURL","prependUrl","addPrependUrl2","formFillFromMeta","entry","formFillFromMeta2","changeSrc","helpers","imageSize","catch","calculateImageSize","prevImage","updateImagesDropdown","changeFileInput","block","unblock","file","blobUri","URL","createObjectURL","finalize","revokeObjectURL","updateSrcAndSwitchTab","showTab","blob","reject","reader","FileReader","readAsDataURL","dataUrl","blobInfo","createBlobCache","uploadImage","alertErr","addToBlobCache","changeHandler","evt","img","prevAlt","changeImages","setEnabled","closeHandler","makeDialogBody","tabs","submitHandler","finalData","editorUpload","uploadImagesAuto","done","visibility","getImageSize","documentBaseURI","toAbsolute","blobCache","filename","base64","alert","parseStyle","serializeStyle","stylesArg","upload","status","Dialog","createState","onChange","onClose","hasImageClass","className","toggleContentEditableState","toggleContentEditable","getAll","parser","addNodeFilter","addToggleButton","onSetup","buttonApi","setActive","selectorChangedWithUnbind","addContextMenu","global$5","assumeExternalTargets","hasContextToolbar","getLinkList","getDefaultLinkTarget","getDefaultLinkProtocol","getTargetList","getRelList","getLinkClassList","shouldShowLinkTitle","allowUnsafeLinkTarget","useQuickLink","sanitizeWith","extracter","ListOptions","sanitize","createUi","isAnchor","isLink","getHref","collectNodesInRange","cloneContents","walker","hasProtocol","href","applyRelTargetRules","rel","isUnsafe","rels","removeTargetRules","inArray","newRels","addTargetRules","getAnchorElement","selectedElm","isImageFigure","getAnchorText","anchorElm","trimCaretContainers","hasLinks","grep","isOnlyTextSelected","inlineTextElements","getTextInlineElements","applyLinkOverrides","linkAttrs","newLinkAttrs","newRel","handleExternalTargets","linkDomMutation","attachState","getLinkAttrs","attach","updateLink","linkImageFigure","createHTML","encode","createLink","unwrapOptions","cls","_k","link","uriOptions","sanitizeData","hasPlugin","unlink","unlinkImageFigure","bookmark","getBookmark","cloneRange","startAnchorElm","endAnchorElm","moveToBookmark","unlinkSelection","unlinkDomMutation","fig","getParents","isListGroup","findTextByValue","catalog","persistentText","fieldName","hasPersistentText","DialogChanges","linkCatalog","persistentData","onUrlChange","getTitleFromUrlChange","onCatalogChange","change","catalogs","tryEmailTransform","preprocess","tryProtocolTransform","defaultLinkProtocol","DialogConfirms","setEditorTimeout","confirm","delayedConfirm","AnchorListOptions","anchorNodes","anchors","ClassListOptions","parseJson","JSON","LinkListOptions","linkList","optItems","RelOptions","initialTarget","isTargetBlank","safeRelExtractor","fallbacks","TargetOptions","nonEmptyAttr","DialogInfo","linkNode","links","linkClass","extractFromAnchor","optNode","flags","titleEnabled","open$1","collectData","getChangedValue","changedData","pData","handleSubmit","displayText","titleText","defaultTarget","getInitialData","dialogDelta","makeDialog","spec","createEvent","initMouseEvent","dispatchEvent","appendClickRemove","getLink","getSelectedLink","gotoLink","targetEl","openDialog","dialog","gotoSelectedLink","toggleState","toggler","toggleActiveState","updateState","toggleEnabledState","toggleUnlinkState","hasLinks$1","setupContextToolbars","onSetupLink","addContextForm","launch","initValue","commands","formApi","onlyText","getLinkText","collapseSelectionToEnd","setupButtons","shortcut","setupMenuItems","setupContextMenu","metaKeyPressed","isDefaultPrevented","keyCode","altKey","ctrlKey","metaKey","hasOnlyAltModifier","setupGotoLinks","toolbarKey","addShortcut","global$6","get$1","unique","isDuplicated","lift2","oa","ob","lastChild","matchNodeName","matchNodeNames","regex","isTextNode","isListNode","isOlUlNode","isOlNode","isListItemNode","isDlItemNode","isTableCellNode","isTextBlock","blockElements","isEmpty$1","keepBookmarks","isChildOfBody","isChildOf","getRoot","shouldIndentOnTab","getForcedRootBlock","getForcedRootBlockAttrs","createTextBlock","contentNode","getBlockElements","fragment","createFragment","blockName","blockAttrs","hasContentNode","DOM$2","splitList","li","bookmarks","newBlock","tmpRng","extractContents","targetNode","isDescriptionDetail","isDescriptionTerm","indentDlItem","dlIndentation","indentation","dlItems","dl","outdentDlItem","getNormalizedPoint","normalizeRange","outRng","rangeStart","rangeEnd","listNames","listSelector","getParentList","selectionStart","getClosestListHost","getSelectedSubLists","parentList","selectedBlocks","getSelectedBlocks","isParentListSelected","findSubLists","getSelectedListItems","elms","listItemsElms","findParentListItemsNodes","getClosestEditingHost","parentTableCell","parentBlocks","isListHost","listName","findLastParentListNode","parentLists","getSelectedListRoots","selectedLists","firstList","subsequentLists","getSelectedLists","getUniqueListRoots","lists","listRoots","fireListEvent","joinSegment","createSegment","listType","segment","writeShallow","cast","newCast","depth","createItem","itemAttributes","appendItem","listAttributes","normalizeSegment","writeDeep","segments","createSegments","joinSegments","populateSegments","hasFirstChildList","isIndented","cloneItemContent","normalizeEntries","entries","dirty","closestSiblingEntry","cleanListProperties","matchingEntry","cloneListProperties","parseItem","itemSelection","selectionState","currentItemEntry","createEntry","childListEntries","parseList","outdentedComposer","normalizedEntries","createDocumentFragment","fromElements","indentedComposer","composeList","contentDocument","listIndentation","entrySets","sourceList","parseLists","selectedListItems","getItemSelection","entrySet","indentEntry","indentSelectedEntries","composedLists","wasType","groupBy","composeEntries","composedList","selectionIndentation","getSelectedDlItems","isHandled","indentListSelection","outdentListSelection","flattenListSelection","DOM$1","createBookmark","setupEndPoint","resolveBookmark","restoreEndPoint","nodeIndex","listToggleActionFromListName","isCustomList","listState","activate","nodeChangeHandler","inList","updateListWithDetails","updateListStyle","updateListAttrs","getEndPointNode","root","applyList","listItemName","getContentEditable","toUpperCase","selectedTextBlocks","textBlocks","startNode","endNode","siblings","isBookmarkNode","getSelectedTextBlocks","listBlock","sib","sibStyle","detailStyle","hasCompatibleStyle","rename","removeStyles","mergeWithAdjacentLists","shouldMerge","list1","list2","isValidLists","hasSameListStyle","elm2","toggleMultipleLists","parentIsList","hasListStyleDetail","allLists","newList","updateList$1","toggleList","_detail","selectedSubLists","toggleSingleList","normalizeLists","normalizeList","findNextCaretContainer","nonEmptyBlocks","getNonEmptyElements","isBogusBr","walkFn","prev2","hasOnlyOneBlockChild","moveChildren","fromElm","toElm","unwrapSingleBlockChild","mergeLiElements","listNode","ul","nestedLists","mergeForward","fromLi","toLi","mergeIntoEmptyLi","backspaceDeleteFromListToListCaret","selectionStartElm","otherLi","resolvedBookmark","mergeBackward","backspaceDeleteIntoListCaret","findValidElement","findRoot","equals","removeBlock","hasListSelection","backspaceDelete","isCollapsed","backspaceDeleteCaret","backspaceDeleteRange","parseAlphabeticBase26","chars","char","charValue","charCodeAt","pow","composeAlphabeticBase26","quotient","fromCharCode","parseDetail","listStyleType","currentList","isLowercase","deduceListType","parseStartValue","queryListCommandState","registerDialog","cmd","command","updateList","addQueryStateHandler","TAB","setupTabKey","BACKSPACE","DELETE","setup$1","register$3","listProperties","isUndefined","compose","constant$1","die","global$a","range$2","chunk$1","map$2","partition$3","find$5","findIndex$1","bind$3","difference","a1","a2","pure$2","get$h","find$4","get$g","has$2","trim$1","name$3","type$1","isElement$1","owner$4","offsetParent","leaf","isShadowRoot","getContentContainer","set$9","get$f","set$8","setOptions","get$e","getAllRaw","ruleName","isValidValue","reflow","r$1","absolute$3","viewport$1","unknown$3","nu$d","find$3","detect$3","nu$c","nu$b","append$2","prepend$1","to","bounds$1","getBounds$3","_win","scroll","visualViewport","pageLeft","pageTop","getDocument","walkUp","Navigation","freeze","__proto__","frameElement","find$2","paths","pathTo","frames","loc","box$1","xy","absolute$2","value$4","error$1","SimpleResultType","fold$1","stype","serror","svalue","Value","SimpleResult","errors","field$2","newKey","presence","ifField","ifCustom","instantiator","baseMerge","defaultedThunk","fallbackThunk","defaulted$1","mergeWithThunk","baseThunk","mergeErrors$1","ResultCombine","partitions","formatObj","stringify","nu$a","getErrorInfo","value$3","validator","custom","anyValue$1","requiredAccess","missingRequired","fallbackAccess","extractField","field","av","bundleAsOption","optValue","ov","optionAccess","optionDefaultedAccess","valueThunk","getDelegate","getSetKeys","objOfOnly","objOf","fieldNames","extra","unsupportedFields","extractFields","fieldStrings","_okey","_presence","_instantiator","arrOf","oneOf","setOf$1","validatedKeys","validateKeys","validKeys","vk","arrOfObj","anyValue","typedValue","expectedType","actualType","string","boolean","functionProcessor","isPostMessageable","every","postMessageable","chooseFrom","ch","branch","missingBranch","vp","choose$2","missingKey","chosen","valueOf","setOf","asRaw","errs","extraction","errInfo","formatError","asRawOrDie$1","es","formatErrors","choose$1","field$1","customField","validateEnum","required$1","requiredOf","requiredNumber","requiredString","requiredStringEnum","requiredFunction","requiredObjOf","objSchema","requiredArrayOfObj","objFields","requiredArrayOf","option$3","optionOf","optionNumber","optionString","optionStringEnum","optionFunction","optionArrayOf","optionObjOf","defaulted","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedArrayOf","defaultedObjOf","bothErrors","firstError","secondError","bothValues","exclude","exclude$1","wrap$1","wrap$2","wrapAll","keyvalues","kv","wrapAll$1","consolidate","objs","partition$1","mergeValues","ensureIsRoot","transformed","closest$4","isSource","component","simulatedEvent","defaultEventHandler","can","abort","nu$9","parts","fuse$1","all$2","any","touchstart","touchmove","touchend","touchcancel","mousemove","mouseout","focusin","focusout","click","transitioncancel","transitionend","transitionstart","selectstart","prefixName","alloy","tap","focus$4","postBlur","postPaste","receive","execute$5","focusItem","longpress","sandboxClose","typeaheadCancel","systemInit","documentTouchmove","documentTouchend","windowScroll","windowResize","attachedToDom","detachedFromDom","dismissRequested","repositionRequested","focusShifted","slotVisibility","changeTab","dismissTab","highlight$1","dehighlight$1","emit","dispatchWith","emitWith","emitExecute","getSystem","triggerEvent","derive$2","configs","run$1","runActionExtra","runOnSourceName","redirectToPart","partName","uid","getByUid","redirectee","redirectToUid","partUids","runWithTarget","ev","getByDom","cutter","cut","stopper","runOnSource","runOnAttached","runOnDetached","runOnInit","runOnExecute$1","runOnName","set$6","docDom","contentElements","fromHtml$1","getHtml","events$i","originator","isRecursive","warn","DefaultEvents","generate$6","time","Date","getTime","random","prefix$1","idAttr$1","idAttr","writeOnly","defineProperty","writable","read$1","generate$5","make$8","NoContextApi","getComp","getMessage","debugInfo","triggerFocus","triggerEscape","broadcast","broadcastOn","broadcastEvent","build","buildOrPatch","addToWorld","removeFromWorld","addToGui","removeFromGui","isConnected","singleton$1","cleanParameters","parameters","markAsExtraApi","extraName","openBracketIndex","toFunctionAnnotation","premadeTag","premade$1","getPremade","makeApi","apiFunction","markAsSketchApi","getApis","NoState","init","nu$8","readState","byInnerKey","indexKey","chain","nu$7","getCurried","descHandler","cHandler","behaviourTuple","nameToHandlers","behaviour","combine$1","eventOrder","byEventName","behaviourEvents","groupByEvents","combineGroups","assemble","rawHandler","read$2","fuse","tuples","eventName","order","keyName","aKey","bKey","aIndex","bIndex","sortKeys","sortedTuples","missingOrderError","assembled","purpose","uncurried","baseBehaviour","schema$z","mergeWith","toEvents","add$4","remove$3","remove$4","remove$2","cleanClass","remove$1","getNative","set$5","ensureInDom","obsoleted","obs","patchChildrenWith","builtChildren","currentChildren","patchSpecChild","oldObsoleted","childComp","newObs","oldTag","determineObsoleted","diffKeyValueSet","newObj","oldObj","newKeys","oldKeys","toRemove","toSet","bifilter","reconcileToDom","definition","existingAttributes","attrsToSet","attrsToRemove","existingStyles","stylesToSet","stylesToRemove","existingClasses","classesToRemove","classesToAdd","innerHtml","domChildren","optObsoleted","patchDomChildren","valueElement","updateValue","renderToDom","hasMixedChildren","isPremade","attemptPatch","introduceToDom","generateFrom","validated","optBlobThunk","config","generateFrom$1","generate$4","me","getBehaviours$2","getDomDefinition","bList","bData","components","infoModification","domModification","toModification","baseModification","modification","baseMod","modsByBehaviour","exhibit","byAspect","combineObjects","combinedClasses","combinedAttributes","combinedStyles","combine$2","defnA","mod","build$2","getMe","systemApi","toInfo","bBlob","getBehaviours$3","getData$2","modDefinition","baseEvents","getEvents","subcomponents","hasConfigured","behaviourName","apis","connect","newApi","disconnect","syncComponents","subs","buildFromSpec","userSpec","specEvents","build$1","buildSubcomponents","completeSpec","text$1","extSpec","uids","userSpecWithUid","isSketchSpec$1","premade","closest$3","closest$2","ariaId","isAriaPartOf","queryElem","dep","isPartOf$1","EventConfiguration","eventConfig","processEvent","patterns","NORMAL","noLogger","LOGGING","logger","sequence","startTime","logEventCut","logEventStopped","logNoParent","logEventNoHandlers","logEventResponse","finishTime","makeEventLogger","STOP","monitorEvent","menuFields","itemFields","itemSchema$3","_initSize","tieredMenuMarkers","markers$1","onPresenceHandler","stack","line","getTrace","onHandler","onKeyboardHandler","onStrictHandler","onStrictKeyboardHandler","output$1","snapshot","initSize","nu$6","bubble","placement","boundsRestriction","labelPrefix","alwaysFit","restriction","adt$a","southeast","southwest","northeast","northwest","south","north","east","west","southeast$3","southwest$3","northeast$3","northwest$3","south$3","north$3","east$3","west$3","cycleBy","clamp","restrictions","getRestriction","labelPrefix$2","eastX$1","middleX$1","westX$1","northY$2","southY$2","centreY$1","southeast$2","bubbles","southwest$2","northeast$2","northwest$2","north$2","south$2","east$2","eastEdgeX$1","west$2","westEdgeX$1","allRtl$1","aboveOrBelow","aboveOrBelowRtl","belowOrAbove","belowOrAboveRtl","ActiveReceiving","receiveConfig","channelMap","channels","receivingData","targetChannels","universal","chooseChannels","channelInfo","channelSchema","onReceive","ReceivingSchema","loadEvent","bConfig","bState","_simulatedEvent","wrapApi","bName","apiName","markAsBehaviourApi","revokeBehaviour","doCreate","configSchema","schemaSchema","getConfig","wrappedApis","apiF","extraF","prepared","configAsRaw","initialConfig","behaviourInfo","exhibitor","derive$1","capabilities","simpleSchema","create$3","create$4","modeSchema","createModes","modes","createModes$1","branchKey","Receiving","ActivePosition","posConfig","useFixed","focus$3","activeElement","active$1","preserve$1","refocus","focused","oldFocus","newFocus","NuPositionCss","toPx","applyPositionCss","toOptions","adt$9","positionWithDirection","posName","decision","decisionRect","decisionX","decisionY","decisionRight","decisionBottom","cata$2","reposition","toBox","getBounds","translate$2","outerScroll","relative$1","fixed$1","anchorBox","placementAttribute","getPlacement","adt$8","fit","nofit","attempt","bubbleOffset","adjustedBounds","applyRestriction","isVerticalAxis","newPos","adjustedLeft","adjustedTop","adjustedRight","adjustedBottom","adjustBounds","newX","newY","originInBounds","sizeInBounds","visibleW","visibleH","boundsX","boundsY","boundsRight","boundsBottom","determinePosition","fits","fittedBox","maxX","maxY","restrictedX","restrictedY","restrictedWidth","restrictedHeight","calcReposition","isPartlyVisible","maxWidth","upAvailable","downAvailable","cataVertical","westAvailable","eastAvailable","cataHorizontal","calcMaxSizes","classesOn","classesOff","layout","testY","unbindable","value$2","capture","capture$1","timerAttr","isTransitioning$1","hasAll","hasChanges","intermediate","toFixed","setupTransitionListeners","transitionEnd","transitionCancel","isSourceTransition","pseudoElement","propertyName","transitionDone","transitionStart","duration","times","delay","dur","getTransitionDuration","requestAnimationFrame","applyTransitionCss","lastPlacement","shouldTransition","placer","shouldApplyTransitionCss","intermediatePosition","intermediateCssOptions","timerId","startTransitioning","elementBox","panelWidth","panelHeight","attemptBestFit","isVisible","attemptLayout","newReposition","newVisibleW","newVisibleH","newIsVisible","abc","bestNext","preference","setPlacement","setPlacement$1","setMaxHeight","absMax","setMax$1","anchored","available","expandable$1","defaultOr","dephault","positionCss","position$2","classInfo","setClasses","maxHeightFunction","maxWidthFunction","setWidth","allAlignments","nu$5","xOffset","yOffset","insetModifier","insetXOffset","insetYOffset","getClasses","make","alignmentsOn","alignmentsOff","insetNortheast","insetNorthwest","insetNorth","insetSoutheast","insetSouthwest","insetSouth","insetEast","insetWest","nu$4","AttributeValue","Attribute","isBottomToTopDir","BottomToTop","schema$y","defaultLtr","defaultRtl","defaultBottomLtr","defaultBottomRtl","dirElement","isBottomToTop","customLtr","layouts","ls","onLtr","customRtl","onRtl","onBottomLtr","onBottomRtl","HotspotAnchor","anchorInfo","hotspot","overrides","MakeshiftAnchor","adt$7","screen","points","sumAsAbsolute","absolute$1","getRootPoint","frame","frameOwner","compOwner","pointed","calcNewAnchor","optBox","rootPoint","topLeft","onRelative","onFixed","sumAsFixed","layoutsLtr","showAbove","layoutsRtl","NodeAnchor","nodeBox","adt$6","all$3","getBounds$1","getBounds$2","descendOnce$1","descendOnce","getAnchorSelection","modStart","modFinish","SelectionAnchor","selectionBox","optRect","rawRect","labelPrefix$1","eastX","westX","northY$1","southY$1","southeast$1","southwest$1","northeast$1","northwest$1","allRtl","SubmenuAnchor","submenuInfo","AnchorSchema","submenu","makeshift","TransitionSchema","PositionSchema","PlacementSchema","place","anchoring","placee","lastPlace","overrideOptions","simple","positionWithin","posState","placementSpec","boxElement","boundsBox","positionWithinBounds","placeeDetail","anchorage","placeeState","oldVisibility","getFixedOrigin","getRelativeOrigin","newState","doPlace","vis","PositionApis","getMode","pConfig","_pState","reset$2","Positioning","fireDetaching","fireAttaching","virtualAttach","virtualDetach","attach$1","replaceChildren","newSpecs","buildNewChildren","detachChildren$1","deleted","attachWith","insertion","doDetach","detach","parent$1","detachChildren","attachSystem","guiSystem","attachSystemWith","inserter","detachSystem","rebuild","sandbox","sConfig","sState","getAttachPoint","built","onOpen","close$1","isOpen$1","_sandbox","_sConfig","isOpen","cloak","_sState","cssKey","newValue","store","cloakVisibilityAttr","decloak","hasPosition","oldValue","restore","SandboxApis","openWhileCloaked","transaction","isPartOf","getState","ActiveSandbox","sandboxConfig","sandboxState","SandboxSchema","SandboxState","Sandboxing","dismissPopups","repositionPopups","mouseReleased","schema$x","receivingChannel$1","rawSpec","isExtraPart","fireEventInstead","fe","schema$w","receivingChannel","doReposition","onLoad$5","repConfig","repState","onLoad","onUnload$2","onUnload","RepresentApis","setValue","ActiveRepresenting","resetOnDom","_se","memory$1","isNotSet","dataset","dataByValue","dataByText","itemString","currentDataByValue","currentDataByText","newDataByValue","newDataByText","RepresentState","memory","manual","setValue$2","onSetValue","DatasetStore","getDataKey","getFallbackEntry","initialValue","ManualStore","_repState","MemoryStore","initVal","RepresentSchema","Representing","setValueFrom","forbidden","forbid","_v","dump","augment","SketchBehaviours","_placeholder","isSubstituted","compSpec","placeholders","uiType","newSpec","subPlaceholder","childSpecs","substituted","valuesThunk","preprocessor","substitutePlaces","ps","ph","replacements","used","oneReplace","substituteAll","single$2","placeholder","fFactory","sketch","fSchema","fName","fPname","typeSpec","fGroupSchema","fDefaults","fOverrides","requiredSpec","externalSpec","optionalSpec","groupSpec","asNamedPart","part","name$2","adtConstructor","partSchema","PartType","asCommon","combine","partSpec","partValidated","defaults","generate$3","np","g","doGenerateOne","pname","generateOne$1","schemas","names","substitutes","internals","externals","factory","_partSpec","_partValidated","u","components$1","getPart","partKey","getPartOrDie","getParts","partKeys","system","pk","getAllParts","pUid","getAllPartNames","getPartsOrDie","defaultUids","baseUid","partTypes","partNames","pn","defaultUidsSchema","AlloyParts","generateOne","asRawOrDie","partSchemas","partUidsSchemas","baseS","composite$1","specWithUid","supplyUid","partUidsSchema","hasUid","singleSchema","compositeSchema","rawConfig","extraApis","configFields","single$1","composite","partFields","ComposeApis","getCurrent","composeConfig","_composeState","ComposeSchema","Composing","nativeDisabled","onLoad$1","disableConfig","disableState","disabled","disable","enable","hasNative","useNative","nativeDisable","nativeEnable","ariaDisable","ariaEnable","_disableState","disableClass","onDisabled","onEnabled","isDisabled","nativeIsDisabled","ariaIsDisabled","DisableApis","ActiveDisable","DisableSchema","Disabling","dehighlightAllExcept","hConfig","hState","skip","highlighted","highlightClass","skipComp","onDehighlight","highlight","isHighlighted","onHighlight","queryTarget","getByIndex","itemClass","getFirst","_hState","getDelta$2","dest","getCandidates","HighlightApis","dehighlightAll","dehighlight","highlightFirst","firstComp","highlightLast","lastComp","highlightAt","highlightBy","getHighlighted","getPrevious","getNext","HighlightSchema","Highlighting","ENTER","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","cyclePrev","tryPrev","cycleNext","tryNext","inSet","and","preds","isShift","isControl","isNotShift","classification","reportFocusShifting","prevFocus","dom$2","focusee","highlights","FocusInsideModes","typical","infoSchema","stateInit","getKeydownRules","getKeyupRules","optFocusIn","processKey","getRules","keyingConfig","keyingState","transitions","choose","onFocusHandler","focusInside","OnFocusMode","focusIn","keyboardEvents","isEnterOrSpace","OnEnterOrSpaceMode","tryGoInsideComponent","cyclicField","tabbingConfig","visibilitySelector","_tabbingState","tabstops","visibles","firstTabstop","findInitial","focusManager","goFromTabstop","stopIndex","cycle","useTabstopAt","isTabstop","cyclic","findCurrent","tabstop","onEnter","onEscape","AcyclicType","CyclicType","defaultExecute","doDefaultExecute","stopEventForFirefox","_component","schema$v","execute$4","executeConfig","ExecutionType","_executeState","spaceExec","useSpace","enterExec","useEnter","downExec","useDown","execKeys","useControlEnter","flatgrid$1","numRows","numColumns","setGridSize","getNumRows","KeyingState","flatgrid","useH","use","west$1","moveLeft","moveRight","east$1","useV","north$1","south$1","move$1","isHidden$1","locateVisible","locate","withGrid","numCols","newIndex","cycleHorizontal$1","oldRow","oldColumn","colsInRow","newColumn","cycleVertical$1","newCol","schema$u","focusIn$3","gridConfig","_gridState","doMove$2","gridState","handleTab","captureTab","moveLeft$3","moveRight$3","moveNorth$1","moveSouth$1","getKeydownRules$4","findCurrent$1","getKeyupRules$4","FlatgridType","horizontal","tryCycle","schema$t","execute$2","flowConfig","focusIn$2","_state","getInitial","moveLeft$2","moveRight$2","doMove$1","flowState","executeOnMove","getKeyupRules$3","FlowType","_flowState","westMovers","allowVertical","eastMovers","toCell","matrix","cycleHorizontal","deltaCol","newColIndex","cycleVertical","nextRowIndex","colsInNextRow","nextColIndex","moveHorizontal","moveVertical","schema$s","focusIn$1","matrixConfig","previousSelector","selectors","doMove","ifCycle","ifMove","cycles","inRow","cellsInRow","allRows","toMatrix","moveNorth","moveSouth","getKeydownRules$2","getKeyupRules$2","MatrixType","schema$r","menuConfig","getKeydownRules$1","menuState","moveOnTab","getKeyupRules$1","MenuType","schema$q","SpecialType","specialInfo","onSpace","onShiftEnter","onShiftTab","onTab","onUp","onDown","onLeft","onRight","stopSpaceKeyup","acyclic","flow","execution","special","Keying","keyConfig","keyState","sendFocusIn","isFlatgridState","withoutReuse","withReuse","existingComps","deletedComp","virtualReplaceChildren","specs","patchSpecChildren","virtualReplace","replacee","replaceeIndex","childSpec","_replaceConfig","replaceAt","replaceConfig","replaceState","reuseDom","ReplaceApis","appendee","prependee","removee","foundChild","replaceBy","replaceePred","Replacing","eventHandlers","events$d","focus$2","focusConfig","onFocus","FocusApis","blur","blur$1","isFocused","ActiveFocus","tabindex","stopMousedown","FocusSchema","Focusing","toggleConfig","initialState","toggleClass","updateClass","ariaInfo","aria","updateAriaState","onToggled","toggle$2","ToggleApis","ActiveToggle","executor","load","toggleOnExecute","updateExpanded","ToggleSchema","pressed","syncWithExpanded","checked","expanded","Toggling","pointerEvents","onClick","events$a","optAction","hoverEvent","focusEvent","toggledEvent","onHover","onFocus$1","hover","focus$1","toggled","getItemRole","toggling","exclusive","getTogglingSpec","tConfig","schema$p","hasSubmenu","itemBehaviours","ignoreFocus","schema$o","owner$2","parts$h","schema$n","focusWidget","widget","onHorizontalArrow","autofocus","setSource","_widget","widgetBehaviours","itemSchema$2","separator","parts$g","itemInfo","builder","fakeFocus","markers","schema$m","movementInfo","rowSelector","Menu","_spec","_externals","menuBehaviours","selectedItem","checkedRadioItems","ele","deselectOtherRadioItems","role","trace","byItem","byMenu","triggerItem","triggerMenu","generate$2","menus","expansions","menuItems","menuPaths","_triggerItem","extractPreparedMenu","prep","LayeredState","directory","getTriggerData","menuValue","getItemByValue","getPreparedMenu","getTriggeringItem","triggeringItemValue","triggeredItem","triggeredMenu","triggeringItem","triggeringPath","lookupMenu","lookupItem","itemValue","setMenuBuilt","menuName","setContents","sPrimary","sMenus","sExpansions","sPaths","expand","otherMenus","menuValues","getPrimary","getMenus","isClear","getTriggeringPath","extraPath","revPath","menuIndex","collapseItem$1","tieredMenu","collapseMenu","tmenu","highlightPrimary","repositionMenus","_rawUiSpec","submenuParentItems","layeredState","componentMap","primaryName","makeSketch","nbMenu","buildMenus","toDirectory","getItemValue","_container","_menuName","setActiveMenu","mv","closeOthers","others","backgroundMenu","stayInDom","updateAriaExpansions","parentItems","itemComp","getSubmenuParents","updateMenuPath","latestMenuName","menuPrep","activeMenu","ExpandHighlightDecision","expandRight","HighlightSubmenu","activeMenuPrep","buildIfRequired","onOpenSubmenu","collapseLeft","onCollapseMenu","keyOnItem","getSource","onExecute","onOpenMenu","highlightImmediately","navigateOnHover","updateView","HighlightParent","getActiveItem","currentItem","maybeActivePrimary","allMenus","preparedMenus","extractMenuFromContainer","primaryMenu","onRepositionMenu","tmenuBehaviours","_keyInfo","selectedMenu","tieredData","singleData","collapseItem","InlineView","showWithin","thing","showWithinBounds","lazySink","showMenuWithinBounds","menuSpec","menuSandbox","getSubmenuLayouts","triggeringPaths","isFirstTierSubmenu","submenuTriggers","st","submenuLayouts","makeMenu","showAt","showMenuAt","inlineBehaviours","getRelated","isPartOfRelated","onShow","onHide","fireDismissalEventInstead","fireRepositionEventInstead","global$9","Button","lookupAttr","buttonBehaviours","getModAttributes","record","isSketchSpec","anyInSystem","asSpec","global$8","rtlTransform","defaultIconName","defaultIcon","getIconName","lcName","rtlName","addToEnd","ensureTrailing","lookupIcon","iconProvider","addFocusableBehaviour","svg","renderIcon$2","iconName","fallbackIcon","rtlIconClasses","needsRtlTransform","iconHtml","render$3","notificationIconMap","warning","Notification","memBannerText","translationProvider","renderPercentBar","renderPercentText","memBannerProgress","progress","updateProgress","updateText","banner","iconChoices","level","memButton","notificationIconSpec","iconNames","renderFirst","closeButton","ToolbarMode$1","ToolbarLocation$1","global$7","ToolbarMode","ToolbarLocation","option$2","wrapOptional","register$e","stringOrFalseProcessor","stringOrNumberProcessor","auto","getHeightOption","getWidthOption","getMinWidthOption","getMinHeightOption","getMaxWidthOption","getMaxHeightOption","getUserStyleFormats","shouldMergeStyleFormats","shouldAutoHideStyleFormats","getContentLanguages","getRemovedMenuItems","getToolbarMode","getToolbarGroups","getToolbarLocation","fixedContainerSelector","fixedToolbarContainerTarget","isToolbarPersist","getStickyToolbarOffset","getMenubar","getToolbar","getFilePickerCallback","getFilePickerValidatorHandler","getFilePickerTypes","useTypeaheadUrls","getAnchorTop","getAnchorBottom","isDraggableModal$1","useStatusBar","useElementPath","useBranding","getResize","getPasteAsText","getSidebarShow","isSkinDisabled","isMenubarEnabled","getSkinUrl","skinUrl","skin","baseURL","getLineHeightFormats","isToolbarEnabled","toolbar","isToolbarString","isToolbarObjectArray","isMultipleToolbars","getMultipleToolbarsOption","toolbars","toolbarArray","isToolbarLocationBottom","fixedContainerTarget","useFixedContainer","getUiContainer","isDistractionFree","isStickyToolbar","Options","isDraggableModal","autocompleteSelector","AutocompleterEditorEvents","redirectKeyToItem","getItem","getMenu","isActive","isMenuOpen","stopImmediatePropagation","cancelIfNecessary","isProcessingAction","ItemResponse","ItemResponse$1","navClass","selectableClass","colorClass","presetClasses","normal","color","tickedClass","iconClass","textClass","caretClass","activeClass","containerClass","containerRowClass","classForPreset","presets","hasIcons","menuClasses","dom$1","chunk","rowDom","chunks","preprocessCollection","isSeparator","allSplits","currentSplit","forCollection","initItems","_hasIcons","_item","menuHasIcons","handleError","createHorizontalPartialMenuWithAlloyItems","_columns","_presets","createPartialMenuWithAlloyItems","forSwatch","forToolbar","fetch$1","getSubmenuItems","onItemAction","optionalName","optionalText","optionalIcon","optionalTooltip","optionalLabel","optionalShortcut","optionalSelect","borderless","defaultedColumns","defaultedMeta","defaultedOnAction","defaultedType","generatedName","namePrefix","separatorMenuItemSchema","autocompleterItemSchema","baseToolbarButtonFields","toolbarButtonSchema","createToolbarButton","baseToolbarToggleButtonFields","toggleButtonSchema","createToggleButton","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","contextFormSchema","contextToolbarSchema","cardImageFields","cardImageSchema","cardTextFields","cardTextSchema","itemSchema$1","cardimage","cardtext","cardcontainer","cardContainerSchema","commonMenuItemFields","valuePrefix","cardMenuItemSchema","choiceMenuItemSchema","baseFields","insertTableFields","colorSwatchFields","fancyMenuItemSchema","inserttable","colorswatch","menuItemSchema","nestedMenuItemSchema","toggleMenuItemSchema","detectSize","selectorClass","columnLength","thisTop","cTop","ceil","namedEvents","SimpleBehaviours","ExclusivityChannel","ShowTooltipEvent","HideTooltipEvent","hideAllExclusive","_tConfig","_tState","TooltippingApis","setComponents","tState","getTooltip","ActiveTooltipping","tooltipConfig","clearTooltip","clearTimer","resetTimer","isShowing","popup","tooltipDom","tooltipComponents","setTooltip","TooltippingSchema","Tooltipping","ReadOnlyChannel","ReadOnlyDataSchema","broadcastReadonly","uiComponents","readonly","outerContainer","mothership","uiMothership","setupReadonlyModeSwitch","receivingConfig","DisablingConfigs","runWithApi","getApi","onControlAttached","editorOffCell","onDestroy","onControlDetached","onMenuItemExecute","itemResponse","triggersSubmenu","CLOSE_ON_EXECUTE","menuItemEventOrder","componentRenderPipeline","renderCommonItem","providersbackstage","optComponents","buildData","convertText","isMac","ctrl","shift","updated","renderIcon$1","renderText","renderHtml","renderStyledText","renderShortcut","renderCheckmark","renderColorStructure","providerBackstage","itemText","ariaLabel","iconSvg","iconContent","baseDom","getDom","renderItemDomStructure","domTitle","renderItemStructure","providersBackstage","renderIcons","iconSpec","leftIcon","checkmark","checkMark","textRender","htmlContent","shortcutContent","renderNormalItemStructure","tooltipBehaviour","sharedBackstage","tooltipWorker","getSink","_tooltip","replaceText","matchText","encoded","encodeText","escapedMatchRegex","escape","render$2","directionClass","alignClass","align","valign","getValignClass","renderContainer","renderImage","shouldHighlight","cardText","highlightOn","parts$f","hexColour","shorthandRegex","longformRegex","isHexString","hex","normalizeHex","numChars","removeFromStart","removeLeading","extractValues","longForm","hexString","m","getLongForm","splitForm","toHex","fromRgba","rgbaColour","red","green","blue","round$1","rgbRegex","rgbaRegex","alpha","isRgbaComponent","fromHsv","hsv","hue","saturation","brightness","side","chroma","fromHex","fromStringValues","fromString","rgbaString","rgbMatch","rgbaMatch","rgba","fireResizeContent","hsvColour","fromRgb","minRGB","maxRGB","hsvToHex","anyToHex","fromString$1","canvas","canvasContext","getContext","clearRect","fillStyle","fillRect","getImageData","storageName","colorCache","storageString","localstorage","cache","splice","unshift","pop","setItem","ColorCache","mapColors","colorMap","colors","option$1","getColorCols$1","hasCustomColors$1","getColors$2","addColor","fallbackColor","getAdditionalColors","hasCustom","applyColor","onChoice","colorPickerDialog","colorOpt","getColors$1","getFetch$1","setIconColor","splitButtonApi","newColor","setIconFill","registerTextColorButton","lastColor","addSplitButton","optCurrentRgb","getCurrentColor","currentRgb","currentHex","_splitButtonApi","fireTextColorChange","registerTextColorMenuItem","addNestedMenuItem","fancytype","colorpicker","_api","onCancel","createPartialChoiceMenu","onItemValueHandler","alloyItems","createChoiceItems","itemPresets","useText","isEnabled","renderChoiceItem","deriveMenuMovement","menuMarkers","getColorItems","backstage","useCustomColors","initData","allowCustomColors","colorinput","hasCustomColors","getColors","cellOverEvent","cellExecuteEvent","labelId","se","makeComponents","cellRow","makeLabelText","fancyMenuItems","sizeLabelId","makeCells","emptyLabelText","memLabel","selectedRow","selectedColumn","selectCells","getColorCols","providers","widgetSpec","autocomplete","separator$3","nested","downwardsCaret","renderSubmenuCaret","toggle$1","fancy","card","FocusMode","createMenuItemFromBridge","isHorizontalMenu","parseForHorizontalMenu","menuitem","createNestedMenuItem","createToggleMenuItem","createSeparatorMenuItem","createFancyMenuItem","createAutocompleteItems","createCardMenuItem","createAutocompleterItem","createPartialMenu","itemHasIcon","createTieredDataFrom","partialMenu","Autocompleter","processingAction","activeState","autocompleter","hideIfNecessary","getCombinedItems","choices","itemMeta","nr","initRange","getAutocompleterRange","autocompleterApi","reload","fetchOptions","BUBBLE_TO_SANDBOX","display","lookupData","ld","focusMode","ContentFocus","createInlineMenuFrom","updateDisplay","combinedItems","autocompleterUiApi","DelayedFunction","fun","ref","schedule","getTouch","touches","monitor","startData","longpressFired","longpress$1","touch","distX","distY","isFarEnough","fireIfReady","setup$d","rawSettings","stopBackspace","tapEvent","simpleEvents","tapStopped","pasteTimeout","onPaste","onKeydown","isDangerous","onFocusIn","focusoutTimeout","onFocusOut","derive","rawTarget","stopped","resume","complete","doTriggerHandler","eventType","isStopped","isCut","fromSource","handlerInfo","eventHandler","doTriggerOnUntilStopped","listeners","_logger","fromExternal","listener","triggerOnUntilStopped","EventRegistry","registerId","extraArgs","curried","curryArgs","unregisterId","handlersById","_eventName","filterByType","broadcastHandler","isAboveRoot","findHandler","Registry","readOrTag","unregister","tagId","conflict","failOnDuplicate","getById","Container","domWithoutAttributes","containerBehaviours","takeover","domEvents","triggerUntilStopped","_alloyId","triggerHandler","broadcast$1","broadcastData","receivers","receiver","schema$l","parts$e","excludeFactory","FormField","fieldBehaviours","descriptor","descriptorId","getField","getLabel","ActiveTabstopping","tabConfig","tabAttr","TabstopSchema","Tabstopping","renderFormFieldWith","pLabel","pField","extraClasses","extraBehaviours","renderFormFieldSpecWith","renderFormFieldDomWith","renderLabel$2","formChangeEvent","formCloseEvent","formCancelEvent","formActionEvent","formSubmitEvent","formBlockEvent","formUnblockEvent","formTabChangeEvent","formResizeEvent","renderCollection","runOnItem","collectionEvents","currentActive","iterCollectionItems","applyAttributes","childElm","htmlLines","mapItemName","encodeAllRaw","schema$k","focusBehaviours","selectOnFocus","setSelectionRange","inputBehaviours","inputAttributes","inputStyles","inputClasses","Input","nu$3","baseFn","callbacks","nCallback","isReady","cbs","cb","LazyValue","pure","errorReporter","make$5","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","Future","ariaElements","isAriaElement","markValid","invalidConfig","invalidClass","notify","notifyInfo","validHtml","onValid","markInvalid","invalidState","onInvalid","_invalidState","validatorInfo","onValidate","InvalidateApis","isInvalid","ActiveInvalidate","validateOnLoad","InvalidateSchema","Invalidating","validation","CouplingApis","getCoupled","coupleConfig","coupleState","getOrCreate","CouplingSchema","CouplingState","coupled","Coupling","partType$1","HighlightOnOpen","getAnchor","getHotspot","getAnchorOverrides","mapFetch","onOpenSync","highlightOnOpen","processed","futureData","fetcher","getLazySink","tdata","HighlightFirst","openF","_onOpenSync","_highlightOnOpen","togglePopup","matchWidth","useMinWidth","buttonWidth","set$7","sinkDetail","internalSink","lazySinkFn","doRepositionMenus","makeSandbox$1","ariaControls","sandboxClasses","sandboxBehaviours","sandboxFields","schema$j","parts$d","Dropdown","switchToMenu","HighlightNone","triggerExecute","dropdownBehaviours","Unselecting","unselectable","colorInputChangeEvent","colorSwatchChangeEvent","colorPickerCancelEvent","renderColorInput","colorInputBackstage","inputValue","emitSwatchChange","colorBit","memColorButton","renderPanelButton","colorPicker","valueOpt","colorButton","_field","labelPart","edgePart","edgeActions","det","mouseIsDown","tlEdgePart","tedgePart","trEdgePart","redgePart","brEdgePart","bedgePart","blEdgePart","ledgePart","thumbPart","spectrumPart","getValueFromEvent","spectrum","SliderParts","sliderChangeEvent","getEventSource","isTouchEvent$1","touchEvent","mouseEvent","minX","minY","min1X","min1Y","max1X","max1Y","xRange","yRange","halfX","halfY","stepSize","snap","snapToGrid","snapStart","rounded","hasEdge","edgeName","hasLEdge","hasREdge","hasTEdge","hasBEdge","currentValue","xyValue","fireSliderChange$3","reduceBy","increaseBy","capValue","findValueOf","hasMinEdge","hasMaxEdge","minBound","maxBound","screenRange","capMin","capMax","findOffsetOf","extraValue","rawSteps","maxSteps","snapValueOf","findOffsetOfValue$2","maxOffset","centerMinEdge","centerMaxEdge","getBoundsProperty","getMinXBounds","getMaxXBounds","getMinYBounds","getMaxYBounds","getXScreenRange","getYScreenRange","getCenterOffsetOf","componentMinEdge","componentMaxEdge","spectrumMinEdge","getXCenterOffSetOf","componentBounds","spectrumBounds","getYCenterOffSetOf","fireSliderChange$2","findValueOfOffset$1","handleMovement$2","xValue","moveBy$2","findPositionOfValue$1","slider","minEdge","maxEdge","minOffset","findOffsetOfValue$1","onLeft$2","onRight$2","onUp$2","onDown$2","edgeActions$2","HorizontalModel","setToMin","setToMax","findValueOfOffset","findPositionOfValue","setPositionFromValue","thumb","getSpectrum","thumbRadius","fireSliderChange$1","handleMovement$1","yValue","findOffsetOfValue","onLeft$1","onRight$1","onUp$1","onDown$1","edgeActions$1","VerticalModel","fireSliderChange","sliderValue","handleMovement","isVerticalMovement","TwoDModel","mX","mY","xPos","yPos","thumbXRadius","thumbYRadius","Slider","getThumb","modelDetail","wasDown","onChoose","onDragStart","onDragEnd","sliderBehaviours","changeValue","getInitialValue","onInit","resetToMin","resetToMax","fieldsUpdate","sliderUpdate","paletteUpdate","owner$1","schema$i","getPartName$1","make$4","formBehaviours","form","resPs","resPThunk","pName","Form","fSpec","fieldParts","validInput","invalidInput","validatingInput","translatePrefix","rgbFormFactory","getClass","onValidHexx","onInvalidHexx","invalidation","renderTextField","description","helptext","comps","concats","copyRgbToForm","rgb","memPreview","updatePreview","preview","rgbFormSketcher","setValueRgb","onInvalidInput","onValidRgb","hexField","copyRgbToHex","onValidInput","isHexInputEvent","onValidHex","formPartStrings","redStrings","greenStrings","blueStrings","hexStrings","updateHex","copyHexToRgb","paletteFactory","_translate","setColour","ctx","grdWhite","createLinearGradient","addColorStop","grdBlack","saturationBrightnessPaletteSketcher","_thumb","_slider","setHue","_apis","setPaletteHue","setThumb","setPaletteThumb","makeFactory","colourPickerSketcher","rgbForm","onInvalidHex","sbPalette","paletteRgba","paletteHue","memSlider","sliderFactory","memPalette","memRgb","updatePalette","_hex","palette","updateFields","updateSlider","hueDegreesToSlider","updatePaletteThumb","runUpdates","updates","hexToHsv","onFieldsUpdate","oldHue","newHsv","newHex","onPaletteUpdate","hueSliderToDegrees","oldRgb","oldHsv","onSliderUpdate","ComposingConfigs","mem","processors","withComp","optInitialValue","withElement","RepresentingConfigs","rawProcessors","rawValue","postprocess","english","renderColorPicker","colourPickerFactory","translate$1","memPicker","picker","renderDropZone","onDrop","transferEvent","handleFiles","dataTransfer","files","onSelect","allowedImageFileTypes","explode","filterByExtension","memInput","accept","beforeObject","afterObject","craftWithClasses","outline","craft","triggerTab","targetComp","isPseudoStop","renderIFrame","isSandbox","sandboxed","isTransparent","transparent","baseClass","srcdoc","sourcing","cachedValue","_frameComponent","frameComponent","getDynamicSource","renderImagePreview","cachedData","memImage","memContainer","fakeValidatedData","zoom","cachedWidth","cachedHeight","translatedData","z","applyFramePositioning","imageWidth","imageHeight","panel","panelW","panelH","zoomToFit","calculateImagePosition","imageComponent","loaded","l","naturalWidth","naturalHeight","internalToolbarButtonExecute","toolbarButtonEventOrder","renderIcon","iconsProvider","renderIconFromPack","renderReplacableIconFromPack","renderLabel","updateMenuText","updateMenuIcon","renderCommonDropdown","optMemDisplayText","optMemDisplayIcon","onLeftOrRightInMenu","dropdown","tooltipAttributes","translatedTooltip","displayIcon","isSeparator$1","separator$2","unwrapReferences","realItems","isMenuItemReference","getFromItem","isExpandingMenuItem","submenuItems","getFromExpandingItem","itemWithValue","generateValueIfRequired","mainMenu","submenus","isSingleListItem","dataAttribute","fetchItems","dropdownComp","selectedValue","findItemByValue","HtmlSelect","initialValues","selectClasses","selectAttributes","selectBehaviours","schema$h","coupledPart","selfName","otherName","lock","onLockedChange","parts$c","lockClass","FormCoupledInputs","coupledFieldBehaviours","field1Name","field1","field2Name","field2","getField1","getField2","getLock","parseSize","sizeText","convertUnit","inInch","noSizeConversion","_input","makeRatioConverter","currentFieldText","otherFieldText","cValue","oValue","cSize","oSize","ratioSizeConversion","baseInputBehaviours","multiline","validatingBehaviours","vl","inputmode","classname","extraClasses2","flex","maximized","ActiveStreaming","streamConfig","streamState","stream","streams","cancelEvent","_config","setTimer","StreamingState","StreamingSchema","streamInfo","sInfo","throttler","onStream","stopEvent","Streaming","setValueFromItem","itemData","setCursorAtEnd","setSelectionOn","attemptSelectOver","selectsOver","inputDisplay","getDisplayText","setSelectionToEnd","itemExecute","schema$g","parts$b","previewing","populateFromBrowse","typeahead","Typeahead","navigateList","highlighter","focusBehaviours$1","responseTime","minChars","previousValue","pv","sandboxIsOpen","openClass","onItemExecute","dismissOnBlur","typeaheadBehaviours","bindFuture","resA","bindResult","mapResult","foldResult","whenError","whenValue","withTimeout","timeout","errorThunk","timedOut","FutureResult","getMenuButtonApi","renderMenuButton","_comp","getFetch","getButton","getMenuItemAction","storage","orig","getMenuItemSetup","renderCommonSpec","actionOpt","common","domFinal","renderIconButtonSpec","renderButtonSpec","translatedText","baseClasses","buttonType","calculateClassesFromButtonType","renderButton","buttonSpec","renderFooterButton","isMenuFooterButtonSpec","menuButtonSpec","fixedSpec","isNormalFooterButtonSpec","renderDialogButton","separator$1","toMenuItem","staticMenuItem","filteredTargets","toMenuItems","filterLinkTargets","headerTargets","linkInfo","anchorTargets","anchorTargetTop","anchorTop","anchorTargetBottom","anchorBottom","filterByQuery","term","lowerCaseTerm","getItems","fileType","urlBackstage","urlInputValue","getLinkInformation","history","historyTargets","getHistory","errorId","make$2","dialogData","factories","interpreter","renderBar","collection","alertbanner","iconTooltip","renderAlertBanner","renderInput","textarea","renderTextarea","backstageShared","renderLabel$1","iframe","iframeSpec","makeIframe","checkbox","toggleCheckboxHandler","makeIcon","memIcons","renderCheckbox","dropzone","renderGrid","listbox","initialItem","sketchSpec","listBoxWrap","renderListBox","selectbox","translatedOptions","chevron","selectWrap","renderSelectBox","sizeinput","converter","ratioEvent","pLock","formGroup","getFieldPart","isField1","widthField","heightField","_lock","unitDec","numText","formatSize","optCurrent","optOther","value1","value2","renderSizeInput","renderSlider","urlinput","updateHistory","urlEntry","addToHistory","memUrlBox","_newValue","getValidationHandler","memInvalidIcon","invalidComp","_menu","_entry","errId","memStatus","optUrlPicker","getUrlPicker","browseUrlEvent","memUrlPickerButton","componentData","urlData","fieldname","chosenData","renderUrlInput","customeditor","editorApi","memReplaced","ta","isOldCustomEditor","scriptId","scriptUrl","ea","cvalue","ed","htmlpanel","imagepreview","renderTh","renderTd","renderTr","header","renderTable","renderPanel","noFormParts","interpretInForm","oldBackstage","newBackstage","interpretParts","westEdgeX","middleX","eastEdgeX","northY","southY","centreY","lookupPreserveLayout","preserve","lookupFlippedLayout","flip","bubbleAlignments$2","valignCentre","alignCentre","alignLeft","alignRight","getInlineDialogAnchor","contentAreaElement","lazyAnchorbar","lazyUseEditableAreaAnchor","getBannerAnchor","getCursorAnchor","bodyElement","getNodeAnchor$1","getAnchors","isToolbarTop","useFixedToolbarContainer","inlineDialog","ColorInputBackstage","DialogBackstage","defaultStyleFormats","mapFormats","userFormats","fmt","customFormats","isInlineFormat","isBlockFormat","isSelectorFormat","formatNameWithPrefix","getStyleFormats","registeredUserFormats","registerFormats","registerCustomFormats","processBasic","isSelectedFor","getPreviewFor","formatterSpec","getStylePreview","register$a","doEnrich","newItems","enrichMenu","getStyleItems","enrichSupported","customSpec","newItem","enrichCustom","init$8","getCssText","settingsFormats","settingsFlattenedFormats","eventsFormats","eventsFlattenedFormats","replaceSettings","enriched","modifications","fromSettings","fromEvents","getFlattenedKeys","hasContentEditableState","isContentEditableTrue","isContentEditableFalse","getElementText","isValidAnchor","isHeader","isChildOfContentEditableTrue","isValidHeader","headerTarget","headerId","getOrGenerateId","getLevel","anchorTarget","anchorId","anchorText","getTargetElements","hasTitle","LinkTargets","getHeaderTargets","getAnchorTargets","STORAGE_KEY","isHttpUrl","isRecordOfUrlArray","getAllHistory","unparsedHistory","SyntaxError","itemsWithoutUrl","setAllHistory","isTruthy","makeMap","getPicker","getPickerSetting","pickerTypes","optFileTypes","_picker","types","getPickerTypes","getTextSetting","UrlInputBackstage","init$7","contextMenuState","isPositionedAtTop","getDockingMode","setDockingMode","HeaderBackstage","interpretWithoutForm","isContextMenuOpen","setContextMenuState","parts$a","partType","schema$f","itemsPart","parts$9","CustomList","_external","shell","getListContainer","listBehaviours","setItems","itemComps","numListsRequired","numListsToAdd","itemsToAdd","makeItem","itemsToRemove","builtLists","setupItem","schema$e","parts$8","Toolbar","getGroupContainer","toolbarBehaviours","setGroups","setup$a","isDocked$2","getBehaviours$1","StaticHeader","isDocked","getBehaviours","getOffsetParent","offsetParent$1","getOrigin","morphAdt","appear","contextualInfo","transitionClass","fadeOutClass","fadeInClass","disappear","isVisibleForModes","isBottomCompletelyVisible","isTopCompletelyVisible","getPrior","getInitialPos","revertToOriginal","clearInitialPos","offsetBox","_left","_top","_right","_bottom","morphToFixed","getModes","setInitialPos","storePrior","winBox","isTop","getMorph","morphToOriginal","morphToStatic","setDocked","onUndocked","morphToCoord","onDocked","updateVisibility","morphToDocked","contextual","contextInfo","lazyContext","isPartiallyVisible","setVisible","resetInternal","getMorphToOriginal","morph","refresh$4","lazyViewport","refreshInternal","DockingApis","setModes","ActiveDocking","dockInfo","dockState","onShown","onHidden","DockingSchema","Docking","docked","visible","initialBounds","toolbarHeightChange","editorStickyOnClass","editorStickyOffClass","isDockedMode","updateIframeContentFlow","parentElem","parentWidth","getOccupiedHeight","updateSinkVisibility","sinkElem","updateEditorClasses","editorContainer","focusedElm","runOnSinkElement","onDockingSwitch","additionalBehaviours","headerHeight","boxHeight","topBound","headerElem","focusedElem","ownerDoc","activeElm","restoreFocus","rootElm","findFocusedElem","win$1","StickyHeader","lazyHeader","containerHeader","viewHeight","scrollPos","markerElement","markerPos","markerHeight","markerTop","markerBottom","editorHeaderPos","editorHeaderHeight","editorHeaderTop","editorHeaderBottom","editorHeaderDockedAtTop","editorHeaderDockedAtBottom","scrollFromBehindHeader","groupToolbarButtonSchema","baseMenuButtonFields","MenuButtonSchema","createMenuButton","splitButtonSchema","SilverMenubar","setMenus","newMenus","internal","activeButton","hoveredButton","activeComp","hoveredComp","getAnimationRoot","slideConfig","getDimensionProperty","dimension","disableTransitions","shrinkingClass","growingClass","setShrunk","closedClass","setGrown","doImmediateShrink","slideState","_calculatedSize","setCollapsed","onStartShrink","onShrunk","doStartShrink","calculatedSize","doStartSmartShrink","doStartGrow","wasShrinking","beforeSize","fullSize","setExpanded","onStartGrow","isGrowing","_slideState","isShrinking","SlidingApis","isExpanded","grow","shrink","immediateShrink","hasGrown","hasShrunk","isTransitioning","toggleGrow","immediateGrow","onGrown","ActiveSliding","SlidingSchema","Sliding","schema$d","getPartName","make$1","getSlotNames","onSlot","def","slot","doShowing","_key","hideSlot","hideSlots","showSlot","getSlot","hideAllSlots","slotBehaviours","slotApis","SlotContainer","sSpec","sidebarSchema","makePanels","panelConfigs","bridged","createSidebar","sidepanel","optSidePanelSpec","sidePanelSpec","makeSidebar","slotContainer","whichSidebar","sidebar","fixSize","autoSize","BlockingApis","getBusySpec","blockerBehaviours","blockSpec","isBlocked","onBlock","blockWith","onUnblock","BlockingSchema","Blocking","getAttrs","focusBusyComponent","throbber","toggleThrobber","tabIndexAttr","dataTabIndexAttr","iframeElement","tabIndex","toggleEditorTabIndex","_root","_behaviours","getBusySpec$1","throbberFocus","busyComp","setup$7","lazyThrobber","throbberState","stealFocus","isFocusEvent","isPasteBinTarget","editorManager","within","withinWidth","apportion","parray","toUnit","overflower","divide","tryFit","fitLast","overflow","fitAll","setGroups$1","storedGroups","bGroups","refresh$2","setOverflow","builtGroups","overflowGroup","focusedComp","availableWidth","overflows","schema$c","schema$b","parts$7","expandable","setMax","schema$a","parts$6","toggledClass","toolbarSandbox","bounder","FloatingToolbarButton","makeSandbox","schema$9","parts$5","ToolbarGroup","tgroupBehaviours","itemSelector","buildGroups","refresh$1","memFloatingToolbarButton","overflowGroups","floatingToolbarButton","SplitFloatingToolbar","getOverflowBounds","overflowToggledClass","splitToolbarBehaviours","getOverflow","schema$8","parts$4","onClosed","onOpened","toggleToolbar","overf","SplitSlidingToolbar","toolbarToggleEvent","_button","doSetGroups","renderToolbarGroupCommon","toolbarGroup","renderToolbarGroup","getToolbarbehaviours","toolbarSpec","modeName","onAttached","initGroups","renderMoreToolbarCommon","cyclicKeying","renderFloatingMoreToolbar","baseSpec","moreDrawerData","headerBounds","docElem","docBounds","scrollHeight","overflowXOffset","renderSlidingMoreToolbar","renderToolbar","scrolling","partMenubar","partMultipleToolbar","_mToolbar","tc","partToolbar","renderer","sliding","floating","toolbarFactory","lazyToolbar","lazyMoreButton","partHeader","sticky","partSocket","partSidebar","partThrobber","OuterContainer","getSocket","setSidebar","showSidebar","configKey","toggleSidebar","getHeader","setToolbar","setToolbars","mToolbar","refreshToolbar","toggleToolbarDrawer","isToolbarDrawerToggled","getThrobber","focusToolbar","setMenubar","menubar","focusMenubar","grps","grp","renderedToolbars","defaultMenus","edit","tools","help","parseItemsString","identifyMenus","rawMenuData","userDefinedMenus","validMenus","isDefaultMenu","menuData","removedMenuItems","itemName","removedMenuItem","fireSkinLoaded","_skinLoaded","fireSkinLoaded$1","initialized","loadStylesheet","stylesheetUrl","styleSheetLoader","unload","loadUiSkins","loadShadowDomUiSkins","loadSkin","isInline","contentCSS","fireSkinLoadError$1","fireSkinLoadError","onSetupFormatToggle","boundCallback","binding","formatChanged","once","onSetupEvent","handleEvent","onActionToggleFormat$1","rawItem","onActionExecCommand","generateSelectItems","_editor","generateItem","si","validateItems","preItems","getCurrentValue","shouldHide","createMenuItems","createSelectButton","getComponent","Delimiter","buildBasicSettingsDataset","settingName","delimiter","rawFormats","SemiColon","alignMenuItems","getSpec$4","_format","alignment","canApply","findNearest","getStyles","getSpec$3","fallbackFormat","systemStackFonts","splitFonts","fontFamily","fonts","font","getSpec$2","systemFont","getMatchingValue","getFirstFont","queryCommandValue","matchOpt","matchesSystemStack","isSystemFontStack","legacyFontSizes","keywordFontSizes","toPt","fontSize","precision","factor","toLegacy","getSpec$1","pt","legacy","Space","getSpec","getFormatItems","flattenedItems","ActiveReflecting","reflectingConfig","reflectingState","renderComponents","newComponents","channel","rawData","ReflectingApis","reflectState","ReflectingSchema","Reflecting","schema$7","arrowPart","arrow","buttonPart","btn","splitDropdown","parts$3","SplitDropdown","executeOnButton","buttonEvents","splitDropdownBehaviours","getButtonApi","getToggleApi","getTooltipAttributes","focusButtonEvent","renderCommonStructure","renderCommonToolbarButton","specialisation","itemApi","toolbarButtonBehaviours","renderToolbarButtonWith","bonusEvents","renderToolbarToggleButtonWith","fetchChoices","defaultToolbar","renderFromBridge","bridgeBuilder","renderToolbarButton","togglebutton","renderToolbarToggleButton","menubutton","splitbutton","displayChannel","underlinePath","buttonComp","_c","renderSplitButton","grouptoolbarbutton","identifyButtons","allowToolbarGroups","TopToBottom","renderFloatingToolbarButton","styleSelectButton","createStylesButton","fontsizeSelectButton","createFontSizeButton","fontSelectButton","createFontFamilyButton","formatButton","createBlocksButton","alignMenuButton","createAlignButton","bespokeButtons","fontsize","fontfamily","blocks","createToolbar","toolbarConfig","filteredItemGroups","subItem","removeUnusedDefaults","strToolbar","groupsStrings","convertStringToolbar","isToolbarGroupSettingArray","lookupButton","toolbarItem","prefixes","extractFrom","toolbarGroups","rawUiConfig","toolbarButtonsConfig","detection","isiOS12","Iframe","lastToolbarWidth","eTargetNode","uiRoot","attachSystemAfter","innerWidth","contentWindow","initialDocEle","lastWindowDimensions","lastDocumentDimensions","resizeWindow","outer","resizeDocument","fireScrollContent","elementLoad","setupEvents$1","socket","limit","unbinder","toolbarMode","iframeContainer","parseToInt","numToPx","calcCappedSize","minSize","maxSize","minOverride","maxOverride","getHeightWithFallback","baseHeight","baseWidth","InlineHeader","floatContainer","isSticky","editorMaxWidthOpt","headerBackstage","isSplitToolbar","removed","calcToolbarOffset","tbar","repositionPopups$1","updateChromeUi","resetDocking","bodyMargin","updateChromeWidth","targetBounds","updateChromePosition","floatContainerComp","updateMode","updateUi","currentMode","newMode","toolbarHeight","docHeight","calcMode","verticalDir","setupMode","removeClass","getTargetPosAndBounds","Inline","toolbarPersist","uiContainer","prevPosAndBounds","resizeContent","prevPos","prevBounds","hasResized","setupEvents","hideContextToolbarEvent","runOnExecute","getFormApi","renderContextToggleButton","renderContextButton","buildInitGroups","findPrimary","mementos","asSpecs","compInSystem","ContextForm","isVerticalOverlap","threshold","getSelectionBounds","leaf$1","getRangeRect","bodyPos","getContextToolbarBounds","toolbarType","viewportBounds","contentAreaBox","toolbarOrMenubarEnabled","getHorizontalBounds","isToolbarLocationTop","headerBox","isToolbarBelowContentArea","isToolbarAbove","containerBounds","getVerticalBounds","bubbleAlignments$1","inset","anchorOverrides","shouldUseInsetLayouts","determineInsetLayout","contextbar","selectionBounds","isSameAnchorElement","lastElement","isEntireElementSelected","currentPosition","preservePosition","isReposition","getAnchorSpec$2","mobile","smartInsetLayout","getInsetLayouts","matchTargetWith","ctxs","toolbarApi","contextToolbars","contextForms","matchStartNode","nodeCandidates","editorCandidates","nodeMatches","editorMatches","doesPositionExist","filterToolbarsByPosition","hasSelectionToolbars","hasNodeToolbars","nodeToolbars","selectionToolbars","filterByPositionForStartNode","matchAncestor","ancestorElem","inNodeScope","findPosition","basePosition","filterByPositionForAncestorNode","categorise","forms","inEditorScope","formNavigators","registerForm","contextForm","registerToolbar","contextToolbar","forwardSlideEvent","backSlideEvent","changeSlideEvent","resizingClass","register$9","registryContextToolbars","lastTrigger","lastContextPosition","newContents","oldContents","forwardContents","renderContextToolbar","canLaunchToolbar","shouldContextToolbarHide","contextToolbarBounds","anchorBounds","getAnchorElementBounds","hideOrRepositionIfNecessary","contextBarEle","wrapInPopDialog","shortcuts","getScopes","alloySpec","buildToolbar","allButtons","buildContextToolbarGroups","buildContextFormGroups","anchorLayout","getAnchorLayout","launchContext","launchContextToolbar","isSameLaunchElement","rootElem","isOutsideRoot","lookup$1","registerController","getMenuItems","getOptions","hash","oldApi","unbindWatcher","watcher","setCurrent","addMenuButton","onToolbarSetup","onMenuSetup","lineHeightSpec","normalise","register$7","customCode","customValue","lang","languageSpec","register$6","createAlignMenu","createFontFamilyMenu","createStylesMenu","createBlocksMenu","createFontSizeMenu","onSetupOutdentState","queryCommandState","register$5","registerButtons$2","makeSetupHandler","pasteAsText","pastePlainTextToggleHandler","onActionToggleFormat","registerButtons$1","_idx","registerFormatButtons","registerCommandButtons","registerCommandToggleButtons","registerMenuItems$2","onSetupUndoRedoState","registerMenuItems$1","registerButtons","onSetupVisualAidState","hasVisual","registerToolbarButton","addToggleMenuItem","registerMenuItems","setup$6","register$8","applyFormat","removeFormat","lastForeColor","lastBackColor","register$c","register$4","patchPipeConfig","shouldNeverUseNative","getAvoidOverlapSelector","getContextMenu","contextMenus","contextMenu","isTouchEvent","transposeContentAreaContainer","containerPos","getPos","transpose","getPointAnchor","pageX","pageY","fromPageXY","fromClientXY","getSelectionAnchor","getAnchorSpec$1","anchorType","getNodeAnchor","initAndShow$1","buildMenu","contextmenu","anchorSpec","bubbleAlignments","getAnchorSpec","initAndShow","openiOS","originalSelection","selectionReset","unbindEventListeners","preventMousedown","clearSelectionReset","setupiOSOverrides","rngRect","isTouchWithinSelection","makeContextItem","commonMenuItem","addContextMenuGroup","groupItems","lastMenuItem","isTriggeredByKeyboard","pointerType","getSelectedElement","setup$5","hideContextMenu","showContextMenu","isNativeOverrideKeyEvent","isContextMenuDisabled","getAnchorType","selectedElement","sections","allItems","generateContextMenu","hideEvents","subtract","changes","asFixed","coord","asAbsolute","asOffset","toStyles","stylesOpt","absorb","partialCoord","originalCoord","absorbOne","stencil","optX","optY","parseAttrToInt","NaN","getCoords","snapInfo","snapsInfo","leftAttr","topAttr","moveOrSnap","newCoord","mustSnap","findClosestSnap","findSnap","fixedCoord","spanned","stopDrag","findMatchingSnap","snaps","sensor","inRange","coord1","coord2","withinRange","getSnapPoints","bestSnap","getDeltas","bestDeltas","DraggingApis","snapTo","dragConfig","getTarget","repositionTarget","snapPin","snapTo$1","initialAttribute","instigate","anyComponent","zindex","changeZIndex","discard","zIndex","resetZIndex","createComponent","blockerClass","blockerEvents","SnapSchema","schema$6","getCurrentCoord","lift3","oc","location","calcNewCoord","optSnaps","currentCoord","coords","absoluteCoord","newCoords","offset$1","clampCoords","translated","deltaX","deltaY","snapping","onSensor","calcStartData","dragMode","dragStartData","getStartData","dlt","onDrag","dragBy","updateStartState","setStartData","MouseData","events$2","stop$1","init$2","schema$5","TouchData","getDataFrom","events$1","blockerSingleton","stopBlocking","init$1","mouseOrTouch","DraggingBranches","DragState","dragEvent","nuData","calculateDelta","Dragging","dragger","calcSnap","selectorOpt","snapWidth","selectorHandle","sensorLeft","sensorTop","getSnapsConfig","currentTd","isSameCell","createSelector","setup$4","tlTds","brTds","getTopLeftSnap","memTopLeft","getBottomRightSnap","memBottomRight","topLeftSnaps","bottomRightSnaps","bottomRight","getSnapConfig","isAbove","isBelow","cellRect","viewportHeight","aboveViewport","belowViewport","showOrHideHandle","snapTopLeft","snapBottomRight","renderElementPath","renderPathData","_btn","renderElement","newPath","isPropagationStopped","updatePath","ResizeTypes","resizeType","originalHeight","originalWidth","Both","getDimensions","dim","keyboardHandler","renderResizeHandler","None","Vertical","getResizeType","_target","renderStatusbar","getTextComponents","replaceCountText","words","characters","currentVal","wordCount","renderWordCount","getComponents","getLazyMothership","setup$3","lazyOuterContainer","lazyMothership","lazyUiMothership","deviceClasses","isToolbarBottom","memAnchorBar","lazySinkResult","verticalDirAttributes","hasMultipleToolbar","hasToolbar","hasMenubar","makeHeaderPart","sidebarContainer","statusbar","editorComponents","containerComponents","isHidden","opacity","setEditorSize","parsedHeight","parsedWidth","getWidthWithFallback","getMothership","getUiMothership","renderUI","isGridUiContainer","sinkSpec","reactiveWidthSpec","renderSink","toolbarGroupButtonConfig","addGroupToolbarButton","sidebars","toolbarOpt","setupShortcutsAndCommands","ship","fireDismissPopups","onTouchstart","onTouchmove","onTouchend","onMousedown","onMouseup","onContentClick","onContentMouseup","onContentMousedown","loopEditor","relatedTarget","onWindowScroll","onWindowResize","onEditorResize","onEditorProgress","onDismissPopups","setup$b","handleToggle","setup$8","schema$2","basic","parts$2","dragBlockClass","getDragBounds","ModalDialog","dialogComp","modalEventsId","externalBlocker","blockerDom","getFooter","setIdle","setBusy","modalBehaviours","labelledElement","labelElement","labelledBy","describedElement","describeElement","describeId","describedBy","dialogToggleMenuItemSchema","dialogToggleMenuItemDataProcessor","baseFooterButtonFields","dialogFooterButtonFields","normalFooterButtonFields","menuFooterButtonFields","dialogFooterButtonSchema","submit","alertBannerFields","alertBannerSchema","buttonFields","buttonSchema","formComponentFields","formComponentWithLabelFields","checkboxFields","checkboxSchema","checkboxDataProcessor","collectionFields","collectionSchema","collectionDataProcessor","colorInputSchema","colorInputDataProcessor","colorPickerSchema","colorPickerDataProcessor","customEditorFields","defaultedPostMsg","customEditorFieldsOld","customEditorSchema","customEditorDataProcessor","dropZoneSchema","dropZoneDataProcessor","createGridFields","itemsField","htmlPanelFields","htmlPanelSchema","iframeFields","iframeSchema","iframeDataProcessor","imagePreviewSchema","imagePreviewDataProcessor","inputFields","inputSchema","inputDataProcessor","createLabelFields","listBoxSingleItemFields","listBoxNestedItemFields","desc","_desc","getP","thunkOf","listBoxItemSchema","listBoxFields","listBoxSchema","listBoxDataProcessor","selectBoxFields","selectBoxSchema","selectBoxDataProcessor","sizeInputFields","sizeInputSchema","sizeInputDataProcessor","sliderFields","sliderSchema","sliderInputDataProcessor","tableFields","tableSchema","textAreaFields","textAreaSchema","textAreaDataProcessor","urlInputFields","urlInputSchema","urlInputDataProcessor","createItemsField","itemSchema","sErr","passValue","panelSchema","panelFields","tabFields","tabPanelFields","tabPanelSchema","dialogButtonFields","dialogButtonSchema","dialogSchema","tabpanel","urlDialogButtonSchema","urlDialogSchema","getAllObjects","isNamedItem","dataProcessors","togglemenuitem","createDataValidator","namedItems","getNamedItems","getDataProcessor","internalDialog","dataValidator","DialogManager","openUrl","redial","toValidValues","renderBodyPanel","memForm","formValue","TabButton","tabButtonBehaviours","schema$1","tabsPart","barDetail","dismissTab$1","tabbar","changeTab$1","clickToDismiss","tabClass","parts$1","Tabbar","tabbarBehaviours","selectedClass","tab","Tabview","tabviewBehaviours","barPart","viewPart","TabSection","changeTabBy","byPred","tabSectionBehaviours","selectFirst","tabValue","tabview","tabWithValue","tabData","onChangeTab","onDismissTab","getViewItems","tabKey","setTabviewHeight","updateTabviewHeight","dialogBody","maxTabHeight","tablist","documentElement$1","tabviewHeight","currentTabHeight","dialogTopMargin","dialogBottomMargin","getMaxTabviewHeight","getTabview","setMode","allTabs","smartTabHeight","extraEvents","tabviewComp","_tab","measureHeights","maxTabHeightOpt","oldHeight","naiveTabHeight","SendDataToSectionChannel","SendDataToViewChannel","renderTabPanel","storedValue","updateDataWithForm","formData","validData","currentData","setDataOnForm","oldTab","tabMode","_viewItems","oldName","tsection","dialogChannel","titleChannel","bodyChannel","footerChannel","bodySendMessageChannel","renderBody","dialogId","contentId","ariaAttrs","incoming","isTabPanel","hiddenHeader","pClose","pUntitled","pBodyMessage","pFooter","footer","pFooterGroup","startButtons","endButtons","renderDialog$1","dialogClass","blockerBackdropClass","scrollLockClass","extraStyles","dialogEvents","renderClose","renderTitle","titleId","renderDragHandle","pTitle","pHandle","draghandle","draggable","renderModalHeader","bs","getEventExtras","lazyDialog","closeWindow","blockEvent","renderModalDialog","mapMenuButtons","mapItems","extractCellsToObject","innerAcc","initCommonEvents","fireApiEvent","self","SilverDialogEvents","getInstanceApi","withSpec","currentDialog","currentDialogInit","rootNode","cur","onTabChange","newTabName","oldTabName","footerButtons","buttonGroups","makeGroup","memento","renderFooter","initSpec","makeButton","lookupByName","buttonName","renderModalFooter","getCompByName","getFormWrapper","getDialogApi","doRedial","menuItemStates","withRoot","instanceApi","valueComp","prevData","mergedData","newInternalData","dialogState","validateData$1","tabSection","getId","dialogInit","renderDialog","bodySpec","renderModalBody","storagedMenuButtons","objOfCells","dialogSize","getDialogSizeClasses","modalAccess","outerForm","renderInlineDialog","dialogLabelId","dialogContentId","memHeader","renderInlineHeader","memBody","renderInlineBody","memFooter","renderInlineFooter","SUPPORTED_MESSAGE_ACTIONS","isSupportedMessage","mceAction","renderUrlDialog","renderIframeBody","iframeUri","base_uri","iframeDomain","protocol","port","messageHandlerUnbinder","isSameOrigin","handleMessage","isCustomMessage","onMessage","iframeEle","postMessage","sendMessage","getUrlDialogApi","inlineAdditionalBehaviours","isStickyToolbar$1","alertDialog","closeDialog","memFooterClose","titleSpec","closeSpec","footerCloseButton","setup$2","confirmDialog","memFooterYes","footerNo","footerYesButton","openModalUrlDialog","openModalDialog","internalInitialData","openInlineDialog","config$1","refreshDocking","dialogUi","inlineDialogComp","isAlertOrConfirmDialog","registerOptions","sqrt","register$d","windowMgr","getWindowManagerImpl","getNotificationManagerImpl","contentArea","closeCallback","notificationWrapper","notification","progressBar","thisNotification","notificationSpec","allNotifications","notificationManager","getNotifications","previousNotification","getEl","nodeAnchor","nuText","getArgs","NotificationManagerImpl","typeOf$1","eq$2","eqString","eqArray","eqa","eqSortedArray","compareFn","contramap","eqRecord","kx","ky","q","eqAny","tx","isEquatableType","getPrototypeOf$1","is$4","isArray$1","compose1","apply$1","map$3","each$f","partition$2","filter$6","findUntil$1","findIndex$2","last$3","hasOwnProperty$2","each$e","filter$5","stringArray","each$d","filter$4","reduce","iteratee","accumulator","thisArg","trim$3","lTrim","rTrim","isEmpty$3","toInt","radix","platform$2","platform$1","browser$1","windowsPhone","Env","transparentSrc","documentMode","cacheSuffix","canHaveCSP","whiteSpaceRegExp$1","trim$2","is$3","walk$4","delim","hasOwn","exts","ext","walk","_addCacheSuffix","isElement$7","isText$a","isDocument$2","isDocumentFragment$1","remove$b","clone$4","read$4","remove$9","remove$a","remove$8","fromDom$2","recurse","prevSiblings","nextSiblings","childNodesCount","getStyleContainer","getHead","intoView","alignToTop","scrollIntoViewIfNeeded","isNodeType","isRestrictedNode","isElement$6","lowercasedNames","matchStyleValues","attrName","isBogus$2","isTable$3","isTextareaOrInput","isText$9","isCData","isPi","isDocument$1","isBr$6","isImg","isContentEditableTrue$5","isContentEditableFalse$b","isTableCell$5","isMedia$2","firstElement","hasChild","castOffsetParent","bodyTop","captionTop","captionHeight","getTableCaptionDeltaY","ancestor$3","StyleSheetLoader","documentOrShadowRoot","idCount","loadedStates","edos","maxLoadTime","urlWithSuffix","passed","failed","getOrCreateState","waitForWebKitLinkLoaded","testCallback","waitCallback","styleSheets","ownerNode","now","linkElem","contentCssCors","referrerPolicy","styleContainer","removeStyle","loadAll","urls","allSettled","reason","unloadAll","_setReferrerPolicy","instance","WeakMap","forElement","referenceElement","rootDom","sl","create$d","DomTreeWalker","findSibling","findPreviousNode","startName","siblingName","wrapBlockElements","lazyLookup","isBlock$2","isInline$1","isBr$5","isTextBlock$2","isTableSection","isTableCell$4","isWsPreserveElement","isWrapBlockElement","isWrapElement","zeroWidth","nbsp","isZwsp$1","removeTrailingBr","allBrs","brs","rawNode","getLastChildren$1","createPaddingBr","fillWithPaddingBr","trimBlockTrailingBr","lastChildPrevSibling","ZWSP$1","isZwsp","isElement$5","isText$8","isCaretContainerBlock$1","isCaretContainerInline","isCaretContainer$2","hasContent","isBeforeInline","charAt","isAtStart","isAfterInline","isAtEnd","startsWithCaretContainer$1","endsWithCaretContainer$1","showCaretContainerBlock","caretContainer","getElementsByTagName","lastBr","trimBogusBr","isRangeInCaretContainerBlock","isContentEditableTrue$4","isContentEditableFalse$a","isBr$4","isText$7","isInvalidTextElement","isAtomicInline","isTable$1","isCaretContainer$1","isCaretCandidate$3","isNonUiContentEditableFalse","isUnselectable","isEditableCaretCandidate$1","isInEditable","whiteSpaceRegExp","isWhitespaceText","isNewLineChar","normalize$4","tabSpaces","isStartOfContent","isEndOfContent","tabSpace","repeat","normalizedText","isCollapsibleWhitespace$1","pcIsSpace","isNewline","isWhitespace$1","rootElement","hasWhitespacePreserveParent","isContent$1","isNamedAnchor","isBookmark","isBogus$1","isBogusAll","isEmpty$2","skipBogus","brCount","isEmptyNode","isInlineContent","isBookmarkNode$2","isSpan","isKeepTextNode","prevIsInline","nextIsInline","surroundedByInlineContent","trimNode","isKeepElement","makeMap$3","attrsCharsRegExp","textCharsRegExp","rawCharsRegExp","entityRegExp","asciiMap","baseEntities","reverseEntities","buildEntitiesLookup","chr","entity","namedEntities","encodeRaw","encodeNumeric","encodeNamed","entities","Entities","getEncodeFunc","entitiesMap","encodeNamedAndNumeric","encodeCustomNamed","nameMap","named","numeric","decode","nativeDecode","mapCache","dummyObj","makeMap$2","each$c","extend$2","explode$2","split$1","createMap","defaultValue","extendWith","getTextRootBlockElements","compileElementMap","Schema","patternElements","customElementsMap","specialElements","createLookupTable","schemaType","schemaItems","globalAttributes","blockContent","phrasingContent","flowContent","html4BlockContent","html4PhrasingContent","childNames","ni","attributesOrder","addAttrs","schemaItem","video","audio","script","compileSchema","verify_html","valid_elements","validStyles","valid_styles","invalidStyles","invalid_styles","validClasses","valid_classes","whitespaceElementsMap","selfClosingElementsMap","voidElementsMap","boolAttrMap","nonEmptyOrMoveCaretBeforeOnEnter","nonEmptyElementsMap","moveCaretBeforeOnEnterElementsMap","textBlockElementsMap","blockElementsMap","textInlineElementsMap","patternToRegExp","addValidElements","validElements","ei","ai","al","attrData","elementName","attrType","outputName","globalAttributesOrder","elementRuleRegExp","attrRuleRegExp","hasPatternsRegExp","validElementsArr","paddEmpty","removeEmpty","removeEmptyAttrs","attributesRequired","attributesDefault","attributesForced","forcedValue","validValues","attributePatterns","setValidElements","addCustomElements","customElements","customElementRegExp","text_block_elements","block_elements","cloneName","customRule","elmName","addValidChildren","validChildren","childRuleRegExp","getElementRule","padd_empty_block_inline_children","paddInEmptyBlock","custom_elements","valid_children","extended_valid_elements","dd","dt","th","tfoot","legend","area","param","parentsRequired","invalid_elements","getValidStyles","getInvalidStyles","getValidClasses","getBoolAttrs","getVoidElements","seal","getSelfClosingElements","getMoveCaretBeforeOnEnterElements","getWhitespaceElements","getSpecialElements","getCustomElements","attrPatterns","Styles","urlOrStrRegExp","styleRegExp","trimRightRegExp","encodingLookup","invisibleChar","encodingItems","isEncoded","urlConverter","url_converter","urlConverterScope","url_converter_scope","compress","noJoin","canCompress","keepSlashes","decodeSingleHexSequence","escSeq","decodeHexSequences","processUrl","url2","url3","str2","lastIndex","serializeStyles","styleList","styleMap","deprecated","keyLocation","layerX","layerY","returnValue","webkitMovementX","webkitMovementY","keyIdentifier","mozPressure","needsNormalizing","initEvent","isNativeEvent","clone$3","originalEvent","normalize$3","fallbackTarget","srcElement","defaultPrevented","cancelBubble","isImmediatePropagationStopped","hasIsDefaultPrevented","mouseEventRe","addEvent","attachEvent","removeEvent","detachEvent","fix","isMouseEvent","eventDoc","bindOnReady","eventUtils","domLoaded","readyHandler","readyState","EventUtils","expando","hasMouseEnterLeave","hasFocusIn","callbackList","fakeName","nativeHandler","defaultNativeHandler","executeHandlers","namesList","mouseEnterLeave","currentTarget","related","ci","eventMap","fire","parentWindow","each$b","internalStyleName","legacySetAttribute","updateInternalStyleAttr","findNodeIndex","lastNodeType","numericalCssMap","camelCaseToHyphens","DOMUtils","addedStyles","counter","boundEvents","ownEvents","getElementById","_get","defaultVal","$elm","hook","attrHooks","getAttribs","originalValue","onSetAttrib","attrElm","root_element","getPos$1","convertStyleToString","cssValue","cssName","applyStyle","normalizedName","update_styles","selectorVal","_findSib","setHTML","newElm","keepChildren","$node","oldElm","replaceChild","isNonEmptyElement","rv","stdMode","boxModel","getViewPort","argWin","getPrev","outHtml","frag","removeAllAttribs","removeAttributeNode","addStyle","styleElm","styleSheet","loadCSS","hasClass","uniqueId","getOuterHTML","setOuterHTML","reference","referenceNode","attrNode","findCommonAncestor","pe","whitespace","bogusVal","splitElm","replacementElm","beforeFragment","afterFragment","getContentEditableParent","dumpRng","keepValues","keep_values","keepUrlHook","sugarElm","setupAttrHooks","DOM$b","ScriptLoader","states","queue","scriptLoadedCallbacks","queueLoadedCallbacks","loading","loadScript","cleanup","isDone","markDone","loadQueue","loadScripts","scripts","execCallbacks","processResults","failures","processQueue","nextQueuedItem","uniqueScripts","currentCode","getLanguageData","I18n","setCode","newCode","getCode","langData","translation","getLangData","textstr","removeContext","isTokenised","$1","$2","hasCode","AddOnManager","_listeners","runListeners","matchedListeners","isLoaded","loadLanguagePack","languages","language","waitFor","isAdded","requireLangPack","languageLoad","addOn","createUrl","baseUrl","resource","addOnUrl","urlString","lastIndexOf","PluginManager","ThemeManager","ModelManager","first$1","annotation","dataAnnotation","dataAnnotationId","dataAnnotationActive","dataAnnotationClasses","dataAnnotationAttributes","isRoot$1","annotationName","an","newStart","getAttr","findMarkers","isBogusElement","findAll","nodesAlready","setup$x","changeCallbacks","withCallbacks","updateCallbacks","callbackMap","outputData","toggleActiveAttr","onNodeChange","getNames","fireNoAnnotation","fireCallbacks","addListener","shallow$1","deep$1","TextWalker","TextSeeker","isBlockBoundary","newOffset","backwards","forwards","round$2","isValidOverflow","rect1","rect2","isAbove$1","halfHeight","isBelow$1","distanceToRectEdgeFromXY","cx","cy","getSelectedNode","getNode$1","safeOffset","clamp$2","extendingChars","isExtendingChar","isElement$4","isCaretCandidate$2","isFloated","isValidElementCaretCandidate","isNotPre","isText$6","isBr$3","nodeIndex$1","resolveIndex$1","createRange$1","isWhiteSpace$1","isRange","isHiddenWhiteSpaceRange","isZeroRect","getBoundingClientRect$1","clientRect","clientRects","brNode","nbsp$1","getBrClientRect","ec","so","eo","newRng","getBoundingClientRectWebKitText","collapseAndInflateWidth","newClientRect","getCaretPositionClientRects","caretPosition","addUniqueAndValidRect","addCharacterOffset","beforeNode","CaretPosition","toRange","isEqual","fromRangeStart","fromRangeEnd","pos1","pos2","isTextPosition","isElementPosition","trimEmptyTextNode$1","rangeInsertNode","insertNode","insertFragment","isText$5","isBogus","normalizedParent","getChildNodes","equal","createPathItem","numTextFragments","normalizedNodeIndex","create$b","outputOffset","normalizedTextOffset","parentsUntil$1","resolvePathItem","dataLen","targetOffset","findTextPosition","isContentEditableFalse$9","getPoint","trimmedOffset","getNormalizedTextOffset","moveEndPoint$1","normalizeTableCellSelection","getOffsetBookmark","findAdjacentContentEditableFalseElm","forward","fakeCaret","isFakeCaret","getLocation","createBookmarkSpan","filled","getPersistentBookmark","rng2","endBookmarkNode","startBookmarkNode","keep","getBookmark$2","getCaretBookmark","getRangeBookmark","getUndoBookmark","isInlinePattern","isBlockPattern","normalizePattern","formatOrCmd","onFormat","onCommand","commandValue","getBlockPatterns","sortPatterns","getInlinePatterns","fromRawPatterns","deviceDetection$1","DOM$a","isRegExp","stringOrObjectProcessor","bodyOptionProcessor","bodyObj","getHash","getIframeAttrs","getDocType","getDocumentBaseUrl","getBodyId","getBodyClass","getContentSecurityPolicy","shouldPutBrInPre$1","getNewlineBehavior","getBrNewLineSelector","getNoNewLineSelector","shouldKeepStyles","shouldEndContainerOnEmptyBlock","shouldReuseFileName","shouldReplaceBlobUris","getIconPackName","getIconsUrl","getImageUploadUrl","getImageUploadBasePath","getImagesUploadCredentials","getImagesUploadHandler","shouldUseContentCssCors","getReferrerPolicy","getLanguageCode","getLanguageUrl","shouldIndentUseMargin","getIndentation","getContentCss","getContentStyle","getFontCss","getDirectionality","getInlineBoundarySelector","getObjectResizing","getResizeImgProportional","getPlaceholder","getEventRoot","getServiceMessage","getTheme","getThemeUrl","getModel","getModelUrl","isInlineBoundariesEnabled","getFormats","getPreviewStyles","canFormatEmptyLines","getCustomUiSelector","hasHiddenInput","shouldPatchSubmit","shouldAddFormSubmitTrigger","shouldAddUnloadTrigger","getCustomUndoRedoLevels","shouldDisableNodeChange","isReadOnly$1","hasContentCssCors","getPlugins","getExternalPlugins$1","shouldBlockUnsupportedDrop","isVisualAidsEnabled","getVisualAidsTableClass","getVisualAidsAnchorClass","getIframeAriaText","getSetupCallback","getInitInstanceCallback","getUrlConverterCallback","getAutoFocus","shouldBrowserSpellcheck","getProtect","shouldPasteBlockDrop","shouldPasteDataImages","getPastePreProcess","getPastePostProcess","getPasteWebkitStyles","shouldPasteRemoveWebKitStyles","shouldPasteMergeFormats","isSmartPasteEnabled","isPasteAsTextEnabled","getPasteTabSpaces","shouldAllowHtmlDataUrls","getTextPatterns","getNonEditableClass","getEditableClass","getNonEditableRegExps","getAllowedImageFileTypes","hasTableTabNavigation","isElement$3","isText$4","removeNode$1","trimCount","trimmedText","deleteZwspChars","deleteData","removeUnchanged","removeElementAndReposition","newPosition","indexOf$1","removeTextCaretContainer","removeTextAndReposition","removeAndReposition","removeElementCaretContainer","caretContainerNode","isContentEditableFalse$8","isMedia$1","isTableCell$3","getAbsoluteClientRect","scrollX","scrollY","rootRect","FakeCaret","lastVisualCaret","cursorInterval","caretBlock","fakeCaretTargetNodes","trimInlineCaretContainers","caretState","clearInterval","startBlink","setInterval","textNode","splitText","insertInline$1","isInlineFakeCaretTarget","blockNode","insertBlock","getCss","isFakeCaretTableBrowser","isFakeCaretTarget","isContentEditableTrue$3","isContentEditableFalse$7","isMedia","isBlockLike","isCaretContainer","isCaretContainerBlock","isElement$2","isCaretCandidate$1","isForwards","isBackwards","skipCaretContainers","findNode","predicateFn","isCefOrCaretContainer","getParentBlock$3","isInSameBlock","caretPosition1","caretPosition2","getChildNodeAtRelativeOffset","relativeOffset","beforeAfter","isNodesInSameBlock","node1","node2","lean","before$2","leanLeft","leanRight","getRelativeCefElm","getNormalizedRangeEndPoint","normalizedRange","getElementFromPosition","getVisualCaretPosition","isMoveInsideSameBlock","inSameBlock","HDirection","isContentEditableFalse$6","isText$3","isBr$2","isCaretCandidate","isAtomic","isAtomicContentEditableFalse","isEditableCaretCandidate","nodeAtIndex","getCaretCandidatePosition","findCaretPosition$1","startPos","nextNode","innerNode","Forwards","moveForwardFromBr","rootContentEditableFalseElm","getParents$3","CaretWalker","Backwards","isBeforeOrStart","isAfterOrEnd","isBeforeAfterSameElement","shouldSkipPosition","fromPosition","navigateIgnore","ignoreFilter","positionIn","walkToPositionIn","nextPosition","prevPosition","firstPositionIn","lastPositionIn","CARET_ID$1","isCaretNode","getParentCaretContainer","isIndexBookmark","isPathBookmark","isForwardBookmark","addBogus","tryFindRangePosition","padEmptyCaretContainer","insertZwsp","setEndPoint","isValidTextNode","appendData","resolvePaths","isStringPathBookmark","endPos","resolveCaretPositionBookmark","isIdBookmark","spos","epos","resolveId","resolveIndex","isRangeBookmark","getBookmark$1","isBookmarkNode$1","isNbsp","expected","actual","isWhiteSpace","isContent","rgbaToHexString","isNode","moveStart","isWhiteSpaceNode$1","getNonWhiteSpaceSibling","inc","nextName","isTextBlock$1","allowSpaces","replaceVars","vars","isEq$5","str1","normalizeStyleValue","getTextDecoration","decoration","getParents$2","areSimilarFormats","otherFormatName","filterObj","validKey","fmt1","filteredFmt1","fmt2","filteredFmt2","equal$1","shouldExpandToSelector","getParents$1","isWhiteSpaceNode","findParentContentEditable","walkText","findSpace","findContent","findWordEndPoint","includeTrailingSpaces","lastTextNode","textSeeker","textOffset","findSelectorEndPoint","formatList","curFormat","findBlockEndPoint","scopeRoot","isAtBlockBoundary$1","findParentContainer","block_expand","isSelfOrParentBookmark","expandRng","includeTrailingSpace","walk$3","firstNode","collectSiblings","findEndPoint","walkBoundary","startPoint","endPoint","getRanges$1","getCellsFromRanges","getSelectedNodes","getCellsFromElementOrRanges","getCellsFromEditor","getSel","getClosestTable","getFirstChildren","getLastChildren","hasAllContentsSelected","getStartNode","getEndNode","moveEndPoint","hasAnyRanges","runOnRanges","fakeSelectionNodes","fakeNodeRng","fillBookmark","validBlocks","wrapName","isZeroWidth","isAnnotation","applyAnnotation","masterUId","decorate","directAnnotation","otherData","attributeNames","removeDirectAnnotation","customAttrNames","customClasses","makeAnnotation","eDoc","master","annotate","newWrappers","finishWrapper","processElements","processElement","processNodes","annotateWithBookmark","initialRng","hasFakeSelection","masterUid","applyWordGrab","Annotator","create$c","dataAnnotation$1","identifyParserNode","newClassList","addAttributeFilter","persistent","setup$w","removeAnnotations","annotationChanged","removeAll","BookmarkManager","isXYWithinRange","containsXY","fireError","errorType","fireFormatApply","fireFormatRemove","fireSetContent","fireGetContent","firePastePlainTextToggle","VK","ESC","SPACEBAR","PAGE_UP","PAGE_DOWN","END","HOME","modifierPressed","elementSelectionAttr","resizeHandles","nw","ne","sw","ControlSelection","editableDoc","rootDocument","selectedElmGhost","resizeHelper","selectedHandle","resizeBackdrop","startX","startY","startH","resizeStarted","startScrollWidth","startScrollHeight","isImage","contextMenuSelectImage","isEventOnImageOutsideRange","getResizeTargets","firstElementChild","setSizeProp","setGhostElmSize","ghostElm","resizeGhostElement","proportional","resizeHelperX","resizeHelperY","screenX","screenY","selectedElmX","selectedElmY","scrollWidth","endGhostResize","wasResizeStarted","showResizeRect","unbindResizeHandleEvents","targetWidth","targetHeight","hideResizeRect","handleElm","throttledShowResizeRect","removeSelected","isChildOrEqual","updateResizeRect","composing","controlElm","disableGeckoResize","startElm","getStart$1","toNative","getDomRange","fromPoint$1","isEq$4","rng1","hasParent$1","findParent","hasParentWithName","isTableCell$2","isCeFalseCaretContainer","hasBrBeforeAfter","findTextNodeRelative","isAfterNode","lastInlineElement","parentBlockContainer","normalizeEndPoint","directionLeft","hasContentEditableFalseParent","isPrevNode","normalize$2","normRng","RangeUtils","normalizedRng","compareRanges","getCaretRangeFromPoint","excludeFromDescend","markerInfo","cleanupFun","createMarker$1","withMarker","preserveWith","_s","applyWithMarker","withScrollEvents","fireScrollIntoViewEvent","fireAfterScrollIntoViewEvent","elementMarker","startElement","endElement","scrollToMarker","intoWindowIfNeeded","viewportBottom","largerThanViewport","intoWindow","intoFrame","frameViewHeight","op","rangeIntoWindow","elementIntoWindow","rangeIntoFrame","elementIntoFrame","scrollRangeIntoView","hasFocus$1","clamp$1","normalizeRng","isOrContains","isRngInRoot","nativeRangeToSelectionRange","bookmarkToNativeRng","newBookmark","shouldStore","FocusManager","isEditorUIElement","Delay","wrappedSetTimeout","setEditorInterval","wrappedSetInterval","throttledStore","mouseUpPage","registerPageMouseUp","registerMouseUp","selectionChange","isManualNodeChange","registerEditorEvents","documentFocusInHandler","DOM$9","isUIElement","customSelector","registerEvents$1","focusedEditor","blurredEditor","getActiveElement","activeEditor","unregisterDocumentEvents","getFocusInElement","getCollapsedNode","normalizeSelection","caretPos","focusBody","hasElementFocus","rawBody","hasInlineFocus","hasIframeFocus","hasEditorOrUiFocus","isEditorContentAreaElement","hasUiFocus","activateEditor","skipFocus","quirks","refreshContentEditable","bookmarkRng","contentEditableHost","getContentEditableHost","focusEditor","getEndpointElement","real","getEnd$1","skipEmptyTextNodes","processRanges","hasCursorPosition","create$9","findIn","typeLookup","walk$2","isEmptyTextNode","AstNode","selfAttrs","cloneAttrs","selfAttr","refNode","findCommentEndIndex","lcHtml","isConditionalComment","endIfIndex","endCommentRegexp","findMatchingEndTagIndex","startTagRegExp","endTagRegExp","voidElements","startMatch","endMatch","trimInternal","bogusAllRegExp","tempAttrs","trimContentRegExp","trimHtml$1","getTempAttrs","matchLength","endTagIndex","trimExternal","getContentFromBody","emptyRegExp","trimEmptyContents","each$a","ElementUtils","attribs","compareObjects","obj1","obj2","makeMap$1","Writer","indent","indentBefore","indent_before","indentAfter","indent_after","entity_encoding","htmlOutput","element_format","cdata","comment","pi","doctype","HtmlSerializer","writer","sortedAttrs","elementRule","nonInheritableStyles","Set","shorthandStyleProps","getStyleProps","hasInheritableStyles","isNonInheritableStyle","hasStyleConflict","nodeStyleProps","parentNodeStyleProps","valueMismatch","parentValue","nodeStyleProp","propExists","longhandProps","isChar","isBeforeSpace","isAfterSpace","isEmptyText","matchesElementPosition","isImageBlock","isCefNode","isBogusAll$1","isBeforeImageBlock","isAfterImageBlock","isBeforeMedia","isAfterMedia","isBeforeTable","isAfterTable","isBeforeContentEditableFalse","isAfterContentEditableFalse","parentsUntil","parents$1","parentsAndSelf","navigateIgnoreEmptyTextNodes","getClosestBlock$1","isAtBeforeAfterBlockBoundary","fromBlock","isAtBlockBoundary","isAtStartOfBlock","isAtEndOfBlock","isBeforeBlock","isAfterBlock","isBr$1","isBeforeBr$1","isAfterBr","getElementFromPrevPosition","findPreviousBr","findNextBr","isInMiddleOfText","getClosestBlock","hasSpaceBefore","hasSpaceAfter","isInPre","isPreValue","isAtLineBoundary","isAtBeginningOfBody","isAtEndOfBody","isSiblingCefBlock","isCefBlock","needsToBeNbspLeft","needsToBeNbspRight","nextPos","isNextCefBlock","isBeforeCefBlock","needsToBeNbsp","isNbspAt","hasNbsp","normalizeNbspInMiddleOfTextNode","newText","normalizeNbspMiddle","normalizeNbsps","firstPos","normalizeNbspAtStart","lastPos","normalizeNbspAtEnd","normalize$1","replaceData","normalizeWhitespaceAfter","whitespaceCount","normalizeWhitespaceBefore","mergeTextNodes","prevNode","normalizeWhitespace","mergeToPrev","whitespaceOffset","newNode","removeNode","insertData","needsReposition","getPreviousSiblingCaretPosition","getNextSiblingCaretPosition","findCaretPositionBackwards","startPosition","findCaretPositionBackwardsFromElm","findCaretPositionForward","findCaretPositionForwardsFromElm","findCaretPosOutsideElmAfterDelete","findCaretPosition","setSelection$1","paddEmptyBlock","deleteNormalized","afterDeletePosOpt","prevTextOpt","nextTextOpt","deleteElement$2","moveCaret","afterDeletePos","normalizedAfterDeletePos","isInlineElement","paddPos","strongRtl","isInlineTarget","hasStrongRtl","findRootInline","findInlineParents","normalizePosition","normalizeForwards","normalizeBackwards","execCommandIgnoreInputEvents","inputBlocker","execDeleteCommand","isTextBlockOrListItem","getParentBlock$2","isBeforeRoot","paddEmptyBody","moveSelection","no_selection","freefallRtl","deleteRangeContents","deleteContents","lastBlock","additionalCleanupNodes","getTableCells","tableCellRng","deleteAction","singleCellTable","fullTable","partialTable","multiTable","getClosestCell$1","isExpandedCellRng","cellRng","getTableFromCellRng","startParentTable","endParentTable","getTableSelectionFromCellRng","tableSelection","getTableSelections","selectionDetails","isSameTable","sameTableSelection","endCell","startTableSelection","getCellRangeFromStartTable","endTableSelection","getCellRangeFromEndTable","getCellIndex","isSingleCellTableContentSelected","optCellRng","isSingleCellTable","unselectCells","endTable","otherContentRng","getActionFromRange","isRootFromElement","getCellRng","getTable","isStartInTable","isEndInTable","isMultiTable","getTableDetailsFromRange","startTableSelectedCells","endTableSelectedCells","handleMultiTable","handleSingleTable","cleanCells","deleteContentInsideCell","isFirstCellInSelection","insideTableRng","deleteCellContents","collapseAndRestoreCellSelection","selectedNode","emptySingleTableCells","outsideDetails","editorRng","cellsToClean","outsideBlock","getOutsideBlock","startInTable","emptyBlock","handleEmptyBlock","endPointCell","emptyMultiTableCells","startTableCells","endTableCells","betweenRng","startTableCellsToClean","endTableCellsToClean","deleteTableElement","deleteTableRange","getParentCaption","deleteCellRange","emptyElement","deleteCaptionRange","getParentCell","deleteCaretInsideCaption","fromCaption","isDeleteOfLastCharPos","emptyCaretCaption","toCaption","validateCaretCaption","deleteCaretCells","fromCell","deleteBetweenCells","isNearTable","deleteCaret$3","fromPos","isBeforeOrAfterTable","deleteCaretCaption","backspaceDelete$9","deleteRange$2","getContentEditableRoot$1","matchNode$1","nodeFilters","attributeFilters","nl","runFilters","matchRecord","filter$3","findMatchingNodes","paddEmptyNode","hasOnlyChild","nonEmptyElements","whitespaceElements","isPadded","removeOrUnwrapInvalidNode","originalNodeParent","childNode","cleanInvalidNodes","onCreate","nonSplittableElements","newParent","tempNode","currentNode","normalizeBlockSelectionRange","commonAncestorContainer","newEndPos","isPaddedEmptyBlock","hasOnlyOneChild$1","isPaddingNode","isListFragment","isEmptyFragmentElement","isListItemPadded","isPadding","trimListItems","getParentLi","findLastOf","newCaretPos","insertBefore$1","findFirstIn","insertAtCaret$1","domFragment","cleanupDomFragment","toDomFragment","liTarget","liElms","isAt","caretWalker","insertAfter$1","beforeRng","afterRng","getSplit","insertMiddle","mergeableWrappedElements","isTableCell$1","moveSelectionToMarker","nextRng","parentEditableElm","isPartOfFragment","findNextCaretRng","deleteSelectedContent","isTableCellContentSelected","insertHtmlAtCaret","bookmarkHtml","caretElement","canHaveChildren","parserArgs","isParentBlockLi","isPastingSingleElement","isWrappedElement","isPastingInTheSameBlockTag","isPastingInContentEditable","shouldPasteContentOnly","markFragmentElements","_selectionOverrides","showBlockCaretContainer","markerNode","toExtract","invalidChildren","getNodeFilters","getAttributeFilters","validInsertion","textInlineElements","elementUtils","reduceInlineTextElements","trimBrsFromTableCell","isTreeNode","setEditorHtml","noSelection","setContentInternal","trimmedHtml","setContentTree","padd","forcedRootBlockName","isRootContent","setContentString","sibling$1","isEq$3","matchesUnInheritedFormatSelector","inherit","matchParents","similar","matchNode","matchName","matchItems","onmatch","expectedValue","isEmptyValue","match$2","rawElm","matchAllOnNode","formatNames","matchSimilar","isVariableValue","fieldValues","isVariableFormatName","ZWSP","CARET_ID","isCaretContainerEmpty","getEmptyCaretContainers","findFirstTextNode","createCaretContainer","fill","removeCaretContainerNode","trimZwspFromCaretContainer","removeCaretContainer","appendNode","insertFormatNodesIntoCaretContainer","formatNodes","innerMostFormatNode","formatNode","removeCaretFormat","hasContentAfter","expandedRng","newCaretContainer","insertCaretContainerNode","cleanedFormatNode","validFormats","matchedFormats","fmtName","clonedFormatNode","cleanFormatNode","caretTextNode","setup$u","disableCaretContainer","isFormatElement","inlineElements","postProcessHooks","each$9","addPostProcessHook","hasPreSibling","pre","isPre","pre1","pre2","sPre2","joinPre","each$8","isElementNode$1","findElementSibling","mergeSiblingsNodes","tmpSibling","mergeSiblings","merge_siblings","processChildElements","hasStyle","unwrapEmptySpan","removeResult","MCE_ATTR_RE","each$7","isEq$2","isChildOfInlineParent","lastIdx","normalizeTableSelection","isTableCellOrRow","wrapWithSiblings","rootBlockElm","forcedRootBlock","list_block","isMixedFormat","removeFormatInternal","compareNode","stylesModified","isColorFormatAndAnchor","preserve_attributes","attrsToPreserve","remove_similar","valueOut","removeFormat$1","newName","removeFormatFromClone","splitToFormatRoot","formatRoot","findFormatRoot","lastClone","firstClone","formatRootParent","mixed","wrapAndSplit","removeNodeFormat","lastContentEditable","currentNodeMatches","textDecoration","isRemoveBookmarkNode","removeRngStyle","ceFalseOverride","each$6","mergeWithChildren","clear_child_styles","clearChildStyles","each$5","isElementNode","applyFormat$1","setElementFormat","onformat","styleVal","applyNodeStyle","found","createWrapElement","wrapElm","applyRngStyle","nodeSpecific","currentWrapElm","validBRParentElements","hasCaretNodeSibling","canFormatBR","childCount","isEmptyTextNode$1","getChildCount","childElement","mergeStyles","merge_with_parents","mergeWithParents","backgroundColor","mergeBackgroundColorAndFontSize","processTextDecorationsAndColor","mergeTextDecorationsAndColor","mergeSubSup","wordcharRegex","importNode","applyCaretFormat","fake","postProcess$1","formatItem","hasVars","fallbackElement","matchingNode","matchingFormat","updateAndFireChangeCallbacks","registeredCallbacks","runIfChanged","withSimilar","withoutSimilar","withVars","formatChangedInternal","registeredFormatListeners","nodeOrRange","setup$t","formatChangeItems","toAppendTo","addListeners","removeListeners","_typeof","Symbol","iterator","_setPrototypeOf","setPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","_construct","Parent","Class","arguments","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","_iterableToArray","minLen","_unsupportedIterableToArray","TypeError","_nonIterableSpread","arr2","isFrozen","getOwnPropertyDescriptor","create$8","_ref","thisValue","Func","arrayForEach","unapply","forEach","arrayPop","arrayPush","stringToLowerCase","stringMatch","stringReplace","stringIndexOf","stringTrim","regExpTest","typeErrorCreate","_len2","_key2","_len","addToSet","lcElement","object","newObject","lookupGetter","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","getGlobal","_createTrustedTypesPolicy","trustedTypes","createPolicy","ATTR_NAME","currentScript","policyName","purify","createDOMPurify","DOMPurify","originalDocument","DocumentFragment","HTMLTemplateElement","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","getNextSibling","getParentNode","template","trustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","hooks","createHTMLDocument","PARSER_MEDIA_TYPE","transformCaseFunc","MUSTACHE_EXPR$1","ERB_EXPR$1","DATA_ATTR$1","ARIA_ATTR$1","IS_SCRIPT_OR_DATA$1","ATTR_WHITESPACE$1","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","namespaceURI","parentTagName","_forceRemove","_removeAttribute","getAttributeNode","_initDocument","leadingWhitespace","dirtyPayload","parseFromString","createDocument","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","_isNode","_executeHook","entryPoint","_sanitizeElements","allowedTags","_basicCustomElementTest","_isValidAttribute","lcTag","_sanitizeAttributes","hookEvent","keepAttr","allowedAttributes","_attr","forceKeepAttr","setAttributeNS","_sanitizeShadowDOM","shadowNode","shadowIterator","importedNode","oldNode","returnNode","toStaticHTML","nodeIterator","shadowroot","serializedHTML","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","explode$1","create$7","filters","addFilter","getFilters","removeFilter","newCallbacks","addFontToSpansFilter","domParser","fontSizes","face","removeAttrs","addFilters","convert_fonts_to_spans","font_size_legacy_values","convertToSTag","addStrikeFilter","parseDataUri","uri","base64Encoded","extractedData","extractBase64Data","decodeURIComponent","buildBlob","atob","Uint8Array","Blob","uriToBlob","blobUriToBlob","blobToDataUri","onloadend","count$1","processDataUri","dataUri","base64Only","generateBlobInfo","btoa","createBlobInfo$1","dataUriToBlobInfo","getByData","registerBase64ImageFilter","blob_cache","processImage","inputSrc","isInternalImageSource","isBogusImage","each$4","queryParts","DEFAULT_PORTS","ftp","http","https","mailto","safeSvgDataUrlElements","isInvalidUri","decodedUri","encodedUri","unescape","decodeUri","allowSvgDataUrls","blockSvgDataUris","URI","baseUri","isProtocolRelative","toAbsPath","urlMatch","userInfo","uriComponents","pathname","setPath","pathMatch","getURI","toRelative","relativeUri","tu","uu","toRelPath","noHost","absoluteUri","defaultPort","breakPoint","normalizedBase","outPath","nb","normalizedPath","noProtoHost","extend$1","basePurifyConfig","filteredUrlAttrs","internalElementAttr","setupPurify","purify$1","allow_conditional_comments","lcTagName","isInternalElement","bogus","hasNone","transferChildren","nativeParent","nativeChild","whitespaceCleaner","textRootBlockElements","allWhiteSpaceRegExp","startWhiteSpaceRegExp","endWhiteSpaceRegExp","hasWhitespaceParent","isAtEdgeOfBlock","neighbour","isLineBreakNode","isNodeEmpty","isTextRootBlockEmpty","isPaddedWithNbsp","DomParser","nodeFilterRegistry","attributeFilterRegistry","defaultedSettings","root_name","parseAndSanitizeWithContext","rootName","mimeType","isSpecialRoot","wrappedHtml","getPurifyConfig","removeNodeFilter","removeAttributeFilter","exports","whitespacePre","whitespacePost","invalidFinder","findInvalidChildren","matchFinder","preprocessors","postprocessors","traverseOrder","walkTree","topLevelChildren","otherChildren","rootBlockName","forced_root_block","getRootBlockName","rootBlockNode","rootBlock","forced_root_block_attrs","addRootBlocks","remove_trailing_brs","prevName","lastParent","addNoOpener","appendRel","allow_unsafe_link_target","allow_html_in_named_anchor","fix_list_elements","classValue","validClassesMap","inline_styles","withSerializedContent","fireEvent","serializedContent","serializeContent","eventArgs","preProcessGetContent","fireBeforeGetContent","postProcessGetContent","preProcessSetContent","processedEventArgs","fireBeforeSetContent","postProcessSetContent","tableModel","tableRow","cellPosition","cellExists","findElementPos","extractRows","sx","sy","ey","y2","x2","fillout","skipCellsX","toDom","tableElement","tableBody","createDomTable","modelRowsToDomRows","subsection","subTable","getFullySelectedListWrappers","_li","findParentListContainer","listCont","listElm","listStyles","_style","getWrapElements","commonAnchorContainer","wrapElements","listWrappers","allWrappers","directListWrappers","emptyFragment","getFragmentFromRange","innerElm","getTableFragment","selectedTableCells","getParentTable","fullTableModel","sectionedTableModel","read$3","getSelectionFragment","isCollapsibleWhitespace","getInnerText","bin","extractSelectedContent","parentBlockOpt","contextNodeName","getContextNodeName","nonRenderedText","parentBlockText","textIndex","tmpElm","getSerializedContent","getOuterHtml","insertAt","fragments","removeAt","applyDiff","vDown","vUp","buildScript","start1","end1","start2","end2","getMiddleSnake","diag","i2","buildSnake","snake","lazyTempDocument","createFromEditor","trimmedFragments","trimmed","hasIframes","beforeBookmark","createFragmentedLevel","createCompleteLevel","applyToEditor","getLevelContent","getCleanLevelContent","isEq$1","level1","level2","hasEqualContent","hasEqualCleanedContent","isUnlocked","locks","setTyping","typing","endTyping","makePlainAdaptor","bindEvents","beforeChange","beforeChange$1","currentLevel","lastLevel","bm","customUndoRedoLevels","setDirty","addUndoLevel$1","undo","undo$1","redo","redo$1","clear$1","reset$1","hasUndo","hasUndo$1","hasRedo","hasRedo$1","transact$1","ignore$1","callback1","callback2","extra$1","matchAll","matchedFormatNames","checkedMap","getContentInternal","matchedElm","addVisualInternal","defaultedArgs","setupArgs$3","updatedArgs","getSelectedContentInternal","addDecoration","removeDecoration","isRtc","setup$s","editorCast","rtcPlugin","getRtcSetup","rtcInstance","nul","makeNoopAdaptor","rtcEditor","defaultVars","_undoManager","_locks","_node","_similar","_rfl","_details","getRawModel","makeRtcAdaptor","rtc","isRemote","getRtcInstanceWithFallback","getRtcInstanceWithError","getContent$1","getSelectedContent","mergeAndNormalizeText","outerNode","outerElm","oldLength","innerTextNode","walkPastBookmark","normalizeTextIfRequired","setContent$1","setupArgs$2","cleanedContent","contextBlock","contextArgs","cleanContent","prevText","nextText","rngSetContent","createContextualFragment","deleteFromCallbackMap","isAttachedToDom","EditorSelection","selectedRange","explicitRange","selectorChangedData","currentSelectors","findMatchingNode","matchedSelectors","SelectorChanged","getRng$1","tryCompareBoundaryPoints","how","sourceRange","destinationRange","compareBoundaryPoints","START_TO_START","END_TO_END","isValidRange","anchorRange","focusRange","bookmarkManager","controlSelection","compareEndPoints","setNode","endElm","selectorChanged","getScrollContainer","scrollContainer","scrollElementIntoView","placeCaretAt","process$1","hasEventListeners","shouldFireEvent","oldDoc","clonedNode","impl","firePreProcess","preProcess$1","htmlParser","toHtml","serializeNode","outArgs","firePostProcess","postProcess","DomSerializerImpl","internalName","hasChildren","preserve_cdata","getHtmlFromNode","brNode1","brNode2","trimTrailingBr","parseHtml","addRules","setRules","DomSerializer","domSerializer","setupArgs$1","getContent$2","setupArgs","setContent$2","removedOptions","removedPlugins","getRemovedOptions","settingNames","setting","getRemovedPlugins","pluginNames","plugin","logWarnings","rawOptions","normalizedOptions","hasRemovedPlugins","hasRemovedOptions","isLegacyMobileTheme","theme","listJoiner","themesMessage","pluginsMessage","optionsMessage","logRemovedWarnings","DOM$8","safeDestroy","save","is_removing","unbindAllNativeEvents","fireRemove","orgDisplay","restoreOriginalStyles","fireDetach","automatic","destroyed","_beforeUnload","_mceOldSubmit","formEventDelegate","restoreForm","contentAreaContainer","clearDomReferences","iconPack","CreateIconManager","propName","getComputedSizeProp","getClientWidth","getClientHeight","getMarginTop","getMarginLeft","isXYInContentArea","bodyElm","transposedPoint","isInsideElementContentArea","isEditorAttachedToDom","rawContainer","NotificationManager","notifications","getImplementation","unimplemented","getTopNotification","closeNotification","otherNotification","addNotification","serviceMessage","WindowManager","dialogs","getParams","setParams","WindowManagerImpl","funcBind","addDialog","fireOpenEvent","fireCloseEvent","otherDialog","storeSelectionAndOpenDialog","windowManagerImpl","displayNotification","displayError","logError","createLoadError","initError","transformToUrls","cssLinks","contentCssFile","isContentCssSkinName","appendContentCssFromSettings","getContentCssUrls","getFontCssUrls","ImageScanner","uploadStatus","cachedPromises","getAllImages","isUploaded","promises","imageSrc","imageInfo","newPromise","invalidDataUri","getByUri","imageToBlobInfo","UploadStatus","blobUriStatuses","createStatus","resultUri","hasBlobUri","getResultUri","isPending","markPending","markUploaded","removeFailed","uuid","rnd","seed","Uploader","pendingPromises","defaultHandler","xhr","XMLHttpRequest","withCredentials","credentials","onprogress","responseText","path1","path2","basePath","FormData","send","handlerSuccess","handlerFailure","resolvePending","uploadBlobs","blobInfos","openNotification","pendingUploadBlobInfo","uploadBlobInfo","createUploader","EditorUpload","toBlobInfo","mime","findFirst","cachedBlobInfo","removeByUri","BlobCache","uploader","imageScanner","urlFilters","aliveGuard","replaceString","replaceImageUrl","targetUrl","replacementUrl","replacementString","replaceUrlInUndoStack","uploadImages","scanForImages","imageInfos","imagesToRemove","shouldDispatchChange","filteredResult","uploadInfo","replaceImageUriInView","uploadError","uploadUri","dispatchChange","isValidDataUriImage","resultItem","replaceBlobUris","genericBase","cellBase","cellFormats","tablecellbackgroundcolor","tablecellverticalalign","tablecellbordercolor","borderColor","tablecellclass","tableclass","tablecellborderstyle","tablecellborderwidth","FormatRegistry","valigntop","verticalAlign","valignmiddle","valignbottom","alignleft","textAlign","float","aligncenter","alignright","alignjustify","bold","fontWeight","italic","fontStyle","underline","strikethrough","strike","forecolor","hilitecolor","fontname","lineheight","lineHeight","fontsize_class","blockquote","subscript","superscript","_fmt","_itemName","removeformat","each$3","parsedSelectorToHtml","ancestry","sItem","wrapInHtml","parentCandidate","ancestorName","parentRequired","elmRule","getRequiredParent","siblingElm","parseSelectorItem","$0","$3","$4","previewFrag","parentFontSize","previewCss","previewStyles","removeVars","previewOpt","previewElm","Formatter","formatChangeState","setup$r","toggleFormat","matchFormat","closestFormat","matchAllFormats","matchNodeFormat","canApplyFormat","shouldIgnoreCommand","UndoManager","addUndoLevel","isFirstTypedCharacter","addNonTypingUndoLevel","isDirty","modKey","inputType","isInsertFromPasteOrDrop","addKeyboardShortcuts","nonTypingKeycodes","placeholderAttr","isKeyboardEvent","isDeleteEvent","setup$q","updatePlaceholder","isNonTypingKeyboardEvent","showPlaceholder","isTypingKeyboardEvent","isVisuallyEmpty","firePlaceholderToggle","blockBoundary","getBlockPosition","containerElm","blockPosition","readFromRange","fromBlockPos","toBlockPos","blockPos","lastPositionInBlock","skipLastBr","isDifferentBlocks","parent1","parent2","hasSameParent","isEditable$2","getChildrenUntilBlockBoundary","extractChildren","removeEmptyRoot","nestedBlockMerge","toBlock","insertionPoint","sidelongBlockMerge","getInsertionPoint","parentsAndSelf$1","findInsertionPoint","trimBr","mergeBlockInto","mergeBlocks","block1","block2","backspaceDelete$8","isRawNodeInTable","isEverythingSelected","noPrevious","noNext","isSelectionInTable","deleteRange$1","emptyEditor","deleteRangeMergeBlocks","backspaceDelete$7","_forward","isContentEditableTrue$2","isContentEditableFalse$5","showCaret","getNodeRange","renderRangeCaret","caretPositionNode","caretPositionBeforeNode","ceRoot","renderCaretAtRange","isBeforeBoundary","isAfterBoundary","deleteContentAndShowCaret","peekCaretPosition","caretRange","deleteRange","trimEmptyTextNode","backspaceDelete$6","getNextPosFn","isBeforeFn","nextCaretPosition","deleteBoundaryText","getEdgeCefPosition","atStart","isCefAtEdgeSelected","DeleteAction","moveToElement","moveToPosition","deleteEmptyBlockOrMoveToCef","toCefElm","blockElm","findCefPosition","isDeleteFromCefDifferentBlocks","getContentEditableAction","caretLocation","isAtContentEditableBlockCaret","getContentEditableBlockAction","skipMoveToActionFromInlineCefToContent","getAncestorCe","hideFakeCaret","deleteElement$1","paddEmptyElement","backspaceDelete$5","backspaceDelete$4","deleteCaret$2","isText$2","startsWithCaretContainer","endsWithCaretContainer","createZwsp","insertInline","insertInlineBefore","insertInlineAfter","insertInlinePos","isPosCaretContainer","caretNode","renderCaret","evaluateUntil","fns","Location","rescope$1","nPos","isNotInsideFormatCaretContainer","findInsideRootInline","start$1","isValidLocation","readLocation","getName","outside","betweenInlines","fromInline","toInline","hasSameParentBlock","skipNoMovement","fromLocation","toLocation","location2","location1","findLocationSimple","findLocation$1","findLocationTraverse","moveRel","modify","moveByWord","hasSelectionModifyApi","BreakType","walk$1","getBreakType","currentPos","Br","Block","Wrap","getPositionsUntil","breakType","breakAt","Eol","getAdjacentLinePositions","getPositionsUntilBreak","findClosestHorizontalPositionFromPoint","lastRect","newRect","lastDist","findClosestHorizontalPosition","targetRect","getPositionsUntilPreviousLine","getPositionsUntilNextLine","getPositionsAbove","getPositionsBelow","getClosestPositionAbove","getClosestPositionBelow","isContentEditableFalse$4","distanceToRectLeft$1","distanceToRectRight$1","findClosestClientRect","oldClientRect","oldDistance","newDistance","getNodeClientRects","toArrayWithNode","VDirection","walkUntil","isAboveFn","isBeflowFn","targetClientRect","upUntil","Up","downUntil","Down","isAboveLine","lineNumber","aboveLineNumber","isLine","isLineNumber","moveToRange","renderRangeCaretOpt","moveHorizontally","isBefore","isAfter","newRange","rangeIsInContainerBlock","moveVertically","caretClientRect","linePositions","nextLinePositions","nextLineRect","dist1","dist2","caretPositions","isBelowFn","getClientRect","positionsUntil","closestNextLineRect","getLineEndPoint","lineInfo","moveToLineEndPoint$3","setCaretPosition","setSelected","renderCaretLocation","findLocation","getPositionFromRange","isInlineTarget$1","safeRemoveCaretContainer","isAtZwsp","move$2","moveWord","_caret","setupSelectedState","inlineBoundaries","selectedInlines","targetInlines","toggleInlines","inlines","_inline","renderInsideInlineCaret","moveNextWord","movePrevWord","moveToLineEndPoint$2","linePoint","outsideLoc","setCaretLocation","deleteFromTo","rangeFromPositions","backspaceDeleteCollapsed","rescope","toPosition","normalizedFirstPos","normalizedLastPos","hasOnlyTwoOrLessPositionsLeft","backspaceDelete$3","hasOnlyOneChild","deleteLastPosition","parentInlines","isFormatElement$1","innerMost","replaceWithCaretFormat","deleteCaret$1","getParentInlines","normalizedFromPos","willDeleteLastPositionInElement","backspaceDelete$2","deleteElement","backspaceDelete$1","isNearMedia","deleteCaret","parseIndentValue","getIndentStyleName","useMargin","canOutdent","getBlocksToIndent","indentStyleName","intentValue","validateBlocks","isListComponent","parentIsListComponent","indentUnit","indentValue","styleValue","indentElement","outdent","findAction","forwardDeleteCommand","execForwardDeleteCommand","setup$p","deleteCommand","setup$o","debounceLongpress","isEqualNode","isBlockElement","isValidTarget","shouldRemoveTextNode","createRootBlock","rootNodeName","hasBlockParent","restoreSelection","insertEmptyLine","checkClassName","replaceMatchWithSpan","prevChar","findStartTagIndex","setup$m","contentEditableAttrName","editClass","nonEditClass","hasEditClass","hasNonEditClass","nonEditableRegExps","convertRegExpsToNonEditable","blockCaretContainer","handleBlockContainer","findBlockCaretContainer","isContentEditableFalse$3","exitPreBlock","getVisualCaretPosition$1","getHorizontalRange","moveToCeFalseHorizontally","getVerticalRange","moveToCeFalseVertically","moveH$2","moveV$3","moveToLineEndPoint$1","selectToEndPoint","curRng","isAtFirstOrLastLine","isAtLastLine","isAtFirstLine","moveCaretToNewEmptyLine","getClosestTargetBlock","moveV$2","baseKeyPattern","matchesEvent","match$1","defaultPatterns","matchDelayed","defaultDelayedPatterns","executeWithDelayedAction","moveH$1","moveV$1","moveToLineEndPoint","CellLocation","isEligible","getClosestCell","getYAxisValue","isTargetCorner","corners","tds","deflate","getCorners","corner","newCorner","oldCorner","oldDist","newDist","findClosestCorner","getClosestCellAbove","getClosestCellBelow","findClosestPositionInAboveCell","findClosestPositionInBelowCell","isAtTableCellLine","startsWithWrapBreak","startsWithBrBreak","breakPos","hasNextBreak","isAtFirstTableCellLine","isAtLastTableCellLine","navigateHorizontally","_td","isCaretAtStartOrEndOfTable","insertFn","renderBlock","navigateVertically","getClosestAbovePosition","getClosestBelowPosition","mover","moveH","moveV","tabGo","_current","getCellFirstCursorPosition","tabForward","tabBackward","rootElements","setup$k","executeKeydownOverride$4","DOM$7","alwaysNext","textBefore","scanLeft","scanRight","repeatLeft","isWhitespace","stripTriggerChar","triggerCh","findStart","findChar","triggerChar","toLast","isText$1","toLeaf","isStartOfWord","_element","isPreviousCharContent","getDatabase","database","triggerChars","getTriggerContext","lookupWithContext","startText","autocompleters","lookupByChar","ac","maxResults","mergeErrors","autocompleterSchema","popups","createAutocompleter","datasetValues","dv","setup$j","activeAutocompleter","uiActive","removeAutocompleterDecoration","fireAutocompleterEnd","commenceIfNecessary","addAutocompleterDecoration","getAutocompleters","newContext","doLookup","lookupInfo","fireAutocompleterUpdate","fireAutocompleterStart","setupEditorInput","createAndFireInputEvent","specifics","isComposing","eventPhase","AT_TARGET","originalTarget","explicitOriginalTarget","isTrusted","cancelable","InputEvent","fireFakeInputEvent","fireFakeBeforeInputEvent","setup$i","applyAction","executeKeydownOverride$3","executeKeyupOverride","moveToCaretPosition","firstNonWhiteSpaceNodeSibling","getParentBlock$1","hasParent","isListBlock","getContainerBlock","containerBlock","containerBlockParent","isFirstOrLastLi","insert$3","createNewBlock","newBlockName","isFirstChild","hasFirstChild","isEmptyAnchor","containerAndSiblingName","canSplitBlock","normalizeZwspOffset","getEditableRoot","editableRoot","setForcedBlockAttrs","forcedRootBlockAttrs","attrStyles","newStyles","attrClassesOpt","attrClasses","currentClassesOpt","currentClasses","filteredClasses","newClasses","appliedAttrs","remainingAttrs","blockbreak","parentBlockName","isAfterLastNodeInContainer","isCaretAtStartOrEndOfBlock","normalizedOffset","insertNewBlockAfter","containerBlockName","optionValue","shouldEndContainer","isTableCell","wrapSelfAndSiblingsInDefaultBlock","includeZwspInRange","trimZwsp","trimLeadingLineBreaks","firstChilds","trimInlineElementsOnLeftSideOfBlock","addBrToBlockIfNeeded","fakeEventName","moveSelectionToBr","brElm","extraBr","insertBrAtCaret","isControlKey","hasRightSideContent","insertBrBefore","insertBrAfter","hasBrAfter","isAnchorLink","isInsideAnchor","insertBrOutsideAnchor","linebreak","anchorLocation","readInlineAnchorLocation","matchesSelector","newLineAction","shouldBlockNewLine","_shiftKey","shouldBlockNewLine$1","inListBlock","requiredState","isListItemParentBlock","getParentBlockName","inPreBlock","shouldPutBrInPre","inBrContext","shouldInsertBr","canInsertIntoEditableRoot","rootEditable","getEditableRoot$1","predicates","insertBreak","logicalAction","setup$h","handleEnterKeyEvent","setup$g","executeKeydownOverride$2","setup$f","normalizeNbspsInEditor","isPageUpDown","setNodeChangeBlocker","blocked","setup$e","executeKeyupAction","insertTextAtPosition","insertNbspAtPosition","insertSpaceAtPosition","insertInlineBoundarySpaceOrNbsp","checkPos","needsToHaveNbsp","insertSpaceOrNbspAtSelection","locationToCaretPosition","executeKeydownOverride$1","tableTabNavigation","setup$c","executeKeydownOverride","setup$l","NodeChange","lastPath","nativeRng","fakeRng","isSameElementPath","currentPath","internalMimeType","internalHtmlMime","internalMark","mark","isMarked","toBlockElements","rootTag","rootAttrs","tagOpen","openContainer","tagClose","paragraphs","pasteBinDefaultContent","isPasteBin","isDefaultPasteBinContent","PasteBin","lastRngCell","pasteBinElm","create$6","pasteBinClone","copyAndRemove","pasteBinClones","dirtyWrappers","cleanWrapper","getLastRng","trimHtml","s1","s2","processResult","cancelled","filterContent","preProcessArgs","firePastePreProcess","filteredContent","preProcess","tempBody","postProcessArgs","firePastePostProcess","postProcessFilter","pasteHtml$1","isAbsoluteUrl","linkSelection","pasteHtmlFn","insertImage","isImageUrl","createImage","smartInsertContent","createIdGenerator","doPaste","pasteHtml","internalFlag","unmark","pasteText","encodedText","getDataTransferItems","contentType","hasContentType","clipboardContent","hasHtmlOrText","createBlobInfo","useFileName","extractFilename","allowedExtensions","extension","lowerExt","mimeOverrides","jpg","jpe","jfi","jif","jfif","pjpeg","pjp","getImageMimeType","pasteImageData","clipboardData","kind","getAsFile","getImagesFromDataTransfer","fileResults","imageItem","existingBlobInfo","pasteImage","insertClipboardContent","plainTextMode","isInternal","isPlainTextHtml","isPlainText","isAbsoluteUrl$1","ignoreElements","registerEventHandlers","pasteBin","pasteFormat","keyboardPastePlainTextState","isKeyboardPasteEvent","isBrokenAndroidClipboardEvent","registerEventsAndFilters","isWebKitFakeUrl","isDataUri","isPasteInsert","registerDataImageFilter","togglePlainTextPaste","setClipboardData","setHtml5Clipboard","contenteditable","offscreenRange","hasSelectedContent","isTableSelection","getCaretRangeFromEvent","setFocusedRange","draggingInternallyState","hasImage","dropContent","plainTextContent","isPlainTextFileUrl","internalContent","trimmedContent","rgbRegExp","rgbToHex","removeWebKitStyles","webKitStylesOption","webKitStyles","outputStyles","compareInput","outputStyle","filterFunc","addPreProcessFilter","setup$9","preventSummaryToggle","filterDetails","isContentEditableFalse$2","getClosestScope","isContentEditableTrue$1","getClosestCef","findEdgeCaretCandidate","onTripleClickSelect","startRng","clickNode","cef","findClosestBlockRange","FakeCaretPosition","distanceToRectLeft","distanceToRectRight","r1","r2","overlap","overlapY","collidesY","splitRectsPerAxis","prevRect","boundingClientRectFromRects","isInsideY","boundingRect","vertical","horizontalDistance","_y","closestChildCaretCandidateNodeRect","caretCandidateRect","findClosestCaretCandidateNodeRect","distance","sortedRects","getClosestTextNode","horizontalRects","verticalRects","above","below","traverseUp","helper","prevScope","uncheckedChildren","closestFakeCaretCandidate","closestCaretCandidateNodeRect","Before","After","clientInfo","getAbsolutePosition","calc","calculatePosition","bodyPosition","getBodyPosition","scrollPosition","getScrollPosition","mousePosition","iframePosition","inlineScroll","iframeScroll","getBodyScroll","getMousePosition","isContentEditableFalse$1","createGhost","clonedElm","removeElement","isLeftMouseButtonPressed","ceElm","elmPos","dragging","relX","relY","ghost","targetElement","dragElement","isValidDropTarget","getRawTarget","targetClone","cloneElm","cloneElement","removeDragState","bindFakeDragEvents","pageDom","dragStartHandler","dragHandler","throttledPlaceCaretAt","targetPos","applyRelPos","overflowX","moveGhost","dropHandler","dragEndHandler","preventFileDrop","preventFileDropIfUIElement","editorRoot","eventNames","blockUnsupportedFileDrop","getContentEditableRoot","SelectionOverrides","realSelectionId","isFakeSelectionTargetElement","contentEditableRoot","removeElementSelection","setElementSelection","closestContentEditable","caretInfo","setRange","normalizeVoidElementSelection","isRangeInCaretContainer","isFakeSelectionElement","renderFocusCaret","isWithinCaretContainer","selectElement","realSelectionContainer","newContainer","setupOffscreenSelection","nodeElm","afterNode","generatePath","generatePathRange","resolvePath","nodePath","resolvePathRange","cleanEmptyNodes","deleteRng","startParent","endParent","getParentBlock","stripPattern","firstTextNode","textAfter","applyPattern$1","formatSet","isBlockFormatName","findPatterns$1","matchesForcedRootBlock","blockText","matchedPattern","findPattern$1","newMarker","rangeFromMarker","createMarker","markerPrefix","pathRange","textEnd","textStart","removeMarker","isReplacementPattern","findPatternStartFromSpot","startPattern","patternContent","searchText","startEndIndex","nextSpot","findPattern","endPathRng","endRng","resultsOpt","findPatternsRec","remainingPatterns","requireGap","startRange","findPatternStart","startPathRng","generatePathRangeFromRange","endSpot","patternsWithoutCurrent","applyPattern","patternRange","findPatterns","space","applyMatches","matchesWithMarkers","matchesWithEnds","endMarker","startMarker","addMarkers","markerRange","applyReplacementPattern","markerEndRange","markerStartRange","patternMarker","applyPatternWithContent","handleEnter","patternSet","inlinePatterns","blockPatterns","hasPatterns","inlineMatches","blockMatches","applyMatches$1","handleInlineKey","checkKeyEvent","codes","charCodes","keyCodes","getPatternSet","createPatternSet","getInlinePatterns$1","charCode","Quirks","isGecko","isWebKit","setEditorCommandState","emptyEditorWhenDeleting","serializeRng","allRng","allContentsSelected","selectAll","documentElementEditingFocus","Range","selectControlElements","visualAidsAnchorClass","disableBackspaceIntoATable","setGeckoEditingOptions","setOpts","addBrAfterLastLinks","showBrokenImageIcon","contentStyles","restoreFocusOnKeyDown","bodyHeight","blockCmdArrowNavigation","tapLinksAndImages","blockFormSubmitInsideEditor","isAllContentSelected","getAttributeApplyFunction","setAttributeNode","isSelectionAcrossElements","removeStylesWhenDeletingAcrossBlockElements","DOM$6","getRootName","removeUndefined","mkParserSettings","mkSchemaSettings","initEditor","bindPendingEventDelegates","fireInit","moveSelectionToFirstCaretPosition","initInstanceCallback","autoFocus","getStyleSheetLoader$1","loadContentCss","fontCss","removeCss","contentCssText","allStylesheets","framedFonts","makeStylesheetLoadingPromises","contentStyle","appendStyle","initEditorWithInitialContent","startContent","loadInitialContent","contentBodyLoaded","createParser","mkSerializerSettings","annotator","_nodeChangeDispatcher","setup$n","setupRtcThunk","firePreInit","spellcheck","firePostRender","directionality","protect","preInit","setupRtc","setProgressState","_rtcMode","initContentBody","skipWrite","orgVisibility","iframeHTML","DOM$5","createIframe","boxInfo","iframeTitle","ifr","customAttrs","frameBorder","allowTransparency","createIframeElement","documentBaseUrl","bodyId","bodyClass","translatedAriaText","getIframeHtml","DOM$4","initPlugin","initializedPlugins","Plugin","pluginUrl","pluginInstance","pluginInitError","createThemeFalseResult","renderThemeFalse","renderThemeFalseIframe","renderThemeUi","renderFromLoadedTheme","iframeHeight","renderFromThemeFunc","iconPackName","currentIcons","loadIcons","svgData","addIcon","initIcons","Theme","initTheme","Model","initModel","trimLegacyPrefix","initPlugins","renderInfo","uiApiFacade","augmentEditorUiApi","hidden","DOM$3","hasSkipLoadPrefix","loadLanguage","scriptLoader","languageCode","languageUrl","languageLoadError","loadTheme","themeUrl","themeLoadError","loadModel","modelUrl","modelLoadError","getIconsUrlMetaFromName","defaultIconsUrl","customIconsUrl","getIconsUrlMetaFromUrl","urlMeta","iconsLoadError","loadPlugins","loadPlugin","pluginLoadError","isThemeLoaded","isModelLoaded","getStyleSheetLoader","resetContent","triggerSave","isEncodingXml","set_dirty","deviceDetection","normalizePlugins","trimmedPlugins","extractSections","hasSection","sectionResult","getMobileOverrideOptions","mobileOptions","table_grid","object_resizing","toolbar_mode","toolbar_sticky","getExternalPlugins","userDefinedExternalPlugins","external_plugins","processPlugins","isMobileDevice","defaultOverrideOptions","forcedPlugins","forced_plugins","desktopPlugins","mobileConfig","getSectionConfig","platformPlugins","mobilePlugins","getPlatformPlugins","combinedPlugins","combinePlugins","combineOptions","defaultOptions","deviceOverrideOptions","extendedOptions","isOnMobile","sectionOptions","addVisual$1","registerExecCommands$3","toggleAlign","editorCommands","addCommands","JustifyLeft","JustifyCenter","JustifyRight","JustifyFull","JustifyNone","registerCommands$a","alignStates","registerQueryStateCommands$1","trimOrPad","trimOrPadLeftRight","insertAtCaret","processValue$1","insertedContent","insertContent$1","legacyPropNames","getSpecifiedFontProp","legacyPropName","getProperty","getFontProp","getComputedFontProp","getFontSize","getFontFamily","findFirstCaretElement","bindRange","getCaretElement","mapRange","fromFontSizeNumber","fontSizeNumber","getFontStyleValues","fontClasses","getFontSizeClasses","normalizeFontNames","registerExecCommands$2","_command","fontNameAction","fontSizeAction","lineHeightAction","registerQueryValueCommands","isFormatMatch","fontNameQuery","fontSizeQuery","specifiedStyle","lineHeightQuery","registerCommands$5","Indent","Outdent","queryCommandEnabled","queryCommandSupported","registerCommands$9","mceAddUndoLevel","mceEndUndoLevel","Undo","Redo","registerCommands$6","mceSelectNodeDepth","mceSelectNode","editingHost","registerCommands$1","mceCleanup","insertHorizontalRule","insertText","insertHTML","mceInsertContent","mceSetContent","mceReplaceContent","mceNewDocument","registerCommands$8","applyLinkToSelection","linkDetails","mceInsertLink","registerCommands$4","insertParagraph","mceInsertNewLine","InsertLineBreak","registerCommands$2","listParent","registerExecCommands$1","registerQueryStateCommands","registerCommands$3","registerCommands$7","mceRemoveNode","mcePrint","print","mceFocus","mceToggleVisualAid","registerExecCommands","EditorCommands","lowerCaseCommand","skip_focus","commandList","internalContentEditableAttr","setContentEditable","toggleReadOnly","removeFakeSelection","switchOnContentEditableTrue","restoreFakeSelection","registerFilters","allowedEvents","processReadonlyEvents","isClickEvent","getAnchorHrefOpt","isReadOnlyAllowedEvent","nativeEvents","EventDispatcher","bindings","toggleEvent","beforeFire","wrappedCallback","currentName","bindingName","filteredHandlers","getEventDispatcher","_eventDispatcher","isNative","toggleNativeEvent","Observable","dispatcherArgs","customEventRootDelegates","getEventTarget","eventRoot","isListening","bindEventDelegate","delegates","eventRootElm","editors","EditorObservable","_pendingNativeEvents","stringListProcessor","getErrorMessage","isValidResult","processValue","create$5","initialOptions","isRegistered","isBuiltInSpec","getBuiltInProcessor","processDefaultValue","immutable","unset","registered","defaultModes","switchToMode","activeMode","availableModes","oldMode","deactivate","editorReadOnly","fireSwitchMode","design","registerReadOnlyContentFilters","registerReadOnlySelectionBlockers","registerMode","keyCodeLookup","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifierNames","parseShortcut","Shortcuts","pendingPatterns","hasModifier","isFunctionKey","matchShortcut","subpatterns","executeShortcutAction","cmdFunc","normalizeCommandFunc","createShortcut","addAutocompleter","addContextToolbar","addSidebar","Editor","loadedCSS","isNotDirty","documentBaseURL","normalizeOptions","_setBaseUrl","baseURI","setupCallback","getParam","initialContent","oldState","urlConverterCallback","_scanForImages","beforeUnloadDelegate","boundGlobalEvents","globalEventDelegate","EditorManager","toggleGlobalEvents","removeEditorFromList","targetEditor","oldEditors","isQuirksMode","compatMode","majorVersion","minorVersion","releaseDate","i18n","tinyMCEPreInit","srcScript","overrideDefaults","base_url","pluginBaseUrls","plugin_base_urls","pluginBaseUrl","pluginName","invalidInlineTargets","provideResults","initEditors","initCount","execCallback","unique$1","findTargets","isInvalidInlineTarget","createEditor","createId","existingEditor","editorId","editorOptions","addI18n","FakeClipboard","dataValue","relativePosition","targetW","targetH","relChars","create$2","Rect","inflate","findBestRelativePosition","constrainRect","intersect","cropRect","x1","y1","clampRect","fixedSize","cx2","cy2","underflowX1","underflowY1","overflowX2","overflowY2","fromClientRect","Resource","tasks","resultFns","loadErrMsg","runErrMsg","task","waiter","resolveCb","rejectCb","awaiter","localStorage","removeItem","publicApi","geom","LocalStorage","ImageUploader","showNotification","TreeWalker","Serializer","Selection","tinyMCE","exportToWindowGlobal","module","exportToModuleLoaders","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","__esModule","jQuery","Craft","showModalFactory","elementType","modal","resizable","multiSelect","disableOnSelect","initTinyMCE","editorConfig","optionTitle","sources","linkOptions","elementTypeHandle","showModal","criteria","locale","selectedContent","storageKey","onclick","mediaOptions","transforms","$element","$","$form","elementEditor","MutationObserver","isFullPage","Garnish","$bod","observe","characterData","childList","subtree","content_css","relative_urls","remove_script_host","anchor_top","anchor_bottom","autoresize_bottom_margin","init_instance_callback","configInit"],"sourceRoot":""}