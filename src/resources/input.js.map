{"version":3,"file":"input.js","mappings":"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","sources":["webpack://craft-tinymce/./client/src/scripts/TinyMCEField.ts","webpack://craft-tinymce/external var \"jQuery\"","webpack://craft-tinymce/webpack/bootstrap","webpack://craft-tinymce/./client/src/scripts/main.ts"],"sourcesContent":["import * as $ from 'jquery'\nimport { Editor, EditorEvent, RawEditorOptions, TinyMCE } from 'tinymce'\n\ndeclare const tinymce: TinyMCE\n\ninterface Option {\n  elementType: string\n  optionTitle: string\n  sources: string[]\n}\n\ninterface FieldSettings {\n  allSites: Array<{\n    value: string\n    text: string\n  }>\n  defaultTransform: string\n  direction: string\n  editorConfig: RawEditorOptions\n  elementSiteId: string\n  id: string\n  language: string\n  linkOptions: Option[]\n  locale: string\n  transforms: Array<{\n    value: string\n    text: string\n  }>\n  volumes: string[]\n}\n\ninterface ElementEditor {\n  isFullPage: boolean\n}\n\ninterface Element {\n  id: string\n  label: string\n  url: string\n}\n\ninterface LinkDialogData {\n  url: string\n  text: string\n  newTab: boolean\n  site: string\n}\n\ninterface AssetDialogData {\n  title: string\n  caption: string\n  link: string\n  newTab: boolean\n  transform: string\n}\n\ntype ShowModalFactoryType = (elementType: string, settings: object) => Function\ntype DialogConfigFunction = (title: string, items: object[], initialData: object, onChange: Function, onSubmit: Function) => any\n\nconst showModalFactory: ShowModalFactoryType = (elementType, settings = {}) => {\n  let modal: GarnishModal|undefined\n\n  return () => {\n    if (typeof modal === 'undefined') {\n      modal = Craft.createElementSelectorModal(elementType, Object.assign({\n        resizable: true,\n        multiSelect: false,\n        disableOnSelect: true\n      }, settings))\n    } else {\n      modal.show()\n    }\n  }\n}\n\nconst dialogConfig: DialogConfigFunction = (title, items, initialData, onChange, onSubmit) => {\n  return {\n    title,\n    body: {\n      type: 'panel',\n      items\n    },\n    buttons: [\n      {\n        type: 'cancel',\n        name: 'cancel',\n        text: Craft.t('tinymce', 'Cancel')\n      },\n      {\n        type: 'submit',\n        name: 'submit',\n        text: Craft.t('tinymce', 'Save'),\n        buttonType: 'primary'\n      }\n    ],\n    initialData,\n    onChange,\n    onSubmit\n  }\n}\n\nclass TinyMCEField {\n  constructor (private readonly _settings: FieldSettings) {\n    const init = this._init.bind(this)\n    const setup = this._setup.bind(this)\n    const settings = this._settings\n\n    const options = Object.assign(\n      {\n        skin: 'craft',\n        plugins: 'autoresize lists link image code',\n        content_css: false,\n\n        // Toolbars\n        menubar: false,\n        statusbar: false,\n        toolbar: 'undo redo | blocks | bold italic strikethrough | bullist numlist | insertLink insertImage | hr | code',\n\n        // Formatting\n        allow_conditional_comments: false,\n        element_format: 'html',\n        fix_list_elements: true,\n\n        // Links\n        relative_urls: false,\n        remove_script_host: false,\n        anchor_top: false,\n        anchor_bottom: false,\n\n        // Auto-resize\n        autoresize_bottom_margin: 0\n      },\n      this._settings.editorConfig,\n      {\n        selector: `#${this._settings.id}`,\n        language: this._settings.language,\n        directionality: this._settings.direction,\n\n        setup,\n\n        init_instance_callback (editor: Editor) {\n          init(editor)\n\n          const configInit = settings.editorConfig.init_instance_callback\n          if (typeof configInit === 'function') {\n            configInit.apply(this, arguments)\n          }\n        }\n      }\n    )\n\n    tinymce.init(options).then(() => {}, () => {})\n  }\n\n  private _commandHandleFromElementType (elementType: string): string {\n    return elementType.split('\\\\').pop()?.toLowerCase() as string\n  }\n\n  private _setup (editor: Editor): void {\n    const linkOptions: object[] = [{\n      type: 'menuitem',\n      text: Craft.t('tinymce', 'Insert/edit link'),\n      onAction: () => editor.execCommand('mceLink')\n    }]\n\n    for (const { elementType, optionTitle, sources } of this._settings.linkOptions) {\n      const elementTypeHandle = this._commandHandleFromElementType(elementType)\n\n      const showModal = showModalFactory(elementType, {\n        sources,\n        criteria: { locale: this._settings.locale },\n        onSelect: ([element]: [Element]) => {\n          const selectedContent = editor.selection.getContent()\n          editor.windowManager.open(this._linkDialogConfig(editor, optionTitle, {\n            url: `${element.url}#${elementTypeHandle}:${element.id}@${this._settings.elementSiteId}`,\n            // Doing `String(element.label)` in case the element title was a number\n            text: selectedContent.length > 0 ? selectedContent : String(element.label),\n            site: this._settings.elementSiteId\n          }))\n        }\n      })\n\n      linkOptions.push({\n        type: 'menuitem',\n        text: optionTitle,\n        onAction: () => showModal()\n      })\n    }\n\n    editor.ui.registry.addMenuButton('insertLink', {\n      icon: 'link',\n      tooltip: Craft.t('tinymce', 'Link'),\n      fetch: (callback) => callback(linkOptions)\n    })\n\n    // Image button\n    const imageButtonTitle = Craft.t('tinymce', 'Insert an image')\n    editor.ui.registry.addButton('insertImage', {\n      icon: 'image',\n      tooltip: imageButtonTitle,\n      onAction: () => showModalFactory('craft\\\\elements\\\\Asset', {\n        sources: this._settings.volumes,\n        transforms: this._settings.transforms.map((transform) => {\n          return {\n            handle: transform.value,\n            name: transform.text\n          }\n        }),\n        storageKey: 'RichTextFieldType.ChooseImage',\n        criteria: {\n          locale: this._settings.locale,\n          kind: 'image'\n        },\n        onSelect: ([element]: [Element], transform: string|null = null) => {\n          const selectedContent = editor.selection.getContent()\n          const transforms = [{\n            value: '',\n            text: Craft.t('tinymce', 'No transform')\n          }]\n          transforms.push(...this._settings.transforms)\n\n          editor.windowManager.open(dialogConfig(\n            imageButtonTitle,\n            [\n              {\n                type: 'input',\n                name: 'title',\n                label: Craft.t('tinymce', 'Title')\n              },\n              {\n                type: 'input',\n                name: 'caption',\n                label: Craft.t('tinymce', 'Caption')\n              },\n              {\n                type: 'input',\n                name: 'link',\n                label: Craft.t('tinymce', 'Link')\n              },\n              {\n                type: 'checkbox',\n                name: 'newTab',\n                label: Craft.t('tinymce', 'Open in new tab?')\n              },\n              {\n                type: 'selectbox',\n                name: 'transform',\n                label: Craft.t('tinymce', 'Transform'),\n                items: transforms\n              }\n            ],\n            {\n              transform: transform ?? this._settings.defaultTransform\n            },\n            () => {},\n            (api: any) => {\n              const data = api.getData() as AssetDialogData\n              const command = selectedContent.length > 0 ? 'mceReplaceContent' : 'mceInsertContent'\n              const hasTitle = data.title.length > 0\n              const hasCaption = data.caption.length > 0\n              const hasLink = data.link.length > 0\n              const hasTransform = data.transform !== ''\n\n              const url = [\n                hasTransform ? element.url.replace(/\\/([^/]+)$/, `/_${data.transform}/$1`) : element.url,\n                `#asset:${element.id}`,\n                hasTransform ? `:transform:${data.transform}` : ''\n              ].join('')\n              const content = [\n                '<figure>',\n                hasLink ? `<a href=\"${data.link}\"${data.newTab ? ' target=\"_blank\"' : ''}>` : '',\n                `<img src=\"${url}\"${hasTitle ? `alt=\"${data.title}\"` : ''}>`,\n                hasLink ? '</a>' : '',\n                hasCaption ? `<figcaption>${data.caption}</figcaption>` : ''\n              ].join('')\n\n              editor.execCommand(command, false, content)\n              api.close()\n            }\n          ))\n        }\n      })()\n    })\n  }\n\n  private _init (editor: Editor): void {\n    const $element = $(editor.container)\n    const $form = $(editor.formElement)\n\n    editor.on('focus', (_: EditorEvent<any>) => $element.addClass('mce-focused'))\n    editor.on('blur', (_: EditorEvent<any>) => $element.removeClass('mce-focused'))\n\n    // Update the form value on any content change, and trigger a change event so drafts can autosave\n    const elementEditor: ElementEditor = $form.data('elementEditor')\n    const contentObserver = new window.MutationObserver(() => {\n      $(editor.targetElm).val(editor.getContent())\n      const $target = elementEditor.isFullPage ? Garnish.$bod : $form\n      $target.trigger('change')\n    })\n    contentObserver.observe(editor.getBody(), {\n      characterData: true,\n      childList: true,\n      subtree: true\n    })\n\n    // Allow use of Craft element save shortcuts\n    editor.addShortcut(\n      'meta+s',\n      '',\n      () => Garnish.uiLayerManager.triggerShortcut(new KeyboardEvent('keydown', {\n        shiftKey: false,\n        metaKey: true,\n        ctrlKey: true,\n        altKey: false,\n        keyCode: Garnish.S_KEY\n      }))\n    )\n    editor.addShortcut(\n      'shift+meta+s',\n      '',\n      () => Garnish.uiLayerManager.triggerShortcut(new KeyboardEvent('keydown', {\n        shiftKey: true,\n        metaKey: true,\n        ctrlKey: true,\n        altKey: false,\n        keyCode: Garnish.S_KEY\n      }))\n    )\n  }\n\n  private _linkDialogConfig (editor: Editor, title: string, initialData: object): any {\n    const selectedContent = editor.selection.getContent()\n    return dialogConfig(\n      title,\n      [\n        {\n          type: 'input',\n          name: 'url',\n          label: Craft.t('tinymce', 'URL'),\n          enabled: false\n        },\n        {\n          type: 'input',\n          name: 'text',\n          label: Craft.t('tinymce', 'Text')\n        },\n        {\n          type: 'checkbox',\n          name: 'newTab',\n          label: Craft.t('tinymce', 'Open in new tab?')\n        },\n        {\n          type: 'selectbox',\n          name: 'site',\n          label: Craft.t('tinymce', 'Site'),\n          items: this._settings.allSites\n        }\n      ],\n      initialData,\n      (api: any) => {\n        const data = api.getData() as LinkDialogData\n        api.setData({\n          url: data.url.replace(/@[0-9]+$/, `@${data.site}`)\n        })\n      },\n      (api: any) => {\n        const data = api.getData() as LinkDialogData\n        const command = selectedContent.length > 0 ? 'mceReplaceContent' : 'mceInsertContent'\n        const newContent = `<a href=\"${data.url}\" title=\"${data.text}\"${data.newTab ? ' target=\"_blank\"' : ''}>${data.text}</a>`\n\n        editor.execCommand(command, false, newContent)\n        api.close()\n      }\n    )\n  }\n}\n\nexport { FieldSettings, TinyMCEField }\n","module.exports = jQuery;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import { FieldSettings, TinyMCEField } from './TinyMCEField'\n\ndeclare global {\n  interface Window {\n    initTinyMCE: (settings: FieldSettings) => void\n  }\n}\n\nwindow.initTinyMCE = (settings) => new TinyMCEField(settings)\n"],"names":["showModalFactory","elementType","settings","modal","Craft","createElementSelectorModal","Object","assign","resizable","multiSelect","disableOnSelect","show","dialogConfig","title","items","initialData","onChange","onSubmit","body","type","buttons","name","text","t","buttonType","TinyMCEField","constructor","_settings","init","this","_init","bind","setup","_setup","options","skin","plugins","content_css","menubar","statusbar","toolbar","allow_conditional_comments","element_format","fix_list_elements","relative_urls","remove_script_host","anchor_top","anchor_bottom","autoresize_bottom_margin","editorConfig","selector","id","language","directionality","direction","init_instance_callback","editor","configInit","apply","arguments","tinymce","then","_commandHandleFromElementType","split","pop","toLowerCase","linkOptions","onAction","execCommand","optionTitle","sources","elementTypeHandle","showModal","criteria","locale","onSelect","element","selectedContent","selection","getContent","windowManager","open","_linkDialogConfig","url","elementSiteId","length","String","label","site","push","ui","registry","addMenuButton","icon","tooltip","fetch","callback","imageButtonTitle","addButton","volumes","transforms","map","transform","handle","value","storageKey","kind","defaultTransform","api","data","getData","command","hasTitle","hasCaption","caption","hasLink","link","hasTransform","replace","join","content","newTab","close","$element","$","container","$form","formElement","on","_","addClass","removeClass","elementEditor","window","MutationObserver","targetElm","val","isFullPage","Garnish","$bod","trigger","observe","getBody","characterData","childList","subtree","addShortcut","uiLayerManager","triggerShortcut","KeyboardEvent","shiftKey","metaKey","ctrlKey","altKey","keyCode","S_KEY","enabled","allSites","setData","newContent","module","exports","jQuery","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","initTinyMCE"],"sourceRoot":""}